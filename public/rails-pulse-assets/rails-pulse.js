// Rails Pulse JavaScript Bundle - Auto-generated
(()=>{var aNt=Object.create;var GT=Object.defineProperty;var nNt=Object.getOwnPropertyDescriptor;var oNt=Object.getOwnPropertyNames;var sNt=Object.getPrototypeOf,lNt=Object.prototype.hasOwnProperty;var uNt=(a,t,e)=>t in a?GT(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var WJ=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),sn=(a,t)=>{for(var e in t)GT(a,e,{get:t[e],enumerable:!0})},fNt=(a,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of oNt(t))!lNt.call(a,l)&&l!==e&&GT(a,l,{get:()=>t[l],enumerable:!(o=nNt(t,l))||o.enumerable});return a};var cNt=(a,t,e)=>(e=a!=null?aNt(sNt(a)):{},fNt(t||!a||!a.__esModule?GT(e,"default",{value:a,enumerable:!0}):e,a));var Bt=(a,t,e)=>(uNt(a,typeof t!="symbol"?t+"":t,e),e),oN=(a,t,e)=>{if(!t.has(a))throw TypeError("Cannot "+e)};var Oe=(a,t,e)=>(oN(a,t,"read from private field"),e?e.call(a):t.get(a)),Ce=(a,t,e)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,e)},gr=(a,t,e,o)=>(oN(a,t,"write to private field"),o?o.call(a,e):t.set(a,e),e);var Be=(a,t,e)=>(oN(a,t,"access private method"),e);var sdt=WJ((TL,odt)=>{(function(a,t){typeof TL=="object"&&typeof odt<"u"?t(TL):typeof define=="function"&&define.amd?define(["exports"],t):(a=typeof globalThis<"u"?globalThis:a||self,t(a.echarts={}))})(TL,function(a){"use strict";var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=s[u])},t(n,i)};function e(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function r(){this.constructor=n}n.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var o=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),l=function(){function n(){this.browser=new o,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),f=new l;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(f.wxa=!0,f.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?f.worker=!0:!f.hasGlobalWindow||"Deno"in window?(f.node=!0,f.svgSupported=!0):h(navigator.userAgent,f);function h(n,i){var r=i.browser,s=n.match(/Firefox\/([\d.]+)/),u=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),c=n.match(/Edge?\/([\d.]+)/),p=/micromessenger/i.test(n);s&&(r.firefox=!0,r.version=s[1]),u&&(r.ie=!0,r.version=u[1]),c&&(r.edge=!0,r.version=c[1],r.newEdge=+c[1].split(".")[0]>18),p&&(r.weChat=!0),i.svgSupported=typeof SVGRect<"u",i.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,i.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),i.domSupported=typeof document<"u";var d=document.documentElement.style;i.transform3dSupported=(r.ie&&"transition"in d||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in d)&&!("OTransition"in d),i.transformSupported=i.transform3dSupported||r.ie&&+r.version>=9}var v=12,g="sans-serif",y=v+"px "+g,x=20,b=100,T="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function C(n){var i={};if(typeof JSON>"u")return i;for(var r=0;r<n.length;r++){var s=String.fromCharCode(r+32),u=(n.charCodeAt(r)-x)/b;i[s]=u}return i}var M=C(T),I={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,i;return function(r,s){if(!n){var u=I.createCanvas();n=u&&u.getContext("2d")}if(n)return i!==s&&(i=n.font=s||y),n.measureText(r);r=r||"",s=s||y;var c=/((?:\d+)?\.?\d*)px/.exec(s),p=c&&+c[1]||v,d=0;if(s.indexOf("mono")>=0)d=p*r.length;else for(var m=0;m<r.length;m++){var _=M[r[m]];d+=_==null?p:_*p}return{width:d}}}(),loadImage:function(n,i,r){var s=new Image;return s.onload=i,s.onerror=r,s.src=n,s}};function P(n){for(var i in I)n[i]&&(I[i]=n[i])}var O=lr(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,i){return n["[object "+i+"]"]=!0,n},{}),N=lr(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,i){return n["[object "+i+"Array]"]=!0,n},{}),V=Object.prototype.toString,F=Array.prototype,U=F.forEach,H=F.filter,Z=F.slice,$=F.map,K=function(){}.constructor,Q=K?K.prototype:null,rt="__proto__",nt=2311;function ot(){return nt++}function ft(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];typeof console<"u"&&console.error.apply(console,n)}function lt(n){if(n==null||typeof n!="object")return n;var i=n,r=V.call(n);if(r==="[object Array]"){if(!Gv(n)){i=[];for(var s=0,u=n.length;s<u;s++)i[s]=lt(n[s])}}else if(N[r]){if(!Gv(n)){var c=n.constructor;if(c.from)i=c.from(n);else{i=new c(n.length);for(var s=0,u=n.length;s<u;s++)i[s]=n[s]}}}else if(!O[r]&&!Gv(n)&&!ss(n)){i={};for(var p in n)n.hasOwnProperty(p)&&p!==rt&&(i[p]=lt(n[p]))}return i}function pt(n,i,r){if(!re(i)||!re(n))return r?lt(i):n;for(var s in i)if(i.hasOwnProperty(s)&&s!==rt){var u=n[s],c=i[s];re(c)&&re(u)&&!wt(c)&&!wt(u)&&!ss(c)&&!ss(u)&&!os(c)&&!os(u)&&!Gv(c)&&!Gv(u)?pt(u,c,r):(r||!(s in n))&&(n[s]=lt(i[s]))}return n}function xt(n,i){for(var r=n[0],s=1,u=n.length;s<u;s++)r=pt(r,n[s],i);return r}function st(n,i){if(Object.assign)Object.assign(n,i);else for(var r in i)i.hasOwnProperty(r)&&r!==rt&&(n[r]=i[r]);return n}function dt(n,i,r){for(var s=Xt(i),u=0,c=s.length;u<c;u++){var p=s[u];(r?i[p]!=null:n[p]==null)&&(n[p]=i[p])}return n}var Et=I.createCanvas;function At(n,i){if(n){if(n.indexOf)return n.indexOf(i);for(var r=0,s=n.length;r<s;r++)if(n[r]===i)return r}return-1}function Zt(n,i){var r=n.prototype;function s(){}s.prototype=i.prototype,n.prototype=new s;for(var u in r)r.hasOwnProperty(u)&&(n.prototype[u]=r[u]);n.prototype.constructor=n,n.superClass=i}function qt(n,i,r){if(n="prototype"in n?n.prototype:n,i="prototype"in i?i.prototype:i,Object.getOwnPropertyNames)for(var s=Object.getOwnPropertyNames(i),u=0;u<s.length;u++){var c=s[u];c!=="constructor"&&(r?i[c]!=null:n[c]==null)&&(n[c]=i[c])}else dt(n,i,r)}function te(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function j(n,i,r){if(n&&i)if(n.forEach&&n.forEach===U)n.forEach(i,r);else if(n.length===+n.length)for(var s=0,u=n.length;s<u;s++)i.call(r,n[s],s,n);else for(var c in n)n.hasOwnProperty(c)&&i.call(r,n[c],c,n)}function Tt(n,i,r){if(!n)return[];if(!i)return kb(n);if(n.map&&n.map===$)return n.map(i,r);for(var s=[],u=0,c=n.length;u<c;u++)s.push(i.call(r,n[u],u,n));return s}function lr(n,i,r,s){if(n&&i){for(var u=0,c=n.length;u<c;u++)r=i.call(s,r,n[u],u,n);return r}}function jt(n,i,r){if(!n)return[];if(!i)return kb(n);if(n.filter&&n.filter===H)return n.filter(i,r);for(var s=[],u=0,c=n.length;u<c;u++)i.call(r,n[u],u,n)&&s.push(n[u]);return s}function ve(n,i,r){if(n&&i){for(var s=0,u=n.length;s<u;s++)if(i.call(r,n[s],s,n))return n[s]}}function Xt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(r);return i}function fe(n,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return function(){return n.apply(i,r.concat(Z.call(arguments)))}}var Mt=Q&&Gt(Q.bind)?Q.call.bind(Q.bind):fe;function ee(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){return n.apply(this,i.concat(Z.call(arguments)))}}function wt(n){return Array.isArray?Array.isArray(n):V.call(n)==="[object Array]"}function Gt(n){return typeof n=="function"}function kt(n){return typeof n=="string"}function Hr(n){return V.call(n)==="[object String]"}function Ne(n){return typeof n=="number"}function re(n){var i=typeof n;return i==="function"||!!n&&i==="object"}function os(n){return!!O[V.call(n)]}function Wr(n){return!!N[V.call(n)]}function ss(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function Hl(n){return n.colorStops!=null}function oW(n){return n.image!=null}function EI(n){return V.call(n)==="[object RegExp]"}function tf(n){return n!==n}function oi(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=0,s=n.length;r<s;r++)if(n[r]!=null)return n[r]}function De(n,i){return n??i}function En(n,i,r){return n??i??r}function kb(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return Z.apply(n,i)}function Nb(n){if(typeof n=="number")return[n,n,n,n];var i=n.length;return i===2?[n[0],n[1],n[0],n[1]]:i===3?[n[0],n[1],n[2],n[1]]:n}function de(n,i){if(!n)throw new Error(i)}function no(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var sW="__ec_primitive__";function Ay(n){n[sW]=!0}function Gv(n){return n[sW]}var tmt=function(){function n(){this.data={}}return n.prototype.delete=function(i){var r=this.has(i);return r&&delete this.data[i],r},n.prototype.has=function(i){return this.data.hasOwnProperty(i)},n.prototype.get=function(i){return this.data[i]},n.prototype.set=function(i,r){return this.data[i]=r,this},n.prototype.keys=function(){return Xt(this.data)},n.prototype.forEach=function(i){var r=this.data;for(var s in r)r.hasOwnProperty(s)&&i(r[s],s)},n}(),lW=typeof Map=="function";function emt(){return lW?new Map:new tmt}var uW=function(){function n(i){var r=wt(i);this.data=emt();var s=this;i instanceof n?i.each(u):i&&j(i,u);function u(c,p){r?s.set(c,p):s.set(p,c)}}return n.prototype.hasKey=function(i){return this.data.has(i)},n.prototype.get=function(i){return this.data.get(i)},n.prototype.set=function(i,r){return this.data.set(i,r),r},n.prototype.each=function(i,r){this.data.forEach(function(s,u){i.call(r,s,u)})},n.prototype.keys=function(){var i=this.data.keys();return lW?Array.from(i):i},n.prototype.removeKey=function(i){this.data.delete(i)},n}();function le(n){return new uW(n)}function Hv(n,i){for(var r=new n.constructor(n.length+i.length),s=0;s<n.length;s++)r[s]=n[s];for(var u=n.length,s=0;s<i.length;s++)r[s+u]=i[s];return r}function Cy(n,i){var r;if(Object.create)r=Object.create(n);else{var s=function(){};s.prototype=n,r=new s}return i&&st(r,i),r}function PI(n){var i=n.style;i.webkitUserSelect="none",i.userSelect="none",i.webkitTapHighlightColor="rgba(0,0,0,0)",i["-webkit-touch-callout"]="none"}function Jt(n,i){return n.hasOwnProperty(i)}function Qr(){}var Dy=180/Math.PI,rmt=Object.freeze({__proto__:null,guid:ot,logError:ft,clone:lt,merge:pt,mergeAll:xt,extend:st,defaults:dt,createCanvas:Et,indexOf:At,inherits:Zt,mixin:qt,isArrayLike:te,each:j,map:Tt,reduce:lr,filter:jt,find:ve,keys:Xt,bind:Mt,curry:ee,isArray:wt,isFunction:Gt,isString:kt,isStringSafe:Hr,isNumber:Ne,isObject:re,isBuiltInObject:os,isTypedArray:Wr,isDom:ss,isGradientObject:Hl,isImagePatternObject:oW,isRegExp:EI,eqNaN:tf,retrieve:oi,retrieve2:De,retrieve3:En,slice:kb,normalizeCssArray:Nb,assert:de,trim:no,setAsPrimitive:Ay,isPrimitive:Gv,HashMap:uW,createHashMap:le,concatArray:Hv,createObject:Cy,disableUserSelect:PI,hasOwn:Jt,noop:Qr,RADIAN_TO_DEGREE:Dy});function ef(n,i){return n==null&&(n=0),i==null&&(i=0),[n,i]}function va(n,i){return n[0]=i[0],n[1]=i[1],n}function Zs(n){return[n[0],n[1]]}function fW(n,i,r){return n[0]=i,n[1]=r,n}function RI(n,i,r){return n[0]=i[0]+r[0],n[1]=i[1]+r[1],n}function zb(n,i,r,s){return n[0]=i[0]+r[0]*s,n[1]=i[1]+r[1]*s,n}function rf(n,i,r){return n[0]=i[0]-r[0],n[1]=i[1]-r[1],n}function My(n){return Math.sqrt(OI(n))}var imt=My;function OI(n){return n[0]*n[0]+n[1]*n[1]}var amt=OI;function nmt(n,i,r){return n[0]=i[0]*r[0],n[1]=i[1]*r[1],n}function omt(n,i,r){return n[0]=i[0]/r[0],n[1]=i[1]/r[1],n}function smt(n,i){return n[0]*i[0]+n[1]*i[1]}function Ly(n,i,r){return n[0]=i[0]*r,n[1]=i[1]*r,n}function $c(n,i){var r=My(i);return r===0?(n[0]=0,n[1]=0):(n[0]=i[0]/r,n[1]=i[1]/r),n}function Vb(n,i){return Math.sqrt((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1]))}var Wl=Vb;function cW(n,i){return(n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1])}var af=cW;function lmt(n,i){return n[0]=-i[0],n[1]=-i[1],n}function Iy(n,i,r,s){return n[0]=i[0]+s*(r[0]-i[0]),n[1]=i[1]+s*(r[1]-i[1]),n}function Xi(n,i,r){var s=i[0],u=i[1];return n[0]=r[0]*s+r[2]*u+r[4],n[1]=r[1]*s+r[3]*u+r[5],n}function Yl(n,i,r){return n[0]=Math.min(i[0],r[0]),n[1]=Math.min(i[1],r[1]),n}function Zl(n,i,r){return n[0]=Math.max(i[0],r[0]),n[1]=Math.max(i[1],r[1]),n}var umt=Object.freeze({__proto__:null,create:ef,copy:va,clone:Zs,set:fW,add:RI,scaleAndAdd:zb,sub:rf,len:My,length:imt,lenSquare:OI,lengthSquare:amt,mul:nmt,div:omt,dot:smt,scale:Ly,normalize:$c,distance:Vb,dist:Wl,distanceSquare:cW,distSquare:af,negate:lmt,lerp:Iy,applyTransform:Xi,min:Yl,max:Zl}),Wv=function(){function n(i,r){this.target=i,this.topTarget=r&&r.topTarget}return n}(),fmt=function(){function n(i){this.handler=i,i.on("mousedown",this._dragStart,this),i.on("mousemove",this._drag,this),i.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(i){for(var r=i.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=i.offsetX,this._y=i.offsetY,this.handler.dispatchToElement(new Wv(r,i),"dragstart",i.event))},n.prototype._drag=function(i){var r=this._draggingTarget;if(r){var s=i.offsetX,u=i.offsetY,c=s-this._x,p=u-this._y;this._x=s,this._y=u,r.drift(c,p,i),this.handler.dispatchToElement(new Wv(r,i),"drag",i.event);var d=this.handler.findHover(s,u,r).target,m=this._dropTarget;this._dropTarget=d,r!==d&&(m&&d!==m&&this.handler.dispatchToElement(new Wv(m,i),"dragleave",i.event),d&&d!==m&&this.handler.dispatchToElement(new Wv(d,i),"dragenter",i.event))}},n.prototype._dragEnd=function(i){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Wv(r,i),"dragend",i.event),this._dropTarget&&this.handler.dispatchToElement(new Wv(this._dropTarget,i),"drop",i.event),this._draggingTarget=null,this._dropTarget=null},n}(),oo=function(){function n(i){i&&(this._$eventProcessor=i)}return n.prototype.on=function(i,r,s,u){this._$handlers||(this._$handlers={});var c=this._$handlers;if(typeof r=="function"&&(u=s,s=r,r=null),!s||!i)return this;var p=this._$eventProcessor;r!=null&&p&&p.normalizeQuery&&(r=p.normalizeQuery(r)),c[i]||(c[i]=[]);for(var d=0;d<c[i].length;d++)if(c[i][d].h===s)return this;var m={h:s,query:r,ctx:u||this,callAtLast:s.zrEventfulCallAtLast},_=c[i].length-1,S=c[i][_];return S&&S.callAtLast?c[i].splice(_,0,m):c[i].push(m),this},n.prototype.isSilent=function(i){var r=this._$handlers;return!r||!r[i]||!r[i].length},n.prototype.off=function(i,r){var s=this._$handlers;if(!s)return this;if(!i)return this._$handlers={},this;if(r){if(s[i]){for(var u=[],c=0,p=s[i].length;c<p;c++)s[i][c].h!==r&&u.push(s[i][c]);s[i]=u}s[i]&&s[i].length===0&&delete s[i]}else delete s[i];return this},n.prototype.trigger=function(i){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(!this._$handlers)return this;var u=this._$handlers[i],c=this._$eventProcessor;if(u)for(var p=r.length,d=u.length,m=0;m<d;m++){var _=u[m];if(!(c&&c.filter&&_.query!=null&&!c.filter(i,_.query)))switch(p){case 0:_.h.call(_.ctx);break;case 1:_.h.call(_.ctx,r[0]);break;case 2:_.h.call(_.ctx,r[0],r[1]);break;default:_.h.apply(_.ctx,r);break}}return c&&c.afterTrigger&&c.afterTrigger(i),this},n.prototype.triggerWithContext=function(i){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(!this._$handlers)return this;var u=this._$handlers[i],c=this._$eventProcessor;if(u)for(var p=r.length,d=r[p-1],m=u.length,_=0;_<m;_++){var S=u[_];if(!(c&&c.filter&&S.query!=null&&!c.filter(i,S.query)))switch(p){case 0:S.h.call(d);break;case 1:S.h.call(d,r[0]);break;case 2:S.h.call(d,r[0],r[1]);break;default:S.h.apply(d,r.slice(1,p-1));break}}return c&&c.afterTrigger&&c.afterTrigger(i),this},n}(),cmt=Math.log(2);function kI(n,i,r,s,u,c){var p=s+"-"+u,d=n.length;if(c.hasOwnProperty(p))return c[p];if(i===1){var m=Math.round(Math.log((1<<d)-1&~u)/cmt);return n[r][m]}for(var _=s|1<<r,S=r+1;s&1<<S;)S++;for(var w=0,A=0,D=0;A<d;A++){var L=1<<A;L&u||(w+=(D%2?-1:1)*n[r][A]*kI(n,i-1,S,_,u|L,c),D++)}return c[p]=w,w}function hW(n,i){var r=[[n[0],n[1],1,0,0,0,-i[0]*n[0],-i[0]*n[1]],[0,0,0,n[0],n[1],1,-i[1]*n[0],-i[1]*n[1]],[n[2],n[3],1,0,0,0,-i[2]*n[2],-i[2]*n[3]],[0,0,0,n[2],n[3],1,-i[3]*n[2],-i[3]*n[3]],[n[4],n[5],1,0,0,0,-i[4]*n[4],-i[4]*n[5]],[0,0,0,n[4],n[5],1,-i[5]*n[4],-i[5]*n[5]],[n[6],n[7],1,0,0,0,-i[6]*n[6],-i[6]*n[7]],[0,0,0,n[6],n[7],1,-i[7]*n[6],-i[7]*n[7]]],s={},u=kI(r,8,0,0,0,s);if(u!==0){for(var c=[],p=0;p<8;p++)for(var d=0;d<8;d++)c[d]==null&&(c[d]=0),c[d]+=((p+d)%2?-1:1)*kI(r,7,p===0?1:0,1<<p,1<<d,s)/u*i[p];return function(m,_,S){var w=_*c[6]+S*c[7]+1;m[0]=(_*c[0]+S*c[1]+c[2])/w,m[1]=(_*c[3]+S*c[4]+c[5])/w}}}var pW="___zrEVENTSAVED",NI=[];function hmt(n,i,r,s,u){return zI(NI,i,s,u,!0)&&zI(n,r,NI[0],NI[1])}function zI(n,i,r,s,u){if(i.getBoundingClientRect&&f.domSupported&&!vW(i)){var c=i[pW]||(i[pW]={}),p=pmt(i,c),d=vmt(p,c,u);if(d)return d(n,r,s),!0}return!1}function pmt(n,i){var r=i.markers;if(r)return r;r=i.markers=[];for(var s=["left","right"],u=["top","bottom"],c=0;c<4;c++){var p=document.createElement("div"),d=p.style,m=c%2,_=(c>>1)%2;d.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",s[m]+":0",u[_]+":0",s[1-m]+":auto",u[1-_]+":auto",""].join("!important;"),n.appendChild(p),r.push(p)}return r}function vmt(n,i,r){for(var s=r?"invTrans":"trans",u=i[s],c=i.srcCoords,p=[],d=[],m=!0,_=0;_<4;_++){var S=n[_].getBoundingClientRect(),w=2*_,A=S.left,D=S.top;p.push(A,D),m=m&&c&&A===c[w]&&D===c[w+1],d.push(n[_].offsetLeft,n[_].offsetTop)}return m&&u?u:(i.srcCoords=p,i[s]=r?hW(d,p):hW(p,d))}function vW(n){return n.nodeName.toUpperCase()==="CANVAS"}var dmt=/([&<>"'])/g,gmt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ta(n){return n==null?"":(n+"").replace(dmt,function(i,r){return gmt[r]})}var mmt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,VI=[],ymt=f.browser.firefox&&+f.browser.version.split(".")[0]<39;function BI(n,i,r,s){return r=r||{},s?dW(n,i,r):ymt&&i.layerX!=null&&i.layerX!==i.offsetX?(r.zrX=i.layerX,r.zrY=i.layerY):i.offsetX!=null?(r.zrX=i.offsetX,r.zrY=i.offsetY):dW(n,i,r),r}function dW(n,i,r){if(f.domSupported&&n.getBoundingClientRect){var s=i.clientX,u=i.clientY;if(vW(n)){var c=n.getBoundingClientRect();r.zrX=s-c.left,r.zrY=u-c.top;return}else if(zI(VI,n,s,u)){r.zrX=VI[0],r.zrY=VI[1];return}}r.zrX=r.zrY=0}function FI(n){return n||window.event}function so(n,i,r){if(i=FI(i),i.zrX!=null)return i;var s=i.type,u=s&&s.indexOf("touch")>=0;if(u){var p=s!=="touchend"?i.targetTouches[0]:i.changedTouches[0];p&&BI(n,p,i,r)}else{BI(n,i,i,r);var c=_mt(i);i.zrDelta=c?c/120:-(i.detail||0)/3}var d=i.button;return i.which==null&&d!==void 0&&mmt.test(i.type)&&(i.which=d&1?1:d&2?3:d&4?2:0),i}function _mt(n){var i=n.wheelDelta;if(i)return i;var r=n.deltaX,s=n.deltaY;if(r==null||s==null)return i;var u=Math.abs(s!==0?s:r),c=s>0?-1:s<0?1:r>0?-1:1;return 3*u*c}function UI(n,i,r,s){n.addEventListener(i,r,s)}function xmt(n,i,r,s){n.removeEventListener(i,r,s)}var Xl=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function gW(n){return n.which===2||n.which===3}var Smt=function(){function n(){this._track=[]}return n.prototype.recognize=function(i,r,s){return this._doTrack(i,r,s),this._recognize(i)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(i,r,s){var u=i.touches;if(u){for(var c={points:[],touches:[],target:r,event:i},p=0,d=u.length;p<d;p++){var m=u[p],_=BI(s,m,{});c.points.push([_.zrX,_.zrY]),c.touches.push(m)}this._track.push(c)}},n.prototype._recognize=function(i){for(var r in GI)if(GI.hasOwnProperty(r)){var s=GI[r](this._track,i);if(s)return s}},n}();function mW(n){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1];return Math.sqrt(i*i+r*r)}function bmt(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var GI={pinch:function(n,i){var r=n.length;if(r){var s=(n[r-1]||{}).points,u=(n[r-2]||{}).points||s;if(u&&u.length>1&&s&&s.length>1){var c=mW(s)/mW(u);!isFinite(c)&&(c=1),i.pinchScale=c;var p=bmt(s);return i.pinchX=p[0],i.pinchY=p[1],{type:"pinch",target:n[0].target,event:i}}}}};function Qa(){return[1,0,0,1,0,0]}function Ey(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Bb(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n}function Xs(n,i,r){var s=i[0]*r[0]+i[2]*r[1],u=i[1]*r[0]+i[3]*r[1],c=i[0]*r[2]+i[2]*r[3],p=i[1]*r[2]+i[3]*r[3],d=i[0]*r[4]+i[2]*r[5]+i[4],m=i[1]*r[4]+i[3]*r[5]+i[5];return n[0]=s,n[1]=u,n[2]=c,n[3]=p,n[4]=d,n[5]=m,n}function ls(n,i,r){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4]+r[0],n[5]=i[5]+r[1],n}function nf(n,i,r,s){s===void 0&&(s=[0,0]);var u=i[0],c=i[2],p=i[4],d=i[1],m=i[3],_=i[5],S=Math.sin(r),w=Math.cos(r);return n[0]=u*w+d*S,n[1]=-u*S+d*w,n[2]=c*w+m*S,n[3]=-c*S+w*m,n[4]=w*(p-s[0])+S*(_-s[1])+s[0],n[5]=w*(_-s[1])-S*(p-s[0])+s[1],n}function Fb(n,i,r){var s=r[0],u=r[1];return n[0]=i[0]*s,n[1]=i[1]*u,n[2]=i[2]*s,n[3]=i[3]*u,n[4]=i[4]*s,n[5]=i[5]*u,n}function Kc(n,i){var r=i[0],s=i[2],u=i[4],c=i[1],p=i[3],d=i[5],m=r*p-c*s;return m?(m=1/m,n[0]=p*m,n[1]=-c*m,n[2]=-s*m,n[3]=r*m,n[4]=(s*d-p*u)*m,n[5]=(c*u-r*d)*m,n):null}function yW(n){var i=Qa();return Bb(i,n),i}var wmt=Object.freeze({__proto__:null,create:Qa,identity:Ey,copy:Bb,mul:Xs,translate:ls,rotate:nf,scale:Fb,invert:Kc,clone:yW}),ze=function(){function n(i,r){this.x=i||0,this.y=r||0}return n.prototype.copy=function(i){return this.x=i.x,this.y=i.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(i,r){return this.x=i,this.y=r,this},n.prototype.equal=function(i){return i.x===this.x&&i.y===this.y},n.prototype.add=function(i){return this.x+=i.x,this.y+=i.y,this},n.prototype.scale=function(i){this.x*=i,this.y*=i},n.prototype.scaleAndAdd=function(i,r){this.x+=i.x*r,this.y+=i.y*r},n.prototype.sub=function(i){return this.x-=i.x,this.y-=i.y,this},n.prototype.dot=function(i){return this.x*i.x+this.y*i.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var i=this.len();return this.x/=i,this.y/=i,this},n.prototype.distance=function(i){var r=this.x-i.x,s=this.y-i.y;return Math.sqrt(r*r+s*s)},n.prototype.distanceSquare=function(i){var r=this.x-i.x,s=this.y-i.y;return r*r+s*s},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(i){if(i){var r=this.x,s=this.y;return this.x=i[0]*r+i[2]*s+i[4],this.y=i[1]*r+i[3]*s+i[5],this}},n.prototype.toArray=function(i){return i[0]=this.x,i[1]=this.y,i},n.prototype.fromArray=function(i){this.x=i[0],this.y=i[1]},n.set=function(i,r,s){i.x=r,i.y=s},n.copy=function(i,r){i.x=r.x,i.y=r.y},n.len=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},n.lenSquare=function(i){return i.x*i.x+i.y*i.y},n.dot=function(i,r){return i.x*r.x+i.y*r.y},n.add=function(i,r,s){i.x=r.x+s.x,i.y=r.y+s.y},n.sub=function(i,r,s){i.x=r.x-s.x,i.y=r.y-s.y},n.scale=function(i,r,s){i.x=r.x*s,i.y=r.y*s},n.scaleAndAdd=function(i,r,s,u){i.x=r.x+s.x*u,i.y=r.y+s.y*u},n.lerp=function(i,r,s,u){var c=1-u;i.x=c*r.x+u*s.x,i.y=c*r.y+u*s.y},n}(),Ub=Math.min,Gb=Math.max,jc=new ze,Jc=new ze,Qc=new ze,th=new ze,Py=new ze,Ry=new ze,Ve=function(){function n(i,r,s,u){s<0&&(i=i+s,s=-s),u<0&&(r=r+u,u=-u),this.x=i,this.y=r,this.width=s,this.height=u}return n.prototype.union=function(i){var r=Ub(i.x,this.x),s=Ub(i.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Gb(i.x+i.width,this.x+this.width)-r:this.width=i.width,isFinite(this.y)&&isFinite(this.height)?this.height=Gb(i.y+i.height,this.y+this.height)-s:this.height=i.height,this.x=r,this.y=s},n.prototype.applyTransform=function(i){n.applyTransform(this,this,i)},n.prototype.calculateTransform=function(i){var r=this,s=i.width/r.width,u=i.height/r.height,c=Qa();return ls(c,c,[-r.x,-r.y]),Fb(c,c,[s,u]),ls(c,c,[i.x,i.y]),c},n.prototype.intersect=function(i,r){if(!i)return!1;i instanceof n||(i=n.create(i));var s=this,u=s.x,c=s.x+s.width,p=s.y,d=s.y+s.height,m=i.x,_=i.x+i.width,S=i.y,w=i.y+i.height,A=!(c<m||_<u||d<S||w<p);if(r){var D=1/0,L=0,E=Math.abs(c-m),R=Math.abs(_-u),k=Math.abs(d-S),z=Math.abs(w-p),B=Math.min(E,R),G=Math.min(k,z);c<m||_<u?B>L&&(L=B,E<R?ze.set(Ry,-E,0):ze.set(Ry,R,0)):B<D&&(D=B,E<R?ze.set(Py,E,0):ze.set(Py,-R,0)),d<S||w<p?G>L&&(L=G,k<z?ze.set(Ry,0,-k):ze.set(Ry,0,z)):B<D&&(D=B,k<z?ze.set(Py,0,k):ze.set(Py,0,-z))}return r&&ze.copy(r,A?Py:Ry),A},n.prototype.contain=function(i,r){var s=this;return i>=s.x&&i<=s.x+s.width&&r>=s.y&&r<=s.y+s.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(i){n.copy(this,i)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(i){return new n(i.x,i.y,i.width,i.height)},n.copy=function(i,r){i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height},n.applyTransform=function(i,r,s){if(!s){i!==r&&n.copy(i,r);return}if(s[1]<1e-5&&s[1]>-1e-5&&s[2]<1e-5&&s[2]>-1e-5){var u=s[0],c=s[3],p=s[4],d=s[5];i.x=r.x*u+p,i.y=r.y*c+d,i.width=r.width*u,i.height=r.height*c,i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height);return}jc.x=Qc.x=r.x,jc.y=th.y=r.y,Jc.x=th.x=r.x+r.width,Jc.y=Qc.y=r.y+r.height,jc.transform(s),th.transform(s),Jc.transform(s),Qc.transform(s),i.x=Ub(jc.x,Jc.x,Qc.x,th.x),i.y=Ub(jc.y,Jc.y,Qc.y,th.y);var m=Gb(jc.x,Jc.x,Qc.x,th.x),_=Gb(jc.y,Jc.y,Qc.y,th.y);i.width=m-i.x,i.height=_-i.y},n}(),_W="silent";function Tmt(n,i,r){return{type:n,event:r,target:i.target,topTarget:i.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Amt}}function Amt(){Xl(this.event)}var Cmt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.handler=null,r}return i.prototype.dispose=function(){},i.prototype.setCursor=function(){},i}(oo),Oy=function(){function n(i,r){this.x=i,this.y=r}return n}(),Dmt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],HI=new Ve(0,0,0,0),xW=function(n){e(i,n);function i(r,s,u,c,p){var d=n.call(this)||this;return d._hovered=new Oy(0,0),d.storage=r,d.painter=s,d.painterRoot=c,d._pointerSize=p,u=u||new Cmt,d.proxy=null,d.setHandlerProxy(u),d._draggingMgr=new fmt(d),d}return i.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(j(Dmt,function(s){r.on&&r.on(s,this[s],this)},this),r.handler=this),this.proxy=r},i.prototype.mousemove=function(r){var s=r.zrX,u=r.zrY,c=bW(this,s,u),p=this._hovered,d=p.target;d&&!d.__zr&&(p=this.findHover(p.x,p.y),d=p.target);var m=this._hovered=c?new Oy(s,u):this.findHover(s,u),_=m.target,S=this.proxy;S.setCursor&&S.setCursor(_?_.cursor:"default"),d&&_!==d&&this.dispatchToElement(p,"mouseout",r),this.dispatchToElement(m,"mousemove",r),_&&_!==d&&this.dispatchToElement(m,"mouseover",r)},i.prototype.mouseout=function(r){var s=r.zrEventControl;s!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),s!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},i.prototype.resize=function(){this._hovered=new Oy(0,0)},i.prototype.dispatch=function(r,s){var u=this[r];u&&u.call(this,s)},i.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},i.prototype.setCursorStyle=function(r){var s=this.proxy;s.setCursor&&s.setCursor(r)},i.prototype.dispatchToElement=function(r,s,u){r=r||{};var c=r.target;if(!(c&&c.silent)){for(var p="on"+s,d=Tmt(s,r,u);c&&(c[p]&&(d.cancelBubble=!!c[p].call(c,d)),c.trigger(s,d),c=c.__hostTarget?c.__hostTarget:c.parent,!d.cancelBubble););d.cancelBubble||(this.trigger(s,d),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(m){typeof m[p]=="function"&&m[p].call(m,d),m.trigger&&m.trigger(s,d)}))}},i.prototype.findHover=function(r,s,u){var c=this.storage.getDisplayList(),p=new Oy(r,s);if(SW(c,p,r,s,u),this._pointerSize&&!p.target){for(var d=[],m=this._pointerSize,_=m/2,S=new Ve(r-_,s-_,m,m),w=c.length-1;w>=0;w--){var A=c[w];A!==u&&!A.ignore&&!A.ignoreCoarsePointer&&(!A.parent||!A.parent.ignoreCoarsePointer)&&(HI.copy(A.getBoundingRect()),A.transform&&HI.applyTransform(A.transform),HI.intersect(S)&&d.push(A))}if(d.length)for(var D=4,L=Math.PI/12,E=Math.PI*2,R=0;R<_;R+=D)for(var k=0;k<E;k+=L){var z=r+R*Math.cos(k),B=s+R*Math.sin(k);if(SW(d,p,z,B,u),p.target)return p}}return p},i.prototype.processGesture=function(r,s){this._gestureMgr||(this._gestureMgr=new Smt);var u=this._gestureMgr;s==="start"&&u.clear();var c=u.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(s==="end"&&u.clear(),c){var p=c.type;r.gestureEvent=p;var d=new Oy;d.target=c.target,this.dispatchToElement(d,p,c.event)}},i}(oo);j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){xW.prototype[n]=function(i){var r=i.zrX,s=i.zrY,u=bW(this,r,s),c,p;if((n!=="mouseup"||!u)&&(c=this.findHover(r,s),p=c.target),n==="mousedown")this._downEl=p,this._downPoint=[i.zrX,i.zrY],this._upEl=p;else if(n==="mouseup")this._upEl=p;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||Wl(this._downPoint,[i.zrX,i.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,n,i)}});function Mmt(n,i,r){if(n[n.rectHover?"rectContain":"contain"](i,r)){for(var s=n,u=void 0,c=!1;s;){if(s.ignoreClip&&(c=!0),!c){var p=s.getClipPath();if(p&&!p.contain(i,r))return!1}s.silent&&(u=!0);var d=s.__hostTarget;s=d||s.parent}return u?_W:!0}return!1}function SW(n,i,r,s,u){for(var c=n.length-1;c>=0;c--){var p=n[c],d=void 0;if(p!==u&&!p.ignore&&(d=Mmt(p,r,s))&&(!i.topTarget&&(i.topTarget=p),d!==_W)){i.target=p;break}}}function bW(n,i,r){var s=n.painter;return i<0||i>s.getWidth()||r<0||r>s.getHeight()}var wW=32,ky=7;function Lmt(n){for(var i=0;n>=wW;)i|=n&1,n>>=1;return n+i}function TW(n,i,r,s){var u=i+1;if(u===r)return 1;if(s(n[u++],n[i])<0){for(;u<r&&s(n[u],n[u-1])<0;)u++;Imt(n,i,u)}else for(;u<r&&s(n[u],n[u-1])>=0;)u++;return u-i}function Imt(n,i,r){for(r--;i<r;){var s=n[i];n[i++]=n[r],n[r--]=s}}function AW(n,i,r,s,u){for(s===i&&s++;s<r;s++){for(var c=n[s],p=i,d=s,m;p<d;)m=p+d>>>1,u(c,n[m])<0?d=m:p=m+1;var _=s-p;switch(_){case 3:n[p+3]=n[p+2];case 2:n[p+2]=n[p+1];case 1:n[p+1]=n[p];break;default:for(;_>0;)n[p+_]=n[p+_-1],_--}n[p]=c}}function WI(n,i,r,s,u,c){var p=0,d=0,m=1;if(c(n,i[r+u])>0){for(d=s-u;m<d&&c(n,i[r+u+m])>0;)p=m,m=(m<<1)+1,m<=0&&(m=d);m>d&&(m=d),p+=u,m+=u}else{for(d=u+1;m<d&&c(n,i[r+u-m])<=0;)p=m,m=(m<<1)+1,m<=0&&(m=d);m>d&&(m=d);var _=p;p=u-m,m=u-_}for(p++;p<m;){var S=p+(m-p>>>1);c(n,i[r+S])>0?p=S+1:m=S}return m}function YI(n,i,r,s,u,c){var p=0,d=0,m=1;if(c(n,i[r+u])<0){for(d=u+1;m<d&&c(n,i[r+u-m])<0;)p=m,m=(m<<1)+1,m<=0&&(m=d);m>d&&(m=d);var _=p;p=u-m,m=u-_}else{for(d=s-u;m<d&&c(n,i[r+u+m])>=0;)p=m,m=(m<<1)+1,m<=0&&(m=d);m>d&&(m=d),p+=u,m+=u}for(p++;p<m;){var S=p+(m-p>>>1);c(n,i[r+S])<0?m=S:p=S+1}return m}function Emt(n,i){var r=ky,s,u,c=0,p=[];s=[],u=[];function d(D,L){s[c]=D,u[c]=L,c+=1}function m(){for(;c>1;){var D=c-2;if(D>=1&&u[D-1]<=u[D]+u[D+1]||D>=2&&u[D-2]<=u[D]+u[D-1])u[D-1]<u[D+1]&&D--;else if(u[D]>u[D+1])break;S(D)}}function _(){for(;c>1;){var D=c-2;D>0&&u[D-1]<u[D+1]&&D--,S(D)}}function S(D){var L=s[D],E=u[D],R=s[D+1],k=u[D+1];u[D]=E+k,D===c-3&&(s[D+1]=s[D+2],u[D+1]=u[D+2]),c--;var z=YI(n[R],n,L,E,0,i);L+=z,E-=z,E!==0&&(k=WI(n[L+E-1],n,R,k,k-1,i),k!==0&&(E<=k?w(L,E,R,k):A(L,E,R,k)))}function w(D,L,E,R){var k=0;for(k=0;k<L;k++)p[k]=n[D+k];var z=0,B=E,G=D;if(n[G++]=n[B++],--R===0){for(k=0;k<L;k++)n[G+k]=p[z+k];return}if(L===1){for(k=0;k<R;k++)n[G+k]=n[B+k];n[G+R]=p[z];return}for(var W=r,Y,q,J;;){Y=0,q=0,J=!1;do if(i(n[B],p[z])<0){if(n[G++]=n[B++],q++,Y=0,--R===0){J=!0;break}}else if(n[G++]=p[z++],Y++,q=0,--L===1){J=!0;break}while((Y|q)<W);if(J)break;do{if(Y=YI(n[B],p,z,L,0,i),Y!==0){for(k=0;k<Y;k++)n[G+k]=p[z+k];if(G+=Y,z+=Y,L-=Y,L<=1){J=!0;break}}if(n[G++]=n[B++],--R===0){J=!0;break}if(q=WI(p[z],n,B,R,0,i),q!==0){for(k=0;k<q;k++)n[G+k]=n[B+k];if(G+=q,B+=q,R-=q,R===0){J=!0;break}}if(n[G++]=p[z++],--L===1){J=!0;break}W--}while(Y>=ky||q>=ky);if(J)break;W<0&&(W=0),W+=2}if(r=W,r<1&&(r=1),L===1){for(k=0;k<R;k++)n[G+k]=n[B+k];n[G+R]=p[z]}else{if(L===0)throw new Error;for(k=0;k<L;k++)n[G+k]=p[z+k]}}function A(D,L,E,R){var k=0;for(k=0;k<R;k++)p[k]=n[E+k];var z=D+L-1,B=R-1,G=E+R-1,W=0,Y=0;if(n[G--]=n[z--],--L===0){for(W=G-(R-1),k=0;k<R;k++)n[W+k]=p[k];return}if(R===1){for(G-=L,z-=L,Y=G+1,W=z+1,k=L-1;k>=0;k--)n[Y+k]=n[W+k];n[G]=p[B];return}for(var q=r;;){var J=0,tt=0,et=!1;do if(i(p[B],n[z])<0){if(n[G--]=n[z--],J++,tt=0,--L===0){et=!0;break}}else if(n[G--]=p[B--],tt++,J=0,--R===1){et=!0;break}while((J|tt)<q);if(et)break;do{if(J=L-YI(p[B],n,D,L,L-1,i),J!==0){for(G-=J,z-=J,L-=J,Y=G+1,W=z+1,k=J-1;k>=0;k--)n[Y+k]=n[W+k];if(L===0){et=!0;break}}if(n[G--]=p[B--],--R===1){et=!0;break}if(tt=R-WI(n[z],p,0,R,R-1,i),tt!==0){for(G-=tt,B-=tt,R-=tt,Y=G+1,W=B+1,k=0;k<tt;k++)n[Y+k]=p[W+k];if(R<=1){et=!0;break}}if(n[G--]=n[z--],--L===0){et=!0;break}q--}while(J>=ky||tt>=ky);if(et)break;q<0&&(q=0),q+=2}if(r=q,r<1&&(r=1),R===1){for(G-=L,z-=L,Y=G+1,W=z+1,k=L-1;k>=0;k--)n[Y+k]=n[W+k];n[G]=p[B]}else{if(R===0)throw new Error;for(W=G-(R-1),k=0;k<R;k++)n[W+k]=p[k]}}return{mergeRuns:m,forceMergeRuns:_,pushRun:d}}function Hb(n,i,r,s){r||(r=0),s||(s=n.length);var u=s-r;if(!(u<2)){var c=0;if(u<wW){c=TW(n,r,s,i),AW(n,r,s,r+c,i);return}var p=Emt(n,i),d=Lmt(u);do{if(c=TW(n,r,s,i),c<d){var m=u;m>d&&(m=d),AW(n,r,r+m,r+c,i),c=m}p.pushRun(r,c),p.mergeRuns(),u-=c,r+=c}while(u!==0);p.forceMergeRuns()}}var Pn=1,Ny=2,Yv=4,CW=!1;function ZI(){CW||(CW=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function DW(n,i){return n.zlevel===i.zlevel?n.z===i.z?n.z2-i.z2:n.z-i.z:n.zlevel-i.zlevel}var Pmt=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=DW}return n.prototype.traverse=function(i,r){for(var s=0;s<this._roots.length;s++)this._roots[s].traverse(i,r)},n.prototype.getDisplayList=function(i,r){r=r||!1;var s=this._displayList;return(i||!s.length)&&this.updateDisplayList(r),s},n.prototype.updateDisplayList=function(i){this._displayListLen=0;for(var r=this._roots,s=this._displayList,u=0,c=r.length;u<c;u++)this._updateAndAddDisplayable(r[u],null,i);s.length=this._displayListLen,Hb(s,DW)},n.prototype._updateAndAddDisplayable=function(i,r,s){if(!(i.ignore&&!s)){i.beforeUpdate(),i.update(),i.afterUpdate();var u=i.getClipPath();if(i.ignoreClip)r=null;else if(u){r?r=r.slice():r=[];for(var c=u,p=i;c;)c.parent=p,c.updateTransform(),r.push(c),p=c,c=c.getClipPath()}if(i.childrenRef){for(var d=i.childrenRef(),m=0;m<d.length;m++){var _=d[m];i.__dirty&&(_.__dirty|=Pn),this._updateAndAddDisplayable(_,r,s)}i.__dirty=0}else{var S=i;r&&r.length?S.__clipPaths=r:S.__clipPaths&&S.__clipPaths.length>0&&(S.__clipPaths=[]),isNaN(S.z)&&(ZI(),S.z=0),isNaN(S.z2)&&(ZI(),S.z2=0),isNaN(S.zlevel)&&(ZI(),S.zlevel=0),this._displayList[this._displayListLen++]=S}var w=i.getDecalElement&&i.getDecalElement();w&&this._updateAndAddDisplayable(w,r,s);var A=i.getTextGuideLine();A&&this._updateAndAddDisplayable(A,r,s);var D=i.getTextContent();D&&this._updateAndAddDisplayable(D,r,s)}},n.prototype.addRoot=function(i){i.__zr&&i.__zr.storage===this||this._roots.push(i)},n.prototype.delRoot=function(i){if(i instanceof Array){for(var r=0,s=i.length;r<s;r++)this.delRoot(i[r]);return}var u=At(this._roots,i);u>=0&&this._roots.splice(u,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),MW;MW=f.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var XI=MW,zy={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,r=.1,s=.4;return n===0?0:n===1?1:(!r||r<1?(r=1,i=s/4):i=s*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/s)))},elasticOut:function(n){var i,r=.1,s=.4;return n===0?0:n===1?1:(!r||r<1?(r=1,i=s/4):i=s*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin((n-i)*(2*Math.PI)/s)+1)},elasticInOut:function(n){var i,r=.1,s=.4;return n===0?0:n===1?1:(!r||r<1?(r=1,i=s/4):i=s*Math.asin(1/r)/(2*Math.PI),(n*=2)<1?-.5*(r*Math.pow(2,10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/s)):r*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/s)*.5+1)},backIn:function(n){var i=1.70158;return n*n*((i+1)*n-i)},backOut:function(n){var i=1.70158;return--n*n*((i+1)*n+i)+1},backInOut:function(n){var i=2.5949095;return(n*=2)<1?.5*(n*n*((i+1)*n-i)):.5*((n-=2)*n*((i+1)*n+i)+2)},bounceIn:function(n){return 1-zy.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?zy.bounceIn(n*2)*.5:zy.bounceOut(n*2-1)*.5+.5}},Wb=Math.pow,of=Math.sqrt,Yb=1e-8,LW=1e-4,IW=of(3),Zb=1/3,qs=ef(),lo=ef(),Zv=ef();function sf(n){return n>-Yb&&n<Yb}function EW(n){return n>Yb||n<-Yb}function ki(n,i,r,s,u){var c=1-u;return c*c*(c*n+3*u*i)+u*u*(u*s+3*c*r)}function PW(n,i,r,s,u){var c=1-u;return 3*(((i-n)*c+2*(r-i)*u)*c+(s-r)*u*u)}function Xb(n,i,r,s,u,c){var p=s+3*(i-r)-n,d=3*(r-i*2+n),m=3*(i-n),_=n-u,S=d*d-3*p*m,w=d*m-9*p*_,A=m*m-3*d*_,D=0;if(sf(S)&&sf(w))if(sf(d))c[0]=0;else{var L=-m/d;L>=0&&L<=1&&(c[D++]=L)}else{var E=w*w-4*S*A;if(sf(E)){var R=w/S,L=-d/p+R,k=-R/2;L>=0&&L<=1&&(c[D++]=L),k>=0&&k<=1&&(c[D++]=k)}else if(E>0){var z=of(E),B=S*d+1.5*p*(-w+z),G=S*d+1.5*p*(-w-z);B<0?B=-Wb(-B,Zb):B=Wb(B,Zb),G<0?G=-Wb(-G,Zb):G=Wb(G,Zb);var L=(-d-(B+G))/(3*p);L>=0&&L<=1&&(c[D++]=L)}else{var W=(2*S*d-3*p*w)/(2*of(S*S*S)),Y=Math.acos(W)/3,q=of(S),J=Math.cos(Y),L=(-d-2*q*J)/(3*p),k=(-d+q*(J+IW*Math.sin(Y)))/(3*p),tt=(-d+q*(J-IW*Math.sin(Y)))/(3*p);L>=0&&L<=1&&(c[D++]=L),k>=0&&k<=1&&(c[D++]=k),tt>=0&&tt<=1&&(c[D++]=tt)}}return D}function RW(n,i,r,s,u){var c=6*r-12*i+6*n,p=9*i+3*s-3*n-9*r,d=3*i-3*n,m=0;if(sf(p)){if(EW(c)){var _=-d/c;_>=0&&_<=1&&(u[m++]=_)}}else{var S=c*c-4*p*d;if(sf(S))u[0]=-c/(2*p);else if(S>0){var w=of(S),_=(-c+w)/(2*p),A=(-c-w)/(2*p);_>=0&&_<=1&&(u[m++]=_),A>=0&&A<=1&&(u[m++]=A)}}return m}function lf(n,i,r,s,u,c){var p=(i-n)*u+n,d=(r-i)*u+i,m=(s-r)*u+r,_=(d-p)*u+p,S=(m-d)*u+d,w=(S-_)*u+_;c[0]=n,c[1]=p,c[2]=_,c[3]=w,c[4]=w,c[5]=S,c[6]=m,c[7]=s}function OW(n,i,r,s,u,c,p,d,m,_,S){var w,A=.005,D=1/0,L,E,R,k;qs[0]=m,qs[1]=_;for(var z=0;z<1;z+=.05)lo[0]=ki(n,r,u,p,z),lo[1]=ki(i,s,c,d,z),R=af(qs,lo),R<D&&(w=z,D=R);D=1/0;for(var B=0;B<32&&!(A<LW);B++)L=w-A,E=w+A,lo[0]=ki(n,r,u,p,L),lo[1]=ki(i,s,c,d,L),R=af(lo,qs),L>=0&&R<D?(w=L,D=R):(Zv[0]=ki(n,r,u,p,E),Zv[1]=ki(i,s,c,d,E),k=af(Zv,qs),E<=1&&k<D?(w=E,D=k):A*=.5);return S&&(S[0]=ki(n,r,u,p,w),S[1]=ki(i,s,c,d,w)),of(D)}function Rmt(n,i,r,s,u,c,p,d,m){for(var _=n,S=i,w=0,A=1/m,D=1;D<=m;D++){var L=D*A,E=ki(n,r,u,p,L),R=ki(i,s,c,d,L),k=E-_,z=R-S;w+=Math.sqrt(k*k+z*z),_=E,S=R}return w}function qi(n,i,r,s){var u=1-s;return u*(u*n+2*s*i)+s*s*r}function qI(n,i,r,s){return 2*((1-s)*(i-n)+s*(r-i))}function Omt(n,i,r,s,u){var c=n-2*i+r,p=2*(i-n),d=n-s,m=0;if(sf(c)){if(EW(p)){var _=-d/p;_>=0&&_<=1&&(u[m++]=_)}}else{var S=p*p-4*c*d;if(sf(S)){var _=-p/(2*c);_>=0&&_<=1&&(u[m++]=_)}else if(S>0){var w=of(S),_=(-p+w)/(2*c),A=(-p-w)/(2*c);_>=0&&_<=1&&(u[m++]=_),A>=0&&A<=1&&(u[m++]=A)}}return m}function kW(n,i,r){var s=n+r-2*i;return s===0?.5:(n-i)/s}function Vy(n,i,r,s,u){var c=(i-n)*s+n,p=(r-i)*s+i,d=(p-c)*s+c;u[0]=n,u[1]=c,u[2]=d,u[3]=d,u[4]=p,u[5]=r}function NW(n,i,r,s,u,c,p,d,m){var _,S=.005,w=1/0;qs[0]=p,qs[1]=d;for(var A=0;A<1;A+=.05){lo[0]=qi(n,r,u,A),lo[1]=qi(i,s,c,A);var D=af(qs,lo);D<w&&(_=A,w=D)}w=1/0;for(var L=0;L<32&&!(S<LW);L++){var E=_-S,R=_+S;lo[0]=qi(n,r,u,E),lo[1]=qi(i,s,c,E);var D=af(lo,qs);if(E>=0&&D<w)_=E,w=D;else{Zv[0]=qi(n,r,u,R),Zv[1]=qi(i,s,c,R);var k=af(Zv,qs);R<=1&&k<w?(_=R,w=k):S*=.5}}return m&&(m[0]=qi(n,r,u,_),m[1]=qi(i,s,c,_)),of(w)}function kmt(n,i,r,s,u,c,p){for(var d=n,m=i,_=0,S=1/p,w=1;w<=p;w++){var A=w*S,D=qi(n,r,u,A),L=qi(i,s,c,A),E=D-d,R=L-m;_+=Math.sqrt(E*E+R*R),d=D,m=L}return _}var Nmt=/cubic-bezier\(([0-9,\.e ]+)\)/;function $I(n){var i=n&&Nmt.exec(n);if(i){var r=i[1].split(","),s=+no(r[0]),u=+no(r[1]),c=+no(r[2]),p=+no(r[3]);if(isNaN(s+u+c+p))return;var d=[];return function(m){return m<=0?0:m>=1?1:Xb(0,s,c,1,m,d)&&ki(0,u,p,1,d[0])}}}var zmt=function(){function n(i){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=i.life||1e3,this._delay=i.delay||0,this.loop=i.loop||!1,this.onframe=i.onframe||Qr,this.ondestroy=i.ondestroy||Qr,this.onrestart=i.onrestart||Qr,i.easing&&this.setEasing(i.easing)}return n.prototype.step=function(i,r){if(this._inited||(this._startTime=i+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var s=this._life,u=i-this._startTime-this._pausedTime,c=u/s;c<0&&(c=0),c=Math.min(c,1);var p=this.easingFunc,d=p?p(c):c;if(this.onframe(d),c===1)if(this.loop){var m=u%s;this._startTime=i-m,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(i){this.easing=i,this.easingFunc=Gt(i)?i:zy[i]||$I(i)},n}(),zW=function(){function n(i){this.value=i}return n}(),Vmt=function(){function n(){this._len=0}return n.prototype.insert=function(i){var r=new zW(i);return this.insertEntry(r),r},n.prototype.insertEntry=function(i){this.head?(this.tail.next=i,i.prev=this.tail,i.next=null,this.tail=i):this.head=this.tail=i,this._len++},n.prototype.remove=function(i){var r=i.prev,s=i.next;r?r.next=s:this.head=s,s?s.prev=r:this.tail=r,i.next=i.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),By=function(){function n(i){this._list=new Vmt,this._maxSize=10,this._map={},this._maxSize=i}return n.prototype.put=function(i,r){var s=this._list,u=this._map,c=null;if(u[i]==null){var p=s.len(),d=this._lastRemovedEntry;if(p>=this._maxSize&&p>0){var m=s.head;s.remove(m),delete u[m.key],c=m.value,this._lastRemovedEntry=m}d?d.value=r:d=new zW(r),d.key=i,s.insertEntry(d),u[i]=d}return c},n.prototype.get=function(i){var r=this._map[i],s=this._list;if(r!=null)return r!==s.tail&&(s.remove(r),s.insertEntry(r)),r.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),VW={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function us(n){return n=Math.round(n),n<0?0:n>255?255:n}function Bmt(n){return n=Math.round(n),n<0?0:n>360?360:n}function Fy(n){return n<0?0:n>1?1:n}function KI(n){var i=n;return i.length&&i.charAt(i.length-1)==="%"?us(parseFloat(i)/100*255):us(parseInt(i,10))}function eh(n){var i=n;return i.length&&i.charAt(i.length-1)==="%"?Fy(parseFloat(i)/100):Fy(parseFloat(i))}function jI(n,i,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?n+(i-n)*r*6:r*2<1?i:r*3<2?n+(i-n)*(2/3-r)*6:n}function uf(n,i,r){return n+(i-n)*r}function uo(n,i,r,s,u){return n[0]=i,n[1]=r,n[2]=s,n[3]=u,n}function JI(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n}var BW=new By(20),qb=null;function Xv(n,i){qb&&JI(qb,i),qb=BW.put(n,qb||i.slice())}function Oa(n,i){if(n){i=i||[];var r=BW.get(n);if(r)return JI(i,r);n=n+"";var s=n.replace(/ /g,"").toLowerCase();if(s in VW)return JI(i,VW[s]),Xv(n,i),i;var u=s.length;if(s.charAt(0)==="#"){if(u===4||u===5){var c=parseInt(s.slice(1,4),16);if(!(c>=0&&c<=4095)){uo(i,0,0,0,1);return}return uo(i,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,u===5?parseInt(s.slice(4),16)/15:1),Xv(n,i),i}else if(u===7||u===9){var c=parseInt(s.slice(1,7),16);if(!(c>=0&&c<=16777215)){uo(i,0,0,0,1);return}return uo(i,(c&16711680)>>16,(c&65280)>>8,c&255,u===9?parseInt(s.slice(7),16)/255:1),Xv(n,i),i}return}var p=s.indexOf("("),d=s.indexOf(")");if(p!==-1&&d+1===u){var m=s.substr(0,p),_=s.substr(p+1,d-(p+1)).split(","),S=1;switch(m){case"rgba":if(_.length!==4)return _.length===3?uo(i,+_[0],+_[1],+_[2],1):uo(i,0,0,0,1);S=eh(_.pop());case"rgb":if(_.length>=3)return uo(i,KI(_[0]),KI(_[1]),KI(_[2]),_.length===3?S:eh(_[3])),Xv(n,i),i;uo(i,0,0,0,1);return;case"hsla":if(_.length!==4){uo(i,0,0,0,1);return}return _[3]=eh(_[3]),QI(_,i),Xv(n,i),i;case"hsl":if(_.length!==3){uo(i,0,0,0,1);return}return QI(_,i),Xv(n,i),i;default:return}}uo(i,0,0,0,1)}}function QI(n,i){var r=(parseFloat(n[0])%360+360)%360/360,s=eh(n[1]),u=eh(n[2]),c=u<=.5?u*(s+1):u+s-u*s,p=u*2-c;return i=i||[],uo(i,us(jI(p,c,r+1/3)*255),us(jI(p,c,r)*255),us(jI(p,c,r-1/3)*255),1),n.length===4&&(i[3]=n[3]),i}function Fmt(n){if(n){var i=n[0]/255,r=n[1]/255,s=n[2]/255,u=Math.min(i,r,s),c=Math.max(i,r,s),p=c-u,d=(c+u)/2,m,_;if(p===0)m=0,_=0;else{d<.5?_=p/(c+u):_=p/(2-c-u);var S=((c-i)/6+p/2)/p,w=((c-r)/6+p/2)/p,A=((c-s)/6+p/2)/p;i===c?m=A-w:r===c?m=1/3+S-A:s===c&&(m=2/3+w-S),m<0&&(m+=1),m>1&&(m-=1)}var D=[m*360,_,d];return n[3]!=null&&D.push(n[3]),D}}function $b(n,i){var r=Oa(n);if(r){for(var s=0;s<3;s++)i<0?r[s]=r[s]*(1-i)|0:r[s]=(255-r[s])*i+r[s]|0,r[s]>255?r[s]=255:r[s]<0&&(r[s]=0);return fs(r,r.length===4?"rgba":"rgb")}}function Umt(n){var i=Oa(n);if(i)return((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1)}function Uy(n,i,r){if(!(!(i&&i.length)||!(n>=0&&n<=1))){r=r||[];var s=n*(i.length-1),u=Math.floor(s),c=Math.ceil(s),p=i[u],d=i[c],m=s-u;return r[0]=us(uf(p[0],d[0],m)),r[1]=us(uf(p[1],d[1],m)),r[2]=us(uf(p[2],d[2],m)),r[3]=Fy(uf(p[3],d[3],m)),r}}var Gmt=Uy;function tE(n,i,r){if(!(!(i&&i.length)||!(n>=0&&n<=1))){var s=n*(i.length-1),u=Math.floor(s),c=Math.ceil(s),p=Oa(i[u]),d=Oa(i[c]),m=s-u,_=fs([us(uf(p[0],d[0],m)),us(uf(p[1],d[1],m)),us(uf(p[2],d[2],m)),Fy(uf(p[3],d[3],m))],"rgba");return r?{color:_,leftIndex:u,rightIndex:c,value:s}:_}}var Hmt=tE;function qv(n,i,r,s){var u=Oa(n);if(n)return u=Fmt(u),i!=null&&(u[0]=Bmt(i)),r!=null&&(u[1]=eh(r)),s!=null&&(u[2]=eh(s)),fs(QI(u),"rgba")}function Gy(n,i){var r=Oa(n);if(r&&i!=null)return r[3]=Fy(i),fs(r,"rgba")}function fs(n,i){if(!(!n||!n.length)){var r=n[0]+","+n[1]+","+n[2];return(i==="rgba"||i==="hsva"||i==="hsla")&&(r+=","+n[3]),i+"("+r+")"}}function Hy(n,i){var r=Oa(n);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*i:0}function Wmt(){return fs([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var FW=new By(100);function Kb(n){if(kt(n)){var i=FW.get(n);return i||(i=$b(n,-.1),FW.put(n,i)),i}else if(Hl(n)){var r=st({},n);return r.colorStops=Tt(n.colorStops,function(s){return{offset:s.offset,color:$b(s.color,-.1)}}),r}return n}var Ymt=Object.freeze({__proto__:null,parse:Oa,lift:$b,toHex:Umt,fastLerp:Uy,fastMapToColor:Gmt,lerp:tE,mapToColor:Hmt,modifyHSL:qv,modifyAlpha:Gy,stringify:fs,lum:Hy,random:Wmt,liftColor:Kb}),jb=Math.round;function Wy(n){var i;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var r=Oa(n);r&&(n="rgb("+r[0]+","+r[1]+","+r[2]+")",i=r[3])}return{color:n,opacity:i??1}}var UW=1e-4;function ff(n){return n<UW&&n>-UW}function Jb(n){return jb(n*1e3)/1e3}function eE(n){return jb(n*1e4)/1e4}function Zmt(n){return"matrix("+Jb(n[0])+","+Jb(n[1])+","+Jb(n[2])+","+Jb(n[3])+","+eE(n[4])+","+eE(n[5])+")"}var Xmt={left:"start",right:"end",center:"middle",middle:"middle"};function qmt(n,i,r){return r==="top"?n+=i/2:r==="bottom"&&(n-=i/2),n}function $mt(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function Kmt(n){var i=n.style,r=n.getGlobalScale();return[i.shadowColor,(i.shadowBlur||0).toFixed(2),(i.shadowOffsetX||0).toFixed(2),(i.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function GW(n){return n&&!!n.image}function jmt(n){return n&&!!n.svgElement}function rE(n){return GW(n)||jmt(n)}function HW(n){return n.type==="linear"}function WW(n){return n.type==="radial"}function YW(n){return n&&(n.type==="linear"||n.type==="radial")}function Qb(n){return"url(#"+n+")"}function ZW(n){var i=n.getGlobalScale(),r=Math.max(i[0],i[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function XW(n){var i=n.x||0,r=n.y||0,s=(n.rotation||0)*Dy,u=De(n.scaleX,1),c=De(n.scaleY,1),p=n.skewX||0,d=n.skewY||0,m=[];return(i||r)&&m.push("translate("+i+"px,"+r+"px)"),s&&m.push("rotate("+s+")"),(u!==1||c!==1)&&m.push("scale("+u+","+c+")"),(p||d)&&m.push("skew("+jb(p*Dy)+"deg, "+jb(d*Dy)+"deg)"),m.join(" ")}var Jmt=function(){return f.hasGlobalWindow&&Gt(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return ft("Base64 isn't natively supported in the current environment."),null}}(),iE=Array.prototype.slice;function ql(n,i,r){return(i-n)*r+n}function aE(n,i,r,s){for(var u=i.length,c=0;c<u;c++)n[c]=ql(i[c],r[c],s);return n}function Qmt(n,i,r,s){for(var u=i.length,c=u&&i[0].length,p=0;p<u;p++){n[p]||(n[p]=[]);for(var d=0;d<c;d++)n[p][d]=ql(i[p][d],r[p][d],s)}return n}function t1(n,i,r,s){for(var u=i.length,c=0;c<u;c++)n[c]=i[c]+r[c]*s;return n}function qW(n,i,r,s){for(var u=i.length,c=u&&i[0].length,p=0;p<u;p++){n[p]||(n[p]=[]);for(var d=0;d<c;d++)n[p][d]=i[p][d]+r[p][d]*s}return n}function tyt(n,i){for(var r=n.length,s=i.length,u=r>s?i:n,c=Math.min(r,s),p=u[c-1]||{color:[0,0,0,0],offset:0},d=c;d<Math.max(r,s);d++)u.push({offset:p.offset,color:p.color.slice()})}function eyt(n,i,r){var s=n,u=i;if(!(!s.push||!u.push)){var c=s.length,p=u.length;if(c!==p){var d=c>p;if(d)s.length=p;else for(var m=c;m<p;m++)s.push(r===1?u[m]:iE.call(u[m]))}for(var _=s[0]&&s[0].length,m=0;m<s.length;m++)if(r===1)isNaN(s[m])&&(s[m]=u[m]);else for(var S=0;S<_;S++)isNaN(s[m][S])&&(s[m][S]=u[m][S])}}function Yy(n){if(te(n)){var i=n.length;if(te(n[0])){for(var r=[],s=0;s<i;s++)r.push(iE.call(n[s]));return r}return iE.call(n)}return n}function e1(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function ryt(n){return te(n&&n[0])?2:1}var r1=0,i1=1,$W=2,Zy=3,nE=4,oE=5,KW=6;function jW(n){return n===nE||n===oE}function a1(n){return n===i1||n===$W}var Xy=[0,0,0,0],iyt=function(){function n(i){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=i}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(i,r,s){this._needsSort=!0;var u=this.keyframes,c=u.length,p=!1,d=KW,m=r;if(te(r)){var _=ryt(r);d=_,(_===1&&!Ne(r[0])||_===2&&!Ne(r[0][0]))&&(p=!0)}else if(Ne(r)&&!tf(r))d=r1;else if(kt(r))if(!isNaN(+r))d=r1;else{var S=Oa(r);S&&(m=S,d=Zy)}else if(Hl(r)){var w=st({},m);w.colorStops=Tt(r.colorStops,function(D){return{offset:D.offset,color:Oa(D.color)}}),HW(r)?d=nE:WW(r)&&(d=oE),m=w}c===0?this.valType=d:(d!==this.valType||d===KW)&&(p=!0),this.discrete=this.discrete||p;var A={time:i,value:m,rawValue:r,percent:0};return s&&(A.easing=s,A.easingFunc=Gt(s)?s:zy[s]||$I(s)),u.push(A),A},n.prototype.prepare=function(i,r){var s=this.keyframes;this._needsSort&&s.sort(function(E,R){return E.time-R.time});for(var u=this.valType,c=s.length,p=s[c-1],d=this.discrete,m=a1(u),_=jW(u),S=0;S<c;S++){var w=s[S],A=w.value,D=p.value;w.percent=w.time/i,d||(m&&S!==c-1?eyt(A,D,u):_&&tyt(A.colorStops,D.colorStops))}if(!d&&u!==oE&&r&&this.needsAnimate()&&r.needsAnimate()&&u===r.valType&&!r._finished){this._additiveTrack=r;for(var L=s[0].value,S=0;S<c;S++)u===r1?s[S].additiveValue=s[S].value-L:u===Zy?s[S].additiveValue=t1([],s[S].value,L,-1):a1(u)&&(s[S].additiveValue=u===i1?t1([],s[S].value,L,-1):qW([],s[S].value,L,-1))}},n.prototype.step=function(i,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var s=this._additiveTrack!=null,u=s?"additiveValue":"value",c=this.valType,p=this.keyframes,d=p.length,m=this.propName,_=c===Zy,S,w=this._lastFr,A=Math.min,D,L;if(d===1)D=L=p[0];else{if(r<0)S=0;else if(r<this._lastFrP){var E=A(w+1,d-1);for(S=E;S>=0&&!(p[S].percent<=r);S--);S=A(S,d-2)}else{for(S=w;S<d&&!(p[S].percent>r);S++);S=A(S-1,d-2)}L=p[S+1],D=p[S]}if(D&&L){this._lastFr=S,this._lastFrP=r;var R=L.percent-D.percent,k=R===0?1:A((r-D.percent)/R,1);L.easingFunc&&(k=L.easingFunc(k));var z=s?this._additiveValue:_?Xy:i[m];if((a1(c)||_)&&!z&&(z=this._additiveValue=[]),this.discrete)i[m]=k<1?D.rawValue:L.rawValue;else if(a1(c))c===i1?aE(z,D[u],L[u],k):Qmt(z,D[u],L[u],k);else if(jW(c)){var B=D[u],G=L[u],W=c===nE;i[m]={type:W?"linear":"radial",x:ql(B.x,G.x,k),y:ql(B.y,G.y,k),colorStops:Tt(B.colorStops,function(q,J){var tt=G.colorStops[J];return{offset:ql(q.offset,tt.offset,k),color:e1(aE([],q.color,tt.color,k))}}),global:G.global},W?(i[m].x2=ql(B.x2,G.x2,k),i[m].y2=ql(B.y2,G.y2,k)):i[m].r=ql(B.r,G.r,k)}else if(_)aE(z,D[u],L[u],k),s||(i[m]=e1(z));else{var Y=ql(D[u],L[u],k);s?this._additiveValue=Y:i[m]=Y}s&&this._addToTarget(i)}}},n.prototype._addToTarget=function(i){var r=this.valType,s=this.propName,u=this._additiveValue;r===r1?i[s]=i[s]+u:r===Zy?(Oa(i[s],Xy),t1(Xy,Xy,u,1),i[s]=e1(Xy)):r===i1?t1(i[s],i[s],u,1):r===$W&&qW(i[s],i[s],u,1)},n}(),sE=function(){function n(i,r,s,u){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=i,this._loop=r,r&&u){ft("Can' use additive animation on looped animation.");return}this._additiveAnimators=u,this._allowDiscrete=s}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(i){this._target=i},n.prototype.when=function(i,r,s){return this.whenWithKeys(i,r,Xt(r),s)},n.prototype.whenWithKeys=function(i,r,s,u){for(var c=this._tracks,p=0;p<s.length;p++){var d=s[p],m=c[d];if(!m){m=c[d]=new iyt(d);var _=void 0,S=this._getAdditiveTrack(d);if(S){var w=S.keyframes,A=w[w.length-1];_=A&&A.value,S.valType===Zy&&_&&(_=e1(_))}else _=this._target[d];if(_==null)continue;i>0&&m.addKeyframe(0,Yy(_),u),this._trackKeys.push(d)}m.addKeyframe(i,Yy(r[d]),u)}return this._maxTime=Math.max(this._maxTime,i),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(i){return this._maxTime=i,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var i=this._doneCbs;if(i)for(var r=i.length,s=0;s<r;s++)i[s].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var i=this.animation,r=this._abortedCbs;if(i&&i.removeClip(this._clip),this._clip=null,r)for(var s=0;s<r.length;s++)r[s].call(this)},n.prototype._setTracksFinished=function(){for(var i=this._tracks,r=this._trackKeys,s=0;s<r.length;s++)i[r[s]].setFinished()},n.prototype._getAdditiveTrack=function(i){var r,s=this._additiveAnimators;if(s)for(var u=0;u<s.length;u++){var c=s[u].getTrack(i);c&&(r=c)}return r},n.prototype.start=function(i){if(!(this._started>0)){this._started=1;for(var r=this,s=[],u=this._maxTime||0,c=0;c<this._trackKeys.length;c++){var p=this._trackKeys[c],d=this._tracks[p],m=this._getAdditiveTrack(p),_=d.keyframes,S=_.length;if(d.prepare(u,m),d.needsAnimate())if(!this._allowDiscrete&&d.discrete){var w=_[S-1];w&&(r._target[d.propName]=w.rawValue),d.setFinished()}else s.push(d)}if(s.length||this._force){var A=new zmt({life:u,loop:this._loop,delay:this._delay||0,onframe:function(D){r._started=2;var L=r._additiveAnimators;if(L){for(var E=!1,R=0;R<L.length;R++)if(L[R]._clip){E=!0;break}E||(r._additiveAnimators=null)}for(var R=0;R<s.length;R++)s[R].step(r._target,D);var k=r._onframeCbs;if(k)for(var R=0;R<k.length;R++)k[R](r._target,D)},ondestroy:function(){r._doneCallback()}});this._clip=A,this.animation&&this.animation.addClip(A),i&&A.setEasing(i)}else this._doneCallback();return this}},n.prototype.stop=function(i){if(this._clip){var r=this._clip;i&&r.onframe(1),this._abortedCallback()}},n.prototype.delay=function(i){return this._delay=i,this},n.prototype.during=function(i){return i&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(i)),this},n.prototype.done=function(i){return i&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(i)),this},n.prototype.aborted=function(i){return i&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(i)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(i){return this._tracks[i]},n.prototype.getTracks=function(){var i=this;return Tt(this._trackKeys,function(r){return i._tracks[r]})},n.prototype.stopTracks=function(i,r){if(!i.length||!this._clip)return!0;for(var s=this._tracks,u=this._trackKeys,c=0;c<i.length;c++){var p=s[i[c]];p&&!p.isFinished()&&(r?p.step(this._target,1):this._started===1&&p.step(this._target,0),p.setFinished())}for(var d=!0,c=0;c<u.length;c++)if(!s[u[c]].isFinished()){d=!1;break}return d&&this._abortedCallback(),d},n.prototype.saveTo=function(i,r,s){if(i){r=r||this._trackKeys;for(var u=0;u<r.length;u++){var c=r[u],p=this._tracks[c];if(!(!p||p.isFinished())){var d=p.keyframes,m=d[s?0:d.length-1];m&&(i[c]=Yy(m.rawValue))}}}},n.prototype.__changeFinalValue=function(i,r){r=r||Xt(i);for(var s=0;s<r.length;s++){var u=r[s],c=this._tracks[u];if(c){var p=c.keyframes;if(p.length>1){var d=p.pop();c.addKeyframe(d.time,i[u]),c.prepare(this._maxTime,c.getAdditiveTrack())}}}},n}();function $v(){return new Date().getTime()}var ayt=function(n){e(i,n);function i(r){var s=n.call(this)||this;return s._running=!1,s._time=0,s._pausedTime=0,s._pauseStart=0,s._paused=!1,r=r||{},s.stage=r.stage||{},s}return i.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},i.prototype.addAnimator=function(r){r.animation=this;var s=r.getClip();s&&this.addClip(s)},i.prototype.removeClip=function(r){if(r.animation){var s=r.prev,u=r.next;s?s.next=u:this._head=u,u?u.prev=s:this._tail=s,r.next=r.prev=r.animation=null}},i.prototype.removeAnimator=function(r){var s=r.getClip();s&&this.removeClip(s),r.animation=null},i.prototype.update=function(r){for(var s=$v()-this._pausedTime,u=s-this._time,c=this._head;c;){var p=c.next,d=c.step(s,u);d&&(c.ondestroy(),this.removeClip(c)),c=p}this._time=s,r||(this.trigger("frame",u),this.stage.update&&this.stage.update())},i.prototype._startLoop=function(){var r=this;this._running=!0;function s(){r._running&&(XI(s),!r._paused&&r.update())}XI(s)},i.prototype.start=function(){this._running||(this._time=$v(),this._pausedTime=0,this._startLoop())},i.prototype.stop=function(){this._running=!1},i.prototype.pause=function(){this._paused||(this._pauseStart=$v(),this._paused=!0)},i.prototype.resume=function(){this._paused&&(this._pausedTime+=$v()-this._pauseStart,this._paused=!1)},i.prototype.clear=function(){for(var r=this._head;r;){var s=r.next;r.prev=r.next=r.animation=null,r=s}this._head=this._tail=null},i.prototype.isFinished=function(){return this._head==null},i.prototype.animate=function(r,s){s=s||{},this.start();var u=new sE(r,s.loop);return this.addAnimator(u),u},i}(oo),nyt=300,lE=f.domSupported,uE=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],i=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},s=Tt(n,function(u){var c=u.replace("mouse","pointer");return r.hasOwnProperty(c)?c:u});return{mouse:n,touch:i,pointer:s}}(),JW={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},QW=!1;function fE(n){var i=n.pointerType;return i==="pen"||i==="touch"}function oyt(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function cE(n){n&&(n.zrByTouch=!0)}function syt(n,i){return so(n.dom,new lyt(n,i),!0)}function t4(n,i){for(var r=i,s=!1;r&&r.nodeType!==9&&!(s=r.domBelongToZr||r!==i&&r===n.painterRoot);)r=r.parentNode;return s}var lyt=function(){function n(i,r){this.stopPropagation=Qr,this.stopImmediatePropagation=Qr,this.preventDefault=Qr,this.type=r.type,this.target=this.currentTarget=i.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return n}(),cs={mousedown:function(n){n=so(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=so(this.dom,n);var i=this.__mayPointerCapture;i&&(n.zrX!==i[0]||n.zrY!==i[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=so(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=so(this.dom,n);var i=n.toElement||n.relatedTarget;t4(this,i)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){QW=!0,n=so(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){QW||(n=so(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=so(this.dom,n),cE(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),cs.mousemove.call(this,n),cs.mousedown.call(this,n)},touchmove:function(n){n=so(this.dom,n),cE(n),this.handler.processGesture(n,"change"),cs.mousemove.call(this,n)},touchend:function(n){n=so(this.dom,n),cE(n),this.handler.processGesture(n,"end"),cs.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<nyt&&cs.click.call(this,n)},pointerdown:function(n){cs.mousedown.call(this,n)},pointermove:function(n){fE(n)||cs.mousemove.call(this,n)},pointerup:function(n){cs.mouseup.call(this,n)},pointerout:function(n){fE(n)||cs.mouseout.call(this,n)}};j(["click","dblclick","contextmenu"],function(n){cs[n]=function(i){i=so(this.dom,i),this.trigger(n,i)}});var hE={pointermove:function(n){fE(n)||hE.mousemove.call(this,n)},pointerup:function(n){hE.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var i=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),i&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function uyt(n,i){var r=i.domHandlers;f.pointerEventsSupported?j(uE.pointer,function(s){n1(i,s,function(u){r[s].call(n,u)})}):(f.touchEventsSupported&&j(uE.touch,function(s){n1(i,s,function(u){r[s].call(n,u),oyt(i)})}),j(uE.mouse,function(s){n1(i,s,function(u){u=FI(u),i.touching||r[s].call(n,u)})}))}function fyt(n,i){f.pointerEventsSupported?j(JW.pointer,r):f.touchEventsSupported||j(JW.mouse,r);function r(s){function u(c){c=FI(c),t4(n,c.target)||(c=syt(n,c),i.domHandlers[s].call(n,c))}n1(i,s,u,{capture:!0})}}function n1(n,i,r,s){n.mounted[i]=r,n.listenerOpts[i]=s,UI(n.domTarget,i,r,s)}function pE(n){var i=n.mounted;for(var r in i)i.hasOwnProperty(r)&&xmt(n.domTarget,r,i[r],n.listenerOpts[r]);n.mounted={}}var e4=function(){function n(i,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=i,this.domHandlers=r}return n}(),cyt=function(n){e(i,n);function i(r,s){var u=n.call(this)||this;return u.__pointerCapturing=!1,u.dom=r,u.painterRoot=s,u._localHandlerScope=new e4(r,cs),lE&&(u._globalHandlerScope=new e4(document,hE)),uyt(u,u._localHandlerScope),u}return i.prototype.dispose=function(){pE(this._localHandlerScope),lE&&pE(this._globalHandlerScope)},i.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},i.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,lE&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var s=this._globalHandlerScope;r?fyt(this,s):pE(s)}},i}(oo),r4=1;f.hasGlobalWindow&&(r4=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var o1=r4,vE=.4,dE="#333",gE="#ccc",hyt="#eee",i4=Ey,a4=5e-5;function rh(n){return n>a4||n<-a4}var ih=[],Kv=[],mE=Qa(),yE=Math.abs,$l=function(){function n(){}return n.prototype.getLocalTransform=function(i){return n.getLocalTransform(this,i)},n.prototype.setPosition=function(i){this.x=i[0],this.y=i[1]},n.prototype.setScale=function(i){this.scaleX=i[0],this.scaleY=i[1]},n.prototype.setSkew=function(i){this.skewX=i[0],this.skewY=i[1]},n.prototype.setOrigin=function(i){this.originX=i[0],this.originY=i[1]},n.prototype.needLocalTransform=function(){return rh(this.rotation)||rh(this.x)||rh(this.y)||rh(this.scaleX-1)||rh(this.scaleY-1)||rh(this.skewX)||rh(this.skewY)},n.prototype.updateTransform=function(){var i=this.parent&&this.parent.transform,r=this.needLocalTransform(),s=this.transform;if(!(r||i)){s&&(i4(s),this.invTransform=null);return}s=s||Qa(),r?this.getLocalTransform(s):i4(s),i&&(r?Xs(s,i,s):Bb(s,i)),this.transform=s,this._resolveGlobalScaleRatio(s)},n.prototype._resolveGlobalScaleRatio=function(i){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(ih);var s=ih[0]<0?-1:1,u=ih[1]<0?-1:1,c=((ih[0]-s)*r+s)/ih[0]||0,p=((ih[1]-u)*r+u)/ih[1]||0;i[0]*=c,i[1]*=c,i[2]*=p,i[3]*=p}this.invTransform=this.invTransform||Qa(),Kc(this.invTransform,i)},n.prototype.getComputedTransform=function(){for(var i=this,r=[];i;)r.push(i),i=i.parent;for(;i=r.pop();)i.updateTransform();return this.transform},n.prototype.setLocalTransform=function(i){if(i){var r=i[0]*i[0]+i[1]*i[1],s=i[2]*i[2]+i[3]*i[3],u=Math.atan2(i[1],i[0]),c=Math.PI/2+u-Math.atan2(i[3],i[2]);s=Math.sqrt(s)*Math.cos(c),r=Math.sqrt(r),this.skewX=c,this.skewY=0,this.rotation=-u,this.x=+i[4],this.y=+i[5],this.scaleX=r,this.scaleY=s,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var i=this.parent,r=this.transform;i&&i.transform&&(i.invTransform=i.invTransform||Qa(),Xs(Kv,i.invTransform,r),r=Kv);var s=this.originX,u=this.originY;(s||u)&&(mE[4]=s,mE[5]=u,Xs(Kv,r,mE),Kv[4]-=s,Kv[5]-=u,r=Kv),this.setLocalTransform(r)}},n.prototype.getGlobalScale=function(i){var r=this.transform;return i=i||[],r?(i[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(i[0]=-i[0]),r[3]<0&&(i[1]=-i[1]),i):(i[0]=1,i[1]=1,i)},n.prototype.transformCoordToLocal=function(i,r){var s=[i,r],u=this.invTransform;return u&&Xi(s,s,u),s},n.prototype.transformCoordToGlobal=function(i,r){var s=[i,r],u=this.transform;return u&&Xi(s,s,u),s},n.prototype.getLineScale=function(){var i=this.transform;return i&&yE(i[0]-1)>1e-10&&yE(i[3]-1)>1e-10?Math.sqrt(yE(i[0]*i[3]-i[2]*i[1])):1},n.prototype.copyTransform=function(i){n4(this,i)},n.getLocalTransform=function(i,r){r=r||[];var s=i.originX||0,u=i.originY||0,c=i.scaleX,p=i.scaleY,d=i.anchorX,m=i.anchorY,_=i.rotation||0,S=i.x,w=i.y,A=i.skewX?Math.tan(i.skewX):0,D=i.skewY?Math.tan(-i.skewY):0;if(s||u||d||m){var L=s+d,E=u+m;r[4]=-L*c-A*E*p,r[5]=-E*p-D*L*c}else r[4]=r[5]=0;return r[0]=c,r[3]=p,r[1]=D*c,r[2]=A*p,_&&nf(r,r,_),r[4]+=s+S,r[5]+=u+w,r},n.initDefaultProps=function(){var i=n.prototype;i.scaleX=i.scaleY=i.globalScaleRatio=1,i.x=i.y=i.originX=i.originY=i.skewX=i.skewY=i.rotation=i.anchorX=i.anchorY=0}(),n}(),$s=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function n4(n,i){for(var r=0;r<$s.length;r++){var s=$s[r];n[s]=i[s]}}var o4={};function Rn(n,i){i=i||y;var r=o4[i];r||(r=o4[i]=new By(500));var s=r.get(n);return s==null&&(s=I.measureText(n,i).width,r.put(n,s)),s}function s4(n,i,r,s){var u=Rn(n,i),c=s1(i),p=$y(0,u,r),d=jv(0,c,s),m=new Ve(p,d,u,c);return m}function qy(n,i,r,s){var u=((n||"")+"").split(`
`),c=u.length;if(c===1)return s4(u[0],i,r,s);for(var p=new Ve(0,0,0,0),d=0;d<u.length;d++){var m=s4(u[d],i,r,s);d===0?p.copy(m):p.union(m)}return p}function $y(n,i,r){return r==="right"?n-=i:r==="center"&&(n-=i/2),n}function jv(n,i,r){return r==="middle"?n-=i/2:r==="bottom"&&(n-=i),n}function s1(n){return Rn("\u56FD",n)}function hs(n,i){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*i:parseFloat(n):n}function l1(n,i,r){var s=i.position||"inside",u=i.distance!=null?i.distance:5,c=r.height,p=r.width,d=c/2,m=r.x,_=r.y,S="left",w="top";if(s instanceof Array)m+=hs(s[0],r.width),_+=hs(s[1],r.height),S=null,w=null;else switch(s){case"left":m-=u,_+=d,S="right",w="middle";break;case"right":m+=u+p,_+=d,w="middle";break;case"top":m+=p/2,_-=u,S="center",w="bottom";break;case"bottom":m+=p/2,_+=c+u,S="center";break;case"inside":m+=p/2,_+=d,S="center",w="middle";break;case"insideLeft":m+=u,_+=d,w="middle";break;case"insideRight":m+=p-u,_+=d,S="right",w="middle";break;case"insideTop":m+=p/2,_+=u,S="center";break;case"insideBottom":m+=p/2,_+=c-u,S="center",w="bottom";break;case"insideTopLeft":m+=u,_+=u;break;case"insideTopRight":m+=p-u,_+=u,S="right";break;case"insideBottomLeft":m+=u,_+=c-u,w="bottom";break;case"insideBottomRight":m+=p-u,_+=c-u,S="right",w="bottom";break}return n=n||{},n.x=m,n.y=_,n.align=S,n.verticalAlign=w,n}var _E="__zr_normal__",xE=$s.concat(["ignore"]),pyt=lr($s,function(n,i){return n[i]=!0,n},{ignore:!1}),Jv={},vyt=new Ve(0,0,0,0),u1=function(){function n(i){this.id=ot(),this.animators=[],this.currentStates=[],this.states={},this._init(i)}return n.prototype._init=function(i){this.attr(i)},n.prototype.drift=function(i,r,s){switch(this.draggable){case"horizontal":r=0;break;case"vertical":i=0;break}var u=this.transform;u||(u=this.transform=[1,0,0,1,0,0]),u[4]+=i,u[5]+=r,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(i){var r=this._textContent;if(r&&(!r.ignore||i)){this.textConfig||(this.textConfig={});var s=this.textConfig,u=s.local,c=r.innerTransformable,p=void 0,d=void 0,m=!1;c.parent=u?this:null;var _=!1;if(c.copyTransform(r),s.position!=null){var S=vyt;s.layoutRect?S.copy(s.layoutRect):S.copy(this.getBoundingRect()),u||S.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Jv,s,S):l1(Jv,s,S),c.x=Jv.x,c.y=Jv.y,p=Jv.align,d=Jv.verticalAlign;var w=s.origin;if(w&&s.rotation!=null){var A=void 0,D=void 0;w==="center"?(A=S.width*.5,D=S.height*.5):(A=hs(w[0],S.width),D=hs(w[1],S.height)),_=!0,c.originX=-c.x+A+(u?0:S.x),c.originY=-c.y+D+(u?0:S.y)}}s.rotation!=null&&(c.rotation=s.rotation);var L=s.offset;L&&(c.x+=L[0],c.y+=L[1],_||(c.originX=-L[0],c.originY=-L[1]));var E=s.inside==null?typeof s.position=="string"&&s.position.indexOf("inside")>=0:s.inside,R=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),k=void 0,z=void 0,B=void 0;E&&this.canBeInsideText()?(k=s.insideFill,z=s.insideStroke,(k==null||k==="auto")&&(k=this.getInsideTextFill()),(z==null||z==="auto")&&(z=this.getInsideTextStroke(k),B=!0)):(k=s.outsideFill,z=s.outsideStroke,(k==null||k==="auto")&&(k=this.getOutsideFill()),(z==null||z==="auto")&&(z=this.getOutsideStroke(k),B=!0)),k=k||"#000",(k!==R.fill||z!==R.stroke||B!==R.autoStroke||p!==R.align||d!==R.verticalAlign)&&(m=!0,R.fill=k,R.stroke=z,R.autoStroke=B,R.align=p,R.verticalAlign=d,r.setDefaultTextStyle(R)),r.__dirty|=Pn,m&&r.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(i){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?gE:dE},n.prototype.getOutsideStroke=function(i){var r=this.__zr&&this.__zr.getBackgroundColor(),s=typeof r=="string"&&Oa(r);s||(s=[255,255,255,1]);for(var u=s[3],c=this.__zr.isDarkMode(),p=0;p<3;p++)s[p]=s[p]*u+(c?0:255)*(1-u);return s[3]=1,fs(s,"rgba")},n.prototype.traverse=function(i,r){},n.prototype.attrKV=function(i,r){i==="textConfig"?this.setTextConfig(r):i==="textContent"?this.setTextContent(r):i==="clipPath"?this.setClipPath(r):i==="extra"?(this.extra=this.extra||{},st(this.extra,r)):this[i]=r},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(i,r){if(typeof i=="string")this.attrKV(i,r);else if(re(i))for(var s=i,u=Xt(s),c=0;c<u.length;c++){var p=u[c];this.attrKV(p,i[p])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(i){this._innerSaveToNormal(i);for(var r=this._normalState,s=0;s<this.animators.length;s++){var u=this.animators[s],c=u.__fromStateTransition;if(!(u.getLoop()||c&&c!==_E)){var p=u.targetName,d=p?r[p]:r;u.saveTo(d)}}},n.prototype._innerSaveToNormal=function(i){var r=this._normalState;r||(r=this._normalState={}),i.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(i,r,xE)},n.prototype._savePrimaryToNormal=function(i,r,s){for(var u=0;u<s.length;u++){var c=s[u];i[c]!=null&&!(c in r)&&(r[c]=this[c])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(i){return this.states[i]},n.prototype.ensureState=function(i){var r=this.states;return r[i]||(r[i]={}),r[i]},n.prototype.clearStates=function(i){this.useState(_E,!1,i)},n.prototype.useState=function(i,r,s,u){var c=i===_E,p=this.hasState();if(!(!p&&c)){var d=this.currentStates,m=this.stateTransition;if(!(At(d,i)>=0&&(r||d.length===1))){var _;if(this.stateProxy&&!c&&(_=this.stateProxy(i)),_||(_=this.states&&this.states[i]),!_&&!c){ft("State "+i+" not exists.");return}c||this.saveCurrentToNormalState(_);var S=!!(_&&_.hoverLayer||u);S&&this._toggleHoverLayerFlag(!0),this._applyStateObj(i,_,this._normalState,r,!s&&!this.__inHover&&m&&m.duration>0,m);var w=this._textContent,A=this._textGuide;return w&&w.useState(i,r,s,S),A&&A.useState(i,r,s,S),c?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(i):this.currentStates=[i],this._updateAnimationTargets(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pn),_}}},n.prototype.useStates=function(i,r,s){if(!i.length)this.clearStates();else{var u=[],c=this.currentStates,p=i.length,d=p===c.length;if(d){for(var m=0;m<p;m++)if(i[m]!==c[m]){d=!1;break}}if(d)return;for(var m=0;m<p;m++){var _=i[m],S=void 0;this.stateProxy&&(S=this.stateProxy(_,i)),S||(S=this.states[_]),S&&u.push(S)}var w=u[p-1],A=!!(w&&w.hoverLayer||s);A&&this._toggleHoverLayerFlag(!0);var D=this._mergeStates(u),L=this.stateTransition;this.saveCurrentToNormalState(D),this._applyStateObj(i.join(","),D,this._normalState,!1,!r&&!this.__inHover&&L&&L.duration>0,L);var E=this._textContent,R=this._textGuide;E&&E.useStates(i,r,A),R&&R.useStates(i,r,A),this._updateAnimationTargets(),this.currentStates=i.slice(),this.markRedraw(),!A&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pn)}},n.prototype.isSilent=function(){for(var i=this.silent,r=this.parent;!i&&r;){if(r.silent){i=!0;break}r=r.parent}return i},n.prototype._updateAnimationTargets=function(){for(var i=0;i<this.animators.length;i++){var r=this.animators[i];r.targetName&&r.changeTarget(this[r.targetName])}},n.prototype.removeState=function(i){var r=At(this.currentStates,i);if(r>=0){var s=this.currentStates.slice();s.splice(r,1),this.useStates(s)}},n.prototype.replaceState=function(i,r,s){var u=this.currentStates.slice(),c=At(u,i),p=At(u,r)>=0;c>=0?p?u.splice(c,1):u[c]=r:s&&!p&&u.push(r),this.useStates(u)},n.prototype.toggleState=function(i,r){r?this.useState(i,!0):this.removeState(i)},n.prototype._mergeStates=function(i){for(var r={},s,u=0;u<i.length;u++){var c=i[u];st(r,c),c.textConfig&&(s=s||{},st(s,c.textConfig))}return s&&(r.textConfig=s),r},n.prototype._applyStateObj=function(i,r,s,u,c,p){var d=!(r&&u);r&&r.textConfig?(this.textConfig=st({},u?this.textConfig:s.textConfig),st(this.textConfig,r.textConfig)):d&&s.textConfig&&(this.textConfig=s.textConfig);for(var m={},_=!1,S=0;S<xE.length;S++){var w=xE[S],A=c&&pyt[w];r&&r[w]!=null?A?(_=!0,m[w]=r[w]):this[w]=r[w]:d&&s[w]!=null&&(A?(_=!0,m[w]=s[w]):this[w]=s[w])}if(!c)for(var S=0;S<this.animators.length;S++){var D=this.animators[S],L=D.targetName;D.getLoop()||D.__changeFinalValue(L?(r||s)[L]:r||s)}_&&this._transitionState(i,m,p)},n.prototype._attachComponent=function(i){if(i.__zr&&!i.__hostTarget)throw new Error("Text element has been added to zrender.");if(i===this)throw new Error("Recursive component attachment.");var r=this.__zr;r&&i.addSelfToZr(r),i.__zr=r,i.__hostTarget=this},n.prototype._detachComponent=function(i){i.__zr&&i.removeSelfFromZr(i.__zr),i.__zr=null,i.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(i){this._clipPath&&this._clipPath!==i&&this.removeClipPath(),this._attachComponent(i),this._clipPath=i,this.markRedraw()},n.prototype.removeClipPath=function(){var i=this._clipPath;i&&(this._detachComponent(i),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(i){var r=this._textContent;if(r!==i){if(r&&r!==i&&this.removeTextContent(),i.__zr&&!i.__hostTarget)throw new Error("Text element has been added to zrender.");i.innerTransformable=new $l,this._attachComponent(i),this._textContent=i,this.markRedraw()}},n.prototype.setTextConfig=function(i){this.textConfig||(this.textConfig={}),st(this.textConfig,i),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var i=this._textContent;i&&(i.innerTransformable=null,this._detachComponent(i),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(i){this._textGuide&&this._textGuide!==i&&this.removeTextGuideLine(),this._attachComponent(i),this._textGuide=i,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var i=this._textGuide;i&&(this._detachComponent(i),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Pn;var i=this.__zr;i&&(this.__inHover?i.refreshHover():i.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(i){this.__inHover=i;var r=this._textContent,s=this._textGuide;r&&(r.__inHover=i),s&&(s.__inHover=i)},n.prototype.addSelfToZr=function(i){if(this.__zr!==i){this.__zr=i;var r=this.animators;if(r)for(var s=0;s<r.length;s++)i.animation.addAnimator(r[s]);this._clipPath&&this._clipPath.addSelfToZr(i),this._textContent&&this._textContent.addSelfToZr(i),this._textGuide&&this._textGuide.addSelfToZr(i)}},n.prototype.removeSelfFromZr=function(i){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var s=0;s<r.length;s++)i.animation.removeAnimator(r[s]);this._clipPath&&this._clipPath.removeSelfFromZr(i),this._textContent&&this._textContent.removeSelfFromZr(i),this._textGuide&&this._textGuide.removeSelfFromZr(i)}},n.prototype.animate=function(i,r,s){var u=i?this[i]:this;if(!u){ft('Property "'+i+'" is not existed in element '+this.id);return}var c=new sE(u,r,s);return i&&(c.targetName=i),this.addAnimator(c,i),c},n.prototype.addAnimator=function(i,r){var s=this.__zr,u=this;i.during(function(){u.updateDuringAnimation(r)}).done(function(){var c=u.animators,p=At(c,i);p>=0&&c.splice(p,1)}),this.animators.push(i),s&&s.animation.addAnimator(i),s&&s.wakeUp()},n.prototype.updateDuringAnimation=function(i){this.markRedraw()},n.prototype.stopAnimation=function(i,r){for(var s=this.animators,u=s.length,c=[],p=0;p<u;p++){var d=s[p];!i||i===d.scope?d.stop(r):c.push(d)}return this.animators=c,this},n.prototype.animateTo=function(i,r,s){SE(this,i,r,s)},n.prototype.animateFrom=function(i,r,s){SE(this,i,r,s,!0)},n.prototype._transitionState=function(i,r,s,u){for(var c=SE(this,r,s,u),p=0;p<c.length;p++)c[p].__fromStateTransition=i},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var i=n.prototype;i.type="element",i.name="",i.ignore=i.silent=i.isGroup=i.draggable=i.dragging=i.ignoreClip=i.__inHover=!1,i.__dirty=Pn;var r={};function s(c,p,d){r[c+p+d]||(console.warn("DEPRECATED: '"+c+"' has been deprecated. use '"+p+"', '"+d+"' instead"),r[c+p+d]=!0)}function u(c,p,d,m){Object.defineProperty(i,c,{get:function(){if(s(c,d,m),!this[p]){var S=this[p]=[];_(this,S)}return this[p]},set:function(S){s(c,d,m),this[d]=S[0],this[m]=S[1],this[p]=S,_(this,S)}});function _(S,w){Object.defineProperty(w,0,{get:function(){return S[d]},set:function(A){S[d]=A}}),Object.defineProperty(w,1,{get:function(){return S[m]},set:function(A){S[m]=A}})}}Object.defineProperty&&(u("position","_legacyPos","x","y"),u("scale","_legacyScale","scaleX","scaleY"),u("origin","_legacyOrigin","originX","originY"))}(),n}();qt(u1,oo),qt(u1,$l);function SE(n,i,r,s,u){r=r||{};var c=[];l4(n,"",n,i,r,s,c,u);var p=c.length,d=!1,m=r.done,_=r.aborted,S=function(){d=!0,p--,p<=0&&(d?m&&m():_&&_())},w=function(){p--,p<=0&&(d?m&&m():_&&_())};p||m&&m(),c.length>0&&r.during&&c[0].during(function(L,E){r.during(E)});for(var A=0;A<c.length;A++){var D=c[A];S&&D.done(S),w&&D.aborted(w),r.force&&D.duration(r.duration),D.start(r.easing)}return c}function bE(n,i,r){for(var s=0;s<r;s++)n[s]=i[s]}function dyt(n){return te(n[0])}function gyt(n,i,r){if(te(i[r]))if(te(n[r])||(n[r]=[]),Wr(i[r])){var s=i[r].length;n[r].length!==s&&(n[r]=new i[r].constructor(s),bE(n[r],i[r],s))}else{var u=i[r],c=n[r],p=u.length;if(dyt(u))for(var d=u[0].length,m=0;m<p;m++)c[m]?bE(c[m],u[m],d):c[m]=Array.prototype.slice.call(u[m]);else bE(c,u,p);c.length=u.length}else n[r]=i[r]}function myt(n,i){return n===i||te(n)&&te(i)&&yyt(n,i)}function yyt(n,i){var r=n.length;if(r!==i.length)return!1;for(var s=0;s<r;s++)if(n[s]!==i[s])return!1;return!0}function l4(n,i,r,s,u,c,p,d){for(var m=Xt(s),_=u.duration,S=u.delay,w=u.additive,A=u.setToFinal,D=!re(c),L=n.animators,E=[],R=0;R<m.length;R++){var k=m[R],z=s[k];if(z!=null&&r[k]!=null&&(D||c[k]))if(re(z)&&!te(z)&&!Hl(z)){if(i){d||(r[k]=z,n.updateDuringAnimation(i));continue}l4(n,k,r[k],z,u,c&&c[k],p,d)}else E.push(k);else d||(r[k]=z,n.updateDuringAnimation(i),E.push(k))}var B=E.length;if(!w&&B)for(var G=0;G<L.length;G++){var W=L[G];if(W.targetName===i){var Y=W.stopTracks(E);if(Y){var q=At(L,W);L.splice(q,1)}}}if(u.force||(E=jt(E,function(it){return!myt(s[it],r[it])}),B=E.length),B>0||u.force&&!p.length){var J=void 0,tt=void 0,et=void 0;if(d){tt={},A&&(J={});for(var G=0;G<B;G++){var k=E[G];tt[k]=r[k],A?J[k]=s[k]:r[k]=s[k]}}else if(A){et={};for(var G=0;G<B;G++){var k=E[G];et[k]=Yy(r[k]),gyt(r,s,k)}}var W=new sE(r,!1,!1,w?jt(L,function(ut){return ut.targetName===i}):null);W.targetName=i,u.scope&&(W.scope=u.scope),A&&J&&W.whenWithKeys(0,J,E),et&&W.whenWithKeys(0,et,E),W.whenWithKeys(_??500,d?tt:s,E).delay(S||0),n.addAnimator(W,i),p.push(W)}}var Te=function(n){e(i,n);function i(r){var s=n.call(this)||this;return s.isGroup=!0,s._children=[],s.attr(r),s}return i.prototype.childrenRef=function(){return this._children},i.prototype.children=function(){return this._children.slice()},i.prototype.childAt=function(r){return this._children[r]},i.prototype.childOfName=function(r){for(var s=this._children,u=0;u<s.length;u++)if(s[u].name===r)return s[u]},i.prototype.childCount=function(){return this._children.length},i.prototype.add=function(r){if(r&&(r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),r.__hostTarget))throw"This elemenet has been used as an attachment";return this},i.prototype.addBefore=function(r,s){if(r&&r!==this&&r.parent!==this&&s&&s.parent===this){var u=this._children,c=u.indexOf(s);c>=0&&(u.splice(c,0,r),this._doAdd(r))}return this},i.prototype.replace=function(r,s){var u=At(this._children,r);return u>=0&&this.replaceAt(s,u),this},i.prototype.replaceAt=function(r,s){var u=this._children,c=u[s];if(r&&r!==this&&r.parent!==this&&r!==c){u[s]=r,c.parent=null;var p=this.__zr;p&&c.removeSelfFromZr(p),this._doAdd(r)}return this},i.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var s=this.__zr;s&&s!==r.__zr&&r.addSelfToZr(s),s&&s.refresh()},i.prototype.remove=function(r){var s=this.__zr,u=this._children,c=At(u,r);return c<0?this:(u.splice(c,1),r.parent=null,s&&r.removeSelfFromZr(s),s&&s.refresh(),this)},i.prototype.removeAll=function(){for(var r=this._children,s=this.__zr,u=0;u<r.length;u++){var c=r[u];s&&c.removeSelfFromZr(s),c.parent=null}return r.length=0,this},i.prototype.eachChild=function(r,s){for(var u=this._children,c=0;c<u.length;c++){var p=u[c];r.call(s,p,c)}return this},i.prototype.traverse=function(r,s){for(var u=0;u<this._children.length;u++){var c=this._children[u],p=r.call(s,c);c.isGroup&&!p&&c.traverse(r,s)}return this},i.prototype.addSelfToZr=function(r){n.prototype.addSelfToZr.call(this,r);for(var s=0;s<this._children.length;s++){var u=this._children[s];u.addSelfToZr(r)}},i.prototype.removeSelfFromZr=function(r){n.prototype.removeSelfFromZr.call(this,r);for(var s=0;s<this._children.length;s++){var u=this._children[s];u.removeSelfFromZr(r)}},i.prototype.getBoundingRect=function(r){for(var s=new Ve(0,0,0,0),u=r||this._children,c=[],p=null,d=0;d<u.length;d++){var m=u[d];if(!(m.ignore||m.invisible)){var _=m.getBoundingRect(),S=m.getLocalTransform(c);S?(Ve.applyTransform(s,_,S),p=p||s.clone(),p.union(s)):(p=p||_.clone(),p.union(_))}}return p||s},i}(u1);Te.prototype.type="group";var Ky={},ah={};function _yt(n){delete ah[n]}function xyt(n){if(!n)return!1;if(typeof n=="string")return Hy(n,1)<vE;if(n.colorStops){for(var i=n.colorStops,r=0,s=i.length,u=0;u<s;u++)r+=Hy(i[u].color,1);return r/=s,r<vE}return!1}var Syt=function(){function n(i,r,s){var u=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,s=s||{},this.dom=r,this.id=i;var c=new Pmt,p=s.renderer||"canvas";if(Ky[p]||(p=Xt(Ky)[0]),!Ky[p])throw new Error("Renderer '"+p+"' is not imported. Please import it first.");s.useDirtyRect=s.useDirtyRect==null?!1:s.useDirtyRect;var d=new Ky[p](r,c,s,i),m=s.ssr||d.ssrOnly;this.storage=c,this.painter=d;var _=!f.node&&!f.worker&&!m?new cyt(d.getViewportRoot(),d.root):null,S=s.useCoarsePointer,w=S==null||S==="auto"?f.touchEventsSupported:!!S,A=44,D;w&&(D=De(s.pointerSize,A)),this.handler=new xW(c,d,_,d.root,D),this.animation=new ayt({stage:{update:m?null:function(){return u._flush(!0)}}}),m||this.animation.start()}return n.prototype.add=function(i){this._disposed||!i||(this.storage.addRoot(i),i.addSelfToZr(this),this.refresh())},n.prototype.remove=function(i){this._disposed||!i||(this.storage.delRoot(i),i.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(i,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(i,r),this.refresh())},n.prototype.setBackgroundColor=function(i){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(i),this.refresh(),this._backgroundColor=i,this._darkMode=xyt(i))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(i){this._darkMode=i},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(i){this._disposed||(i||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(i){var r,s=$v();this._needsRefresh&&(r=!0,this.refreshImmediately(i)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var u=$v();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:u-s})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(i){this._sleepAfterStill=i},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(i){this._disposed||(i=i||{},this.painter.resize(i.width,i.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(i){this._disposed||this.handler.setCursorStyle(i)},n.prototype.findHover=function(i,r){if(!this._disposed)return this.handler.findHover(i,r)},n.prototype.on=function(i,r,s){return this._disposed||this.handler.on(i,r,s),this},n.prototype.off=function(i,r){this._disposed||this.handler.off(i,r)},n.prototype.trigger=function(i,r){this._disposed||this.handler.trigger(i,r)},n.prototype.clear=function(){if(!this._disposed){for(var i=this.storage.getRoots(),r=0;r<i.length;r++)i[r]instanceof Te&&i[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,_yt(this.id))},n}();function wE(n,i){var r=new Syt(ot(),n,i);return ah[r.id]=r,r}function byt(n){n.dispose()}function wyt(){for(var n in ah)ah.hasOwnProperty(n)&&ah[n].dispose();ah={}}function Tyt(n){return ah[n]}function u4(n,i){Ky[n]=i}var TE;function f4(n){if(typeof TE=="function")return TE(n)}function c4(n){TE=n}var Ayt="5.6.1",Cyt=Object.freeze({__proto__:null,init:wE,dispose:byt,disposeAll:wyt,getInstance:Tyt,registerPainter:u4,getElementSSRData:f4,registerSSRDataGetter:c4,version:Ayt}),h4=1e-4,p4=20;function Dyt(n){return n.replace(/^\s+|\s+$/g,"")}function ur(n,i,r,s){var u=i[0],c=i[1],p=r[0],d=r[1],m=c-u,_=d-p;if(m===0)return _===0?p:(p+d)/2;if(s)if(m>0){if(n<=u)return p;if(n>=c)return d}else{if(n>=u)return p;if(n<=c)return d}else{if(n===u)return p;if(n===c)return d}return(n-u)/m*_+p}function Wt(n,i){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return kt(n)?Dyt(n).match(/%$/)?parseFloat(n)/100*i:parseFloat(n):n==null?NaN:+n}function Kr(n,i,r){return i==null&&(i=10),i=Math.min(Math.max(0,i),p4),n=(+n).toFixed(i),r?n:+n}function On(n){return n.sort(function(i,r){return i-r}),n}function ps(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var i=1,r=0;r<15;r++,i*=10)if(Math.round(n*i)/i===n)return r}return f1(n)}function f1(n){var i=n.toString().toLowerCase(),r=i.indexOf("e"),s=r>0?+i.slice(r+1):0,u=r>0?r:i.length,c=i.indexOf("."),p=c<0?0:u-1-c;return Math.max(0,p-s)}function AE(n,i){var r=Math.log,s=Math.LN10,u=Math.floor(r(n[1]-n[0])/s),c=Math.round(r(Math.abs(i[1]-i[0]))/s),p=Math.min(Math.max(-u+c,0),20);return isFinite(p)?p:20}function Myt(n,i,r){if(!n[i])return 0;var s=v4(n,r);return s[i]||0}function v4(n,i){var r=lr(n,function(D,L){return D+(isNaN(L)?0:L)},0);if(r===0)return[];for(var s=Math.pow(10,i),u=Tt(n,function(D){return(isNaN(D)?0:D)/r*s*100}),c=s*100,p=Tt(u,function(D){return Math.floor(D)}),d=lr(p,function(D,L){return D+L},0),m=Tt(u,function(D,L){return D-p[L]});d<c;){for(var _=Number.NEGATIVE_INFINITY,S=null,w=0,A=m.length;w<A;++w)m[w]>_&&(_=m[w],S=w);++p[S],m[S]=0,++d}return Tt(p,function(D){return D/s})}function Lyt(n,i){var r=Math.max(ps(n),ps(i)),s=n+i;return r>p4?s:Kr(s,r)}var CE=9007199254740991;function DE(n){var i=Math.PI*2;return(n%i+i)%i}function Qv(n){return n>-h4&&n<h4}var Iyt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function kn(n){if(n instanceof Date)return n;if(kt(n)){var i=Iyt.exec(n);if(!i)return new Date(NaN);if(i[8]){var r=+i[4]||0;return i[8].toUpperCase()!=="Z"&&(r-=+i[8].slice(0,3)),new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,r,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0))}else return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function d4(n){return Math.pow(10,jy(n))}function jy(n){if(n===0)return 0;var i=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,i)>=10&&i++,i}function ME(n,i){var r=jy(n),s=Math.pow(10,r),u=n/s,c;return i?u<1.5?c=1:u<2.5?c=2:u<4?c=3:u<7?c=5:c=10:u<1?c=1:u<2?c=2:u<3?c=3:u<5?c=5:c=10,n=c*s,r>=-20?+n.toFixed(r<0?-r:0):n}function c1(n,i){var r=(n.length-1)*i+1,s=Math.floor(r),u=+n[s-1],c=r-s;return c?u+c*(n[s]-u):u}function LE(n){n.sort(function(m,_){return d(m,_,0)?-1:1});for(var i=-1/0,r=1,s=0;s<n.length;){for(var u=n[s].interval,c=n[s].close,p=0;p<2;p++)u[p]<=i&&(u[p]=i,c[p]=p?1:1-r),i=u[p],r=c[p];u[0]===u[1]&&c[0]*c[1]!==1?n.splice(s,1):s++}return n;function d(m,_,S){return m.interval[S]<_.interval[S]||m.interval[S]===_.interval[S]&&(m.close[S]-_.close[S]===(S?-1:1)||!S&&d(m,_,1))}}function Ks(n){var i=parseFloat(n);return i==n&&(i!==0||!kt(n)||n.indexOf("x")<=0)?i:NaN}function h1(n){return!isNaN(Ks(n))}function g4(){return Math.round(Math.random()*9)}function m4(n,i){return i===0?n:m4(i,n%i)}function y4(n,i){return n==null?i:i==null?n:n*i/m4(n,i)}var Eyt="[ECharts] ",_4={},Pyt=typeof console<"u"&&console.warn&&console.log;function p1(n,i,r){if(Pyt){if(r){if(_4[i])return;_4[i]=!0}console[n](Eyt+i)}}function Ryt(n,i){p1("log",n,i)}function Yr(n,i){p1("warn",n,i)}function ea(n,i){p1("error",n,i)}function fo(n){p1("warn","DEPRECATED: "+n,!0)}function si(n,i,r){fo((r?"["+r+"]":"")+(n+" is deprecated, use "+i+" instead."))}function ka(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r="",s=function(u){return u===void 0?"undefined":u===1/0?"Infinity":u===-1/0?"-Infinity":tf(u)?"NaN":u instanceof Date?"Date("+u.toISOString()+")":Gt(u)?"function () { ... }":EI(u)?u+"":null};return r=Tt(n,function(u){if(kt(u))return u;var c=s(u);if(c!=null)return c;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(u,function(p,d){var m=s(d);return m??d})}catch{return"?"}else return"?"}).join(" "),r}function fr(n){throw new Error(n)}function x4(n,i,r){return(i-n)*r+n}var S4="series\0",b4="\0_ec_\0";function xr(n){return n instanceof Array?n:n==null?[]:[n]}function nh(n,i,r){if(n){n[i]=n[i]||{},n.emphasis=n.emphasis||{},n.emphasis[i]=n.emphasis[i]||{};for(var s=0,u=r.length;s<u;s++){var c=r[s];!n.emphasis[i].hasOwnProperty(c)&&n[i].hasOwnProperty(c)&&(n.emphasis[i][c]=n[i][c])}}}var w4=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function td(n){return re(n)&&!wt(n)&&!(n instanceof Date)?n.value:n}function Oyt(n){return re(n)&&!(n instanceof Array)}function T4(n,i,r){var s=r==="normalMerge",u=r==="replaceMerge",c=r==="replaceAll";n=n||[],i=(i||[]).slice();var p=le();j(i,function(m,_){if(!re(m)){i[_]=null;return}m.id!=null&&!D4(m.id)&&C4(m.id),m.name!=null&&!D4(m.name)&&C4(m.name)});var d=kyt(n,p,r);return(s||u)&&Nyt(d,n,p,i),s&&zyt(d,i),s||u?Vyt(d,i,u):c&&Byt(d,i),Fyt(d),d}function kyt(n,i,r){var s=[];if(r==="replaceAll")return s;for(var u=0;u<n.length;u++){var c=n[u];c&&c.id!=null&&i.set(c.id,u),s.push({existing:r==="replaceMerge"||ed(c)?null:c,newOption:null,keyInfo:null,brandNew:null})}return s}function Nyt(n,i,r,s){j(s,function(u,c){if(!(!u||u.id==null)){var p=Jy(u.id),d=r.get(p);if(d!=null){var m=n[d];de(!m.newOption,'Duplicated option on id "'+p+'".'),m.newOption=u,m.existing=i[d],s[c]=null}}})}function zyt(n,i){j(i,function(r,s){if(!(!r||r.name==null))for(var u=0;u<n.length;u++){var c=n[u].existing;if(!n[u].newOption&&c&&(c.id==null||r.id==null)&&!ed(r)&&!ed(c)&&A4("name",c,r)){n[u].newOption=r,i[s]=null;return}}})}function Vyt(n,i,r){j(i,function(s){if(s){for(var u,c=0;(u=n[c])&&(u.newOption||ed(u.existing)||u.existing&&s.id!=null&&!A4("id",s,u.existing));)c++;u?(u.newOption=s,u.brandNew=r):n.push({newOption:s,brandNew:r,existing:null,keyInfo:null}),c++}})}function Byt(n,i){j(i,function(r){n.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Fyt(n){var i=le();j(n,function(r){var s=r.existing;s&&i.set(s.id,r)}),j(n,function(r){var s=r.newOption;de(!s||s.id==null||!i.get(s.id)||i.get(s.id)===r,"id duplicates: "+(s&&s.id)),s&&s.id!=null&&i.set(s.id,r),!r.keyInfo&&(r.keyInfo={})}),j(n,function(r,s){var u=r.existing,c=r.newOption,p=r.keyInfo;if(re(c)){if(p.name=c.name!=null?Jy(c.name):u?u.name:S4+s,u)p.id=Jy(u.id);else if(c.id!=null)p.id=Jy(c.id);else{var d=0;do p.id="\0"+p.name+"\0"+d++;while(i.get(p.id))}i.set(p.id,r)}})}function A4(n,i,r){var s=wi(i[n],null),u=wi(r[n],null);return s!=null&&u!=null&&s===u}function Jy(n){if(n==null)throw new Error;return wi(n,"")}function wi(n,i){return n==null?i:kt(n)?n:Ne(n)||Hr(n)?n+"":i}function C4(n){Yr("`"+n+"` is invalid id or name. Must be a string or number.")}function D4(n){return Hr(n)||h1(n)}function IE(n){var i=n.name;return!!(i&&i.indexOf(S4))}function ed(n){return n&&n.id!=null&&Jy(n.id).indexOf(b4)===0}function Uyt(n){return b4+n}function Gyt(n,i,r){j(n,function(s){var u=s.newOption;re(u)&&(s.keyInfo.mainType=i,s.keyInfo.subType=Hyt(i,u,s.existing,r))})}function Hyt(n,i,r,s){var u=i.type?i.type:r?r.subType:s.determineSubType(n,i);return u}function Wyt(n,i){var r={},s={};return u(n||[],r),u(i||[],s,r),[c(r),c(s)];function u(p,d,m){for(var _=0,S=p.length;_<S;_++){var w=wi(p[_].seriesId,null);if(w==null)return;for(var A=xr(p[_].dataIndex),D=m&&m[w],L=0,E=A.length;L<E;L++){var R=A[L];D&&D[R]?D[R]=null:(d[w]||(d[w]={}))[R]=1}}}function c(p,d){var m=[];for(var _ in p)if(p.hasOwnProperty(_)&&p[_]!=null)if(d)m.push(+_);else{var S=c(p[_],!0);S.length&&m.push({seriesId:_,dataIndex:S})}return m}}function oh(n,i){if(i.dataIndexInside!=null)return i.dataIndexInside;if(i.dataIndex!=null)return wt(i.dataIndex)?Tt(i.dataIndex,function(r){return n.indexOfRawIndex(r)}):n.indexOfRawIndex(i.dataIndex);if(i.name!=null)return wt(i.name)?Tt(i.name,function(r){return n.indexOfName(r)}):n.indexOfName(i.name)}function rr(){var n="__ec_inner_"+Yyt++;return function(i){return i[n]||(i[n]={})}}var Yyt=g4();function Qy(n,i,r){var s=EE(i,r),u=s.mainTypeSpecified,c=s.queryOptionMap,p=s.others,d=p,m=r?r.defaultMainType:null;return!u&&m&&c.set(m,{}),c.each(function(_,S){var w=t0(n,S,_,{useDefault:m===S,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});d[S+"Models"]=w.models,d[S+"Model"]=w.models[0]}),d}function EE(n,i){var r;if(kt(n)){var s={};s[n+"Index"]=0,r=s}else r=n;var u=le(),c={},p=!1;return j(r,function(d,m){if(m==="dataIndex"||m==="dataIndexInside"){c[m]=d;return}var _=m.match(/^(\w+)(Index|Id|Name)$/)||[],S=_[1],w=(_[2]||"").toLowerCase();if(!(!S||!w||i&&i.includeMainTypes&&At(i.includeMainTypes,S)<0)){p=p||!!S;var A=u.get(S)||u.set(S,{});A[w]=d}}),{mainTypeSpecified:p,queryOptionMap:u,others:c}}var mi={useDefault:!0,enableAll:!1,enableNone:!1},Zyt={useDefault:!1,enableAll:!0,enableNone:!0};function t0(n,i,r,s){s=s||mi;var u=r.index,c=r.id,p=r.name,d={models:null,specified:u!=null||c!=null||p!=null};if(!d.specified){var m=void 0;return d.models=s.useDefault&&(m=n.getComponent(i))?[m]:[],d}return u==="none"||u===!1?(de(s.enableNone,'`"none"` or `false` is not a valid value on index option.'),d.models=[],d):(u==="all"&&(de(s.enableAll,'`"all"` is not a valid value on index option.'),u=c=p=null),d.models=n.queryComponents({mainType:i,index:u,id:c,name:p}),d)}function M4(n,i,r){n.setAttribute?n.setAttribute(i,r):n[i]=r}function Xyt(n,i){return n.getAttribute?n.getAttribute(i):n[i]}function qyt(n){return n==="auto"?f.domSupported?"html":"richText":n||"html"}function PE(n,i){var r=le(),s=[];return j(n,function(u){var c=i(u);(r.get(c)||(s.push(c),r.set(c,[]))).push(u)}),{keys:s,buckets:r}}function L4(n,i,r,s,u){var c=i==null||i==="auto";if(s==null)return s;if(Ne(s)){var p=x4(r||0,s,u);return Kr(p,c?Math.max(ps(r||0),ps(s)):i)}else{if(kt(s))return u<1?r:s;for(var d=[],m=r,_=s,S=Math.max(m?m.length:0,_.length),w=0;w<S;++w){var A=n.getDimensionInfo(w);if(A&&A.type==="ordinal")d[w]=(u<1&&m?m:_)[w];else{var D=m&&m[w]?m[w]:0,L=_[w],p=x4(D,L,u);d[w]=Kr(p,c?Math.max(ps(D),ps(L)):i)}}return d}}var $yt=".",sh="___EC__COMPONENT__CONTAINER___",I4="___EC__EXTENDED_CLASS___";function js(n){var i={main:"",sub:""};if(n){var r=n.split($yt);i.main=r[0]||"",i.sub=r[1]||""}return i}function Kyt(n){de(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function jyt(n){return!!(n&&n[I4])}function RE(n,i){n.$constructor=n,n.extend=function(r){j(i,function(c){r[c]||console.warn("Method `"+c+"` should be implemented"+(r.type?" in "+r.type:"")+".")});var s=this,u;return Jyt(s)?u=function(c){e(p,c);function p(){return c.apply(this,arguments)||this}return p}(s):(u=function(){(r.$constructor||s).apply(this,arguments)},Zt(u,this)),st(u.prototype,r),u[I4]=!0,u.extend=this.extend,u.superCall=e0t,u.superApply=r0t,u.superClass=s,u}}function Jyt(n){return Gt(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function E4(n,i){n.extend=i.extend}var Qyt=Math.round(Math.random()*10);function t0t(n){var i=["__\0is_clz",Qyt++].join("_");n.prototype[i]=!0,de(!n.isInstance,'The method "is" can not be defined.'),n.isInstance=function(r){return!!(r&&r[i])}}function e0t(n,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return this.superClass.prototype[i].apply(n,r)}function r0t(n,i,r){return this.superClass.prototype[i].apply(n,r)}function v1(n){var i={};n.registerClass=function(s){var u=s.type||s.prototype.type;if(u){Kyt(u),s.prototype.type=u;var c=js(u);if(!c.sub)i[c.main]&&console.warn(c.main+" exists."),i[c.main]=s;else if(c.sub!==sh){var p=r(c);p[c.sub]=s}}return s},n.getClass=function(s,u,c){var p=i[s];if(p&&p[sh]&&(p=u?p[u]:null),c&&!p)throw new Error(u?"Component "+s+"."+(u||"")+" is used but not imported.":s+".type should be specified.");return p},n.getClassesByMainType=function(s){var u=js(s),c=[],p=i[u.main];return p&&p[sh]?j(p,function(d,m){m!==sh&&c.push(d)}):c.push(p),c},n.hasClass=function(s){var u=js(s);return!!i[u.main]},n.getAllClassMainTypes=function(){var s=[];return j(i,function(u,c){s.push(c)}),s},n.hasSubTypes=function(s){var u=js(s),c=i[u.main];return c&&c[sh]};function r(s){var u=i[s.main];return(!u||!u[sh])&&(u=i[s.main]={},u[sh]=!0),u}}function lh(n,i){for(var r=0;r<n.length;r++)n[r][1]||(n[r][1]=n[r][0]);return i=i||!1,function(s,u,c){for(var p={},d=0;d<n.length;d++){var m=n[d][1];if(!(u&&At(u,m)>=0||c&&At(c,m)<0)){var _=s.getShallow(m,i);_!=null&&(p[n[d][0]]=_)}}return p}}var i0t=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],a0t=lh(i0t),n0t=function(){function n(){}return n.prototype.getAreaStyle=function(i,r){return a0t(this,i,r)},n}(),OE=new By(50);function o0t(n){if(typeof n=="string"){var i=OE.get(n);return i&&i.image}else return n}function kE(n,i,r,s,u){if(n)if(typeof n=="string"){if(i&&i.__zrImageSrc===n||!r)return i;var c=OE.get(n),p={hostEl:r,cb:s,cbPayload:u};return c?(i=c.image,!d1(i)&&c.pending.push(p)):(i=I.loadImage(n,P4,P4),i.__zrImageSrc=n,OE.put(n,i.__cachedImgObj={image:i,pending:[p]})),i}else return n;else return i}function P4(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<n.pending.length;i++){var r=n.pending[i],s=r.cb;s&&s(this,r.cbPayload),r.hostEl.dirty()}n.pending.length=0}function d1(n){return n&&n.width&&n.height}var NE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function s0t(n,i,r,s,u){var c={};return R4(c,n,i,r,s,u),c.text}function R4(n,i,r,s,u,c){if(!r){n.text="",n.isTruncated=!1;return}var p=(i+"").split(`
`);c=O4(r,s,u,c);for(var d=!1,m={},_=0,S=p.length;_<S;_++)k4(m,p[_],c),p[_]=m.textLine,d=d||m.isTruncated;n.text=p.join(`
`),n.isTruncated=d}function O4(n,i,r,s){s=s||{};var u=st({},s);u.font=i,r=De(r,"..."),u.maxIterations=De(s.maxIterations,2);var c=u.minChar=De(s.minChar,0);u.cnCharWidth=Rn("\u56FD",i);var p=u.ascCharWidth=Rn("a",i);u.placeholder=De(s.placeholder,"");for(var d=n=Math.max(0,n-1),m=0;m<c&&d>=p;m++)d-=p;var _=Rn(r,i);return _>d&&(r="",_=0),d=n-_,u.ellipsis=r,u.ellipsisWidth=_,u.contentWidth=d,u.containerWidth=n,u}function k4(n,i,r){var s=r.containerWidth,u=r.font,c=r.contentWidth;if(!s){n.textLine="",n.isTruncated=!1;return}var p=Rn(i,u);if(p<=s){n.textLine=i,n.isTruncated=!1;return}for(var d=0;;d++){if(p<=c||d>=r.maxIterations){i+=r.ellipsis;break}var m=d===0?l0t(i,c,r.ascCharWidth,r.cnCharWidth):p>0?Math.floor(i.length*c/p):0;i=i.substr(0,m),p=Rn(i,u)}i===""&&(i=r.placeholder),n.textLine=i,n.isTruncated=!0}function l0t(n,i,r,s){for(var u=0,c=0,p=n.length;c<p&&u<i;c++){var d=n.charCodeAt(c);u+=0<=d&&d<=127?r:s}return c}function u0t(n,i){n!=null&&(n+="");var r=i.overflow,s=i.padding,u=i.font,c=r==="truncate",p=s1(u),d=De(i.lineHeight,p),m=!!i.backgroundColor,_=i.lineOverflow==="truncate",S=!1,w=i.width,A;w!=null&&(r==="break"||r==="breakAll")?A=n?z4(n,i.font,w,r==="breakAll",0).lines:[]:A=n?n.split(`
`):[];var D=A.length*d,L=De(i.height,D);if(D>L&&_){var E=Math.floor(L/d);S=S||A.length>E,A=A.slice(0,E)}if(n&&c&&w!=null)for(var R=O4(w,u,i.ellipsis,{minChar:i.truncateMinChar,placeholder:i.placeholder}),k={},z=0;z<A.length;z++)k4(k,A[z],R),A[z]=k.textLine,S=S||k.isTruncated;for(var B=L,G=0,z=0;z<A.length;z++)G=Math.max(Rn(A[z],u),G);w==null&&(w=G);var W=G;return s&&(B+=s[0]+s[2],W+=s[1]+s[3],w+=s[1]+s[3]),m&&(W=w),{lines:A,height:L,outerWidth:W,outerHeight:B,lineHeight:d,calculatedLineHeight:p,contentWidth:G,contentHeight:D,width:w,isTruncated:S}}var f0t=function(){function n(){}return n}(),N4=function(){function n(i){this.tokens=[],i&&(this.tokens=i)}return n}(),c0t=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n}();function h0t(n,i){var r=new c0t;if(n!=null&&(n+=""),!n)return r;for(var s=i.width,u=i.height,c=i.overflow,p=(c==="break"||c==="breakAll")&&s!=null?{width:s,accumWidth:0,breakAll:c==="breakAll"}:null,d=NE.lastIndex=0,m;(m=NE.exec(n))!=null;){var _=m.index;_>d&&zE(r,n.substring(d,_),i,p),zE(r,m[2],i,p,m[1]),d=NE.lastIndex}d<n.length&&zE(r,n.substring(d,n.length),i,p);var S=[],w=0,A=0,D=i.padding,L=c==="truncate",E=i.lineOverflow==="truncate",R={};function k(Ot,Vt,$t){Ot.width=Vt,Ot.lineHeight=$t,w+=$t,A=Math.max(A,Vt)}t:for(var z=0;z<r.lines.length;z++){for(var B=r.lines[z],G=0,W=0,Y=0;Y<B.tokens.length;Y++){var q=B.tokens[Y],J=q.styleName&&i.rich[q.styleName]||{},tt=q.textPadding=J.padding,et=tt?tt[1]+tt[3]:0,it=q.font=J.font||i.font;q.contentHeight=s1(it);var ut=De(J.height,q.contentHeight);if(q.innerHeight=ut,tt&&(ut+=tt[0]+tt[2]),q.height=ut,q.lineHeight=En(J.lineHeight,i.lineHeight,ut),q.align=J&&J.align||i.align,q.verticalAlign=J&&J.verticalAlign||"middle",E&&u!=null&&w+q.lineHeight>u){var ct=r.lines.length;Y>0?(B.tokens=B.tokens.slice(0,Y),k(B,W,G),r.lines=r.lines.slice(0,z+1)):r.lines=r.lines.slice(0,z),r.isTruncated=r.isTruncated||r.lines.length<ct;break t}var ht=J.width,vt=ht==null||ht==="auto";if(typeof ht=="string"&&ht.charAt(ht.length-1)==="%")q.percentWidth=ht,S.push(q),q.contentWidth=Rn(q.text,it);else{if(vt){var gt=J.backgroundColor,bt=gt&&gt.image;bt&&(bt=o0t(bt),d1(bt)&&(q.width=Math.max(q.width,bt.width*ut/bt.height)))}var St=L&&s!=null?s-W:null;St!=null&&St<q.width?!vt||St<et?(q.text="",q.width=q.contentWidth=0):(R4(R,q.text,St-et,it,i.ellipsis,{minChar:i.truncateMinChar}),q.text=R.text,r.isTruncated=r.isTruncated||R.isTruncated,q.width=q.contentWidth=Rn(q.text,it)):q.contentWidth=Rn(q.text,it)}q.width+=et,W+=q.width,J&&(G=Math.max(G,q.lineHeight))}k(B,W,G)}r.outerWidth=r.width=De(s,A),r.outerHeight=r.height=De(u,w),r.contentHeight=w,r.contentWidth=A,D&&(r.outerWidth+=D[1]+D[3],r.outerHeight+=D[0]+D[2]);for(var z=0;z<S.length;z++){var q=S[z],Ct=q.percentWidth;q.width=parseInt(Ct,10)/100*r.width}return r}function zE(n,i,r,s,u){var c=i==="",p=u&&r.rich[u]||{},d=n.lines,m=p.font||r.font,_=!1,S,w;if(s){var A=p.padding,D=A?A[1]+A[3]:0;if(p.width!=null&&p.width!=="auto"){var L=hs(p.width,s.width)+D;d.length>0&&L+s.accumWidth>s.width&&(S=i.split(`
`),_=!0),s.accumWidth=L}else{var E=z4(i,m,s.width,s.breakAll,s.accumWidth);s.accumWidth=E.accumWidth+D,w=E.linesWidths,S=E.lines}}else S=i.split(`
`);for(var R=0;R<S.length;R++){var k=S[R],z=new f0t;if(z.styleName=u,z.text=k,z.isLineHolder=!k&&!c,typeof p.width=="number"?z.width=p.width:z.width=w?w[R]:Rn(k,m),!R&&!_){var B=(d[d.length-1]||(d[0]=new N4)).tokens,G=B.length;G===1&&B[0].isLineHolder?B[0]=z:(k||!G||c)&&B.push(z)}else d.push(new N4([z]))}}function p0t(n){var i=n.charCodeAt(0);return i>=32&&i<=591||i>=880&&i<=4351||i>=4608&&i<=5119||i>=7680&&i<=8303}var v0t=lr(",&?/;] ".split(""),function(n,i){return n[i]=!0,n},{});function d0t(n){return p0t(n)?!!v0t[n]:!0}function z4(n,i,r,s,u){for(var c=[],p=[],d="",m="",_=0,S=0,w=0;w<n.length;w++){var A=n.charAt(w);if(A===`
`){m&&(d+=m,S+=_),c.push(d),p.push(S),d="",m="",_=0,S=0;continue}var D=Rn(A,i),L=s?!1:!d0t(A);if(c.length?S+D>r:u+S+D>r){S?(d||m)&&(L?(d||(d=m,m="",_=0,S=_),c.push(d),p.push(S-_),m+=A,_+=D,d="",S=_):(m&&(d+=m,m="",_=0),c.push(d),p.push(S),d=A,S=D)):L?(c.push(m),p.push(_),m=A,_=D):(c.push(A),p.push(D));continue}S+=D,L?(m+=A,_+=D):(m&&(d+=m,m="",_=0),d+=A)}return!c.length&&!d&&(d=n,m="",_=0),m&&(d+=m),d&&(c.push(d),p.push(S)),c.length===1&&(S+=u),{accumWidth:S,lines:c,linesWidths:p}}var VE="__zr_style_"+Math.round(Math.random()*10),uh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},g1={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};uh[VE]=!0;var V4=["z","z2","invisible"],g0t=["invisible"],co=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype._init=function(r){for(var s=Xt(r),u=0;u<s.length;u++){var c=s[u];c==="style"?this.useStyle(r[c]):n.prototype.attrKV.call(this,c,r[c])}this.style||this.useStyle({})},i.prototype.beforeBrush=function(){},i.prototype.afterBrush=function(){},i.prototype.innerBeforeBrush=function(){},i.prototype.innerAfterBrush=function(){},i.prototype.shouldBePainted=function(r,s,u,c){var p=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&m0t(this,r,s)||p&&!p[0]&&!p[3])return!1;if(u&&this.__clipPaths){for(var d=0;d<this.__clipPaths.length;++d)if(this.__clipPaths[d].isZeroArea())return!1}if(c&&this.parent)for(var m=this.parent;m;){if(m.ignore)return!1;m=m.parent}return!0},i.prototype.contain=function(r,s){return this.rectContain(r,s)},i.prototype.traverse=function(r,s){r.call(s,this)},i.prototype.rectContain=function(r,s){var u=this.transformCoordToLocal(r,s),c=this.getBoundingRect();return c.contain(u[0],u[1])},i.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var s=this.transform,u=this.getBoundingRect(),c=this.style,p=c.shadowBlur||0,d=c.shadowOffsetX||0,m=c.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Ve(0,0,0,0)),s?Ve.applyTransform(r,u,s):r.copy(u),(p||d||m)&&(r.width+=p*2+Math.abs(d),r.height+=p*2+Math.abs(m),r.x=Math.min(r.x,r.x+d-p),r.y=Math.min(r.y,r.y+m-p));var _=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-_),r.y=Math.floor(r.y-_),r.width=Math.ceil(r.width+1+_*2),r.height=Math.ceil(r.height+1+_*2))}return r},i.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Ve(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},i.prototype.getPrevPaintRect=function(){return this._prevPaintRect},i.prototype.animateStyle=function(r){return this.animate("style",r)},i.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},i.prototype.attrKV=function(r,s){r!=="style"?n.prototype.attrKV.call(this,r,s):this.style?this.setStyle(s):this.useStyle(s)},i.prototype.setStyle=function(r,s){return typeof r=="string"?this.style[r]=s:st(this.style,r),this.dirtyStyle(),this},i.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Ny,this._rect&&(this._rect=null)},i.prototype.dirty=function(){this.dirtyStyle()},i.prototype.styleChanged=function(){return!!(this.__dirty&Ny)},i.prototype.styleUpdated=function(){this.__dirty&=~Ny},i.prototype.createStyle=function(r){return Cy(uh,r)},i.prototype.useStyle=function(r){r[VE]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},i.prototype.isStyleObject=function(r){return r[VE]},i.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var s=this._normalState;r.style&&!s.style&&(s.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,s,V4)},i.prototype._applyStateObj=function(r,s,u,c,p,d){n.prototype._applyStateObj.call(this,r,s,u,c,p,d);var m=!(s&&c),_;if(s&&s.style?p?c?_=s.style:(_=this._mergeStyle(this.createStyle(),u.style),this._mergeStyle(_,s.style)):(_=this._mergeStyle(this.createStyle(),c?this.style:u.style),this._mergeStyle(_,s.style)):m&&(_=u.style),_)if(p){var S=this.style;if(this.style=this.createStyle(m?{}:S),m)for(var w=Xt(S),A=0;A<w.length;A++){var D=w[A];D in _&&(_[D]=_[D],this.style[D]=S[D])}for(var L=Xt(_),A=0;A<L.length;A++){var D=L[A];this.style[D]=this.style[D]}this._transitionState(r,{style:_},d,this.getAnimationStyleProps())}else this.useStyle(_);for(var E=this.__inHover?g0t:V4,A=0;A<E.length;A++){var D=E[A];s&&s[D]!=null?this[D]=s[D]:m&&u[D]!=null&&(this[D]=u[D])}},i.prototype._mergeStates=function(r){for(var s=n.prototype._mergeStates.call(this,r),u,c=0;c<r.length;c++){var p=r[c];p.style&&(u=u||{},this._mergeStyle(u,p.style))}return u&&(s.style=u),s},i.prototype._mergeStyle=function(r,s){return st(r,s),r},i.prototype.getAnimationStyleProps=function(){return g1},i.initDefaultProps=function(){var r=i.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Pn|Ny}(),i}(u1),BE=new Ve(0,0,0,0),FE=new Ve(0,0,0,0);function m0t(n,i,r){return BE.copy(n.getBoundingRect()),n.transform&&BE.applyTransform(n.transform),FE.width=i,FE.height=r,!BE.intersect(FE)}var tn=Math.min,en=Math.max,UE=Math.sin,GE=Math.cos,fh=Math.PI*2,m1=ef(),y1=ef(),_1=ef();function x1(n,i,r){if(n.length!==0){for(var s=n[0],u=s[0],c=s[0],p=s[1],d=s[1],m=1;m<n.length;m++)s=n[m],u=tn(u,s[0]),c=en(c,s[0]),p=tn(p,s[1]),d=en(d,s[1]);i[0]=u,i[1]=p,r[0]=c,r[1]=d}}function B4(n,i,r,s,u,c){u[0]=tn(n,r),u[1]=tn(i,s),c[0]=en(n,r),c[1]=en(i,s)}var F4=[],U4=[];function y0t(n,i,r,s,u,c,p,d,m,_){var S=RW,w=ki,A=S(n,r,u,p,F4);m[0]=1/0,m[1]=1/0,_[0]=-1/0,_[1]=-1/0;for(var D=0;D<A;D++){var L=w(n,r,u,p,F4[D]);m[0]=tn(L,m[0]),_[0]=en(L,_[0])}A=S(i,s,c,d,U4);for(var D=0;D<A;D++){var E=w(i,s,c,d,U4[D]);m[1]=tn(E,m[1]),_[1]=en(E,_[1])}m[0]=tn(n,m[0]),_[0]=en(n,_[0]),m[0]=tn(p,m[0]),_[0]=en(p,_[0]),m[1]=tn(i,m[1]),_[1]=en(i,_[1]),m[1]=tn(d,m[1]),_[1]=en(d,_[1])}function _0t(n,i,r,s,u,c,p,d){var m=kW,_=qi,S=en(tn(m(n,r,u),1),0),w=en(tn(m(i,s,c),1),0),A=_(n,r,u,S),D=_(i,s,c,w);p[0]=tn(n,u,A),p[1]=tn(i,c,D),d[0]=en(n,u,A),d[1]=en(i,c,D)}function x0t(n,i,r,s,u,c,p,d,m){var _=Yl,S=Zl,w=Math.abs(u-c);if(w%fh<1e-4&&w>1e-4){d[0]=n-r,d[1]=i-s,m[0]=n+r,m[1]=i+s;return}if(m1[0]=GE(u)*r+n,m1[1]=UE(u)*s+i,y1[0]=GE(c)*r+n,y1[1]=UE(c)*s+i,_(d,m1,y1),S(m,m1,y1),u=u%fh,u<0&&(u=u+fh),c=c%fh,c<0&&(c=c+fh),u>c&&!p?c+=fh:u<c&&p&&(u+=fh),p){var A=c;c=u,u=A}for(var D=0;D<c;D+=Math.PI/2)D>u&&(_1[0]=GE(D)*r+n,_1[1]=UE(D)*s+i,_(d,_1,d),S(m,_1,m))}var Cr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ch=[],hh=[],Js=[],cf=[],Qs=[],tl=[],HE=Math.min,WE=Math.max,ph=Math.cos,vh=Math.sin,Kl=Math.abs,YE=Math.PI,hf=YE*2,ZE=typeof Float32Array<"u",e0=[];function XE(n){var i=Math.round(n/YE*1e8)/1e8;return i%2*YE}function qE(n,i){var r=XE(n[0]);r<0&&(r+=hf);var s=r-n[0],u=n[1];u+=s,!i&&u-r>=hf?u=r+hf:i&&r-u>=hf?u=r-hf:!i&&r>u?u=r+(hf-XE(r-u)):i&&r<u&&(u=r-(hf-XE(u-r))),n[0]=r,n[1]=u}var el=function(){function n(i){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,i&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(i,r,s){s=s||0,s>0&&(this._ux=Kl(s/o1/i)||0,this._uy=Kl(s/o1/r)||0)},n.prototype.setDPR=function(i){this.dpr=i},n.prototype.setContext=function(i){this._ctx=i},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(i,r){return this._drawPendingPt(),this.addData(Cr.M,i,r),this._ctx&&this._ctx.moveTo(i,r),this._x0=i,this._y0=r,this._xi=i,this._yi=r,this},n.prototype.lineTo=function(i,r){var s=Kl(i-this._xi),u=Kl(r-this._yi),c=s>this._ux||u>this._uy;if(this.addData(Cr.L,i,r),this._ctx&&c&&this._ctx.lineTo(i,r),c)this._xi=i,this._yi=r,this._pendingPtDist=0;else{var p=s*s+u*u;p>this._pendingPtDist&&(this._pendingPtX=i,this._pendingPtY=r,this._pendingPtDist=p)}return this},n.prototype.bezierCurveTo=function(i,r,s,u,c,p){return this._drawPendingPt(),this.addData(Cr.C,i,r,s,u,c,p),this._ctx&&this._ctx.bezierCurveTo(i,r,s,u,c,p),this._xi=c,this._yi=p,this},n.prototype.quadraticCurveTo=function(i,r,s,u){return this._drawPendingPt(),this.addData(Cr.Q,i,r,s,u),this._ctx&&this._ctx.quadraticCurveTo(i,r,s,u),this._xi=s,this._yi=u,this},n.prototype.arc=function(i,r,s,u,c,p){this._drawPendingPt(),e0[0]=u,e0[1]=c,qE(e0,p),u=e0[0],c=e0[1];var d=c-u;return this.addData(Cr.A,i,r,s,s,u,d,0,p?0:1),this._ctx&&this._ctx.arc(i,r,s,u,c,p),this._xi=ph(c)*s+i,this._yi=vh(c)*s+r,this},n.prototype.arcTo=function(i,r,s,u,c){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(i,r,s,u,c),this},n.prototype.rect=function(i,r,s,u){return this._drawPendingPt(),this._ctx&&this._ctx.rect(i,r,s,u),this.addData(Cr.R,i,r,s,u),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Cr.Z);var i=this._ctx,r=this._x0,s=this._y0;return i&&i.closePath(),this._xi=r,this._yi=s,this},n.prototype.fill=function(i){i&&i.fill(),this.toStatic()},n.prototype.stroke=function(i){i&&i.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(i){var r=i.length;!(this.data&&this.data.length===r)&&ZE&&(this.data=new Float32Array(r));for(var s=0;s<r;s++)this.data[s]=i[s];this._len=r},n.prototype.appendPath=function(i){i instanceof Array||(i=[i]);for(var r=i.length,s=0,u=this._len,c=0;c<r;c++)s+=i[c].len();ZE&&this.data instanceof Float32Array&&(this.data=new Float32Array(u+s));for(var c=0;c<r;c++)for(var p=i[c].data,d=0;d<p.length;d++)this.data[u++]=p[d];this._len=u},n.prototype.addData=function(i,r,s,u,c,p,d,m,_){if(this._saveData){var S=this.data;this._len+arguments.length>S.length&&(this._expandData(),S=this.data);for(var w=0;w<arguments.length;w++)S[this._len++]=arguments[w]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var i=[],r=0;r<this._len;r++)i[r]=this.data[r];this.data=i}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var i=this.data;i instanceof Array&&(i.length=this._len,ZE&&this._len>11&&(this.data=new Float32Array(i)))}},n.prototype.getBoundingRect=function(){Js[0]=Js[1]=Qs[0]=Qs[1]=Number.MAX_VALUE,cf[0]=cf[1]=tl[0]=tl[1]=-Number.MAX_VALUE;var i=this.data,r=0,s=0,u=0,c=0,p;for(p=0;p<this._len;){var d=i[p++],m=p===1;switch(m&&(r=i[p],s=i[p+1],u=r,c=s),d){case Cr.M:r=u=i[p++],s=c=i[p++],Qs[0]=u,Qs[1]=c,tl[0]=u,tl[1]=c;break;case Cr.L:B4(r,s,i[p],i[p+1],Qs,tl),r=i[p++],s=i[p++];break;case Cr.C:y0t(r,s,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],Qs,tl),r=i[p++],s=i[p++];break;case Cr.Q:_0t(r,s,i[p++],i[p++],i[p],i[p+1],Qs,tl),r=i[p++],s=i[p++];break;case Cr.A:var _=i[p++],S=i[p++],w=i[p++],A=i[p++],D=i[p++],L=i[p++]+D;p+=1;var E=!i[p++];m&&(u=ph(D)*w+_,c=vh(D)*A+S),x0t(_,S,w,A,D,L,E,Qs,tl),r=ph(L)*w+_,s=vh(L)*A+S;break;case Cr.R:u=r=i[p++],c=s=i[p++];var R=i[p++],k=i[p++];B4(u,c,u+R,c+k,Qs,tl);break;case Cr.Z:r=u,s=c;break}Yl(Js,Js,Qs),Zl(cf,cf,tl)}return p===0&&(Js[0]=Js[1]=cf[0]=cf[1]=0),new Ve(Js[0],Js[1],cf[0]-Js[0],cf[1]-Js[1])},n.prototype._calculateLength=function(){var i=this.data,r=this._len,s=this._ux,u=this._uy,c=0,p=0,d=0,m=0;this._pathSegLen||(this._pathSegLen=[]);for(var _=this._pathSegLen,S=0,w=0,A=0;A<r;){var D=i[A++],L=A===1;L&&(c=i[A],p=i[A+1],d=c,m=p);var E=-1;switch(D){case Cr.M:c=d=i[A++],p=m=i[A++];break;case Cr.L:{var R=i[A++],k=i[A++],z=R-c,B=k-p;(Kl(z)>s||Kl(B)>u||A===r-1)&&(E=Math.sqrt(z*z+B*B),c=R,p=k);break}case Cr.C:{var G=i[A++],W=i[A++],R=i[A++],k=i[A++],Y=i[A++],q=i[A++];E=Rmt(c,p,G,W,R,k,Y,q,10),c=Y,p=q;break}case Cr.Q:{var G=i[A++],W=i[A++],R=i[A++],k=i[A++];E=kmt(c,p,G,W,R,k,10),c=R,p=k;break}case Cr.A:var J=i[A++],tt=i[A++],et=i[A++],it=i[A++],ut=i[A++],ct=i[A++],ht=ct+ut;A+=1,L&&(d=ph(ut)*et+J,m=vh(ut)*it+tt),E=WE(et,it)*HE(hf,Math.abs(ct)),c=ph(ht)*et+J,p=vh(ht)*it+tt;break;case Cr.R:{d=c=i[A++],m=p=i[A++];var vt=i[A++],gt=i[A++];E=vt*2+gt*2;break}case Cr.Z:{var z=d-c,B=m-p;E=Math.sqrt(z*z+B*B),c=d,p=m;break}}E>=0&&(_[w++]=E,S+=E)}return this._pathLen=S,S},n.prototype.rebuildPath=function(i,r){var s=this.data,u=this._ux,c=this._uy,p=this._len,d,m,_,S,w,A,D=r<1,L,E,R=0,k=0,z,B=0,G,W;if(!(D&&(this._pathSegLen||this._calculateLength(),L=this._pathSegLen,E=this._pathLen,z=r*E,!z)))t:for(var Y=0;Y<p;){var q=s[Y++],J=Y===1;switch(J&&(_=s[Y],S=s[Y+1],d=_,m=S),q!==Cr.L&&B>0&&(i.lineTo(G,W),B=0),q){case Cr.M:d=_=s[Y++],m=S=s[Y++],i.moveTo(_,S);break;case Cr.L:{w=s[Y++],A=s[Y++];var tt=Kl(w-_),et=Kl(A-S);if(tt>u||et>c){if(D){var it=L[k++];if(R+it>z){var ut=(z-R)/it;i.lineTo(_*(1-ut)+w*ut,S*(1-ut)+A*ut);break t}R+=it}i.lineTo(w,A),_=w,S=A,B=0}else{var ct=tt*tt+et*et;ct>B&&(G=w,W=A,B=ct)}break}case Cr.C:{var ht=s[Y++],vt=s[Y++],gt=s[Y++],bt=s[Y++],St=s[Y++],Ct=s[Y++];if(D){var it=L[k++];if(R+it>z){var ut=(z-R)/it;lf(_,ht,gt,St,ut,ch),lf(S,vt,bt,Ct,ut,hh),i.bezierCurveTo(ch[1],hh[1],ch[2],hh[2],ch[3],hh[3]);break t}R+=it}i.bezierCurveTo(ht,vt,gt,bt,St,Ct),_=St,S=Ct;break}case Cr.Q:{var ht=s[Y++],vt=s[Y++],gt=s[Y++],bt=s[Y++];if(D){var it=L[k++];if(R+it>z){var ut=(z-R)/it;Vy(_,ht,gt,ut,ch),Vy(S,vt,bt,ut,hh),i.quadraticCurveTo(ch[1],hh[1],ch[2],hh[2]);break t}R+=it}i.quadraticCurveTo(ht,vt,gt,bt),_=gt,S=bt;break}case Cr.A:var Ot=s[Y++],Vt=s[Y++],$t=s[Y++],pe=s[Y++],me=s[Y++],Pe=s[Y++],br=s[Y++],ti=!s[Y++],Ge=$t>pe?$t:pe,Se=Kl($t-pe)>.001,Ze=me+Pe,ce=!1;if(D){var it=L[k++];R+it>z&&(Ze=me+Pe*(z-R)/it,ce=!0),R+=it}if(Se&&i.ellipse?i.ellipse(Ot,Vt,$t,pe,br,me,Ze,ti):i.arc(Ot,Vt,Ge,me,Ze,ti),ce)break t;J&&(d=ph(me)*$t+Ot,m=vh(me)*pe+Vt),_=ph(Ze)*$t+Ot,S=vh(Ze)*pe+Vt;break;case Cr.R:d=_=s[Y],m=S=s[Y+1],w=s[Y++],A=s[Y++];var Re=s[Y++],Or=s[Y++];if(D){var it=L[k++];if(R+it>z){var dr=z-R;i.moveTo(w,A),i.lineTo(w+HE(dr,Re),A),dr-=Re,dr>0&&i.lineTo(w+Re,A+HE(dr,Or)),dr-=Or,dr>0&&i.lineTo(w+WE(Re-dr,0),A+Or),dr-=Re,dr>0&&i.lineTo(w,A+WE(Or-dr,0));break t}R+=it}i.rect(w,A,Re,Or);break;case Cr.Z:if(D){var it=L[k++];if(R+it>z){var ut=(z-R)/it;i.lineTo(_*(1-ut)+d*ut,S*(1-ut)+m*ut);break t}R+=it}i.closePath(),_=d,S=m}}},n.prototype.clone=function(){var i=new n,r=this.data;return i.data=r.slice?r.slice():Array.prototype.slice.call(r),i._len=this._len,i},n.CMD=Cr,n.initDefaultProps=function(){var i=n.prototype;i._saveData=!0,i._ux=0,i._uy=0,i._pendingPtDist=0,i._version=0}(),n}();function pf(n,i,r,s,u,c,p){if(u===0)return!1;var d=u,m=0,_=n;if(p>i+d&&p>s+d||p<i-d&&p<s-d||c>n+d&&c>r+d||c<n-d&&c<r-d)return!1;if(n!==r)m=(i-s)/(n-r),_=(n*s-r*i)/(n-r);else return Math.abs(c-n)<=d/2;var S=m*c-p+_,w=S*S/(m*m+1);return w<=d/2*d/2}function S0t(n,i,r,s,u,c,p,d,m,_,S){if(m===0)return!1;var w=m;if(S>i+w&&S>s+w&&S>c+w&&S>d+w||S<i-w&&S<s-w&&S<c-w&&S<d-w||_>n+w&&_>r+w&&_>u+w&&_>p+w||_<n-w&&_<r-w&&_<u-w&&_<p-w)return!1;var A=OW(n,i,r,s,u,c,p,d,_,S,null);return A<=w/2}function G4(n,i,r,s,u,c,p,d,m){if(p===0)return!1;var _=p;if(m>i+_&&m>s+_&&m>c+_||m<i-_&&m<s-_&&m<c-_||d>n+_&&d>r+_&&d>u+_||d<n-_&&d<r-_&&d<u-_)return!1;var S=NW(n,i,r,s,u,c,d,m,null);return S<=_/2}var H4=Math.PI*2;function Nn(n){return n%=H4,n<0&&(n+=H4),n}var r0=Math.PI*2;function b0t(n,i,r,s,u,c,p,d,m){if(p===0)return!1;var _=p;d-=n,m-=i;var S=Math.sqrt(d*d+m*m);if(S-_>r||S+_<r)return!1;if(Math.abs(s-u)%r0<1e-4)return!0;if(c){var w=s;s=Nn(u),u=Nn(w)}else s=Nn(s),u=Nn(u);s>u&&(u+=r0);var A=Math.atan2(m,d);return A<0&&(A+=r0),A>=s&&A<=u||A+r0>=s&&A+r0<=u}function jl(n,i,r,s,u,c){if(c>i&&c>s||c<i&&c<s||s===i)return 0;var p=(c-i)/(s-i),d=s<i?1:-1;(p===1||p===0)&&(d=s<i?.5:-.5);var m=p*(r-n)+n;return m===u?1/0:m>u?d:0}var vf=el.CMD,dh=Math.PI*2,w0t=1e-4;function T0t(n,i){return Math.abs(n-i)<w0t}var Na=[-1,-1,-1],ho=[-1,-1];function A0t(){var n=ho[0];ho[0]=ho[1],ho[1]=n}function C0t(n,i,r,s,u,c,p,d,m,_){if(_>i&&_>s&&_>c&&_>d||_<i&&_<s&&_<c&&_<d)return 0;var S=Xb(i,s,c,d,_,Na);if(S===0)return 0;for(var w=0,A=-1,D=void 0,L=void 0,E=0;E<S;E++){var R=Na[E],k=R===0||R===1?.5:1,z=ki(n,r,u,p,R);z<m||(A<0&&(A=RW(i,s,c,d,ho),ho[1]<ho[0]&&A>1&&A0t(),D=ki(i,s,c,d,ho[0]),A>1&&(L=ki(i,s,c,d,ho[1]))),A===2?R<ho[0]?w+=D<i?k:-k:R<ho[1]?w+=L<D?k:-k:w+=d<L?k:-k:R<ho[0]?w+=D<i?k:-k:w+=d<D?k:-k)}return w}function D0t(n,i,r,s,u,c,p,d){if(d>i&&d>s&&d>c||d<i&&d<s&&d<c)return 0;var m=Omt(i,s,c,d,Na);if(m===0)return 0;var _=kW(i,s,c);if(_>=0&&_<=1){for(var S=0,w=qi(i,s,c,_),A=0;A<m;A++){var D=Na[A]===0||Na[A]===1?.5:1,L=qi(n,r,u,Na[A]);L<p||(Na[A]<_?S+=w<i?D:-D:S+=c<w?D:-D)}return S}else{var D=Na[0]===0||Na[0]===1?.5:1,L=qi(n,r,u,Na[0]);return L<p?0:c<i?D:-D}}function M0t(n,i,r,s,u,c,p,d){if(d-=i,d>r||d<-r)return 0;var m=Math.sqrt(r*r-d*d);Na[0]=-m,Na[1]=m;var _=Math.abs(s-u);if(_<1e-4)return 0;if(_>=dh-1e-4){s=0,u=dh;var S=c?1:-1;return p>=Na[0]+n&&p<=Na[1]+n?S:0}if(s>u){var w=s;s=u,u=w}s<0&&(s+=dh,u+=dh);for(var A=0,D=0;D<2;D++){var L=Na[D];if(L+n>p){var E=Math.atan2(d,L),S=c?1:-1;E<0&&(E=dh+E),(E>=s&&E<=u||E+dh>=s&&E+dh<=u)&&(E>Math.PI/2&&E<Math.PI*1.5&&(S=-S),A+=S)}}return A}function W4(n,i,r,s,u){for(var c=n.data,p=n.len(),d=0,m=0,_=0,S=0,w=0,A,D,L=0;L<p;){var E=c[L++],R=L===1;switch(E===vf.M&&L>1&&(r||(d+=jl(m,_,S,w,s,u))),R&&(m=c[L],_=c[L+1],S=m,w=_),E){case vf.M:S=c[L++],w=c[L++],m=S,_=w;break;case vf.L:if(r){if(pf(m,_,c[L],c[L+1],i,s,u))return!0}else d+=jl(m,_,c[L],c[L+1],s,u)||0;m=c[L++],_=c[L++];break;case vf.C:if(r){if(S0t(m,_,c[L++],c[L++],c[L++],c[L++],c[L],c[L+1],i,s,u))return!0}else d+=C0t(m,_,c[L++],c[L++],c[L++],c[L++],c[L],c[L+1],s,u)||0;m=c[L++],_=c[L++];break;case vf.Q:if(r){if(G4(m,_,c[L++],c[L++],c[L],c[L+1],i,s,u))return!0}else d+=D0t(m,_,c[L++],c[L++],c[L],c[L+1],s,u)||0;m=c[L++],_=c[L++];break;case vf.A:var k=c[L++],z=c[L++],B=c[L++],G=c[L++],W=c[L++],Y=c[L++];L+=1;var q=!!(1-c[L++]);A=Math.cos(W)*B+k,D=Math.sin(W)*G+z,R?(S=A,w=D):d+=jl(m,_,A,D,s,u);var J=(s-k)*G/B+k;if(r){if(b0t(k,z,G,W,W+Y,q,i,J,u))return!0}else d+=M0t(k,z,G,W,W+Y,q,J,u);m=Math.cos(W+Y)*B+k,_=Math.sin(W+Y)*G+z;break;case vf.R:S=m=c[L++],w=_=c[L++];var tt=c[L++],et=c[L++];if(A=S+tt,D=w+et,r){if(pf(S,w,A,w,i,s,u)||pf(A,w,A,D,i,s,u)||pf(A,D,S,D,i,s,u)||pf(S,D,S,w,i,s,u))return!0}else d+=jl(A,w,A,D,s,u),d+=jl(S,D,S,w,s,u);break;case vf.Z:if(r){if(pf(m,_,S,w,i,s,u))return!0}else d+=jl(m,_,S,w,s,u);m=S,_=w;break}}return!r&&!T0t(_,w)&&(d+=jl(m,_,S,w,s,u)||0),d!==0}function L0t(n,i,r){return W4(n,0,!1,i,r)}function I0t(n,i,r,s){return W4(n,i,!0,r,s)}var S1=dt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},uh),E0t={style:dt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},g1.style)},$E=$s.concat(["invisible","culling","z","z2","zlevel","parent"]),Xe=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.update=function(){var r=this;n.prototype.update.call(this);var s=this.style;if(s.decal){var u=this._decalEl=this._decalEl||new i;u.buildPath===i.prototype.buildPath&&(u.buildPath=function(m){r.buildPath(m,r.shape)}),u.silent=!0;var c=u.style;for(var p in s)c[p]!==s[p]&&(c[p]=s[p]);c.fill=s.fill?s.decal:null,c.decal=null,c.shadowColor=null,s.strokeFirst&&(c.stroke=null);for(var d=0;d<$E.length;++d)u[$E[d]]=this[$E[d]];u.__dirty|=Pn}else this._decalEl&&(this._decalEl=null)},i.prototype.getDecalElement=function(){return this._decalEl},i.prototype._init=function(r){var s=Xt(r);this.shape=this.getDefaultShape();var u=this.getDefaultStyle();u&&this.useStyle(u);for(var c=0;c<s.length;c++){var p=s[c],d=r[p];p==="style"?this.style?st(this.style,d):this.useStyle(d):p==="shape"?st(this.shape,d):n.prototype.attrKV.call(this,p,d)}this.style||this.useStyle({})},i.prototype.getDefaultStyle=function(){return null},i.prototype.getDefaultShape=function(){return{}},i.prototype.canBeInsideText=function(){return this.hasFill()},i.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(kt(r)){var s=Hy(r,0);return s>.5?dE:s>.2?hyt:gE}else if(r)return gE}return dE},i.prototype.getInsideTextStroke=function(r){var s=this.style.fill;if(kt(s)){var u=this.__zr,c=!!(u&&u.isDarkMode()),p=Hy(r,0)<vE;if(c===p)return s}},i.prototype.buildPath=function(r,s,u){},i.prototype.pathUpdated=function(){this.__dirty&=~Yv},i.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},i.prototype.createPathProxy=function(){this.path=new el(!1)},i.prototype.hasStroke=function(){var r=this.style,s=r.stroke;return!(s==null||s==="none"||!(r.lineWidth>0))},i.prototype.hasFill=function(){var r=this.style,s=r.fill;return s!=null&&s!=="none"},i.prototype.getBoundingRect=function(){var r=this._rect,s=this.style,u=!r;if(u){var c=!1;this.path||(c=!0,this.createPathProxy());var p=this.path;(c||this.__dirty&Yv)&&(p.beginPath(),this.buildPath(p,this.shape,!1),this.pathUpdated()),r=p.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var d=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||u){d.copy(r);var m=s.strokeNoScale?this.getLineScale():1,_=s.lineWidth;if(!this.hasFill()){var S=this.strokeContainThreshold;_=Math.max(_,S??4)}m>1e-10&&(d.width+=_/m,d.height+=_/m,d.x-=_/m/2,d.y-=_/m/2)}return d}return r},i.prototype.contain=function(r,s){var u=this.transformCoordToLocal(r,s),c=this.getBoundingRect(),p=this.style;if(r=u[0],s=u[1],c.contain(r,s)){var d=this.path;if(this.hasStroke()){var m=p.lineWidth,_=p.strokeNoScale?this.getLineScale():1;if(_>1e-10&&(this.hasFill()||(m=Math.max(m,this.strokeContainThreshold)),I0t(d,m/_,r,s)))return!0}if(this.hasFill())return L0t(d,r,s)}return!1},i.prototype.dirtyShape=function(){this.__dirty|=Yv,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},i.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},i.prototype.animateShape=function(r){return this.animate("shape",r)},i.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},i.prototype.attrKV=function(r,s){r==="shape"?this.setShape(s):n.prototype.attrKV.call(this,r,s)},i.prototype.setShape=function(r,s){var u=this.shape;return u||(u=this.shape={}),typeof r=="string"?u[r]=s:st(u,r),this.dirtyShape(),this},i.prototype.shapeChanged=function(){return!!(this.__dirty&Yv)},i.prototype.createStyle=function(r){return Cy(S1,r)},i.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var s=this._normalState;r.shape&&!s.shape&&(s.shape=st({},this.shape))},i.prototype._applyStateObj=function(r,s,u,c,p,d){n.prototype._applyStateObj.call(this,r,s,u,c,p,d);var m=!(s&&c),_;if(s&&s.shape?p?c?_=s.shape:(_=st({},u.shape),st(_,s.shape)):(_=st({},c?this.shape:u.shape),st(_,s.shape)):m&&(_=u.shape),_)if(p){this.shape=st({},this.shape);for(var S={},w=Xt(_),A=0;A<w.length;A++){var D=w[A];typeof _[D]=="object"?this.shape[D]=_[D]:S[D]=_[D]}this._transitionState(r,{shape:S},d)}else this.shape=_,this.dirtyShape()},i.prototype._mergeStates=function(r){for(var s=n.prototype._mergeStates.call(this,r),u,c=0;c<r.length;c++){var p=r[c];p.shape&&(u=u||{},this._mergeStyle(u,p.shape))}return u&&(s.shape=u),s},i.prototype.getAnimationStyleProps=function(){return E0t},i.prototype.isZeroArea=function(){return!1},i.extend=function(r){var s=function(c){e(p,c);function p(d){var m=c.call(this,d)||this;return r.init&&r.init.call(m,d),m}return p.prototype.getDefaultStyle=function(){return lt(r.style)},p.prototype.getDefaultShape=function(){return lt(r.shape)},p}(i);for(var u in r)typeof r[u]=="function"&&(s.prototype[u]=r[u]);return s},i.initDefaultProps=function(){var r=i.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Pn|Ny|Yv}(),i}(co),P0t=dt({strokeFirst:!0,font:y,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},S1),rd=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.hasStroke=function(){var r=this.style,s=r.stroke;return s!=null&&s!=="none"&&r.lineWidth>0},i.prototype.hasFill=function(){var r=this.style,s=r.fill;return s!=null&&s!=="none"},i.prototype.createStyle=function(r){return Cy(P0t,r)},i.prototype.setBoundingRect=function(r){this._rect=r},i.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var s=r.text;s!=null?s+="":s="";var u=qy(s,r.font,r.textAlign,r.textBaseline);if(u.x+=r.x||0,u.y+=r.y||0,this.hasStroke()){var c=r.lineWidth;u.x-=c/2,u.y-=c/2,u.width+=c,u.height+=c}this._rect=u}return this._rect},i.initDefaultProps=function(){var r=i.prototype;r.dirtyRectTolerance=10}(),i}(co);rd.prototype.type="tspan";var R0t=dt({x:0,y:0},uh),O0t={style:dt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},g1.style)};function k0t(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Ni=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.createStyle=function(r){return Cy(R0t,r)},i.prototype._getSize=function(r){var s=this.style,u=s[r];if(u!=null)return u;var c=k0t(s.image)?s.image:this.__image;if(!c)return 0;var p=r==="width"?"height":"width",d=s[p];return d==null?c[r]:c[r]/c[p]*d},i.prototype.getWidth=function(){return this._getSize("width")},i.prototype.getHeight=function(){return this._getSize("height")},i.prototype.getAnimationStyleProps=function(){return O0t},i.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Ve(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},i}(co);Ni.prototype.type="image";function N0t(n,i){var r=i.x,s=i.y,u=i.width,c=i.height,p=i.r,d,m,_,S;u<0&&(r=r+u,u=-u),c<0&&(s=s+c,c=-c),typeof p=="number"?d=m=_=S=p:p instanceof Array?p.length===1?d=m=_=S=p[0]:p.length===2?(d=_=p[0],m=S=p[1]):p.length===3?(d=p[0],m=S=p[1],_=p[2]):(d=p[0],m=p[1],_=p[2],S=p[3]):d=m=_=S=0;var w;d+m>u&&(w=d+m,d*=u/w,m*=u/w),_+S>u&&(w=_+S,_*=u/w,S*=u/w),m+_>c&&(w=m+_,m*=c/w,_*=c/w),d+S>c&&(w=d+S,d*=c/w,S*=c/w),n.moveTo(r+d,s),n.lineTo(r+u-m,s),m!==0&&n.arc(r+u-m,s+m,m,-Math.PI/2,0),n.lineTo(r+u,s+c-_),_!==0&&n.arc(r+u-_,s+c-_,_,0,Math.PI/2),n.lineTo(r+S,s+c),S!==0&&n.arc(r+S,s+c-S,S,Math.PI/2,Math.PI),n.lineTo(r,s+d),d!==0&&n.arc(r+d,s+d,d,Math.PI,Math.PI*1.5)}var id=Math.round;function Y4(n,i,r){if(i){var s=i.x1,u=i.x2,c=i.y1,p=i.y2;n.x1=s,n.x2=u,n.y1=c,n.y2=p;var d=r&&r.lineWidth;return d&&(id(s*2)===id(u*2)&&(n.x1=n.x2=gh(s,d,!0)),id(c*2)===id(p*2)&&(n.y1=n.y2=gh(c,d,!0))),n}}function Z4(n,i,r){if(i){var s=i.x,u=i.y,c=i.width,p=i.height;n.x=s,n.y=u,n.width=c,n.height=p;var d=r&&r.lineWidth;return d&&(n.x=gh(s,d,!0),n.y=gh(u,d,!0),n.width=Math.max(gh(s+c,d,!1)-n.x,c===0?0:1),n.height=Math.max(gh(u+p,d,!1)-n.y,p===0?0:1)),n}}function gh(n,i,r){if(!i)return n;var s=id(n*2);return(s+id(i))%2===0?s/2:(s+(r?1:-1))/2}var z0t=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),V0t={},tr=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new z0t},i.prototype.buildPath=function(r,s){var u,c,p,d;if(this.subPixelOptimize){var m=Z4(V0t,s,this.style);u=m.x,c=m.y,p=m.width,d=m.height,m.r=s.r,s=m}else u=s.x,c=s.y,p=s.width,d=s.height;s.r?N0t(r,s):r.rect(u,c,p,d)},i.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},i}(Xe);tr.prototype.type="rect";var X4={fill:"#000"},q4=2,B0t={style:dt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},g1.style)},er=function(n){e(i,n);function i(r){var s=n.call(this)||this;return s.type="text",s._children=[],s._defaultStyle=X4,s.attr(r),s}return i.prototype.childrenRef=function(){return this._children},i.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var s=this._children[r];s.zlevel=this.zlevel,s.z=this.z,s.z2=this.z2,s.culling=this.culling,s.cursor=this.cursor,s.invisible=this.invisible}},i.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):n.prototype.updateTransform.call(this)},i.prototype.getLocalTransform=function(r){var s=this.innerTransformable;return s?s.getLocalTransform(r):n.prototype.getLocalTransform.call(this,r)},i.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},i.prototype._updateSubTexts=function(){this._childCursor=0,G0t(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},i.prototype.addSelfToZr=function(r){n.prototype.addSelfToZr.call(this,r);for(var s=0;s<this._children.length;s++)this._children[s].__zr=r},i.prototype.removeSelfFromZr=function(r){n.prototype.removeSelfFromZr.call(this,r);for(var s=0;s<this._children.length;s++)this._children[s].__zr=null},i.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Ve(0,0,0,0),s=this._children,u=[],c=null,p=0;p<s.length;p++){var d=s[p],m=d.getBoundingRect(),_=d.getLocalTransform(u);_?(r.copy(m),r.applyTransform(_),c=c||r.clone(),c.union(r)):(c=c||m.clone(),c.union(m))}this._rect=c||r}return this._rect},i.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||X4},i.prototype.setTextContent=function(r){throw new Error("Can't attach text on another text")},i.prototype._mergeStyle=function(r,s){if(!s)return r;var u=s.rich,c=r.rich||u&&{};return st(r,s),u&&c?(this._mergeRich(c,u),r.rich=c):c&&(r.rich=c),r},i.prototype._mergeRich=function(r,s){for(var u=Xt(s),c=0;c<u.length;c++){var p=u[c];r[p]=r[p]||{},st(r[p],s[p])}},i.prototype.getAnimationStyleProps=function(){return B0t},i.prototype._getOrCreateChild=function(r){var s=this._children[this._childCursor];return(!s||!(s instanceof r))&&(s=new r),this._children[this._childCursor++]=s,s.__zr=this.__zr,s.parent=this,s},i.prototype._updatePlainTexts=function(){var r=this.style,s=r.font||y,u=r.padding,c=i6(r),p=u0t(c,r),d=KE(r),m=!!r.backgroundColor,_=p.outerHeight,S=p.outerWidth,w=p.contentWidth,A=p.lines,D=p.lineHeight,L=this._defaultStyle;this.isTruncated=!!p.isTruncated;var E=r.x||0,R=r.y||0,k=r.align||L.align||"left",z=r.verticalAlign||L.verticalAlign||"top",B=E,G=jv(R,p.contentHeight,z);if(d||u){var W=$y(E,S,k),Y=jv(R,_,z);d&&this._renderBackground(r,r,W,Y,S,_)}G+=D/2,u&&(B=r6(E,k,u),z==="top"?G+=u[0]:z==="bottom"&&(G-=u[2]));for(var q=0,J=!1,tt=e6("fill"in r?r.fill:(J=!0,L.fill)),et=t6("stroke"in r?r.stroke:!m&&(!L.autoStroke||J)?(q=q4,L.stroke):null),it=r.textShadowBlur>0,ut=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),ct=p.calculatedLineHeight,ht=0;ht<A.length;ht++){var vt=this._getOrCreateChild(rd),gt=vt.createStyle();vt.useStyle(gt),gt.text=A[ht],gt.x=B,gt.y=G,k&&(gt.textAlign=k),gt.textBaseline="middle",gt.opacity=r.opacity,gt.strokeFirst=!0,it&&(gt.shadowBlur=r.textShadowBlur||0,gt.shadowColor=r.textShadowColor||"transparent",gt.shadowOffsetX=r.textShadowOffsetX||0,gt.shadowOffsetY=r.textShadowOffsetY||0),gt.stroke=et,gt.fill=tt,et&&(gt.lineWidth=r.lineWidth||q,gt.lineDash=r.lineDash,gt.lineDashOffset=r.lineDashOffset||0),gt.font=s,j4(gt,r),G+=D,ut&&vt.setBoundingRect(new Ve($y(gt.x,w,gt.textAlign),jv(gt.y,ct,gt.textBaseline),w,ct))}},i.prototype._updateRichTexts=function(){var r=this.style,s=i6(r),u=h0t(s,r),c=u.width,p=u.outerWidth,d=u.outerHeight,m=r.padding,_=r.x||0,S=r.y||0,w=this._defaultStyle,A=r.align||w.align,D=r.verticalAlign||w.verticalAlign;this.isTruncated=!!u.isTruncated;var L=$y(_,p,A),E=jv(S,d,D),R=L,k=E;m&&(R+=m[3],k+=m[0]);var z=R+c;KE(r)&&this._renderBackground(r,r,L,E,p,d);for(var B=!!r.backgroundColor,G=0;G<u.lines.length;G++){for(var W=u.lines[G],Y=W.tokens,q=Y.length,J=W.lineHeight,tt=W.width,et=0,it=R,ut=z,ct=q-1,ht=void 0;et<q&&(ht=Y[et],!ht.align||ht.align==="left");)this._placeToken(ht,r,J,k,it,"left",B),tt-=ht.width,it+=ht.width,et++;for(;ct>=0&&(ht=Y[ct],ht.align==="right");)this._placeToken(ht,r,J,k,ut,"right",B),tt-=ht.width,ut-=ht.width,ct--;for(it+=(c-(it-R)-(z-ut)-tt)/2;et<=ct;)ht=Y[et],this._placeToken(ht,r,J,k,it+ht.width/2,"center",B),it+=ht.width,et++;k+=J}},i.prototype._placeToken=function(r,s,u,c,p,d,m){var _=s.rich[r.styleName]||{};_.text=r.text;var S=r.verticalAlign,w=c+u/2;S==="top"?w=c+r.height/2:S==="bottom"&&(w=c+u-r.height/2);var A=!r.isLineHolder&&KE(_);A&&this._renderBackground(_,s,d==="right"?p-r.width:d==="center"?p-r.width/2:p,w-r.height/2,r.width,r.height);var D=!!_.backgroundColor,L=r.textPadding;L&&(p=r6(p,d,L),w-=r.height/2-L[0]-r.innerHeight/2);var E=this._getOrCreateChild(rd),R=E.createStyle();E.useStyle(R);var k=this._defaultStyle,z=!1,B=0,G=e6("fill"in _?_.fill:"fill"in s?s.fill:(z=!0,k.fill)),W=t6("stroke"in _?_.stroke:"stroke"in s?s.stroke:!D&&!m&&(!k.autoStroke||z)?(B=q4,k.stroke):null),Y=_.textShadowBlur>0||s.textShadowBlur>0;R.text=r.text,R.x=p,R.y=w,Y&&(R.shadowBlur=_.textShadowBlur||s.textShadowBlur||0,R.shadowColor=_.textShadowColor||s.textShadowColor||"transparent",R.shadowOffsetX=_.textShadowOffsetX||s.textShadowOffsetX||0,R.shadowOffsetY=_.textShadowOffsetY||s.textShadowOffsetY||0),R.textAlign=d,R.textBaseline="middle",R.font=r.font||y,R.opacity=En(_.opacity,s.opacity,1),j4(R,_),W&&(R.lineWidth=En(_.lineWidth,s.lineWidth,B),R.lineDash=De(_.lineDash,s.lineDash),R.lineDashOffset=s.lineDashOffset||0,R.stroke=W),G&&(R.fill=G);var q=r.contentWidth,J=r.contentHeight;E.setBoundingRect(new Ve($y(R.x,q,R.textAlign),jv(R.y,J,R.textBaseline),q,J))},i.prototype._renderBackground=function(r,s,u,c,p,d){var m=r.backgroundColor,_=r.borderWidth,S=r.borderColor,w=m&&m.image,A=m&&!w,D=r.borderRadius,L=this,E,R;if(A||r.lineHeight||_&&S){E=this._getOrCreateChild(tr),E.useStyle(E.createStyle()),E.style.fill=null;var k=E.shape;k.x=u,k.y=c,k.width=p,k.height=d,k.r=D,E.dirtyShape()}if(A){var z=E.style;z.fill=m||null,z.fillOpacity=De(r.fillOpacity,1)}else if(w){R=this._getOrCreateChild(Ni),R.onload=function(){L.dirtyStyle()};var B=R.style;B.image=m.image,B.x=u,B.y=c,B.width=p,B.height=d}if(_&&S){var z=E.style;z.lineWidth=_,z.stroke=S,z.strokeOpacity=De(r.strokeOpacity,1),z.lineDash=r.borderDash,z.lineDashOffset=r.borderDashOffset||0,E.strokeContainThreshold=0,E.hasFill()&&E.hasStroke()&&(z.strokeFirst=!0,z.lineWidth*=2)}var G=(E||R).style;G.shadowBlur=r.shadowBlur||0,G.shadowColor=r.shadowColor||"transparent",G.shadowOffsetX=r.shadowOffsetX||0,G.shadowOffsetY=r.shadowOffsetY||0,G.opacity=En(r.opacity,s.opacity,1)},i.makeFont=function(r){var s="";return J4(r)&&(s=[r.fontStyle,r.fontWeight,K4(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),s&&no(s)||r.textFont||r.font},i}(co),F0t={left:!0,right:1,center:1},U0t={top:1,bottom:1,middle:1},$4=["fontStyle","fontWeight","fontSize","fontFamily"];function K4(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?v+"px":n+"px"}function j4(n,i){for(var r=0;r<$4.length;r++){var s=$4[r],u=i[s];u!=null&&(n[s]=u)}}function J4(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function G0t(n){return Q4(n),j(n.rich,Q4),n}function Q4(n){if(n){n.font=er.makeFont(n);var i=n.align;i==="middle"&&(i="center"),n.align=i==null||F0t[i]?i:"left";var r=n.verticalAlign;r==="center"&&(r="middle"),n.verticalAlign=r==null||U0t[r]?r:"top";var s=n.padding;s&&(n.padding=Nb(n.padding))}}function t6(n,i){return n==null||i<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function e6(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function r6(n,i,r){return i==="right"?n-r[1]:i==="center"?n+r[3]/2-r[1]/2:n+r[3]}function i6(n){var i=n.text;return i!=null&&(i+=""),i}function KE(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Me=rr(),jE=function(n,i,r,s){if(s){var u=Me(s);u.dataIndex=r,u.dataType=i,u.seriesIndex=n,u.ssrType="chart",s.type==="group"&&s.traverse(function(c){var p=Me(c);p.seriesIndex=n,p.dataIndex=r,p.dataType=i,p.ssrType="chart"})}},a6=1,n6={},o6=rr(),JE=rr(),QE=0,i0=1,b1=2,za=["emphasis","blur","select"],a0=["normal","emphasis","blur","select"],ad=10,H0t=9,mh="highlight",w1="downplay",n0="select",T1="unselect",o0="toggleSelect";function nd(n){return n!=null&&n!=="none"}function A1(n,i,r){n.onHoverStateChange&&(n.hoverState||0)!==r&&n.onHoverStateChange(i),n.hoverState=r}function s6(n){A1(n,"emphasis",b1)}function l6(n){n.hoverState===b1&&A1(n,"normal",QE)}function tP(n){A1(n,"blur",i0)}function u6(n){n.hoverState===i0&&A1(n,"normal",QE)}function W0t(n){n.selected=!0}function Y0t(n){n.selected=!1}function f6(n,i,r){i(n,r)}function Jl(n,i,r){f6(n,i,r),n.isGroup&&n.traverse(function(s){f6(s,i,r)})}function C1(n,i){switch(i){case"emphasis":n.hoverState=b1;break;case"normal":n.hoverState=QE;break;case"blur":n.hoverState=i0;break;case"select":n.selected=!0}}function Z0t(n,i,r,s){for(var u=n.style,c={},p=0;p<i.length;p++){var d=i[p],m=u[d];c[d]=m??(s&&s[d])}for(var p=0;p<n.animators.length;p++){var _=n.animators[p];_.__fromStateTransition&&_.__fromStateTransition.indexOf(r)<0&&_.targetName==="style"&&_.saveTo(c,i)}return c}function X0t(n,i,r,s){var u=r&&At(r,"select")>=0,c=!1;if(n instanceof Xe){var p=o6(n),d=u&&p.selectFill||p.normalFill,m=u&&p.selectStroke||p.normalStroke;if(nd(d)||nd(m)){s=s||{};var _=s.style||{};_.fill==="inherit"?(c=!0,s=st({},s),_=st({},_),_.fill=d):!nd(_.fill)&&nd(d)?(c=!0,s=st({},s),_=st({},_),_.fill=Kb(d)):!nd(_.stroke)&&nd(m)&&(c||(s=st({},s),_=st({},_)),_.stroke=Kb(m)),s.style=_}}if(s&&s.z2==null){c||(s=st({},s));var S=n.z2EmphasisLift;s.z2=n.z2+(S??ad)}return s}function q0t(n,i,r){if(r&&r.z2==null){r=st({},r);var s=n.z2SelectLift;r.z2=n.z2+(s??H0t)}return r}function $0t(n,i,r){var s=At(n.currentStates,i)>=0,u=n.style.opacity,c=s?null:Z0t(n,["opacity"],i,{opacity:1});r=r||{};var p=r.style||{};return p.opacity==null&&(r=st({},r),p=st({opacity:s?u:c.opacity*.1},p),r.style=p),r}function eP(n,i){var r=this.states[n];if(this.style){if(n==="emphasis")return X0t(this,n,i,r);if(n==="blur")return $0t(this,n,r);if(n==="select")return q0t(this,n,r)}return r}function yh(n){n.stateProxy=eP;var i=n.getTextContent(),r=n.getTextGuideLine();i&&(i.stateProxy=eP),r&&(r.stateProxy=eP)}function c6(n,i){!g6(n,i)&&!n.__highByOuter&&Jl(n,s6)}function h6(n,i){!g6(n,i)&&!n.__highByOuter&&Jl(n,l6)}function Ql(n,i){n.__highByOuter|=1<<(i||0),Jl(n,s6)}function tu(n,i){!(n.__highByOuter&=~(1<<(i||0)))&&Jl(n,l6)}function p6(n){Jl(n,tP)}function rP(n){Jl(n,u6)}function v6(n){Jl(n,W0t)}function d6(n){Jl(n,Y0t)}function g6(n,i){return n.__highDownSilentOnTouch&&i.zrByTouch}function m6(n){var i=n.getModel(),r=[],s=[];i.eachComponent(function(u,c){var p=JE(c),d=u==="series",m=d?n.getViewOfSeriesModel(c):n.getViewOfComponentModel(c);!d&&s.push(m),p.isBlured&&(m.group.traverse(function(_){u6(_)}),d&&r.push(c)),p.isBlured=!1}),j(s,function(u){u&&u.toggleBlurSeries&&u.toggleBlurSeries(r,!1,i)})}function iP(n,i,r,s){var u=s.getModel();r=r||"coordinateSystem";function c(_,S){for(var w=0;w<S.length;w++){var A=_.getItemGraphicEl(S[w]);A&&rP(A)}}if(n!=null&&!(!i||i==="none")){var p=u.getSeriesByIndex(n),d=p.coordinateSystem;d&&d.master&&(d=d.master);var m=[];u.eachSeries(function(_){var S=p===_,w=_.coordinateSystem;w&&w.master&&(w=w.master);var A=w&&d?w===d:S;if(!(r==="series"&&!S||r==="coordinateSystem"&&!A||i==="series"&&S)){var D=s.getViewOfSeriesModel(_);if(D.group.traverse(function(R){R.__highByOuter&&S&&i==="self"||tP(R)}),te(i))c(_.getData(),i);else if(re(i))for(var L=Xt(i),E=0;E<L.length;E++)c(_.getData(L[E]),i[L[E]]);m.push(_),JE(_).isBlured=!0}}),u.eachComponent(function(_,S){if(_!=="series"){var w=s.getViewOfComponentModel(S);w&&w.toggleBlurSeries&&w.toggleBlurSeries(m,!0,u)}})}}function aP(n,i,r){if(!(n==null||i==null)){var s=r.getModel().getComponent(n,i);if(s){JE(s).isBlured=!0;var u=r.getViewOfComponentModel(s);!u||!u.focusBlurEnabled||u.group.traverse(function(c){tP(c)})}}}function K0t(n,i,r){var s=n.seriesIndex,u=n.getData(i.dataType);if(!u){ea("Unknown dataType "+i.dataType);return}var c=oh(u,i);c=(wt(c)?c[0]:c)||0;var p=u.getItemGraphicEl(c);if(!p)for(var d=u.count(),m=0;!p&&m<d;)p=u.getItemGraphicEl(m++);if(p){var _=Me(p);iP(s,_.focus,_.blurScope,r)}else{var S=n.get(["emphasis","focus"]),w=n.get(["emphasis","blurScope"]);S!=null&&iP(s,S,w,r)}}function nP(n,i,r,s){var u={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||i==null||r==null)return u;var c=s.getModel().getComponent(n,i);if(!c)return u;var p=s.getViewOfComponentModel(c);if(!p||!p.findHighDownDispatchers)return u;for(var d=p.findHighDownDispatchers(r),m,_=0;_<d.length;_++)if(gf(d[_])||ea("param should be highDownDispatcher"),Me(d[_]).focus==="self"){m=!0;break}return{focusSelf:m,dispatchers:d}}function j0t(n,i,r){gf(n)||ea("param should be highDownDispatcher");var s=Me(n),u=nP(s.componentMainType,s.componentIndex,s.componentHighDownName,r),c=u.dispatchers,p=u.focusSelf;c?(p&&aP(s.componentMainType,s.componentIndex,r),j(c,function(d){return c6(d,i)})):(iP(s.seriesIndex,s.focus,s.blurScope,r),s.focus==="self"&&aP(s.componentMainType,s.componentIndex,r),c6(n,i))}function J0t(n,i,r){gf(n)||ea("param should be highDownDispatcher"),m6(r);var s=Me(n),u=nP(s.componentMainType,s.componentIndex,s.componentHighDownName,r).dispatchers;u?j(u,function(c){return h6(c,i)}):h6(n,i)}function Q0t(n,i,r){if(sP(i)){var s=i.dataType,u=n.getData(s),c=oh(u,i);wt(c)||(c=[c]),n[i.type===o0?"toggleSelect":i.type===n0?"select":"unselect"](c,s)}}function y6(n){var i=n.getAllData();j(i,function(r){var s=r.data,u=r.type;s.eachItemGraphicEl(function(c,p){n.isSelected(p,u)?v6(c):d6(c)})})}function t_t(n){var i=[];return n.eachSeries(function(r){var s=r.getAllData();j(s,function(u){var c=u.data,p=u.type,d=r.getSelectedDataIndices();if(d.length>0){var m={dataIndex:d,seriesIndex:r.seriesIndex};p!=null&&(m.dataType=p),i.push(m)}})}),i}function df(n,i,r){_h(n,!0),Jl(n,yh),oP(n,i,r)}function e_t(n){_h(n,!1)}function Zr(n,i,r,s){s?e_t(n):df(n,i,r)}function oP(n,i,r){var s=Me(n);i!=null?(s.focus=i,s.blurScope=r):s.focus&&(s.focus=null)}var _6=["emphasis","blur","select"],r_t={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ra(n,i,r,s){r=r||"itemStyle";for(var u=0;u<_6.length;u++){var c=_6[u],p=i.getModel([c,r]),d=n.ensureState(c);d.style=s?s(p):p[r_t[r]]()}}function _h(n,i){var r=i===!1,s=n;n.highDownSilentOnTouch&&(s.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!r||s.__highDownDispatcher)&&(s.__highByOuter=s.__highByOuter||0,s.__highDownDispatcher=!r)}function gf(n){return!!(n&&n.__highDownDispatcher)}function i_t(n,i,r){var s=Me(n);s.componentMainType=i.mainType,s.componentIndex=i.componentIndex,s.componentHighDownName=r}function a_t(n){var i=n6[n];return i==null&&a6<=32&&(i=n6[n]=a6++),i}function sP(n){var i=n.type;return i===n0||i===T1||i===o0}function x6(n){var i=n.type;return i===mh||i===w1}function n_t(n){var i=o6(n);i.normalFill=n.style.fill,i.normalStroke=n.style.stroke;var r=n.states.select||{};i.selectFill=r.style&&r.style.fill||null,i.selectStroke=r.style&&r.style.stroke||null}var od=el.CMD,o_t=[[],[],[]],S6=Math.sqrt,s_t=Math.atan2;function b6(n,i){if(i){var r=n.data,s=n.len(),u,c,p,d,m,_,S=od.M,w=od.C,A=od.L,D=od.R,L=od.A,E=od.Q;for(p=0,d=0;p<s;){switch(u=r[p++],d=p,c=0,u){case S:c=1;break;case A:c=1;break;case w:c=3;break;case E:c=2;break;case L:var R=i[4],k=i[5],z=S6(i[0]*i[0]+i[1]*i[1]),B=S6(i[2]*i[2]+i[3]*i[3]),G=s_t(-i[1]/B,i[0]/z);r[p]*=z,r[p++]+=R,r[p]*=B,r[p++]+=k,r[p++]*=z,r[p++]*=B,r[p++]+=G,r[p++]+=G,p+=2,d=p;break;case D:_[0]=r[p++],_[1]=r[p++],Xi(_,_,i),r[d++]=_[0],r[d++]=_[1],_[0]+=r[p++],_[1]+=r[p++],Xi(_,_,i),r[d++]=_[0],r[d++]=_[1]}for(m=0;m<c;m++){var W=o_t[m];W[0]=r[p++],W[1]=r[p++],Xi(W,W,i),r[d++]=W[0],r[d++]=W[1]}}n.increaseVersion()}}var lP=Math.sqrt,D1=Math.sin,M1=Math.cos,s0=Math.PI;function w6(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function uP(n,i){return(n[0]*i[0]+n[1]*i[1])/(w6(n)*w6(i))}function T6(n,i){return(n[0]*i[1]<n[1]*i[0]?-1:1)*Math.acos(uP(n,i))}function A6(n,i,r,s,u,c,p,d,m,_,S){var w=m*(s0/180),A=M1(w)*(n-r)/2+D1(w)*(i-s)/2,D=-1*D1(w)*(n-r)/2+M1(w)*(i-s)/2,L=A*A/(p*p)+D*D/(d*d);L>1&&(p*=lP(L),d*=lP(L));var E=(u===c?-1:1)*lP((p*p*(d*d)-p*p*(D*D)-d*d*(A*A))/(p*p*(D*D)+d*d*(A*A)))||0,R=E*p*D/d,k=E*-d*A/p,z=(n+r)/2+M1(w)*R-D1(w)*k,B=(i+s)/2+D1(w)*R+M1(w)*k,G=T6([1,0],[(A-R)/p,(D-k)/d]),W=[(A-R)/p,(D-k)/d],Y=[(-1*A-R)/p,(-1*D-k)/d],q=T6(W,Y);if(uP(W,Y)<=-1&&(q=s0),uP(W,Y)>=1&&(q=0),q<0){var J=Math.round(q/s0*1e6)/1e6;q=s0*2+J%2*s0}S.addData(_,z,B,p,d,G,q,w,c)}var l_t=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,u_t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function f_t(n){var i=new el;if(!n)return i;var r=0,s=0,u=r,c=s,p,d=el.CMD,m=n.match(l_t);if(!m)return i;for(var _=0;_<m.length;_++){for(var S=m[_],w=S.charAt(0),A=void 0,D=S.match(u_t)||[],L=D.length,E=0;E<L;E++)D[E]=parseFloat(D[E]);for(var R=0;R<L;){var k=void 0,z=void 0,B=void 0,G=void 0,W=void 0,Y=void 0,q=void 0,J=r,tt=s,et=void 0,it=void 0;switch(w){case"l":r+=D[R++],s+=D[R++],A=d.L,i.addData(A,r,s);break;case"L":r=D[R++],s=D[R++],A=d.L,i.addData(A,r,s);break;case"m":r+=D[R++],s+=D[R++],A=d.M,i.addData(A,r,s),u=r,c=s,w="l";break;case"M":r=D[R++],s=D[R++],A=d.M,i.addData(A,r,s),u=r,c=s,w="L";break;case"h":r+=D[R++],A=d.L,i.addData(A,r,s);break;case"H":r=D[R++],A=d.L,i.addData(A,r,s);break;case"v":s+=D[R++],A=d.L,i.addData(A,r,s);break;case"V":s=D[R++],A=d.L,i.addData(A,r,s);break;case"C":A=d.C,i.addData(A,D[R++],D[R++],D[R++],D[R++],D[R++],D[R++]),r=D[R-2],s=D[R-1];break;case"c":A=d.C,i.addData(A,D[R++]+r,D[R++]+s,D[R++]+r,D[R++]+s,D[R++]+r,D[R++]+s),r+=D[R-2],s+=D[R-1];break;case"S":k=r,z=s,et=i.len(),it=i.data,p===d.C&&(k+=r-it[et-4],z+=s-it[et-3]),A=d.C,J=D[R++],tt=D[R++],r=D[R++],s=D[R++],i.addData(A,k,z,J,tt,r,s);break;case"s":k=r,z=s,et=i.len(),it=i.data,p===d.C&&(k+=r-it[et-4],z+=s-it[et-3]),A=d.C,J=r+D[R++],tt=s+D[R++],r+=D[R++],s+=D[R++],i.addData(A,k,z,J,tt,r,s);break;case"Q":J=D[R++],tt=D[R++],r=D[R++],s=D[R++],A=d.Q,i.addData(A,J,tt,r,s);break;case"q":J=D[R++]+r,tt=D[R++]+s,r+=D[R++],s+=D[R++],A=d.Q,i.addData(A,J,tt,r,s);break;case"T":k=r,z=s,et=i.len(),it=i.data,p===d.Q&&(k+=r-it[et-4],z+=s-it[et-3]),r=D[R++],s=D[R++],A=d.Q,i.addData(A,k,z,r,s);break;case"t":k=r,z=s,et=i.len(),it=i.data,p===d.Q&&(k+=r-it[et-4],z+=s-it[et-3]),r+=D[R++],s+=D[R++],A=d.Q,i.addData(A,k,z,r,s);break;case"A":B=D[R++],G=D[R++],W=D[R++],Y=D[R++],q=D[R++],J=r,tt=s,r=D[R++],s=D[R++],A=d.A,A6(J,tt,r,s,Y,q,B,G,W,A,i);break;case"a":B=D[R++],G=D[R++],W=D[R++],Y=D[R++],q=D[R++],J=r,tt=s,r+=D[R++],s+=D[R++],A=d.A,A6(J,tt,r,s,Y,q,B,G,W,A,i);break}}(w==="z"||w==="Z")&&(A=d.Z,i.addData(A),r=u,s=c),p=A}return i.toStatic(),i}var C6=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.applyTransform=function(r){},i}(Xe);function D6(n){return n.setData!=null}function M6(n,i){var r=f_t(n),s=st({},i);return s.buildPath=function(u){if(D6(u)){u.setData(r.data);var c=u.getContext();c&&u.rebuildPath(c,1)}else{var c=u;r.rebuildPath(c,1)}},s.applyTransform=function(u){b6(r,u),this.dirtyShape()},s}function L6(n,i){return new C6(M6(n,i))}function c_t(n,i){var r=M6(n,i),s=function(u){e(c,u);function c(p){var d=u.call(this,p)||this;return d.applyTransform=r.applyTransform,d.buildPath=r.buildPath,d}return c}(C6);return s}function h_t(n,i){for(var r=[],s=n.length,u=0;u<s;u++){var c=n[u];r.push(c.getUpdatedPathProxy(!0))}var p=new Xe(i);return p.createPathProxy(),p.buildPath=function(d){if(D6(d)){d.appendPath(r);var m=d.getContext();m&&d.rebuildPath(m,1)}},p}function fP(n,i){i=i||{};var r=new Xe;return n.shape&&r.setShape(n.shape),r.setStyle(n.style),i.bakeTransform?b6(r.path,n.getComputedTransform()):i.toLocal?r.setLocalTransform(n.getComputedTransform()):r.copyTransform(n),r.buildPath=n.buildPath,r.applyTransform=r.applyTransform,r.z=n.z,r.z2=n.z2,r.zlevel=n.zlevel,r}var p_t=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),rl=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new p_t},i.prototype.buildPath=function(r,s){r.moveTo(s.cx+s.r,s.cy),r.arc(s.cx,s.cy,s.r,0,Math.PI*2)},i}(Xe);rl.prototype.type="circle";var v_t=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),l0=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new v_t},i.prototype.buildPath=function(r,s){var u=.5522848,c=s.cx,p=s.cy,d=s.rx,m=s.ry,_=d*u,S=m*u;r.moveTo(c-d,p),r.bezierCurveTo(c-d,p-S,c-_,p-m,c,p-m),r.bezierCurveTo(c+_,p-m,c+d,p-S,c+d,p),r.bezierCurveTo(c+d,p+S,c+_,p+m,c,p+m),r.bezierCurveTo(c-_,p+m,c-d,p+S,c-d,p),r.closePath()},i}(Xe);l0.prototype.type="ellipse";var I6=Math.PI,cP=I6*2,xh=Math.sin,sd=Math.cos,d_t=Math.acos,da=Math.atan2,E6=Math.abs,u0=Math.sqrt,f0=Math.max,il=Math.min,vs=1e-4;function g_t(n,i,r,s,u,c,p,d){var m=r-n,_=s-i,S=p-u,w=d-c,A=w*m-S*_;if(!(A*A<vs))return A=(S*(i-c)-w*(n-u))/A,[n+A*m,i+A*_]}function L1(n,i,r,s,u,c,p){var d=n-r,m=i-s,_=(p?c:-c)/u0(d*d+m*m),S=_*m,w=-_*d,A=n+S,D=i+w,L=r+S,E=s+w,R=(A+L)/2,k=(D+E)/2,z=L-A,B=E-D,G=z*z+B*B,W=u-c,Y=A*E-L*D,q=(B<0?-1:1)*u0(f0(0,W*W*G-Y*Y)),J=(Y*B-z*q)/G,tt=(-Y*z-B*q)/G,et=(Y*B+z*q)/G,it=(-Y*z+B*q)/G,ut=J-R,ct=tt-k,ht=et-R,vt=it-k;return ut*ut+ct*ct>ht*ht+vt*vt&&(J=et,tt=it),{cx:J,cy:tt,x0:-S,y0:-w,x1:J*(u/W-1),y1:tt*(u/W-1)}}function m_t(n){var i;if(wt(n)){var r=n.length;if(!r)return n;r===1?i=[n[0],n[0],0,0]:r===2?i=[n[0],n[0],n[1],n[1]]:r===3?i=n.concat(n[2]):i=n}else i=[n,n,n,n];return i}function y_t(n,i){var r,s=f0(i.r,0),u=f0(i.r0||0,0),c=s>0,p=u>0;if(!(!c&&!p)){if(c||(s=u,u=0),u>s){var d=s;s=u,u=d}var m=i.startAngle,_=i.endAngle;if(!(isNaN(m)||isNaN(_))){var S=i.cx,w=i.cy,A=!!i.clockwise,D=E6(_-m),L=D>cP&&D%cP;if(L>vs&&(D=L),!(s>vs))n.moveTo(S,w);else if(D>cP-vs)n.moveTo(S+s*sd(m),w+s*xh(m)),n.arc(S,w,s,m,_,!A),u>vs&&(n.moveTo(S+u*sd(_),w+u*xh(_)),n.arc(S,w,u,_,m,A));else{var E=void 0,R=void 0,k=void 0,z=void 0,B=void 0,G=void 0,W=void 0,Y=void 0,q=void 0,J=void 0,tt=void 0,et=void 0,it=void 0,ut=void 0,ct=void 0,ht=void 0,vt=s*sd(m),gt=s*xh(m),bt=u*sd(_),St=u*xh(_),Ct=D>vs;if(Ct){var Ot=i.cornerRadius;Ot&&(r=m_t(Ot),E=r[0],R=r[1],k=r[2],z=r[3]);var Vt=E6(s-u)/2;if(B=il(Vt,k),G=il(Vt,z),W=il(Vt,E),Y=il(Vt,R),tt=q=f0(B,G),et=J=f0(W,Y),(q>vs||J>vs)&&(it=s*sd(_),ut=s*xh(_),ct=u*sd(m),ht=u*xh(m),D<I6)){var $t=g_t(vt,gt,ct,ht,it,ut,bt,St);if($t){var pe=vt-$t[0],me=gt-$t[1],Pe=it-$t[0],br=ut-$t[1],ti=1/xh(d_t((pe*Pe+me*br)/(u0(pe*pe+me*me)*u0(Pe*Pe+br*br)))/2),Ge=u0($t[0]*$t[0]+$t[1]*$t[1]);tt=il(q,(s-Ge)/(ti+1)),et=il(J,(u-Ge)/(ti-1))}}}if(!Ct)n.moveTo(S+vt,w+gt);else if(tt>vs){var Se=il(k,tt),Ze=il(z,tt),ce=L1(ct,ht,vt,gt,s,Se,A),Re=L1(it,ut,bt,St,s,Ze,A);n.moveTo(S+ce.cx+ce.x0,w+ce.cy+ce.y0),tt<q&&Se===Ze?n.arc(S+ce.cx,w+ce.cy,tt,da(ce.y0,ce.x0),da(Re.y0,Re.x0),!A):(Se>0&&n.arc(S+ce.cx,w+ce.cy,Se,da(ce.y0,ce.x0),da(ce.y1,ce.x1),!A),n.arc(S,w,s,da(ce.cy+ce.y1,ce.cx+ce.x1),da(Re.cy+Re.y1,Re.cx+Re.x1),!A),Ze>0&&n.arc(S+Re.cx,w+Re.cy,Ze,da(Re.y1,Re.x1),da(Re.y0,Re.x0),!A))}else n.moveTo(S+vt,w+gt),n.arc(S,w,s,m,_,!A);if(!(u>vs)||!Ct)n.lineTo(S+bt,w+St);else if(et>vs){var Se=il(E,et),Ze=il(R,et),ce=L1(bt,St,it,ut,u,-Ze,A),Re=L1(vt,gt,ct,ht,u,-Se,A);n.lineTo(S+ce.cx+ce.x0,w+ce.cy+ce.y0),et<J&&Se===Ze?n.arc(S+ce.cx,w+ce.cy,et,da(ce.y0,ce.x0),da(Re.y0,Re.x0),!A):(Ze>0&&n.arc(S+ce.cx,w+ce.cy,Ze,da(ce.y0,ce.x0),da(ce.y1,ce.x1),!A),n.arc(S,w,u,da(ce.cy+ce.y1,ce.cx+ce.x1),da(Re.cy+Re.y1,Re.cx+Re.x1),A),Se>0&&n.arc(S+Re.cx,w+Re.cy,Se,da(Re.y1,Re.x1),da(Re.y0,Re.x0),!A))}else n.lineTo(S+bt,w+St),n.arc(S,w,u,_,m,A)}n.closePath()}}}var __t=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),ga=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new __t},i.prototype.buildPath=function(r,s){y_t(r,s)},i.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},i}(Xe);ga.prototype.type="sector";var x_t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),ld=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new x_t},i.prototype.buildPath=function(r,s){var u=s.cx,c=s.cy,p=Math.PI*2;r.moveTo(u+s.r,c),r.arc(u,c,s.r,0,p,!1),r.moveTo(u+s.r0,c),r.arc(u,c,s.r0,0,p,!0)},i}(Xe);ld.prototype.type="ring";function S_t(n,i,r,s){var u=[],c=[],p=[],d=[],m,_,S,w;if(s){S=[1/0,1/0],w=[-1/0,-1/0];for(var A=0,D=n.length;A<D;A++)Yl(S,S,n[A]),Zl(w,w,n[A]);Yl(S,S,s[0]),Zl(w,w,s[1])}for(var A=0,D=n.length;A<D;A++){var L=n[A];if(r)m=n[A?A-1:D-1],_=n[(A+1)%D];else if(A===0||A===D-1){u.push(Zs(n[A]));continue}else m=n[A-1],_=n[A+1];rf(c,_,m),Ly(c,c,i);var E=Vb(L,m),R=Vb(L,_),k=E+R;k!==0&&(E/=k,R/=k),Ly(p,c,-E),Ly(d,c,R);var z=RI([],L,p),B=RI([],L,d);s&&(Zl(z,z,S),Yl(z,z,w),Zl(B,B,S),Yl(B,B,w)),u.push(z),u.push(B)}return r&&u.push(u.shift()),u}function P6(n,i,r){var s=i.smooth,u=i.points;if(u&&u.length>=2){if(s){var c=S_t(u,s,r,i.smoothConstraint);n.moveTo(u[0][0],u[0][1]);for(var p=u.length,d=0;d<(r?p:p-1);d++){var m=c[d*2],_=c[d*2+1],S=u[(d+1)%p];n.bezierCurveTo(m[0],m[1],_[0],_[1],S[0],S[1])}}else{n.moveTo(u[0][0],u[0][1]);for(var d=1,w=u.length;d<w;d++)n.lineTo(u[d][0],u[d][1])}r&&n.closePath()}}var b_t=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),ma=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new b_t},i.prototype.buildPath=function(r,s){P6(r,s,!0)},i}(Xe);ma.prototype.type="polygon";var w_t=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),ya=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new w_t},i.prototype.buildPath=function(r,s){P6(r,s,!1)},i}(Xe);ya.prototype.type="polyline";var T_t={},A_t=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Ti=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new A_t},i.prototype.buildPath=function(r,s){var u,c,p,d;if(this.subPixelOptimize){var m=Y4(T_t,s,this.style);u=m.x1,c=m.y1,p=m.x2,d=m.y2}else u=s.x1,c=s.y1,p=s.x2,d=s.y2;var _=s.percent;_!==0&&(r.moveTo(u,c),_<1&&(p=u*(1-_)+p*_,d=c*(1-_)+d*_),r.lineTo(p,d))},i.prototype.pointAt=function(r){var s=this.shape;return[s.x1*(1-r)+s.x2*r,s.y1*(1-r)+s.y2*r]},i}(Xe);Ti.prototype.type="line";var rn=[],C_t=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function R6(n,i,r){var s=n.cpx2,u=n.cpy2;return s!=null||u!=null?[(r?PW:ki)(n.x1,n.cpx1,n.cpx2,n.x2,i),(r?PW:ki)(n.y1,n.cpy1,n.cpy2,n.y2,i)]:[(r?qI:qi)(n.x1,n.cpx1,n.x2,i),(r?qI:qi)(n.y1,n.cpy1,n.y2,i)]}var ud=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new C_t},i.prototype.buildPath=function(r,s){var u=s.x1,c=s.y1,p=s.x2,d=s.y2,m=s.cpx1,_=s.cpy1,S=s.cpx2,w=s.cpy2,A=s.percent;A!==0&&(r.moveTo(u,c),S==null||w==null?(A<1&&(Vy(u,m,p,A,rn),m=rn[1],p=rn[2],Vy(c,_,d,A,rn),_=rn[1],d=rn[2]),r.quadraticCurveTo(m,_,p,d)):(A<1&&(lf(u,m,S,p,A,rn),m=rn[1],S=rn[2],p=rn[3],lf(c,_,w,d,A,rn),_=rn[1],w=rn[2],d=rn[3]),r.bezierCurveTo(m,_,S,w,p,d)))},i.prototype.pointAt=function(r){return R6(this.shape,r,!1)},i.prototype.tangentAt=function(r){var s=R6(this.shape,r,!0);return $c(s,s)},i}(Xe);ud.prototype.type="bezier-curve";var D_t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),c0=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new D_t},i.prototype.buildPath=function(r,s){var u=s.cx,c=s.cy,p=Math.max(s.r,0),d=s.startAngle,m=s.endAngle,_=s.clockwise,S=Math.cos(d),w=Math.sin(d);r.moveTo(S*p+u,w*p+c),r.arc(u,c,p,d,m,!_)},i}(Xe);c0.prototype.type="arc";var I1=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="compound",r}return i.prototype._updatePathDirty=function(){for(var r=this.shape.paths,s=this.shapeChanged(),u=0;u<r.length;u++)s=s||r[u].shapeChanged();s&&this.dirtyShape()},i.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],s=this.getGlobalScale(),u=0;u<r.length;u++)r[u].path||r[u].createPathProxy(),r[u].path.setScale(s[0],s[1],r[u].segmentIgnoreThreshold)},i.prototype.buildPath=function(r,s){for(var u=s.paths||[],c=0;c<u.length;c++)u[c].buildPath(r,u[c].shape,!0)},i.prototype.afterBrush=function(){for(var r=this.shape.paths||[],s=0;s<r.length;s++)r[s].pathUpdated()},i.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Xe.prototype.getBoundingRect.call(this)},i}(Xe),O6=function(){function n(i){this.colorStops=i||[]}return n.prototype.addColorStop=function(i,r){this.colorStops.push({offset:i,color:r})},n}(),fd=function(n){e(i,n);function i(r,s,u,c,p,d){var m=n.call(this,p)||this;return m.x=r??0,m.y=s??0,m.x2=u??1,m.y2=c??0,m.type="linear",m.global=d||!1,m}return i}(O6),hP=function(n){e(i,n);function i(r,s,u,c,p){var d=n.call(this,c)||this;return d.x=r??.5,d.y=s??.5,d.r=u??.5,d.type="radial",d.global=p||!1,d}return i}(O6),Sh=[0,0],bh=[0,0],E1=new ze,P1=new ze,R1=function(){function n(i,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var s=0;s<4;s++)this._corners[s]=new ze;for(var s=0;s<2;s++)this._axes[s]=new ze;i&&this.fromBoundingRect(i,r)}return n.prototype.fromBoundingRect=function(i,r){var s=this._corners,u=this._axes,c=i.x,p=i.y,d=c+i.width,m=p+i.height;if(s[0].set(c,p),s[1].set(d,p),s[2].set(d,m),s[3].set(c,m),r)for(var _=0;_<4;_++)s[_].transform(r);ze.sub(u[0],s[1],s[0]),ze.sub(u[1],s[3],s[0]),u[0].normalize(),u[1].normalize();for(var _=0;_<2;_++)this._origin[_]=u[_].dot(s[0])},n.prototype.intersect=function(i,r){var s=!0,u=!r;return E1.set(1/0,1/0),P1.set(0,0),!this._intersectCheckOneSide(this,i,E1,P1,u,1)&&(s=!1,u)||!this._intersectCheckOneSide(i,this,E1,P1,u,-1)&&(s=!1,u)||u||ze.copy(r,s?E1:P1),s},n.prototype._intersectCheckOneSide=function(i,r,s,u,c,p){for(var d=!0,m=0;m<2;m++){var _=this._axes[m];if(this._getProjMinMaxOnAxis(m,i._corners,Sh),this._getProjMinMaxOnAxis(m,r._corners,bh),Sh[1]<bh[0]||Sh[0]>bh[1]){if(d=!1,c)return d;var S=Math.abs(bh[0]-Sh[1]),w=Math.abs(Sh[0]-bh[1]);Math.min(S,w)>u.len()&&(S<w?ze.scale(u,_,-S*p):ze.scale(u,_,w*p))}else if(s){var S=Math.abs(bh[0]-Sh[1]),w=Math.abs(Sh[0]-bh[1]);Math.min(S,w)<s.len()&&(S<w?ze.scale(s,_,S*p):ze.scale(s,_,-w*p))}}return d},n.prototype._getProjMinMaxOnAxis=function(i,r,s){for(var u=this._axes[i],c=this._origin,p=r[0].dot(u)+c[i],d=p,m=p,_=1;_<r.length;_++){var S=r[_].dot(u)+c[i];d=Math.min(S,d),m=Math.max(S,m)}s[0]=d,s[1]=m},n}(),M_t=[],k6=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return i.prototype.traverse=function(r,s){r.call(s,this)},i.prototype.useStyle=function(){this.style={}},i.prototype.getCursor=function(){return this._cursor},i.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},i.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},i.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},i.prototype.addDisplayable=function(r,s){s?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},i.prototype.addDisplayables=function(r,s){s=s||!1;for(var u=0;u<r.length;u++)this.addDisplayable(r[u],s)},i.prototype.getDisplayables=function(){return this._displayables},i.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},i.prototype.eachPendingDisplayable=function(r){for(var s=this._cursor;s<this._displayables.length;s++)r&&r(this._displayables[s]);for(var s=0;s<this._temporaryDisplayables.length;s++)r&&r(this._temporaryDisplayables[s])},i.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var s=this._displayables[r];s.parent=this,s.update(),s.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var s=this._temporaryDisplayables[r];s.parent=this,s.update(),s.parent=null}},i.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Ve(1/0,1/0,-1/0,-1/0),s=0;s<this._displayables.length;s++){var u=this._displayables[s],c=u.getBoundingRect().clone();u.needLocalTransform()&&c.applyTransform(u.getLocalTransform(M_t)),r.union(c)}this._rect=r}return this._rect},i.prototype.contain=function(r,s){var u=this.transformCoordToLocal(r,s),c=this.getBoundingRect();if(c.contain(u[0],u[1]))for(var p=0;p<this._displayables.length;p++){var d=this._displayables[p];if(d.contain(r,s))return!0}return!1},i}(co),N6=rr();function cd(n,i,r,s,u){var c;if(i&&i.ecModel){var p=i.ecModel.getUpdatePayload();c=p&&p.animation}var d=i&&i.isAnimationEnabled(),m=n==="update";if(d){var _=void 0,S=void 0,w=void 0;s?(_=De(s.duration,200),S=De(s.easing,"cubicOut"),w=0):(_=i.getShallow(m?"animationDurationUpdate":"animationDuration"),S=i.getShallow(m?"animationEasingUpdate":"animationEasing"),w=i.getShallow(m?"animationDelayUpdate":"animationDelay")),c&&(c.duration!=null&&(_=c.duration),c.easing!=null&&(S=c.easing),c.delay!=null&&(w=c.delay)),Gt(w)&&(w=w(r,u)),Gt(_)&&(_=_(r));var A={duration:_||0,delay:w,easing:S};return A}else return null}function pP(n,i,r,s,u,c,p){var d=!1,m;Gt(u)?(p=c,c=u,u=null):re(u)&&(c=u.cb,p=u.during,d=u.isFrom,m=u.removeOpt,u=u.dataIndex);var _=n==="leave";_||i.stopAnimation("leave");var S=cd(n,s,u,_?m||{}:null,s&&s.getAnimationDelayParams?s.getAnimationDelayParams(i,u):null);if(S&&S.duration>0){var w=S.duration,A=S.delay,D=S.easing,L={duration:w,delay:A||0,easing:D,done:c,force:!!c||!!p,setToFinal:!_,scope:n,during:p};d?i.animateFrom(r,L):i.animateTo(r,L)}else i.stopAnimation(),!d&&i.attr(r),p&&p(1),c&&c()}function ir(n,i,r,s,u,c){pP("update",n,i,r,s,u,c)}function Vr(n,i,r,s,u,c){pP("enter",n,i,r,s,u,c)}function hd(n){if(!n.__zr)return!0;for(var i=0;i<n.animators.length;i++){var r=n.animators[i];if(r.scope==="leave")return!0}return!1}function mf(n,i,r,s,u,c){hd(n)||pP("leave",n,i,r,s,u,c)}function z6(n,i,r,s){n.removeTextContent(),n.removeTextGuideLine(),mf(n,{style:{opacity:0}},i,r,s)}function h0(n,i,r){function s(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(u){u.isGroup||z6(u,i,r,s)}):z6(n,i,r,s)}function ds(n){N6(n).oldStyle=n.style}function L_t(n){return N6(n).oldStyle}var O1=Math.max,k1=Math.min,vP={};function V6(n){return Xe.extend(n)}var I_t=c_t;function B6(n,i){return I_t(n,i)}function po(n,i){vP[n]=i}function N1(n){if(vP.hasOwnProperty(n))return vP[n]}function p0(n,i,r,s){var u=L6(n,i);return r&&(s==="center"&&(r=F6(r,u.getBoundingRect())),gP(u,r)),u}function dP(n,i,r){var s=new Ni({style:{image:n,x:i.x,y:i.y,width:i.width,height:i.height},onload:function(u){if(r==="center"){var c={width:u.width,height:u.height};s.setStyle(F6(i,c))}}});return s}function F6(n,i){var r=i.width/i.height,s=n.height*r,u;s<=n.width?u=n.height:(s=n.width,u=s/r);var c=n.x+n.width/2,p=n.y+n.height/2;return{x:c-s/2,y:p-u/2,width:s,height:u}}var zn=h_t;function gP(n,i){if(n.applyTransform){var r=n.getBoundingRect(),s=r.calculateTransform(i);n.applyTransform(s)}}function pd(n,i){return Y4(n,n,{lineWidth:i}),n}function E_t(n){return Z4(n.shape,n.shape,n.style),n}var z1=gh;function yf(n,i){for(var r=Ey([]);n&&n!==i;)Xs(r,n.getLocalTransform(),r),n=n.parent;return r}function gs(n,i,r){return i&&!te(i)&&(i=$l.getLocalTransform(i)),r&&(i=Kc([],i)),Xi([],n,i)}function V1(n,i,r){var s=i[4]===0||i[5]===0||i[0]===0?1:Math.abs(2*i[4]/i[0]),u=i[4]===0||i[5]===0||i[2]===0?1:Math.abs(2*i[4]/i[2]),c=[n==="left"?-s:n==="right"?s:0,n==="top"?-u:n==="bottom"?u:0];return c=gs(c,i,r),Math.abs(c[0])>Math.abs(c[1])?c[0]>0?"right":"left":c[1]>0?"bottom":"top"}function U6(n){return!n.isGroup}function P_t(n){return n.shape!=null}function v0(n,i,r){if(!n||!i)return;function s(p){var d={};return p.traverse(function(m){U6(m)&&m.anid&&(d[m.anid]=m)}),d}function u(p){var d={x:p.x,y:p.y,rotation:p.rotation};return P_t(p)&&(d.shape=st({},p.shape)),d}var c=s(n);i.traverse(function(p){if(U6(p)&&p.anid){var d=c[p.anid];if(d){var m=u(p);p.attr(u(d)),ir(p,m,r,Me(p).dataIndex)}}})}function mP(n,i){return Tt(n,function(r){var s=r[0];s=O1(s,i.x),s=k1(s,i.x+i.width);var u=r[1];return u=O1(u,i.y),u=k1(u,i.y+i.height),[s,u]})}function G6(n,i){var r=O1(n.x,i.x),s=k1(n.x+n.width,i.x+i.width),u=O1(n.y,i.y),c=k1(n.y+n.height,i.y+i.height);if(s>=r&&c>=u)return{x:r,y:u,width:s-r,height:c-u}}function vd(n,i,r){var s=st({rectHover:!0},i),u=s.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(u.image=n.slice(8),dt(u,r),new Ni(s)):p0(n.replace("path://",""),s,r,"center")}function d0(n,i,r,s,u){for(var c=0,p=u[u.length-1];c<u.length;c++){var d=u[c];if(H6(n,i,r,s,d[0],d[1],p[0],p[1]))return!0;p=d}}function H6(n,i,r,s,u,c,p,d){var m=r-n,_=s-i,S=p-u,w=d-c,A=yP(S,w,m,_);if(R_t(A))return!1;var D=n-u,L=i-c,E=yP(D,L,m,_)/A;if(E<0||E>1)return!1;var R=yP(D,L,S,w)/A;return!(R<0||R>1)}function yP(n,i,r,s){return n*s-r*i}function R_t(n){return n<=1e-6&&n>=-1e-6}function wh(n){var i=n.itemTooltipOption,r=n.componentModel,s=n.itemName,u=kt(i)?{formatter:i}:i,c=r.mainType,p=r.componentIndex,d={componentType:c,name:s,$vars:["name"]};d[c+"Index"]=p;var m=n.formatterParamsExtra;m&&j(Xt(m),function(S){Jt(d,S)||(d[S]=m[S],d.$vars.push(S))});var _=Me(n.el);_.componentMainType=c,_.componentIndex=p,_.tooltipConfig={name:s,option:dt({content:s,encodeHTMLContent:!0,formatterParams:d},u)}}function W6(n,i){var r;n.isGroup&&(r=i(n)),r||n.traverse(i)}function _f(n,i){if(n)if(wt(n))for(var r=0;r<n.length;r++)W6(n[r],i);else W6(n,i)}po("circle",rl),po("ellipse",l0),po("sector",ga),po("ring",ld),po("polygon",ma),po("polyline",ya),po("rect",tr),po("line",Ti),po("bezierCurve",ud),po("arc",c0);var Th=Object.freeze({__proto__:null,updateProps:ir,initProps:Vr,removeElement:mf,removeElementWithFadeOut:h0,isElementRemoved:hd,extendShape:V6,extendPath:B6,registerShape:po,getShapeClass:N1,makePath:p0,makeImage:dP,mergePath:zn,resizePath:gP,subPixelOptimizeLine:pd,subPixelOptimizeRect:E_t,subPixelOptimize:z1,getTransform:yf,applyTransform:gs,transformDirection:V1,groupTransition:v0,clipPointsByRect:mP,clipRectByRect:G6,createIcon:vd,linePolygonIntersect:d0,lineLineIntersect:H6,setTooltipConfig:wh,traverseElements:_f,Group:Te,Image:Ni,Text:er,Circle:rl,Ellipse:l0,Sector:ga,Ring:ld,Polygon:ma,Polyline:ya,Rect:tr,Line:Ti,BezierCurve:ud,Arc:c0,IncrementalDisplayable:k6,CompoundPath:I1,LinearGradient:fd,RadialGradient:hP,BoundingRect:Ve,OrientedBoundingRect:R1,Point:ze,Path:Xe}),B1={};function Y6(n,i){for(var r=0;r<za.length;r++){var s=za[r],u=i[s],c=n.ensureState(s);c.style=c.style||{},c.style.text=u}var p=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:i.normal}),n.useStates(p,!0)}function _P(n,i,r){var s=n.labelFetcher,u=n.labelDataIndex,c=n.labelDimIndex,p=i.normal,d;s&&(d=s.getFormattedLabel(u,"normal",null,c,p&&p.get("formatter"),r!=null?{interpolatedValue:r}:null)),d==null&&(d=Gt(n.defaultText)?n.defaultText(u,n,r):n.defaultText);for(var m={normal:d},_=0;_<za.length;_++){var S=za[_],w=i[S];m[S]=De(s?s.getFormattedLabel(u,S,null,c,w&&w.get("formatter")):null,d)}return m}function ia(n,i,r,s){r=r||B1;for(var u=n instanceof er,c=!1,p=0;p<a0.length;p++){var d=i[a0[p]];if(d&&d.getShallow("show")){c=!0;break}}var m=u?n:n.getTextContent();if(c){u||(m||(m=new er,n.setTextContent(m)),n.stateProxy&&(m.stateProxy=n.stateProxy));var _=_P(r,i),S=i.normal,w=!!S.getShallow("show"),A=Dr(S,s&&s.normal,r,!1,!u);A.text=_.normal,u||n.setTextConfig(F1(S,r,!1));for(var p=0;p<za.length;p++){var D=za[p],d=i[D];if(d){var L=m.ensureState(D),E=!!De(d.getShallow("show"),w);if(E!==w&&(L.ignore=!E),L.style=Dr(d,s&&s[D],r,!0,!u),L.style.text=_[D],!u){var R=n.ensureState(D);R.textConfig=F1(d,r,!0)}}}m.silent=!!S.getShallow("silent"),m.style.x!=null&&(A.x=m.style.x),m.style.y!=null&&(A.y=m.style.y),m.ignore=!w,m.useStyle(A),m.dirty(),r.enableTextSetter&&(dd(m).setLabelText=function(k){var z=_P(r,i,k);Y6(m,z)})}else m&&(m.ignore=!0);n.dirty()}function zi(n,i){i=i||"label";for(var r={normal:n.getModel(i)},s=0;s<za.length;s++){var u=za[s];r[u]=n.getModel([u,i])}return r}function Dr(n,i,r,s,u){var c={};return O_t(c,n,r,s,u),i&&st(c,i),c}function F1(n,i,r){i=i||{};var s={},u,c=n.getShallow("rotate"),p=De(n.getShallow("distance"),r?null:5),d=n.getShallow("offset");return u=n.getShallow("position")||(r?null:"inside"),u==="outside"&&(u=i.defaultOutsidePosition||"top"),u!=null&&(s.position=u),d!=null&&(s.offset=d),c!=null&&(c*=Math.PI/180,s.rotation=c),p!=null&&(s.distance=p),s.outsideFill=n.get("color")==="inherit"?i.inheritColor||null:"auto",s}function O_t(n,i,r,s,u){r=r||B1;var c=i.ecModel,p=c&&c.option.textStyle,d=k_t(i),m;if(d){m={};for(var _ in d)if(d.hasOwnProperty(_)){var S=i.getModel(["rich",_]);$6(m[_]={},S,p,r,s,u,!1,!0)}}m&&(n.rich=m);var w=i.get("overflow");w&&(n.overflow=w);var A=i.get("minMargin");A!=null&&(n.margin=A),$6(n,i,p,r,s,u,!0,!1)}function k_t(n){for(var i;n&&n!==n.ecModel;){var r=(n.option||B1).rich;if(r){i=i||{};for(var s=Xt(r),u=0;u<s.length;u++){var c=s[u];i[c]=1}}n=n.parentModel}return i}var Z6=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],X6=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],q6=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function $6(n,i,r,s,u,c,p,d){r=!u&&r||B1;var m=s&&s.inheritColor,_=i.getShallow("color"),S=i.getShallow("textBorderColor"),w=De(i.getShallow("opacity"),r.opacity);(_==="inherit"||_==="auto")&&(_==="auto"&&si("color: 'auto'","color: 'inherit'"),m?_=m:_=null),(S==="inherit"||S==="auto")&&(S==="auto"&&si("color: 'auto'","color: 'inherit'"),m?S=m:S=null),c||(_=_||r.color,S=S||r.textBorderColor),_!=null&&(n.fill=_),S!=null&&(n.stroke=S);var A=De(i.getShallow("textBorderWidth"),r.textBorderWidth);A!=null&&(n.lineWidth=A);var D=De(i.getShallow("textBorderType"),r.textBorderType);D!=null&&(n.lineDash=D);var L=De(i.getShallow("textBorderDashOffset"),r.textBorderDashOffset);L!=null&&(n.lineDashOffset=L),!u&&w==null&&!d&&(w=s&&s.defaultOpacity),w!=null&&(n.opacity=w),!u&&!c&&n.fill==null&&s.inheritColor&&(n.fill=s.inheritColor);for(var E=0;E<Z6.length;E++){var R=Z6[E],k=De(i.getShallow(R),r[R]);k!=null&&(n[R]=k)}for(var E=0;E<X6.length;E++){var R=X6[E],k=i.getShallow(R);k!=null&&(n[R]=k)}if(n.verticalAlign==null){var z=i.getShallow("baseline");z!=null&&(n.verticalAlign=z)}if(!p||!s.disableBox){for(var E=0;E<q6.length;E++){var R=q6[E],k=i.getShallow(R);k!=null&&(n[R]=k)}var B=i.getShallow("borderType");B!=null&&(n.borderDash=B),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&m&&(n.backgroundColor==="auto"&&si("backgroundColor: 'auto'","backgroundColor: 'inherit'"),n.backgroundColor=m),(n.borderColor==="auto"||n.borderColor==="inherit")&&m&&(n.borderColor==="auto"&&si("borderColor: 'auto'","borderColor: 'inherit'"),n.borderColor=m)}}function xP(n,i){var r=i&&i.getModel("textStyle");return no([n.fontStyle||r&&r.getShallow("fontStyle")||"",n.fontWeight||r&&r.getShallow("fontWeight")||"",(n.fontSize||r&&r.getShallow("fontSize")||12)+"px",n.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var dd=rr();function K6(n,i,r,s){if(n){var u=dd(n);u.prevValue=u.value,u.value=r;var c=i.normal;u.valueAnimation=c.get("valueAnimation"),u.valueAnimation&&(u.precision=c.get("precision"),u.defaultInterpolatedText=s,u.statesModels=i)}}function j6(n,i,r,s,u){var c=dd(n);if(!c.valueAnimation||c.prevValue===c.value)return;var p=c.defaultInterpolatedText,d=De(c.interpolatedValue,c.prevValue),m=c.value;function _(S){var w=L4(r,c.precision,d,m,S);c.interpolatedValue=S===1?null:w;var A=_P({labelDataIndex:i,labelFetcher:u,defaultText:p?p(w):w+""},c.statesModels,w);Y6(n,A)}n.percent=0,(c.prevValue==null?Vr:ir)(n,{percent:1},s,i,null,_)}var N_t=["textStyle","color"],SP=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],bP=new er,z_t=function(){function n(){}return n.prototype.getTextColor=function(i){var r=this.ecModel;return this.getShallow("color")||(!i&&r?r.get(N_t):null)},n.prototype.getFont=function(){return xP({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(i){for(var r={text:i,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},s=0;s<SP.length;s++)r[SP[s]]=this.getShallow(SP[s]);return bP.useStyle(r),bP.update(),bP.getBoundingRect()},n}(),J6=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],V_t=lh(J6),B_t=function(){function n(){}return n.prototype.getLineStyle=function(i){return V_t(this,i)},n}(),Q6=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],F_t=lh(Q6),U_t=function(){function n(){}return n.prototype.getItemStyle=function(i,r){return F_t(this,i,r)},n}(),sr=function(){function n(i,r,s){this.parentModel=r,this.ecModel=s,this.option=i}return n.prototype.init=function(i,r,s){for(var u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c]},n.prototype.mergeOption=function(i,r){pt(this.option,i,!0)},n.prototype.get=function(i,r){return i==null?this.option:this._doGet(this.parsePath(i),!r&&this.parentModel)},n.prototype.getShallow=function(i,r){var s=this.option,u=s==null?s:s[i];if(u==null&&!r){var c=this.parentModel;c&&(u=c.getShallow(i))}return u},n.prototype.getModel=function(i,r){var s=i!=null,u=s?this.parsePath(i):null,c=s?this._doGet(u):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(u)),new n(c,r,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var i=this.constructor;return new i(lt(this.option))},n.prototype.parsePath=function(i){return typeof i=="string"?i.split("."):i},n.prototype.resolveParentPath=function(i){return i},n.prototype.isAnimationEnabled=function(){if(!f.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(i,r){var s=this.option;if(!i)return s;for(var u=0;u<i.length&&!(i[u]&&(s=s&&typeof s=="object"?s[i[u]]:null,s==null));u++);return s==null&&r&&(s=r._doGet(this.resolveParentPath(i),r.parentModel)),s},n}();RE(sr),t0t(sr),qt(sr,B_t),qt(sr,U_t),qt(sr,n0t),qt(sr,z_t);var G_t=Math.round(Math.random()*10);function gd(n){return[n||"",G_t++].join("_")}function H_t(n){var i={};n.registerSubTypeDefaulter=function(r,s){var u=js(r);i[u.main]=s},n.determineSubType=function(r,s){var u=s.type;if(!u){var c=js(r).main;n.hasSubTypes(r)&&i[c]&&(u=i[c](s))}return u}}function W_t(n,i){n.topologicalTravel=function(c,p,d,m){if(!c.length)return;var _=r(p),S=_.graph,w=_.noEntryList,A={};for(j(c,function(z){A[z]=!0});w.length;){var D=w.pop(),L=S[D],E=!!A[D];E&&(d.call(m,D,L.originalDeps.slice()),delete A[D]),j(L.successor,E?k:R)}j(A,function(){var z="";throw z=ka("Circular dependency may exists: ",A,c,p),new Error(z)});function R(z){S[z].entryCount--,S[z].entryCount===0&&w.push(z)}function k(z){A[z]=!0,R(z)}};function r(c){var p={},d=[];return j(c,function(m){var _=s(p,m),S=_.originalDeps=i(m),w=u(S,c);_.entryCount=w.length,_.entryCount===0&&d.push(m),j(w,function(A){At(_.predecessor,A)<0&&_.predecessor.push(A);var D=s(p,A);At(D.successor,A)<0&&D.successor.push(m)})}),{graph:p,noEntryList:d}}function s(c,p){return c[p]||(c[p]={predecessor:[],successor:[]}),c[p]}function u(c,p){var d=[];return j(c,function(m){At(p,m)>=0&&d.push(m)}),d}}function xf(n,i){return pt(pt({},n,!0),i,!0)}var Y_t={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Z_t={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},U1="ZH",wP="EN",md=wP,G1={},TP={},tY=f.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||md).toUpperCase();return n.indexOf(U1)>-1?U1:md}():md;function AP(n,i){n=n.toUpperCase(),TP[n]=new sr(i),G1[n]=i}function X_t(n){if(kt(n)){var i=G1[n.toUpperCase()]||{};return n===U1||n===wP?lt(i):pt(lt(i),lt(G1[md]),!1)}else return pt(lt(n),lt(G1[md]),!1)}function CP(n){return TP[n]}function q_t(){return TP[md]}AP(wP,Y_t),AP(U1,Z_t);var DP=1e3,MP=DP*60,g0=MP*60,vo=g0*24,eY=vo*365,m0={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},H1="{yyyy}-{MM}-{dd}",rY={year:"{yyyy}",month:"{yyyy}-{MM}",day:H1,hour:H1+" "+m0.hour,minute:H1+" "+m0.minute,second:H1+" "+m0.second,millisecond:m0.none},LP=["year","month","day","hour","minute","second","millisecond"],iY=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Va(n,i){return n+="","0000".substr(0,i-n.length)+n}function yd(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function $_t(n){return n===yd(n)}function K_t(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function y0(n,i,r,s){var u=kn(n),c=u[IP(r)](),p=u[_d(r)]()+1,d=Math.floor((p-1)/3)+1,m=u[W1(r)](),_=u["get"+(r?"UTC":"")+"Day"](),S=u[_0(r)](),w=(S-1)%12+1,A=u[Y1(r)](),D=u[Z1(r)](),L=u[X1(r)](),E=S>=12?"pm":"am",R=E.toUpperCase(),k=s instanceof sr?s:CP(s||tY)||q_t(),z=k.getModel("time"),B=z.get("month"),G=z.get("monthAbbr"),W=z.get("dayOfWeek"),Y=z.get("dayOfWeekAbbr");return(i||"").replace(/{a}/g,E+"").replace(/{A}/g,R+"").replace(/{yyyy}/g,c+"").replace(/{yy}/g,Va(c%100+"",2)).replace(/{Q}/g,d+"").replace(/{MMMM}/g,B[p-1]).replace(/{MMM}/g,G[p-1]).replace(/{MM}/g,Va(p,2)).replace(/{M}/g,p+"").replace(/{dd}/g,Va(m,2)).replace(/{d}/g,m+"").replace(/{eeee}/g,W[_]).replace(/{ee}/g,Y[_]).replace(/{e}/g,_+"").replace(/{HH}/g,Va(S,2)).replace(/{H}/g,S+"").replace(/{hh}/g,Va(w+"",2)).replace(/{h}/g,w+"").replace(/{mm}/g,Va(A,2)).replace(/{m}/g,A+"").replace(/{ss}/g,Va(D,2)).replace(/{s}/g,D+"").replace(/{SSS}/g,Va(L,3)).replace(/{S}/g,L+"")}function j_t(n,i,r,s,u){var c=null;if(kt(r))c=r;else if(Gt(r))c=r(n.value,i,{level:n.level});else{var p=st({},m0);if(n.level>0)for(var d=0;d<LP.length;++d)p[LP[d]]="{primary|"+p[LP[d]]+"}";var m=r?r.inherit===!1?r:dt(r,p):p,_=aY(n.value,u);if(m[_])c=m[_];else if(m.inherit){for(var S=iY.indexOf(_),d=S-1;d>=0;--d)if(m[_]){c=m[_];break}c=c||p.none}if(wt(c)){var w=n.level==null?0:n.level>=0?n.level:c.length+n.level;w=Math.min(w,c.length-1),c=c[w]}}return y0(new Date(n.value),c,u,s)}function aY(n,i){var r=kn(n),s=r[_d(i)]()+1,u=r[W1(i)](),c=r[_0(i)](),p=r[Y1(i)](),d=r[Z1(i)](),m=r[X1(i)](),_=m===0,S=_&&d===0,w=S&&p===0,A=w&&c===0,D=A&&u===1,L=D&&s===1;return L?"year":D?"month":A?"day":w?"hour":S?"minute":_?"second":"millisecond"}function nY(n,i,r){var s=Ne(n)?kn(n):n;switch(i=i||aY(n,r),i){case"year":return s[IP(r)]();case"half-year":return s[_d(r)]()>=6?1:0;case"quarter":return Math.floor((s[_d(r)]()+1)/4);case"month":return s[_d(r)]();case"day":return s[W1(r)]();case"half-day":return s[_0(r)]()/24;case"hour":return s[_0(r)]();case"minute":return s[Y1(r)]();case"second":return s[Z1(r)]();case"millisecond":return s[X1(r)]()}}function IP(n){return n?"getUTCFullYear":"getFullYear"}function _d(n){return n?"getUTCMonth":"getMonth"}function W1(n){return n?"getUTCDate":"getDate"}function _0(n){return n?"getUTCHours":"getHours"}function Y1(n){return n?"getUTCMinutes":"getMinutes"}function Z1(n){return n?"getUTCSeconds":"getSeconds"}function X1(n){return n?"getUTCMilliseconds":"getMilliseconds"}function J_t(n){return n?"setUTCFullYear":"setFullYear"}function oY(n){return n?"setUTCMonth":"setMonth"}function sY(n){return n?"setUTCDate":"setDate"}function lY(n){return n?"setUTCHours":"setHours"}function uY(n){return n?"setUTCMinutes":"setMinutes"}function fY(n){return n?"setUTCSeconds":"setSeconds"}function cY(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Q_t(n,i,r,s,u,c,p,d){var m=new er({style:{text:n,font:i,align:r,verticalAlign:s,padding:u,rich:c,overflow:p?"truncate":null,lineHeight:d}});return m.getBoundingRect()}function EP(n){if(!h1(n))return kt(n)?n:"-";var i=(n+"").split(".");return i[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(i.length>1?"."+i[1]:"")}function PP(n,i){return n=(n||"").toLowerCase().replace(/-(.)/g,function(r,s){return s.toUpperCase()}),i&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Ah=Nb;function RP(n,i,r){var s="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function u(S){return S&&no(S)?S:"-"}function c(S){return!!(S!=null&&!isNaN(S)&&isFinite(S))}var p=i==="time",d=n instanceof Date;if(p||d){var m=p?kn(n):n;if(isNaN(+m)){if(d)return"-"}else return y0(m,s,r)}if(i==="ordinal")return Hr(n)?u(n):Ne(n)&&c(n)?n+"":"-";var _=Ks(n);return c(_)?EP(_):Hr(n)?u(n):typeof n=="boolean"?n+"":"-"}var hY=["a","b","c","d","e","f","g"],OP=function(n,i){return"{"+n+(i??"")+"}"};function kP(n,i,r){wt(i)||(i=[i]);var s=i.length;if(!s)return"";for(var u=i[0].$vars||[],c=0;c<u.length;c++){var p=hY[c];n=n.replace(OP(p),OP(p,0))}for(var d=0;d<s;d++)for(var m=0;m<u.length;m++){var _=i[d][u[m]];n=n.replace(OP(hY[m],d),r?ta(_):_)}return n}function txt(n,i,r){return j(i,function(s,u){n=n.replace("{"+u+"}",r?ta(s):s)}),n}function pY(n,i){var r=kt(n)?{color:n,extraCssText:i}:n||{},s=r.color,u=r.type;i=r.extraCssText;var c=r.renderMode||"html";if(!s)return"";if(c==="html")return u==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ta(s)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ta(s)+";"+(i||"")+'"></span>';var p=r.markerId||"markerX";return{renderMode:c,content:"{"+p+"|}  ",style:u==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:s}:{width:10,height:10,borderRadius:5,backgroundColor:s}}}function ext(n,i,r){si("echarts.format.formatTime","echarts.time.format"),(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var s=kn(i),u=r?"getUTC":"get",c=s[u+"FullYear"](),p=s[u+"Month"]()+1,d=s[u+"Date"](),m=s[u+"Hours"](),_=s[u+"Minutes"](),S=s[u+"Seconds"](),w=s[u+"Milliseconds"]();return n=n.replace("MM",Va(p,2)).replace("M",p).replace("yyyy",c).replace("yy",Va(c%100+"",2)).replace("dd",Va(d,2)).replace("d",d).replace("hh",Va(m,2)).replace("h",m).replace("mm",Va(_,2)).replace("m",_).replace("ss",Va(S,2)).replace("s",S).replace("SSS",Va(w,3)),n}function rxt(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function Ch(n,i){return i=i||"transparent",kt(n)?n:re(n)&&n.colorStops&&(n.colorStops[0]||{}).color||i}function q1(n,i){if(i==="_blank"||i==="blank"){var r=window.open();r.opener=null,r.location.href=n}else window.open(n,i)}var $1=j,vY=["left","right","top","bottom","width","height"],Dh=[["width","left","right"],["height","top","bottom"]];function NP(n,i,r,s,u){var c=0,p=0;s==null&&(s=1/0),u==null&&(u=1/0);var d=0;i.eachChild(function(m,_){var S=m.getBoundingRect(),w=i.childAt(_+1),A=w&&w.getBoundingRect(),D,L;if(n==="horizontal"){var E=S.width+(A?-A.x+S.x:0);D=c+E,D>s||m.newline?(c=0,D=E,p+=d+r,d=S.height):d=Math.max(d,S.height)}else{var R=S.height+(A?-A.y+S.y:0);L=p+R,L>u||m.newline?(c+=d+r,p=0,L=R,d=S.width):d=Math.max(d,S.width)}m.newline||(m.x=c,m.y=p,m.markRedraw(),n==="horizontal"?c=D+r:p=L+r)})}var Mh=NP,vKt=ee(NP,"vertical"),dKt=ee(NP,"horizontal");function ixt(n,i,r){var s=i.width,u=i.height,c=Wt(n.left,s),p=Wt(n.top,u),d=Wt(n.right,s),m=Wt(n.bottom,u);return(isNaN(c)||isNaN(parseFloat(n.left)))&&(c=0),(isNaN(d)||isNaN(parseFloat(n.right)))&&(d=s),(isNaN(p)||isNaN(parseFloat(n.top)))&&(p=0),(isNaN(m)||isNaN(parseFloat(n.bottom)))&&(m=u),r=Ah(r||0),{width:Math.max(d-c-r[1]-r[3],0),height:Math.max(m-p-r[0]-r[2],0)}}function yi(n,i,r){r=Ah(r||0);var s=i.width,u=i.height,c=Wt(n.left,s),p=Wt(n.top,u),d=Wt(n.right,s),m=Wt(n.bottom,u),_=Wt(n.width,s),S=Wt(n.height,u),w=r[2]+r[0],A=r[1]+r[3],D=n.aspect;switch(isNaN(_)&&(_=s-d-A-c),isNaN(S)&&(S=u-m-w-p),D!=null&&(isNaN(_)&&isNaN(S)&&(D>s/u?_=s*.8:S=u*.8),isNaN(_)&&(_=D*S),isNaN(S)&&(S=_/D)),isNaN(c)&&(c=s-d-_-A),isNaN(p)&&(p=u-m-S-w),n.left||n.right){case"center":c=s/2-_/2-r[3];break;case"right":c=s-_-A;break}switch(n.top||n.bottom){case"middle":case"center":p=u/2-S/2-r[0];break;case"bottom":p=u-S-w;break}c=c||0,p=p||0,isNaN(_)&&(_=s-A-c-(d||0)),isNaN(S)&&(S=u-w-p-(m||0));var L=new Ve(c+r[3],p+r[0],_,S);return L.margin=r,L}function K1(n,i,r,s,u,c){var p=!u||!u.hv||u.hv[0],d=!u||!u.hv||u.hv[1],m=u&&u.boundingMode||"all";if(c=c||n,c.x=n.x,c.y=n.y,!p&&!d)return!1;var _;if(m==="raw")_=n.type==="group"?new Ve(0,0,+i.width||0,+i.height||0):n.getBoundingRect();else if(_=n.getBoundingRect(),n.needLocalTransform()){var S=n.getLocalTransform();_=_.clone(),_.applyTransform(S)}var w=yi(dt({width:_.width,height:_.height},i),r,s),A=p?w.x-_.x:0,D=d?w.y-_.y:0;return m==="raw"?(c.x=A,c.y=D):(c.x+=A,c.y+=D),c===n&&n.markRedraw(),!0}function axt(n,i){return n[Dh[i][0]]!=null||n[Dh[i][1]]!=null&&n[Dh[i][2]]!=null}function x0(n){var i=n.layoutMode||n.constructor.layoutMode;return re(i)?i:i?{type:i}:null}function Sf(n,i,r){var s=r&&r.ignoreSize;!wt(s)&&(s=[s,s]);var u=p(Dh[0],0),c=p(Dh[1],1);_(Dh[0],n,u),_(Dh[1],n,c);function p(S,w){var A={},D=0,L={},E=0,R=2;if($1(S,function(B){L[B]=n[B]}),$1(S,function(B){d(i,B)&&(A[B]=L[B]=i[B]),m(A,B)&&D++,m(L,B)&&E++}),s[w])return m(i,S[1])?L[S[2]]=null:m(i,S[2])&&(L[S[1]]=null),L;if(E===R||!D)return L;if(D>=R)return A;for(var k=0;k<S.length;k++){var z=S[k];if(!d(A,z)&&d(n,z)){A[z]=n[z];break}}return A}function d(S,w){return S.hasOwnProperty(w)}function m(S,w){return S[w]!=null&&S[w]!=="auto"}function _(S,w,A){$1(S,function(D){w[D]=A[D]})}}function xd(n){return dY({},n)}function dY(n,i){return i&&n&&$1(vY,function(r){i.hasOwnProperty(r)&&(n[r]=i[r])}),n}var nxt=rr(),We=function(n){e(i,n);function i(r,s,u){var c=n.call(this,r,s,u)||this;return c.uid=gd("ec_cpt_model"),c}return i.prototype.init=function(r,s,u){this.mergeDefaultAndTheme(r,u)},i.prototype.mergeDefaultAndTheme=function(r,s){var u=x0(this),c=u?xd(r):{},p=s.getTheme();pt(r,p.get(this.mainType)),pt(r,this.getDefaultOption()),u&&Sf(r,c,u)},i.prototype.mergeOption=function(r,s){pt(this.option,r,!0);var u=x0(this);u&&Sf(this.option,r,u)},i.prototype.optionUpdated=function(r,s){},i.prototype.getDefaultOption=function(){var r=this.constructor;if(!jyt(r))return r.defaultOption;var s=nxt(this);if(!s.defaultOption){for(var u=[],c=r;c;){var p=c.prototype.defaultOption;p&&u.push(p),c=c.superClass}for(var d={},m=u.length-1;m>=0;m--)d=pt(d,u[m],!0);s.defaultOption=d}return s.defaultOption},i.prototype.getReferringComponents=function(r,s){var u=r+"Index",c=r+"Id";return t0(this.ecModel,r,{index:this.get(u,!0),id:this.get(c,!0)},s)},i.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},i.prototype.getZLevelKey=function(){return""},i.prototype.setZLevel=function(r){this.option.zlevel=r},i.protoInitialize=function(){var r=i.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),i}(sr);E4(We,sr),v1(We),H_t(We),W_t(We,oxt);function oxt(n){var i=[];return j(We.getClassesByMainType(n),function(r){i=i.concat(r.dependencies||r.prototype.dependencies||[])}),i=Tt(i,function(r){return js(r).main}),n!=="dataset"&&At(i,"dataset")<=0&&i.unshift("dataset"),i}var gY="";typeof navigator<"u"&&(gY=navigator.platform||"");var Sd="rgba(0, 0, 0, 0.2)",sxt={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Sd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Sd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Sd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Sd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Sd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Sd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:gY.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},zP=le(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),go="original",_a="arrayRows",mo="objectRows",al="keyedColumns",eu="typedArray",mY="unknown",nl="column",bd="row",aa={Must:1,Might:2,Not:3},yY=rr();function lxt(n){yY(n).datasetMap=le()}function _Y(n,i,r){var s={},u=BP(i);if(!u||!n)return s;var c=[],p=[],d=i.ecModel,m=yY(d).datasetMap,_=u.uid+"_"+r.seriesLayoutBy,S,w;n=n.slice(),j(n,function(E,R){var k=re(E)?E:n[R]={name:E};k.type==="ordinal"&&S==null&&(S=R,w=L(k)),s[k.name]=[]});var A=m.get(_)||m.set(_,{categoryWayDim:w,valueWayDim:0});j(n,function(E,R){var k=E.name,z=L(E);if(S==null){var B=A.valueWayDim;D(s[k],B,z),D(p,B,z),A.valueWayDim+=z}else if(S===R)D(s[k],0,z),D(c,0,z);else{var B=A.categoryWayDim;D(s[k],B,z),D(p,B,z),A.categoryWayDim+=z}});function D(E,R,k){for(var z=0;z<k;z++)E.push(R+z)}function L(E){var R=E.dimsDef;return R?R.length:1}return c.length&&(s.itemName=c),p.length&&(s.seriesName=p),s}function VP(n,i,r){var s={},u=BP(n);if(!u)return s;var c=i.sourceFormat,p=i.dimensionsDefine,d;(c===mo||c===al)&&j(p,function(S,w){(re(S)?S.name:S)==="name"&&(d=w)});var m=function(){for(var S={},w={},A=[],D=0,L=Math.min(5,r);D<L;D++){var E=SY(i.data,c,i.seriesLayoutBy,p,i.startIndex,D);A.push(E);var R=E===aa.Not;if(R&&S.v==null&&D!==d&&(S.v=D),(S.n==null||S.n===S.v||!R&&A[S.n]===aa.Not)&&(S.n=D),k(S)&&A[S.n]!==aa.Not)return S;R||(E===aa.Might&&w.v==null&&D!==d&&(w.v=D),(w.n==null||w.n===w.v)&&(w.n=D))}function k(z){return z.v!=null&&z.n!=null}return k(S)?S:k(w)?w:null}();if(m){s.value=[m.v];var _=d??m.n;s.itemName=[_],s.seriesName=[_]}return s}function BP(n){var i=n.get("data",!0);if(!i)return t0(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},mi).models[0]}function uxt(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:t0(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},mi).models}function xY(n,i){return SY(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,i)}function SY(n,i,r,s,u,c){var p,d=5;if(Wr(n))return aa.Not;var m,_;if(s){var S=s[c];re(S)?(m=S.name,_=S.type):kt(S)&&(m=S)}if(_!=null)return _==="ordinal"?aa.Must:aa.Not;if(i===_a){var w=n;if(r===bd){for(var A=w[c],D=0;D<(A||[]).length&&D<d;D++)if((p=G(A[u+D]))!=null)return p}else for(var D=0;D<w.length&&D<d;D++){var L=w[u+D];if(L&&(p=G(L[c]))!=null)return p}}else if(i===mo){var E=n;if(!m)return aa.Not;for(var D=0;D<E.length&&D<d;D++){var R=E[D];if(R&&(p=G(R[m]))!=null)return p}}else if(i===al){var k=n;if(!m)return aa.Not;var A=k[m];if(!A||Wr(A))return aa.Not;for(var D=0;D<A.length&&D<d;D++)if((p=G(A[D]))!=null)return p}else if(i===go)for(var z=n,D=0;D<z.length&&D<d;D++){var R=z[D],B=td(R);if(!wt(B))return aa.Not;if((p=G(B[c]))!=null)return p}function G(W){var Y=kt(W);if(W!=null&&Number.isFinite(Number(W))&&W!=="")return Y?aa.Might:aa.Not;if(Y&&W!=="-")return aa.Must}return aa.Not}var FP=le();function fxt(n,i){de(FP.get(n)==null&&i),FP.set(n,i)}function cxt(n,i,r){var s=FP.get(i);if(!s)return r;var u=s(n);if(!u)return r;for(var c=0;c<u.length;c++)de(ed(u[c]));return r.concat(u)}var bY=rr(),hxt=rr(),UP=function(){function n(){}return n.prototype.getColorFromPalette=function(i,r,s){var u=xr(this.get("color",!0)),c=this.get("colorLayer",!0);return wY(this,bY,u,c,i,r,s)},n.prototype.clearColorPalette=function(){vxt(this,bY)},n}();function GP(n,i,r,s){var u=xr(n.get(["aria","decal","decals"]));return wY(n,hxt,u,null,i,r,s)}function pxt(n,i){for(var r=n.length,s=0;s<r;s++)if(n[s].length>i)return n[s];return n[r-1]}function wY(n,i,r,s,u,c,p){c=c||n;var d=i(c),m=d.paletteIdx||0,_=d.paletteNameMap=d.paletteNameMap||{};if(_.hasOwnProperty(u))return _[u];var S=p==null||!s?r:pxt(s,p);if(S=S||r,!(!S||!S.length)){var w=S[m];return u&&(_[u]=w),d.paletteIdx=(m+1)%S.length,w}}function vxt(n,i){i(n).paletteIdx=0,i(n).paletteNameMap={}}var j1,S0,TY,HP="\0_ec_inner",AY=1,dxt={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},gxt={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},J1={};function mxt(n){j(n,function(i,r){if(!We.hasClass(r)){var s=dxt[r];s&&!J1[s]&&(ea("Component "+r+` is used but not imported.
import { `+s+` } from 'echarts/components';
echarts.use([`+s+"]);"),J1[s]=!0)}})}var WP=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.init=function(r,s,u,c,p,d){c=c||{},this.option=null,this._theme=new sr(c),this._locale=new sr(p),this._optionManager=d},i.prototype.setOption=function(r,s,u){de(r!=null,"option is null/undefined"),de(r[HP]!==AY,"please use chart.getOption()");var c=MY(s);this._optionManager.setOption(r,u,c),this._resetOption(null,c)},i.prototype.resetOption=function(r,s){return this._resetOption(r,MY(s))},i.prototype._resetOption=function(r,s){var u=!1,c=this._optionManager;if(!r||r==="recreate"){var p=c.mountOption(r==="recreate");mxt(p),!this.option||r==="recreate"?TY(this,p):(this.restoreData(),this._mergeOption(p,s)),u=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var d=c.getTimelineOption(this);d&&(u=!0,this._mergeOption(d,s))}if(!r||r==="recreate"||r==="media"){var m=c.getMediaOption(this);m.length&&j(m,function(_){u=!0,this._mergeOption(_,s)},this)}return u},i.prototype.mergeOption=function(r){this._mergeOption(r,null)},i.prototype._mergeOption=function(r,s){var u=this.option,c=this._componentsMap,p=this._componentsCount,d=[],m=le(),_=s&&s.replaceMergeMainTypeMap;lxt(this),j(r,function(w,A){w!=null&&(We.hasClass(A)?A&&(d.push(A),m.set(A,!0)):u[A]=u[A]==null?lt(w):pt(u[A],w,!0))}),_&&_.each(function(w,A){We.hasClass(A)&&!m.get(A)&&(d.push(A),m.set(A,!0))}),We.topologicalTravel(d,We.getAllClassMainTypes(),S,this);function S(w){var A=cxt(this,w,xr(r[w])),D=c.get(w),L=D?_&&_.get(w)?"replaceMerge":"normalMerge":"replaceAll",E=T4(D,A,L);Gyt(E,w,We),u[w]=null,c.set(w,null),p.set(w,0);var R=[],k=[],z=0,B,G;j(E,function(W,Y){var q=W.existing,J=W.newOption;if(!J)q&&(q.mergeOption({},this),q.optionUpdated({},!1));else{var tt=w==="series",et=We.getClass(w,W.keyInfo.subType,!tt);if(!et){var it=W.keyInfo.subType,ut=gxt[it];J1[it]||(J1[it]=!0,ea(ut?"Series "+it+` is used but not imported.
import { `+ut+` } from 'echarts/charts';
echarts.use([`+ut+"]);":"Unknown series "+it));return}if(w==="tooltip"){if(B){G||(Yr("Currently only one tooltip component is allowed."),G=!0);return}B=!0}if(q&&q.constructor===et)q.name=W.keyInfo.name,q.mergeOption(J,this),q.optionUpdated(J,!1);else{var ct=st({componentIndex:Y},W.keyInfo);q=new et(J,this,this,ct),st(q,ct),W.brandNew&&(q.__requireNewView=!0),q.init(J,this,this),q.optionUpdated(null,!0)}}q?(R.push(q.option),k.push(q),z++):(R.push(void 0),k.push(void 0))},this),u[w]=R,c.set(w,k),p.set(w,z),w==="series"&&j1(this)}this._seriesIndices||j1(this)},i.prototype.getOption=function(){var r=lt(this.option);return j(r,function(s,u){if(We.hasClass(u)){for(var c=xr(s),p=c.length,d=!1,m=p-1;m>=0;m--)c[m]&&!ed(c[m])?d=!0:(c[m]=null,!d&&p--);c.length=p,r[u]=c}}),delete r[HP],r},i.prototype.getTheme=function(){return this._theme},i.prototype.getLocaleModel=function(){return this._locale},i.prototype.setUpdatePayload=function(r){this._payload=r},i.prototype.getUpdatePayload=function(){return this._payload},i.prototype.getComponent=function(r,s){var u=this._componentsMap.get(r);if(u){var c=u[s||0];if(c)return c;if(s==null){for(var p=0;p<u.length;p++)if(u[p])return u[p]}}},i.prototype.queryComponents=function(r){var s=r.mainType;if(!s)return[];var u=r.index,c=r.id,p=r.name,d=this._componentsMap.get(s);if(!d||!d.length)return[];var m;return u!=null?(m=[],j(xr(u),function(_){d[_]&&m.push(d[_])})):c!=null?m=CY("id",c,d):p!=null?m=CY("name",p,d):m=jt(d,function(_){return!!_}),DY(m,r)},i.prototype.findComponents=function(r){var s=r.query,u=r.mainType,c=d(s),p=c?this.queryComponents(c):jt(this._componentsMap.get(u),function(_){return!!_});return m(DY(p,r));function d(_){var S=u+"Index",w=u+"Id",A=u+"Name";return _&&(_[S]!=null||_[w]!=null||_[A]!=null)?{mainType:u,index:_[S],id:_[w],name:_[A]}:null}function m(_){return r.filter?jt(_,r.filter):_}},i.prototype.eachComponent=function(r,s,u){var c=this._componentsMap;if(Gt(r)){var p=s,d=r;c.each(function(w,A){for(var D=0;w&&D<w.length;D++){var L=w[D];L&&d.call(p,A,L,L.componentIndex)}})}else for(var m=kt(r)?c.get(r):re(r)?this.findComponents(r):null,_=0;m&&_<m.length;_++){var S=m[_];S&&s.call(u,S,S.componentIndex)}},i.prototype.getSeriesByName=function(r){var s=wi(r,null);return jt(this._componentsMap.get("series"),function(u){return!!u&&s!=null&&u.name===s})},i.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},i.prototype.getSeriesByType=function(r){return jt(this._componentsMap.get("series"),function(s){return!!s&&s.subType===r})},i.prototype.getSeries=function(){return jt(this._componentsMap.get("series"),function(r){return!!r})},i.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},i.prototype.eachSeries=function(r,s){S0(this),j(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];r.call(s,c,u)},this)},i.prototype.eachRawSeries=function(r,s){j(this._componentsMap.get("series"),function(u){u&&r.call(s,u,u.componentIndex)})},i.prototype.eachSeriesByType=function(r,s,u){S0(this),j(this._seriesIndices,function(c){var p=this._componentsMap.get("series")[c];p.subType===r&&s.call(u,p,c)},this)},i.prototype.eachRawSeriesByType=function(r,s,u){return j(this.getSeriesByType(r),s,u)},i.prototype.isSeriesFiltered=function(r){return S0(this),this._seriesIndicesMap.get(r.componentIndex)==null},i.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},i.prototype.filterSeries=function(r,s){S0(this);var u=[];j(this._seriesIndices,function(c){var p=this._componentsMap.get("series")[c];r.call(s,p,c)&&u.push(c)},this),this._seriesIndices=u,this._seriesIndicesMap=le(u)},i.prototype.restoreData=function(r){j1(this);var s=this._componentsMap,u=[];s.each(function(c,p){We.hasClass(p)&&u.push(p)}),We.topologicalTravel(u,We.getAllClassMainTypes(),function(c){j(s.get(c),function(p){p&&(c!=="series"||!yxt(p,r))&&p.restoreData()})})},i.internalField=function(){j1=function(r){var s=r._seriesIndices=[];j(r._componentsMap.get("series"),function(u){u&&s.push(u.componentIndex)}),r._seriesIndicesMap=le(s)},S0=function(r){if(!r._seriesIndices)throw new Error("Option should contains series.")},TY=function(r,s){r.option={},r.option[HP]=AY,r._componentsMap=le({series:[]}),r._componentsCount=le();var u=s.aria;re(u)&&u.enabled==null&&(u.enabled=!0),_xt(s,r._theme.option),pt(s,sxt,!1),r._mergeOption(s,null)}}(),i}(sr);function yxt(n,i){if(i){var r=i.seriesIndex,s=i.seriesId,u=i.seriesName;return r!=null&&n.componentIndex!==r||s!=null&&n.id!==s||u!=null&&n.name!==u}}function _xt(n,i){var r=n.color&&!n.colorLayer;j(i,function(s,u){u==="colorLayer"&&r||We.hasClass(u)||(typeof s=="object"?n[u]=n[u]?pt(n[u],s,!1):lt(s):n[u]==null&&(n[u]=s))})}function CY(n,i,r){if(wt(i)){var s=le();return j(i,function(c){if(c!=null){var p=wi(c,null);p!=null&&s.set(c,!0)}}),jt(r,function(c){return c&&s.get(c[n])})}else{var u=wi(i,null);return jt(r,function(c){return c&&u!=null&&c[n]===u})}}function DY(n,i){return i.hasOwnProperty("subType")?jt(n,function(r){return r&&r.subType===i.subType}):n}function MY(n){var i=le();return n&&j(xr(n.replaceMerge),function(r){de(We.hasClass(r),'"'+r+'" is not valid component main type in "replaceMerge"'),i.set(r,!0)}),{replaceMergeMainTypeMap:i}}qt(WP,UP);var xxt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],LY=function(){function n(i){j(xxt,function(r){this[r]=Mt(i[r],i)},this)}return n}(),YP={},Lh=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(i,r){var s=[];j(YP,function(u,c){var p=u.create(i,r);s=s.concat(p||[])}),this._coordinateSystems=s},n.prototype.update=function(i,r){j(this._coordinateSystems,function(s){s.update&&s.update(i,r)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(i,r){YP[i]=r},n.get=function(i){return YP[i]},n}(),Sxt=/^(min|max)?(.+)$/,bxt=function(){function n(i){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=i}return n.prototype.setOption=function(i,r,s){i&&(j(xr(i.series),function(p){p&&p.data&&Wr(p.data)&&Ay(p.data)}),j(xr(i.dataset),function(p){p&&p.source&&Wr(p.source)&&Ay(p.source)})),i=lt(i);var u=this._optionBackup,c=wxt(i,r,!u);this._newBaseOption=c.baseOption,u?(c.timelineOptions.length&&(u.timelineOptions=c.timelineOptions),c.mediaList.length&&(u.mediaList=c.mediaList),c.mediaDefault&&(u.mediaDefault=c.mediaDefault)):this._optionBackup=c},n.prototype.mountOption=function(i){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],lt(i?r.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(i){var r,s=this._timelineOptions;if(s.length){var u=i.getComponent("timeline");u&&(r=lt(s[u.getCurrentIndex()]))}return r},n.prototype.getMediaOption=function(i){var r=this._api.getWidth(),s=this._api.getHeight(),u=this._mediaList,c=this._mediaDefault,p=[],d=[];if(!u.length&&!c)return d;for(var m=0,_=u.length;m<_;m++)Txt(u[m].query,r,s)&&p.push(m);return!p.length&&c&&(p=[-1]),p.length&&!Cxt(p,this._currentMediaIndices)&&(d=Tt(p,function(S){return lt(S===-1?c.option:u[S].option)})),this._currentMediaIndices=p,d},n}();function wxt(n,i,r){var s=[],u,c,p=n.baseOption,d=n.timeline,m=n.options,_=n.media,S=!!n.media,w=!!(m||d||p&&p.timeline);p?(c=p,c.timeline||(c.timeline=d)):((w||S)&&(n.options=n.media=null),c=n),S&&(wt(_)?j(_,function(D){D&&!D.option&&re(D.query)&&re(D.query.option)&&ea("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),D&&D.option&&(D.query?s.push(D):u||(u=D))}):ea("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),A(c),j(m,function(D){return A(D)}),j(s,function(D){return A(D.option)});function A(D){j(i,function(L){L(D,r)})}return{baseOption:c,timelineOptions:m||[],mediaDefault:u,mediaList:s}}function Txt(n,i,r){var s={width:i,height:r,aspectratio:i/r},u=!0;return j(n,function(c,p){var d=p.match(Sxt);if(!(!d||!d[1]||!d[2])){var m=d[1],_=d[2].toLowerCase();Axt(s[_],c,m)||(u=!1)}}),u}function Axt(n,i,r){return r==="min"?n>=i:r==="max"?n<=i:n===i}function Cxt(n,i){return n.join(",")===i.join(",")}var yo=j,b0=re,IY=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ZP(n){var i=n&&n.itemStyle;if(i)for(var r=0,s=IY.length;r<s;r++){var u=IY[r],c=i.normal,p=i.emphasis;c&&c[u]&&(si("itemStyle.normal."+u,u),n[u]=n[u]||{},n[u].normal?pt(n[u].normal,c[u]):n[u].normal=c[u],c[u]=null),p&&p[u]&&(si("itemStyle.emphasis."+u,"emphasis."+u),n[u]=n[u]||{},n[u].emphasis?pt(n[u].emphasis,p[u]):n[u].emphasis=p[u],p[u]=null)}}function xa(n,i,r){if(n&&n[i]&&(n[i].normal||n[i].emphasis)){var s=n[i].normal,u=n[i].emphasis;s&&(fo("'normal' hierarchy in "+i+" has been removed since 4.0. All style properties are configured in "+i+" directly now."),r?(n[i].normal=n[i].emphasis=null,dt(n[i],s)):n[i]=s),u&&(fo(i+".emphasis has been changed to emphasis."+i+" since 4.0"),n.emphasis=n.emphasis||{},n.emphasis[i]=u,u.focus&&(n.emphasis.focus=u.focus),u.blurScope&&(n.emphasis.blurScope=u.blurScope))}}function w0(n){xa(n,"itemStyle"),xa(n,"lineStyle"),xa(n,"areaStyle"),xa(n,"label"),xa(n,"labelLine"),xa(n,"upperLabel"),xa(n,"edgeLabel")}function _i(n,i){var r=b0(n)&&n[i],s=b0(r)&&r.textStyle;if(s){fo("textStyle hierarchy in "+i+" has been removed since 4.0. All textStyle properties are configured in "+i+" directly now.");for(var u=0,c=w4.length;u<c;u++){var p=w4[u];s.hasOwnProperty(p)&&(r[p]=s[p])}}}function _o(n){n&&(w0(n),_i(n,"label"),n.emphasis&&_i(n.emphasis,"label"))}function Dxt(n){if(b0(n)){ZP(n),w0(n),_i(n,"label"),_i(n,"upperLabel"),_i(n,"edgeLabel"),n.emphasis&&(_i(n.emphasis,"label"),_i(n.emphasis,"upperLabel"),_i(n.emphasis,"edgeLabel"));var i=n.markPoint;i&&(ZP(i),_o(i));var r=n.markLine;r&&(ZP(r),_o(r));var s=n.markArea;s&&_o(s);var u=n.data;if(n.type==="graph"){u=u||n.nodes;var c=n.links||n.edges;if(c&&!Wr(c))for(var p=0;p<c.length;p++)_o(c[p]);j(n.categories,function(_){w0(_)})}if(u&&!Wr(u))for(var p=0;p<u.length;p++)_o(u[p]);if(i=n.markPoint,i&&i.data)for(var d=i.data,p=0;p<d.length;p++)_o(d[p]);if(r=n.markLine,r&&r.data)for(var m=r.data,p=0;p<m.length;p++)wt(m[p])?(_o(m[p][0]),_o(m[p][1])):_o(m[p]);n.type==="gauge"?(_i(n,"axisLabel"),_i(n,"title"),_i(n,"detail")):n.type==="treemap"?(xa(n.breadcrumb,"itemStyle"),j(n.levels,function(_){w0(_)})):n.type==="tree"&&w0(n.leaves)}}function ru(n){return wt(n)?n:n?[n]:[]}function EY(n){return(wt(n)?n[0]:n)||{}}function Mxt(n,i){yo(ru(n.series),function(s){b0(s)&&Dxt(s)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),yo(r,function(s){yo(ru(n[s]),function(u){u&&(_i(u,"axisLabel"),_i(u.axisPointer,"label"))})}),yo(ru(n.parallel),function(s){var u=s&&s.parallelAxisDefault;_i(u,"axisLabel"),_i(u&&u.axisPointer,"label")}),yo(ru(n.calendar),function(s){xa(s,"itemStyle"),_i(s,"dayLabel"),_i(s,"monthLabel"),_i(s,"yearLabel")}),yo(ru(n.radar),function(s){_i(s,"name"),s.name&&s.axisName==null&&(s.axisName=s.name,delete s.name,fo("name property in radar component has been changed to axisName")),s.nameGap!=null&&s.axisNameGap==null&&(s.axisNameGap=s.nameGap,delete s.nameGap,fo("nameGap property in radar component has been changed to axisNameGap")),yo(s.indicator,function(u){u.text&&si("text","name","radar.indicator")})}),yo(ru(n.geo),function(s){b0(s)&&(_o(s),yo(ru(s.regions),function(u){_o(u)}))}),yo(ru(n.timeline),function(s){_o(s),xa(s,"label"),xa(s,"itemStyle"),xa(s,"controlStyle",!0);var u=s.data;wt(u)&&j(u,function(c){re(c)&&(xa(c,"label"),xa(c,"itemStyle"))})}),yo(ru(n.toolbox),function(s){xa(s,"iconStyle"),yo(s.feature,function(u){xa(u,"iconStyle")})}),_i(EY(n.axisPointer),"label"),_i(EY(n.tooltip).axisPointer,"label")}function Lxt(n,i){for(var r=i.split(","),s=n,u=0;u<r.length&&(s=s&&s[r[u]],s!=null);u++);return s}function Ixt(n,i,r,s){for(var u=i.split(","),c=n,p,d=0;d<u.length-1;d++)p=u[d],c[p]==null&&(c[p]={}),c=c[p];(s||c[u[d]]==null)&&(c[u[d]]=r)}function PY(n){n&&j(Ext,function(i){i[0]in n&&!(i[1]in n)&&(n[i[1]]=n[i[0]])})}var Ext=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Pxt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],XP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function T0(n){var i=n&&n.itemStyle;if(i)for(var r=0;r<XP.length;r++){var s=XP[r][1],u=XP[r][0];i[s]!=null&&(i[u]=i[s],si(s,u))}}function RY(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(si("label.margin","label.edgeDistance","pie"),n.edgeDistance=n.margin)}function OY(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay,si("downplay","blur","sunburst"))}function Rxt(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(si("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),n.emphasis.focus="adjacency"))}function kY(n,i){if(n)for(var r=0;r<n.length;r++)i(n[r]),n[r]&&kY(n[r].children,i)}function NY(n,i){Mxt(n,i),n.series=xr(n.series),j(n.series,function(r){if(re(r)){var s=r.type;if(s==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow,si("clipOverflow","clip","line"));else if(s==="pie"||s==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise,si("clockWise","clockwise")),RY(r.label);var u=r.data;if(u&&!Wr(u))for(var c=0;c<u.length;c++)RY(u[c]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(si("hoverOffset","emphasis.scaleSize"),r.emphasis.scaleSize=r.hoverOffset))}else if(s==="gauge"){var p=Lxt(r,"pointer.color");p!=null&&Ixt(r,"itemStyle.color",p)}else if(s==="bar"){T0(r),T0(r.backgroundStyle),T0(r.emphasis);var u=r.data;if(u&&!Wr(u))for(var c=0;c<u.length;c++)typeof u[c]=="object"&&(T0(u[c]),T0(u[c]&&u[c].emphasis))}else if(s==="sunburst"){var d=r.highlightPolicy;d&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=d,si("highlightPolicy","emphasis.focus","sunburst"))),OY(r),kY(r.data,OY)}else s==="graph"||s==="sankey"?Rxt(r):s==="map"&&(r.mapType&&!r.map&&(si("mapType","map","map"),r.map=r.mapType),r.mapLocation&&(fo("`mapLocation` is not used anymore."),dt(r,r.mapLocation)));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(si("hoverAnimation","emphasis.scale"),r.emphasis.scale=r.hoverAnimation)),PY(r)}}),n.dataRange&&(n.visualMap=n.dataRange),j(Pxt,function(r){var s=n[r];s&&(wt(s)||(s=[s]),j(s,function(u){PY(u)}))})}function Oxt(n){var i=le();n.eachSeries(function(r){var s=r.get("stack");if(s){var u=i.get(s)||i.set(s,[]),c=r.getData(),p={stackResultDimension:c.getCalculationInfo("stackResultDimension"),stackedOverDimension:c.getCalculationInfo("stackedOverDimension"),stackedDimension:c.getCalculationInfo("stackedDimension"),stackedByDimension:c.getCalculationInfo("stackedByDimension"),isStackedByIndex:c.getCalculationInfo("isStackedByIndex"),data:c,seriesModel:r};if(!p.stackedDimension||!(p.isStackedByIndex||p.stackedByDimension))return;u.length&&c.setCalculationInfo("stackedOnSeries",u[u.length-1].seriesModel),u.push(p)}}),i.each(kxt)}function kxt(n){j(n,function(i,r){var s=[],u=[NaN,NaN],c=[i.stackResultDimension,i.stackedOverDimension],p=i.data,d=i.isStackedByIndex,m=i.seriesModel.get("stackStrategy")||"samesign";p.modify(c,function(_,S,w){var A=p.get(i.stackedDimension,w);if(isNaN(A))return u;var D,L;d?L=p.getRawIndex(w):D=p.get(i.stackedByDimension,w);for(var E=NaN,R=r-1;R>=0;R--){var k=n[R];if(d||(L=k.data.rawIndexOf(k.stackedByDimension,D)),L>=0){var z=k.data.getByRawIndex(k.stackResultDimension,L);if(m==="all"||m==="positive"&&z>0||m==="negative"&&z<0||m==="samesign"&&A>=0&&z>0||m==="samesign"&&A<=0&&z<0){A=Lyt(A,z),E=z;break}}}return s[0]=A,s[1]=E,s})})}var Q1=function(){function n(i){this.data=i.data||(i.sourceFormat===al?{}:[]),this.sourceFormat=i.sourceFormat||mY,this.seriesLayoutBy=i.seriesLayoutBy||nl,this.startIndex=i.startIndex||0,this.dimensionsDetectedCount=i.dimensionsDetectedCount,this.metaRawOption=i.metaRawOption;var r=this.dimensionsDefine=i.dimensionsDefine;if(r)for(var s=0;s<r.length;s++){var u=r[s];u.type==null&&xY(this,s)===aa.Must&&(u.type="ordinal")}}return n}();function qP(n){return n instanceof Q1}function $P(n,i,r){r=r||zY(n);var s=i.seriesLayoutBy,u=zxt(n,r,s,i.sourceHeader,i.dimensions),c=new Q1({data:n,sourceFormat:r,seriesLayoutBy:s,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectedCount:u.dimensionsDetectedCount,metaRawOption:lt(i)});return c}function KP(n){return new Q1({data:n,sourceFormat:Wr(n)?eu:go})}function Nxt(n){return new Q1({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:lt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function zY(n){var i=mY;if(Wr(n))i=eu;else if(wt(n)){n.length===0&&(i=_a);for(var r=0,s=n.length;r<s;r++){var u=n[r];if(u!=null){if(wt(u)||Wr(u)){i=_a;break}else if(re(u)){i=mo;break}}}}else if(re(n)){for(var c in n)if(Jt(n,c)&&te(n[c])){i=al;break}}return i}function zxt(n,i,r,s,u){var c,p;if(!n)return{dimensionsDefine:VY(u),startIndex:p,dimensionsDetectedCount:c};if(i===_a){var d=n;s==="auto"||s==null?BY(function(_){_!=null&&_!=="-"&&(kt(_)?p==null&&(p=1):p=0)},r,d,10):p=Ne(s)?s:s?1:0,!u&&p===1&&(u=[],BY(function(_,S){u[S]=_!=null?_+"":""},r,d,1/0)),c=u?u.length:r===bd?d.length:d[0]?d[0].length:null}else if(i===mo)u||(u=Vxt(n));else if(i===al)u||(u=[],j(n,function(_,S){u.push(S)}));else if(i===go){var m=td(n[0]);c=wt(m)&&m.length||1}else i===eu&&de(!!u,"dimensions must be given if data is TypedArray.");return{startIndex:p,dimensionsDefine:VY(u),dimensionsDetectedCount:c}}function Vxt(n){for(var i=0,r;i<n.length&&!(r=n[i++]););if(r)return Xt(r)}function VY(n){if(n){var i=le();return Tt(n,function(r,s){r=re(r)?r:{name:r};var u={name:r.name,displayName:r.displayName,type:r.type};if(u.name==null)return u;u.name+="",u.displayName==null&&(u.displayName=u.name);var c=i.get(u.name);return c?u.name+="-"+c.count++:i.set(u.name,{count:1}),u})}}function BY(n,i,r,s){if(i===bd)for(var u=0;u<r.length&&u<s;u++)n(r[u]?r[u][0]:null,u);else for(var c=r[0]||[],u=0;u<c.length&&u<s;u++)n(c[u],u)}function FY(n){var i=n.sourceFormat;return i===mo||i===al}var Ih,Eh,Ph,UY,GY,HY=function(){function n(i,r){var s=qP(i)?i:KP(i);this._source=s;var u=this._data=s.data;if(s.sourceFormat===eu){if(r==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=r,this._data=u}GY(this,u,s)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(i,r){},n.prototype.appendData=function(i){},n.prototype.clean=function(){},n.protoInitialize=function(){var i=n.prototype;i.pure=!1,i.persistent=!0}(),n.internalField=function(){var i;GY=function(p,d,m){var _=m.sourceFormat,S=m.seriesLayoutBy,w=m.startIndex,A=m.dimensionsDefine,D=UY[JP(_,S)];if(de(D,"Invalide sourceFormat: "+_),st(p,D),_===eu)p.getItem=r,p.count=u,p.fillStorage=s;else{var L=YY(_,S);p.getItem=Mt(L,null,d,w,A);var E=XY(_,S);p.count=Mt(E,null,d,w,A)}};var r=function(p,d){p=p-this._offset,d=d||[];for(var m=this._data,_=this._dimSize,S=_*p,w=0;w<_;w++)d[w]=m[S+w];return d},s=function(p,d,m,_){for(var S=this._data,w=this._dimSize,A=0;A<w;A++){for(var D=_[A],L=D[0]==null?1/0:D[0],E=D[1]==null?-1/0:D[1],R=d-p,k=m[A],z=0;z<R;z++){var B=S[z*w+A];k[p+z]=B,B<L&&(L=B),B>E&&(E=B)}D[0]=L,D[1]=E}},u=function(){return this._data?this._data.length/this._dimSize:0};UY=(i={},i[_a+"_"+nl]={pure:!0,appendData:c},i[_a+"_"+bd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},i[mo]={pure:!0,appendData:c},i[al]={pure:!0,appendData:function(p){var d=this._data;j(p,function(m,_){for(var S=d[_]||(d[_]=[]),w=0;w<(m||[]).length;w++)S.push(m[w])})}},i[go]={appendData:c},i[eu]={persistent:!1,pure:!0,appendData:function(p){de(Wr(p),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=p},clean:function(){this._offset+=this.count(),this._data=null}},i);function c(p){for(var d=0;d<p.length;d++)this._data.push(p[d])}}(),n}(),WY=function(n,i,r,s){return n[s]},Bxt=(Ih={},Ih[_a+"_"+nl]=function(n,i,r,s){return n[s+i]},Ih[_a+"_"+bd]=function(n,i,r,s,u){s+=i;for(var c=u||[],p=n,d=0;d<p.length;d++){var m=p[d];c[d]=m?m[s]:null}return c},Ih[mo]=WY,Ih[al]=function(n,i,r,s,u){for(var c=u||[],p=0;p<r.length;p++){var d=r[p].name;if(d==null)throw new Error;var m=n[d];c[p]=m?m[s]:null}return c},Ih[go]=WY,Ih);function YY(n,i){var r=Bxt[JP(n,i)];return de(r,'Do not support get item on "'+n+'", "'+i+'".'),r}var ZY=function(n,i,r){return n.length},Fxt=(Eh={},Eh[_a+"_"+nl]=function(n,i,r){return Math.max(0,n.length-i)},Eh[_a+"_"+bd]=function(n,i,r){var s=n[0];return s?Math.max(0,s.length-i):0},Eh[mo]=ZY,Eh[al]=function(n,i,r){var s=r[0].name;if(s==null)throw new Error;var u=n[s];return u?u.length:0},Eh[go]=ZY,Eh);function XY(n,i){var r=Fxt[JP(n,i)];return de(r,'Do not support count on "'+n+'", "'+i+'".'),r}var jP=function(n,i,r){return n[i]},Uxt=(Ph={},Ph[_a]=jP,Ph[mo]=function(n,i,r){return n[r]},Ph[al]=jP,Ph[go]=function(n,i,r){var s=td(n);return s instanceof Array?s[i]:s},Ph[eu]=jP,Ph);function qY(n){var i=Uxt[n];return de(i,'Do not support get value on "'+n+'".'),i}function JP(n,i){return n===_a?n+"_"+i:n}function wd(n,i,r){if(n){var s=n.getRawDataItem(i);if(s!=null){var u=n.getStore(),c=u.getSource().sourceFormat;if(r!=null){var p=n.getDimensionIndex(r),d=u.getDimensionProperty(p);return qY(c)(s,p,d)}else{var m=s;return c===go&&(m=td(s)),m}}}}var Gxt=/\{@(.+?)\}/g,tw=function(){function n(){}return n.prototype.getDataParams=function(i,r){var s=this.getData(r),u=this.getRawValue(i,r),c=s.getRawIndex(i),p=s.getName(i),d=s.getRawDataItem(i),m=s.getItemVisual(i,"style"),_=m&&m[s.getItemVisual(i,"drawType")||"fill"],S=m&&m.stroke,w=this.mainType,A=w==="series",D=s.userOutput&&s.userOutput.get();return{componentType:w,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:A?this.subType:null,seriesIndex:this.seriesIndex,seriesId:A?this.id:null,seriesName:A?this.name:null,name:p,dataIndex:c,data:d,dataType:r,value:u,color:_,borderColor:S,dimensionNames:D?D.fullDimensions:null,encode:D?D.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(i,r,s,u,c,p){r=r||"normal";var d=this.getData(s),m=this.getDataParams(i,s);if(p&&(m.value=p.interpolatedValue),u!=null&&wt(m.value)&&(m.value=m.value[u]),!c){var _=d.getItemModel(i);c=_.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(Gt(c))return m.status=r,m.dimensionIndex=u,c(m);if(kt(c)){var S=kP(c,m);return S.replace(Gxt,function(w,A){var D=A.length,L=A;L.charAt(0)==="["&&L.charAt(D-1)==="]"&&(L=+L.slice(1,D-1),isNaN(L)&&ea("Invalide label formatter: @"+A+", only support @[0], @[1], @[2], ..."));var E=wd(d,i,L);if(p&&wt(p.interpolatedValue)){var R=d.getDimensionIndex(L);R>=0&&(E=p.interpolatedValue[R])}return E!=null?E+"":""})}},n.prototype.getRawValue=function(i,r){return wd(this.getData(r),i)},n.prototype.formatTooltip=function(i,r,s){},n}();function $Y(n){var i,r;return re(n)?n.type?r=n:console.warn("The return type of `formatTooltip` is not supported: "+ka(n)):i=n,{text:i,frag:r}}function A0(n){return new Hxt(n)}var Hxt=function(){function n(i){i=i||{},this._reset=i.reset,this._plan=i.plan,this._count=i.count,this._onDirty=i.onDirty,this._dirty=!0}return n.prototype.perform=function(i){var r=this._upstream,s=i&&i.skip;if(this._dirty&&r){var u=this.context;u.data=u.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var c;this._plan&&!s&&(c=this._plan(this.context));var p=S(this._modBy),d=this._modDataCount||0,m=S(i&&i.modBy),_=i&&i.modDataCount||0;(p!==m||d!==_)&&(c="reset");function S(z){return!(z>=1)&&(z=1),z}var w;(this._dirty||c==="reset")&&(this._dirty=!1,w=this._doReset(s)),this._modBy=m,this._modDataCount=_;var A=i&&i.step;if(r?(de(r._outputDueEnd!=null),this._dueEnd=r._outputDueEnd):(de(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var D=this._dueIndex,L=Math.min(A!=null?this._dueIndex+A:1/0,this._dueEnd);if(!s&&(w||D<L)){var E=this._progress;if(wt(E))for(var R=0;R<E.length;R++)this._doProgress(E[R],D,L,m,_);else this._doProgress(E,D,L,m,_)}this._dueIndex=L;var k=this._settedOutputEnd!=null?this._settedOutputEnd:L;de(k>=this._outputDueEnd),this._outputDueEnd=k}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(i,r,s,u,c){KY.reset(r,s,u,c),this._callingProgress=i,this._callingProgress({start:r,end:s,count:s-r,next:KY.next},this.context)},n.prototype._doReset=function(i){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,s;!i&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(s=r.forceFirstProgress,r=r.progress),wt(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var u=this._downstream;return u&&u.dirty(),s},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(i){de(i&&!i._disposed&&i!==this),(this._downstream!==i||this._dirty)&&(this._downstream=i,i._upstream=this,i.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(i){this._outputDueEnd=this._settedOutputEnd=i},n}(),KY=function(){var n,i,r,s,u,c={reset:function(m,_,S,w){i=m,n=_,r=S,s=w,u=Math.ceil(s/r),c.next=r>1&&s>0?d:p}};return c;function p(){return i<n?i++:null}function d(){var m=i%u*r+Math.ceil(i/u),_=i>=n?null:m<s?m:i;return i++,_}}();function bf(n,i){var r=i&&i.type;return r==="ordinal"?n:(r==="time"&&!Ne(n)&&n!=null&&n!=="-"&&(n=+kn(n)),n==null||n===""?NaN:Number(n))}var Wxt=le({number:function(n){return parseFloat(n)},time:function(n){return+kn(n)},trim:function(n){return kt(n)?no(n):n}});function jY(n){return Wxt.get(n)}var JY={lt:function(n,i){return n<i},lte:function(n,i){return n<=i},gt:function(n,i){return n>i},gte:function(n,i){return n>=i}},Yxt=function(){function n(i,r){if(!Ne(r)){var s="";s='rvalue of "<", ">", "<=", ">=" can only be number in filter.',fr(s)}this._opFn=JY[i],this._rvalFloat=Ks(r)}return n.prototype.evaluate=function(i){return Ne(i)?this._opFn(i,this._rvalFloat):this._opFn(Ks(i),this._rvalFloat)},n}(),QY=function(){function n(i,r){var s=i==="desc";this._resultLT=s?1:-1,r==null&&(r=s?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return n.prototype.evaluate=function(i,r){var s=Ne(i)?i:Ks(i),u=Ne(r)?r:Ks(r),c=isNaN(s),p=isNaN(u);if(c&&(s=this._incomparable),p&&(u=this._incomparable),c&&p){var d=kt(i),m=kt(r);d&&(s=m?i:0),m&&(u=d?r:0)}return s<u?this._resultLT:s>u?-this._resultLT:0},n}(),Zxt=function(){function n(i,r){this._rval=r,this._isEQ=i,this._rvalTypeof=typeof r,this._rvalFloat=Ks(r)}return n.prototype.evaluate=function(i){var r=i===this._rval;if(!r){var s=typeof i;s!==this._rvalTypeof&&(s==="number"||this._rvalTypeof==="number")&&(r=Ks(i)===this._rvalFloat)}return this._isEQ?r:!r},n}();function Xxt(n,i){return n==="eq"||n==="ne"?new Zxt(n==="eq",i):Jt(JY,n)?new Yxt(n,i):null}var qxt=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(i){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(i){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(i,r){},n.prototype.retrieveValueFromItem=function(i,r){},n.prototype.convertValue=function(i,r){return bf(i,r)},n}();function $xt(n,i){var r=new qxt,s=n.data,u=r.sourceFormat=n.sourceFormat,c=n.startIndex,p="";n.seriesLayoutBy!==nl&&(p='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',fr(p));var d=[],m={},_=n.dimensionsDefine;if(_)j(_,function(E,R){var k=E.name,z={index:R,name:k,displayName:E.displayName};if(d.push(z),k!=null){var B="";Jt(m,k)&&(B='dimension name "'+k+'" duplicated.',fr(B)),m[k]=z}});else for(var S=0;S<n.dimensionsDetectedCount;S++)d.push({index:S});var w=YY(u,nl);i.__isBuiltIn&&(r.getRawDataItem=function(E){return w(s,c,d,E)},r.getRawData=Mt(Kxt,null,n)),r.cloneRawData=Mt(jxt,null,n);var A=XY(u,nl);r.count=Mt(A,null,s,c,d);var D=qY(u);r.retrieveValue=function(E,R){var k=w(s,c,d,E);return L(k,R)};var L=r.retrieveValueFromItem=function(E,R){if(E!=null){var k=d[R];if(k)return D(E,R,k.name)}};return r.getDimensionInfo=Mt(Jxt,null,d,m),r.cloneAllDimensionInfo=Mt(Qxt,null,d),r}function Kxt(n){var i=n.sourceFormat;if(!QP(i)){var r="";r="`getRawData` is not supported in source format "+i,fr(r)}return n.data}function jxt(n){var i=n.sourceFormat,r=n.data;if(!QP(i)){var s="";s="`cloneRawData` is not supported in source format "+i,fr(s)}if(i===_a){for(var u=[],c=0,p=r.length;c<p;c++)u.push(r[c].slice());return u}else if(i===mo){for(var u=[],c=0,p=r.length;c<p;c++)u.push(st({},r[c]));return u}}function Jxt(n,i,r){if(r!=null){if(Ne(r)||!isNaN(r)&&!Jt(i,r))return n[r];if(Jt(i,r))return i[r]}}function Qxt(n){return lt(n)}var t8=le();function tSt(n){n=lt(n);var i=n.type,r="";i||(r="Must have a `type` when `registerTransform`.",fr(r));var s=i.split(":");s.length!==2&&(r='Name must include namespace like "ns:regression".',fr(r));var u=!1;s[0]==="echarts"&&(i=s[1],u=!0),n.__isBuiltIn=u,t8.set(i,n)}function eSt(n,i,r){var s=xr(n),u=s.length,c="";u||(c="If `transform` declared, it should at least contain one transform.",fr(c));for(var p=0,d=u;p<d;p++){var m=s[p];i=rSt(m,i,r,u===1?null:p),p!==d-1&&(i.length=Math.max(i.length,1))}return i}function rSt(n,i,r,s){var u="";i.length||(u="Must have at least one upstream dataset.",fr(u)),re(n)||(u="transform declaration must be an object rather than "+typeof n+".",fr(u));var c=n.type,p=t8.get(c);p||(u='Can not find transform on type "'+c+'".',fr(u));var d=Tt(i,function(S){return $xt(S,p)}),m=xr(p.transform({upstream:d[0],upstreamList:d,config:lt(n.config)}));if(n.print){var _=Tt(m,function(S){var w=s!=null?" === pipe index: "+s:"";return["=== dataset index: "+r.datasetIndex+w+" ===","- transform result data:",ka(S.data),"- transform result dimensions:",ka(S.dimensions)].join(`
`)}).join(`
`);Ryt(_)}return Tt(m,function(S,w){var A="";re(S)||(A="A transform should not return some empty results.",fr(A)),S.data||(A="Transform result data should be not be null or undefined",fr(A));var D=zY(S.data);QP(D)||(A="Transform result data should be array rows or object rows.",fr(A));var L,E=i[0];if(E&&w===0&&!S.dimensions){var R=E.startIndex;R&&(S.data=E.data.slice(0,R).concat(S.data)),L={seriesLayoutBy:nl,sourceHeader:R,dimensions:E.metaRawOption.dimensions}}else L={seriesLayoutBy:nl,sourceHeader:0,dimensions:S.dimensions};return $P(S.data,L,null)})}function QP(n){return n===_a||n===mo}var ew="undefined",iSt=typeof Uint32Array===ew?Array:Uint32Array,aSt=typeof Uint16Array===ew?Array:Uint16Array,e8=typeof Int32Array===ew?Array:Int32Array,r8=typeof Float64Array===ew?Array:Float64Array,i8={float:r8,int:e8,ordinal:Array,number:Array,time:r8},t2;function Td(n){return n>65535?iSt:aSt}function Ad(){return[1/0,-1/0]}function nSt(n){var i=n.constructor;return i===Array?n.slice():new i(n)}function a8(n,i,r,s,u){var c=i8[r||"float"];if(u){var p=n[i],d=p&&p.length;if(d!==s){for(var m=new c(s),_=0;_<d;_++)m[_]=p[_];n[i]=m}}else n[i]=new c(s)}var e2=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=le()}return n.prototype.initData=function(i,r,s){de(Gt(i.getItem)&&Gt(i.count),"Invalid data provider."),this._provider=i,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var u=i.getSource(),c=this.defaultDimValueGetter=t2[u.sourceFormat];this._dimValueGetter=s||c,this._rawExtent=[];var p=FY(u);this._dimensions=Tt(r,function(d){return p&&de(d.property!=null),{type:d.type,property:d.property}}),this._initDataFromProvider(0,i.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(i,r){var s=this._calcDimNameToIdx,u=this._dimensions,c=s.get(i);if(c!=null){if(u[c].type===r)return c}else c=u.length;return u[c]={type:r},s.set(i,c),this._chunks[c]=new i8[r||"float"](this._rawCount),this._rawExtent[c]=Ad(),c},n.prototype.collectOrdinalMeta=function(i,r){var s=this._chunks[i],u=this._dimensions[i],c=this._rawExtent,p=u.ordinalOffset||0,d=s.length;p===0&&(c[i]=Ad());for(var m=c[i],_=p;_<d;_++){var S=s[_]=r.parseAndCollect(s[_]);isNaN(S)||(m[0]=Math.min(S,m[0]),m[1]=Math.max(S,m[1]))}u.ordinalMeta=r,u.ordinalOffset=d,u.type="ordinal"},n.prototype.getOrdinalMeta=function(i){var r=this._dimensions[i],s=r.ordinalMeta;return s},n.prototype.getDimensionProperty=function(i){var r=this._dimensions[i];return r&&r.property},n.prototype.appendData=function(i){de(!this._indices,"appendData can only be called on raw data.");var r=this._provider,s=this.count();r.appendData(i);var u=r.count();return r.persistent||(u+=s),s<u&&this._initDataFromProvider(s,u,!0),[s,u]},n.prototype.appendValues=function(i,r){for(var s=this._chunks,u=this._dimensions,c=u.length,p=this._rawExtent,d=this.count(),m=d+Math.max(i.length,r||0),_=0;_<c;_++){var S=u[_];a8(s,_,S.type,m,!0)}for(var w=[],A=d;A<m;A++)for(var D=A-d,L=0;L<c;L++){var S=u[L],E=t2.arrayRows.call(this,i[D]||w,S.property,D,L);s[L][A]=E;var R=p[L];E<R[0]&&(R[0]=E),E>R[1]&&(R[1]=E)}return this._rawCount=this._count=m,{start:d,end:m}},n.prototype._initDataFromProvider=function(i,r,s){for(var u=this._provider,c=this._chunks,p=this._dimensions,d=p.length,m=this._rawExtent,_=Tt(p,function(z){return z.property}),S=0;S<d;S++){var w=p[S];m[S]||(m[S]=Ad()),a8(c,S,w.type,r,s)}if(u.fillStorage)u.fillStorage(i,r,c,m);else for(var A=[],D=i;D<r;D++){A=u.getItem(D,A);for(var L=0;L<d;L++){var E=c[L],R=this._dimValueGetter(A,_[L],D,L);E[D]=R;var k=m[L];R<k[0]&&(k[0]=R),R>k[1]&&(k[1]=R)}}!u.persistent&&u.clean&&u.clean(),this._rawCount=this._count=r,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(i,r){if(!(r>=0&&r<this._count))return NaN;var s=this._chunks[i];return s?s[this.getRawIndex(r)]:NaN},n.prototype.getValues=function(i,r){var s=[],u=[];if(r==null){r=i,i=[];for(var c=0;c<this._dimensions.length;c++)u.push(c)}else u=i;for(var c=0,p=u.length;c<p;c++)s.push(this.get(u[c],r));return s},n.prototype.getByRawIndex=function(i,r){if(!(r>=0&&r<this._rawCount))return NaN;var s=this._chunks[i];return s?s[r]:NaN},n.prototype.getSum=function(i){var r=this._chunks[i],s=0;if(r)for(var u=0,c=this.count();u<c;u++){var p=this.get(i,u);isNaN(p)||(s+=p)}return s},n.prototype.getMedian=function(i){var r=[];this.each([i],function(c){isNaN(c)||r.push(c)});var s=r.sort(function(c,p){return c-p}),u=this.count();return u===0?0:u%2===1?s[(u-1)/2]:(s[u/2]+s[u/2-1])/2},n.prototype.indexOfRawIndex=function(i){if(i>=this._rawCount||i<0)return-1;if(!this._indices)return i;var r=this._indices,s=r[i];if(s!=null&&s<this._count&&s===i)return i;for(var u=0,c=this._count-1;u<=c;){var p=(u+c)/2|0;if(r[p]<i)u=p+1;else if(r[p]>i)c=p-1;else return p}return-1},n.prototype.indicesOfNearest=function(i,r,s){var u=this._chunks,c=u[i],p=[];if(!c)return p;s==null&&(s=1/0);for(var d=1/0,m=-1,_=0,S=0,w=this.count();S<w;S++){var A=this.getRawIndex(S),D=r-c[A],L=Math.abs(D);L<=s&&((L<d||L===d&&D>=0&&m<0)&&(d=L,m=D,_=0),D===m&&(p[_++]=S))}return p.length=_,p},n.prototype.getIndices=function(){var i,r=this._indices;if(r){var s=r.constructor,u=this._count;if(s===Array){i=new s(u);for(var c=0;c<u;c++)i[c]=r[c]}else i=new s(r.buffer,0,u)}else{var s=Td(this._rawCount);i=new s(this.count());for(var c=0;c<i.length;c++)i[c]=c}return i},n.prototype.filter=function(i,r){if(!this._count)return this;for(var s=this.clone(),u=s.count(),c=Td(s._rawCount),p=new c(u),d=[],m=i.length,_=0,S=i[0],w=s._chunks,A=0;A<u;A++){var D=void 0,L=s.getRawIndex(A);if(m===0)D=r(A);else if(m===1){var E=w[S][L];D=r(E,A)}else{for(var R=0;R<m;R++)d[R]=w[i[R]][L];d[R]=A,D=r.apply(null,d)}D&&(p[_++]=L)}return _<u&&(s._indices=p),s._count=_,s._extent=[],s._updateGetRawIdx(),s},n.prototype.selectRange=function(i){var r=this.clone(),s=r._count;if(!s)return this;var u=Xt(i),c=u.length;if(!c)return this;var p=r.count(),d=Td(r._rawCount),m=new d(p),_=0,S=u[0],w=i[S][0],A=i[S][1],D=r._chunks,L=!1;if(!r._indices){var E=0;if(c===1){for(var R=D[u[0]],k=0;k<s;k++){var z=R[k];(z>=w&&z<=A||isNaN(z))&&(m[_++]=E),E++}L=!0}else if(c===2){for(var R=D[u[0]],B=D[u[1]],G=i[u[1]][0],W=i[u[1]][1],k=0;k<s;k++){var z=R[k],Y=B[k];(z>=w&&z<=A||isNaN(z))&&(Y>=G&&Y<=W||isNaN(Y))&&(m[_++]=E),E++}L=!0}}if(!L)if(c===1)for(var k=0;k<p;k++){var q=r.getRawIndex(k),z=D[u[0]][q];(z>=w&&z<=A||isNaN(z))&&(m[_++]=q)}else for(var k=0;k<p;k++){for(var J=!0,q=r.getRawIndex(k),tt=0;tt<c;tt++){var et=u[tt],z=D[et][q];(z<i[et][0]||z>i[et][1])&&(J=!1)}J&&(m[_++]=r.getRawIndex(k))}return _<p&&(r._indices=m),r._count=_,r._extent=[],r._updateGetRawIdx(),r},n.prototype.map=function(i,r){var s=this.clone(i);return this._updateDims(s,i,r),s},n.prototype.modify=function(i,r){this._updateDims(this,i,r)},n.prototype._updateDims=function(i,r,s){for(var u=i._chunks,c=[],p=r.length,d=i.count(),m=[],_=i._rawExtent,S=0;S<r.length;S++)_[r[S]]=Ad();for(var w=0;w<d;w++){for(var A=i.getRawIndex(w),D=0;D<p;D++)m[D]=u[r[D]][A];m[p]=w;var L=s&&s.apply(null,m);if(L!=null){typeof L!="object"&&(c[0]=L,L=c);for(var S=0;S<L.length;S++){var E=r[S],R=L[S],k=_[E],z=u[E];z&&(z[A]=R),R<k[0]&&(k[0]=R),R>k[1]&&(k[1]=R)}}}},n.prototype.lttbDownSample=function(i,r){var s=this.clone([i],!0),u=s._chunks,c=u[i],p=this.count(),d=0,m=Math.floor(1/r),_=this.getRawIndex(0),S,w,A,D=new(Td(this._rawCount))(Math.min((Math.ceil(p/m)+2)*2,p));D[d++]=_;for(var L=1;L<p-1;L+=m){for(var E=Math.min(L+m,p-1),R=Math.min(L+m*2,p),k=(R+E)/2,z=0,B=E;B<R;B++){var G=this.getRawIndex(B),W=c[G];isNaN(W)||(z+=W)}z/=R-E;var Y=L,q=Math.min(L+m,p),J=L-1,tt=c[_];S=-1,A=Y;for(var et=-1,it=0,B=Y;B<q;B++){var G=this.getRawIndex(B),W=c[G];if(isNaN(W)){it++,et<0&&(et=G);continue}w=Math.abs((J-k)*(W-tt)-(J-B)*(z-tt)),w>S&&(S=w,A=G)}it>0&&it<q-Y&&(D[d++]=Math.min(et,A),A=Math.max(et,A)),D[d++]=A,_=A}return D[d++]=this.getRawIndex(p-1),s._count=d,s._indices=D,s.getRawIndex=this._getRawIdx,s},n.prototype.minmaxDownSample=function(i,r){for(var s=this.clone([i],!0),u=s._chunks,c=Math.floor(1/r),p=u[i],d=this.count(),m=new(Td(this._rawCount))(Math.ceil(d/c)*2),_=0,S=0;S<d;S+=c){var w=S,A=p[this.getRawIndex(w)],D=S,L=p[this.getRawIndex(D)],E=c;S+c>d&&(E=d-S);for(var R=0;R<E;R++){var k=this.getRawIndex(S+R),z=p[k];z<A&&(A=z,w=S+R),z>L&&(L=z,D=S+R)}var B=this.getRawIndex(w),G=this.getRawIndex(D);w<D?(m[_++]=B,m[_++]=G):(m[_++]=G,m[_++]=B)}return s._count=_,s._indices=m,s._updateGetRawIdx(),s},n.prototype.downSample=function(i,r,s,u){for(var c=this.clone([i],!0),p=c._chunks,d=[],m=Math.floor(1/r),_=p[i],S=this.count(),w=c._rawExtent[i]=Ad(),A=new(Td(this._rawCount))(Math.ceil(S/m)),D=0,L=0;L<S;L+=m){m>S-L&&(m=S-L,d.length=m);for(var E=0;E<m;E++){var R=this.getRawIndex(L+E);d[E]=_[R]}var k=s(d),z=this.getRawIndex(Math.min(L+u(d,k)||0,S-1));_[z]=k,k<w[0]&&(w[0]=k),k>w[1]&&(w[1]=k),A[D++]=z}return c._count=D,c._indices=A,c._updateGetRawIdx(),c},n.prototype.each=function(i,r){if(this._count)for(var s=i.length,u=this._chunks,c=0,p=this.count();c<p;c++){var d=this.getRawIndex(c);switch(s){case 0:r(c);break;case 1:r(u[i[0]][d],c);break;case 2:r(u[i[0]][d],u[i[1]][d],c);break;default:for(var m=0,_=[];m<s;m++)_[m]=u[i[m]][d];_[m]=c,r.apply(null,_)}}},n.prototype.getDataExtent=function(i){var r=this._chunks[i],s=Ad();if(!r)return s;var u=this.count(),c=!this._indices,p;if(c)return this._rawExtent[i].slice();if(p=this._extent[i],p)return p.slice();p=s;for(var d=p[0],m=p[1],_=0;_<u;_++){var S=this.getRawIndex(_),w=r[S];w<d&&(d=w),w>m&&(m=w)}return p=[d,m],this._extent[i]=p,p},n.prototype.getRawDataItem=function(i){var r=this.getRawIndex(i);if(this._provider.persistent)return this._provider.getItem(r);for(var s=[],u=this._chunks,c=0;c<u.length;c++)s.push(u[c][r]);return s},n.prototype.clone=function(i,r){var s=new n,u=this._chunks,c=i&&lr(i,function(d,m){return d[m]=!0,d},{});if(c)for(var p=0;p<u.length;p++)s._chunks[p]=c[p]?nSt(u[p]):u[p];else s._chunks=u;return this._copyCommonProps(s),r||(s._indices=this._cloneIndices()),s._updateGetRawIdx(),s},n.prototype._copyCommonProps=function(i){i._count=this._count,i._rawCount=this._rawCount,i._provider=this._provider,i._dimensions=this._dimensions,i._extent=lt(this._extent),i._rawExtent=lt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var i=this._indices.constructor,r=void 0;if(i===Array){var s=this._indices.length;r=new i(s);for(var u=0;u<s;u++)r[u]=this._indices[u]}else r=new i(this._indices);return r}return null},n.prototype._getRawIdxIdentity=function(i){return i},n.prototype._getRawIdx=function(i){return i<this._count&&i>=0?this._indices[i]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function i(r,s,u,c){return bf(r[c],this._dimensions[c])}t2={arrayRows:i,objectRows:function(r,s,u,c){return bf(r[s],this._dimensions[c])},keyedColumns:i,original:function(r,s,u,c){var p=r&&(r.value==null?r:r.value);return bf(p instanceof Array?p[c]:p,this._dimensions[c])},typedArray:function(r,s,u,c){return r[c]}}}(),n}(),n8=function(){function n(i){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=i}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(i,r){this._sourceList=i,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var i=this._sourceHost,r=this._getUpstreamSourceManagers(),s=!!r.length,u,c;if(C0(i)){var p=i,d=void 0,m=void 0,_=void 0;if(s){var S=r[0];S.prepareSource(),_=S.getSource(),d=_.data,m=_.sourceFormat,c=[S._getVersionSign()]}else d=p.get("data",!0),m=Wr(d)?eu:go,c=[];var w=this._getSourceMetaRawOption()||{},A=_&&_.metaRawOption||{},D=De(w.seriesLayoutBy,A.seriesLayoutBy)||null,L=De(w.sourceHeader,A.sourceHeader),E=De(w.dimensions,A.dimensions),R=D!==A.seriesLayoutBy||!!L!=!!A.sourceHeader||E;u=R?[$P(d,{seriesLayoutBy:D,sourceHeader:L,dimensions:E},m)]:[]}else{var k=i;if(s){var z=this._applyTransform(r);u=z.sourceList,c=z.upstreamSignList}else{var B=k.get("source",!0);u=[$P(B,this._getSourceMetaRawOption(),null)],c=[]}}de(u&&c),this._setLocalSource(u,c)},n.prototype._applyTransform=function(i){var r=this._sourceHost,s=r.get("transform",!0),u=r.get("fromTransformResult",!0);if(de(u!=null||s!=null),u!=null){var c="";i.length!==1&&(c="When using `fromTransformResult`, there should be only one upstream dataset",s8(c))}var p,d=[],m=[];return j(i,function(_){_.prepareSource();var S=_.getSource(u||0),w="";u!=null&&!S&&(w="Can not retrieve result by `fromTransformResult`: "+u,s8(w)),d.push(S),m.push(_._getVersionSign())}),s?p=eSt(s,d,{datasetIndex:r.componentIndex}):u!=null&&(p=[Nxt(d[0])]),{sourceList:p,upstreamSignList:m}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var i=this._getUpstreamSourceManagers(),r=0;r<i.length;r++){var s=i[r];if(s._isDirty()||this._upstreamSignList[r]!==s._getVersionSign())return!0}},n.prototype.getSource=function(i){i=i||0;var r=this._sourceList[i];if(!r){var s=this._getUpstreamSourceManagers();return s[0]&&s[0].getSource(i)}return r},n.prototype.getSharedDataStore=function(i){de(C0(this._sourceHost),"Can only call getDataStore on series source manager.");var r=i.makeStoreSchema();return this._innerGetDataStore(r.dimensions,i.source,r.hash)},n.prototype._innerGetDataStore=function(i,r,s){var u=0,c=this._storeList,p=c[u];p||(p=c[u]={});var d=p[s];if(!d){var m=this._getUpstreamSourceManagers()[0];C0(this._sourceHost)&&m?d=m._innerGetDataStore(i,r,s):(d=new e2,d.initData(new HY(r,i.length),i)),p[s]=d}return d},n.prototype._getUpstreamSourceManagers=function(){var i=this._sourceHost;if(C0(i)){var r=BP(i);return r?[r.getSourceManager()]:[]}else return Tt(uxt(i),function(s){return s.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var i=this._sourceHost,r,s,u;if(C0(i))r=i.get("seriesLayoutBy",!0),s=i.get("sourceHeader",!0),u=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var c=i;r=c.get("seriesLayoutBy",!0),s=c.get("sourceHeader",!0),u=c.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:s,dimensions:u}},n}();function o8(n){var i=n.option.transform;i&&Ay(n.option.transform)}function C0(n){return n.mainType==="series"}function s8(n){throw new Error(n)}var oSt="line-height:1";function l8(n){var i=n.lineHeight;return i==null?oSt:"line-height:"+ta(i+"")+"px"}function u8(n,i){var r=n.color||"#6e7079",s=n.fontSize||12,u=n.fontWeight||"400",c=n.color||"#464646",p=n.fontSize||14,d=n.fontWeight||"900";return i==="html"?{nameStyle:"font-size:"+ta(s+"")+"px;color:"+ta(r)+";font-weight:"+ta(u+""),valueStyle:"font-size:"+ta(p+"")+"px;color:"+ta(c)+";font-weight:"+ta(d+"")}:{nameStyle:{fontSize:s,fill:r,fontWeight:u},valueStyle:{fontSize:p,fill:c,fontWeight:d}}}var sSt=[0,10,20,30],lSt=["",`
`,`

`,`


`];function Vi(n,i){return i.type=n,i}function r2(n){return n.type==="section"}function f8(n){return r2(n)?uSt:fSt}function c8(n){if(r2(n)){var i=0,r=n.blocks.length,s=r>1||r>0&&!n.noHeader;return j(n.blocks,function(u){var c=c8(u);c>=i&&(i=c+ +(s&&(!c||r2(u)&&!u.noHeader)))}),i}return 0}function uSt(n,i,r,s){var u=i.noHeader,c=cSt(c8(i)),p=[],d=i.blocks||[];de(!d||wt(d)),d=d||[];var m=n.orderMode;if(i.sortBlocks&&m){d=d.slice();var _={valueAsc:"asc",valueDesc:"desc"};if(Jt(_,m)){var S=new QY(_[m],null);d.sort(function(E,R){return S.evaluate(E.sortParam,R.sortParam)})}else m==="seriesDesc"&&d.reverse()}j(d,function(E,R){var k=i.valueFormatter,z=f8(E)(k?st(st({},n),{valueFormatter:k}):n,E,R>0?c.html:0,s);z!=null&&p.push(z)});var w=n.renderMode==="richText"?p.join(c.richText):i2(s,p.join(""),u?r:c.html);if(u)return w;var A=RP(i.header,"ordinal",n.useUTC),D=u8(s,n.renderMode).nameStyle,L=l8(s);return n.renderMode==="richText"?p8(n,A,D)+c.richText+w:i2(s,'<div style="'+D+";"+L+';">'+ta(A)+"</div>"+w,r)}function fSt(n,i,r,s){var u=n.renderMode,c=i.noName,p=i.noValue,d=!i.markerType,m=i.name,_=n.useUTC,S=i.valueFormatter||n.valueFormatter||function(G){return G=wt(G)?G:[G],Tt(G,function(W,Y){return RP(W,wt(D)?D[Y]:D,_)})};if(!(c&&p)){var w=d?"":n.markupStyleCreator.makeTooltipMarker(i.markerType,i.markerColor||"#333",u),A=c?"":RP(m,"ordinal",_),D=i.valueType,L=p?[]:S(i.value,i.dataIndex),E=!d||!c,R=!d&&c,k=u8(s,u),z=k.nameStyle,B=k.valueStyle;return u==="richText"?(d?"":w)+(c?"":p8(n,A,z))+(p?"":vSt(n,L,E,R,B)):i2(s,(d?"":w)+(c?"":hSt(A,!d,z))+(p?"":pSt(L,E,R,B)),r)}}function h8(n,i,r,s,u,c){if(n){var p=f8(n),d={useUTC:u,renderMode:r,orderMode:s,markupStyleCreator:i,valueFormatter:n.valueFormatter};return p(d,n,0,c)}}function cSt(n){return{html:sSt[n],richText:lSt[n]}}function i2(n,i,r){var s='<div style="clear:both"></div>',u="margin: "+r+"px 0 0",c=l8(n);return'<div style="'+u+";"+c+';">'+i+s+"</div>"}function hSt(n,i,r){var s=i?"margin-left:2px":"";return'<span style="'+r+";"+s+'">'+ta(n)+"</span>"}function pSt(n,i,r,s){var u=r?"10px":"20px",c=i?"float:right;margin-left:"+u:"";return n=wt(n)?n:[n],'<span style="'+c+";"+s+'">'+Tt(n,function(p){return ta(p)}).join("&nbsp;&nbsp;")+"</span>"}function p8(n,i,r){return n.markupStyleCreator.wrapRichTextStyle(i,r)}function vSt(n,i,r,s,u){var c=[u],p=s?10:20;return r&&c.push({padding:[0,0,0,p],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(wt(i)?i.join("  "):i,c)}function v8(n,i){var r=n.getData().getItemVisual(i,"style"),s=r[n.visualDrawType];return Ch(s)}function d8(n,i){var r=n.get("padding");return r??(i==="richText"?[8,10]:10)}var a2=function(){function n(){this.richTextStyles={},this._nextStyleNameId=g4()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(i,r,s){var u=s==="richText"?this._generateStyleName():null,c=pY({color:r,type:i,renderMode:s,markerId:u});return kt(c)?c:(de(u),this.richTextStyles[u]=c.style,c.content)},n.prototype.wrapRichTextStyle=function(i,r){var s={};wt(r)?j(r,function(c){return st(s,c)}):st(s,r);var u=this._generateStyleName();return this.richTextStyles[u]=s,"{"+u+"|"+i+"}"},n}();function g8(n){var i=n.series,r=n.dataIndex,s=n.multipleSeries,u=i.getData(),c=u.mapDimensionsAll("defaultedTooltip"),p=c.length,d=i.getRawValue(r),m=wt(d),_=v8(i,r),S,w,A,D;if(p>1||m&&!p){var L=dSt(d,i,r,c,_);S=L.inlineValues,w=L.inlineValueTypes,A=L.blocks,D=L.inlineValues[0]}else if(p){var E=u.getDimensionInfo(c[0]);D=S=wd(u,r,c[0]),w=E.type}else D=S=m?d[0]:d;var R=IE(i),k=R&&i.name||"",z=u.getName(r),B=s?k:z;return Vi("section",{header:k,noHeader:s||!R,sortParam:D,blocks:[Vi("nameValue",{markerType:"item",markerColor:_,name:B,noName:!no(B),value:S,valueType:w,dataIndex:r})].concat(A||[])})}function dSt(n,i,r,s,u){var c=i.getData(),p=lr(n,function(w,A,D){var L=c.getDimensionInfo(D);return w=w||L&&L.tooltip!==!1&&L.displayName!=null},!1),d=[],m=[],_=[];s.length?j(s,function(w){S(wd(c,r,w),w)}):j(n,S);function S(w,A){var D=c.getDimensionInfo(A);!D||D.otherDims.tooltip===!1||(p?_.push(Vi("nameValue",{markerType:"subItem",markerColor:u,name:D.displayName,value:w,valueType:D.type})):(d.push(w),m.push(D.type)))}return{inlineValues:d,inlineValueTypes:m,blocks:_}}var wf=rr();function rw(n,i){return n.getName(i)||n.getId(i)}var iw="__universalTransitionEnabled",Sr=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return i.prototype.init=function(r,s,u){this.seriesIndex=this.componentIndex,this.dataTask=A0({count:mSt,reset:ySt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,u);var c=wf(this).sourceManager=new n8(this);c.prepareSource();var p=this.getInitialData(r,u);y8(p,this),this.dataTask.context.data=p,de(p,"getInitialData returned invalid data."),wf(this).dataBeforeProcessed=p,m8(this),this._initSelectedMapFromData(p)},i.prototype.mergeDefaultAndTheme=function(r,s){var u=x0(this),c=u?xd(r):{},p=this.subType;We.hasClass(p)&&(p+="Series"),pt(r,s.getTheme().get(this.subType)),pt(r,this.getDefaultOption()),nh(r,"label",["show"]),this.fillDataTextStyle(r.data),u&&Sf(r,c,u)},i.prototype.mergeOption=function(r,s){r=pt(this.option,r,!0),this.fillDataTextStyle(r.data);var u=x0(this);u&&Sf(this.option,r,u);var c=wf(this).sourceManager;c.dirty(),c.prepareSource();var p=this.getInitialData(r,s);y8(p,this),this.dataTask.dirty(),this.dataTask.context.data=p,wf(this).dataBeforeProcessed=p,m8(this),this._initSelectedMapFromData(p)},i.prototype.fillDataTextStyle=function(r){if(r&&!Wr(r))for(var s=["show"],u=0;u<r.length;u++)r[u]&&r[u].label&&nh(r[u],"label",s)},i.prototype.getInitialData=function(r,s){},i.prototype.appendData=function(r){var s=this.getRawData();s.appendData(r.data)},i.prototype.getData=function(r){var s=n2(this);if(s){var u=s.context.data;return r==null||!u.getLinkedData?u:u.getLinkedData(r)}else return wf(this).data},i.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},i.prototype.setData=function(r){var s=n2(this);if(s){var u=s.context;u.outputData=r,s!==this.dataTask&&(u.data=r)}wf(this).data=r},i.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return le(r)},i.prototype.getSourceManager=function(){return wf(this).sourceManager},i.prototype.getSource=function(){return this.getSourceManager().getSource()},i.prototype.getRawData=function(){return wf(this).dataBeforeProcessed},i.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},i.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},i.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},i.prototype.formatTooltip=function(r,s,u){return g8({series:this,dataIndex:r,multipleSeries:s})},i.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(f.node&&!(r&&r.ssr))return!1;var s=this.getShallow("animation");return s&&this.getData().count()>this.getShallow("animationThreshold")&&(s=!1),!!s},i.prototype.restoreData=function(){this.dataTask.dirty()},i.prototype.getColorFromPalette=function(r,s,u){var c=this.ecModel,p=UP.prototype.getColorFromPalette.call(this,r,s,u);return p||(p=c.getColorFromPalette(r,s,u)),p},i.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},i.prototype.getProgressive=function(){return this.get("progressive")},i.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},i.prototype.select=function(r,s){this._innerSelect(this.getData(s),r)},i.prototype.unselect=function(r,s){var u=this.option.selectedMap;if(u){var c=this.option.selectedMode,p=this.getData(s);if(c==="series"||u==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var d=0;d<r.length;d++){var m=r[d],_=rw(p,m);u[_]=!1,this._selectedDataIndicesMap[_]=-1}}},i.prototype.toggleSelect=function(r,s){for(var u=[],c=0;c<r.length;c++)u[0]=r[c],this.isSelected(r[c],s)?this.unselect(u,s):this.select(u,s)},i.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,s=Xt(r),u=[],c=0;c<s.length;c++){var p=r[s[c]];p>=0&&u.push(p)}return u},i.prototype.isSelected=function(r,s){var u=this.option.selectedMap;if(!u)return!1;var c=this.getData(s);return(u==="all"||u[rw(c,r)])&&!c.getItemModel(r).get(["select","disabled"])},i.prototype.isUniversalTransitionEnabled=function(){if(this[iw])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},i.prototype._innerSelect=function(r,s){var u,c,p=this.option,d=p.selectedMode,m=s.length;if(!(!d||!m)){if(d==="series")p.selectedMap="all";else if(d==="multiple"){re(p.selectedMap)||(p.selectedMap={});for(var _=p.selectedMap,S=0;S<m;S++){var w=s[S],A=rw(r,w);_[A]=!0,this._selectedDataIndicesMap[A]=r.getRawIndex(w)}}else if(d==="single"||d===!0){var D=s[m-1],A=rw(r,D);p.selectedMap=(u={},u[A]=!0,u),this._selectedDataIndicesMap=(c={},c[A]=r.getRawIndex(D),c)}}},i.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var s=[];r.hasItemOption&&r.each(function(u){var c=r.getRawDataItem(u);c&&c.selected&&s.push(u)}),s.length>0&&this._innerSelect(r,s)}},i.registerClass=function(r){return We.registerClass(r)},i.protoInitialize=function(){var r=i.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),i}(We);qt(Sr,tw),qt(Sr,UP),E4(Sr,We);function m8(n){var i=n.name;IE(n)||(n.name=gSt(n)||i)}function gSt(n){var i=n.getRawData(),r=i.mapDimensionsAll("seriesName"),s=[];return j(r,function(u){var c=i.getDimensionInfo(u);c.displayName&&s.push(c.displayName)}),s.join(" ")}function mSt(n){return n.model.getRawData().count()}function ySt(n){var i=n.model;return i.setData(i.getRawData().cloneShallow()),_St}function _St(n,i){i.outputData&&n.end>i.outputData.count()&&i.model.getRawData().cloneShallow(i.outputData)}function y8(n,i){j(Hv(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(r){n.wrapMethod(r,ee(xSt,i))})}function xSt(n,i){var r=n2(n);return r&&r.setOutputEnd((i||this).count()),i}function n2(n){var i=(n.ecModel||{}).scheduler,r=i&&i.getPipeline(n.uid);if(r){var s=r.currentTask;if(s){var u=s.agentStubMap;u&&(s=u.get(n.uid))}return s}}var Pr=function(){function n(){this.group=new Te,this.uid=gd("viewComponent")}return n.prototype.init=function(i,r){},n.prototype.render=function(i,r,s,u){},n.prototype.dispose=function(i,r){},n.prototype.updateView=function(i,r,s,u){},n.prototype.updateLayout=function(i,r,s,u){},n.prototype.updateVisual=function(i,r,s,u){},n.prototype.toggleBlurSeries=function(i,r,s){},n.prototype.eachRendered=function(i){var r=this.group;r&&r.traverse(i)},n}();RE(Pr),v1(Pr);function Cd(){var n=rr();return function(i){var r=n(i),s=i.pipelineContext,u=!!r.large,c=!!r.progressiveRender,p=r.large=!!(s&&s.large),d=r.progressiveRender=!!(s&&s.progressiveRender);return(u!==p||c!==d)&&"reset"}}var _8=rr(),SSt=Cd(),vr=function(){function n(){this.group=new Te,this.uid=gd("viewChart"),this.renderTask=A0({plan:bSt,reset:wSt}),this.renderTask.context={view:this}}return n.prototype.init=function(i,r){},n.prototype.render=function(i,r,s,u){throw new Error("render method must been implemented")},n.prototype.highlight=function(i,r,s,u){var c=i.getData(u&&u.dataType);if(!c){ea("Unknown dataType "+u.dataType);return}S8(c,u,"emphasis")},n.prototype.downplay=function(i,r,s,u){var c=i.getData(u&&u.dataType);if(!c){ea("Unknown dataType "+u.dataType);return}S8(c,u,"normal")},n.prototype.remove=function(i,r){this.group.removeAll()},n.prototype.dispose=function(i,r){},n.prototype.updateView=function(i,r,s,u){this.render(i,r,s,u)},n.prototype.updateLayout=function(i,r,s,u){this.render(i,r,s,u)},n.prototype.updateVisual=function(i,r,s,u){this.render(i,r,s,u)},n.prototype.eachRendered=function(i){_f(this.group,i)},n.markUpdateMethod=function(i,r){_8(i).updateMethod=r},n.protoInitialize=function(){var i=n.prototype;i.type="chart"}(),n}();function x8(n,i,r){n&&gf(n)&&(i==="emphasis"?Ql:tu)(n,r)}function S8(n,i,r){var s=oh(n,i),u=i&&i.highlightKey!=null?a_t(i.highlightKey):null;s!=null?j(xr(s),function(c){x8(n.getItemGraphicEl(c),r,u)}):n.eachItemGraphicEl(function(c){x8(c,r,u)})}RE(vr,["dispose"]),v1(vr);function bSt(n){return SSt(n.model)}function wSt(n){var i=n.model,r=n.ecModel,s=n.api,u=n.payload,c=i.pipelineContext.progressiveRender,p=n.view,d=u&&_8(u).updateMethod,m=c?"incrementalPrepareRender":d&&p[d]?d:"render";return m!=="render"&&p[m](i,r,s,u),TSt[m]}var TSt={incrementalPrepareRender:{progress:function(n,i){i.view.incrementalRender(n,i.model,i.ecModel,i.api,i.payload)}},render:{forceFirstProgress:!0,progress:function(n,i){i.view.render(i.model,i.ecModel,i.api,i.payload)}}},aw="\0__throttleOriginMethod",b8="\0__throttleRate",w8="\0__throttleType";function nw(n,i,r){var s,u=0,c=0,p=null,d,m,_,S;i=i||0;function w(){c=new Date().getTime(),p=null,n.apply(m,_||[])}var A=function(){for(var D=[],L=0;L<arguments.length;L++)D[L]=arguments[L];s=new Date().getTime(),m=this,_=D;var E=S||i,R=S||r;S=null,d=s-(R?u:c)-E,clearTimeout(p),R?p=setTimeout(w,E):d>=0?w():p=setTimeout(w,-d),u=s};return A.clear=function(){p&&(clearTimeout(p),p=null)},A.debounceNextCall=function(D){S=D},A}function Dd(n,i,r,s){var u=n[i];if(u){var c=u[aw]||u,p=u[w8],d=u[b8];if(d!==r||p!==s){if(r==null||!s)return n[i]=c;u=n[i]=nw(c,r,s==="debounce"),u[aw]=c,u[w8]=s,u[b8]=r}return u}}function D0(n,i){var r=n[i];r&&r[aw]&&(r.clear&&r.clear(),n[i]=r[aw])}var T8=rr(),A8={itemStyle:lh(Q6,!0),lineStyle:lh(J6,!0)},ASt={lineStyle:"stroke",itemStyle:"fill"};function C8(n,i){var r=n.visualStyleMapper||A8[i];return r||(console.warn("Unknown style type '"+i+"'."),A8.itemStyle)}function D8(n,i){var r=n.visualDrawType||ASt[i];return r||(console.warn("Unknown style type '"+i+"'."),"fill")}var CSt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){var r=n.getData(),s=n.visualStyleAccessPath||"itemStyle",u=n.getModel(s),c=C8(n,s),p=c(u),d=u.getShallow("decal");d&&(r.setVisual("decal",d),d.dirty=!0);var m=D8(n,s),_=p[m],S=Gt(_)?_:null,w=p.fill==="auto"||p.stroke==="auto";if(!p[m]||S||w){var A=n.getColorFromPalette(n.name,null,i.getSeriesCount());p[m]||(p[m]=A,r.setVisual("colorFromPalette",!0)),p.fill=p.fill==="auto"||Gt(p.fill)?A:p.fill,p.stroke=p.stroke==="auto"||Gt(p.stroke)?A:p.stroke}if(r.setVisual("style",p),r.setVisual("drawType",m),!i.isSeriesFiltered(n)&&S)return r.setVisual("colorFromPalette",!1),{dataEach:function(D,L){var E=n.getDataParams(L),R=st({},p);R[m]=S(E),D.setItemVisual(L,"style",R)}}}},M0=new sr,DSt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){if(!(n.ignoreStyleOnData||i.isSeriesFiltered(n))){var r=n.getData(),s=n.visualStyleAccessPath||"itemStyle",u=C8(n,s),c=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(p,d){var m=p.getRawDataItem(d);if(m&&m[s]){M0.option=m[s];var _=u(M0),S=p.ensureUniqueItemVisual(d,"style");st(S,_),M0.option.decal&&(p.setItemVisual(d,"decal",M0.option.decal),M0.option.decal.dirty=!0),c in _&&p.setItemVisual(d,"colorFromPalette",!1)}}:null}}}},MSt={performRawSeries:!0,overallReset:function(n){var i=le();n.eachSeries(function(r){var s=r.getColorBy();if(!r.isColorBySeries()){var u=r.type+"-"+s,c=i.get(u);c||(c={},i.set(u,c)),T8(r).scope=c}}),n.eachSeries(function(r){if(!(r.isColorBySeries()||n.isSeriesFiltered(r))){var s=r.getRawData(),u={},c=r.getData(),p=T8(r).scope,d=r.visualStyleAccessPath||"itemStyle",m=D8(r,d);c.each(function(_){var S=c.getRawIndex(_);u[S]=_}),s.each(function(_){var S=u[_],w=c.getItemVisual(S,"colorFromPalette");if(w){var A=c.ensureUniqueItemVisual(S,"style"),D=s.getName(_)||_+"",L=s.count();A[m]=r.getColorFromPalette(D,p,L)}})}})}},ow=Math.PI;function LSt(n,i){i=i||{},dt(i,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Te,s=new tr({style:{fill:i.maskColor},zlevel:i.zlevel,z:1e4});r.add(s);var u=new er({style:{text:i.text,fill:i.textColor,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle,fontFamily:i.fontFamily},zlevel:i.zlevel,z:10001}),c=new tr({style:{fill:"none"},textContent:u,textConfig:{position:"right",distance:10},zlevel:i.zlevel,z:10001});r.add(c);var p;return i.showSpinner&&(p=new c0({shape:{startAngle:-ow/2,endAngle:-ow/2+.1,r:i.spinnerRadius},style:{stroke:i.color,lineCap:"round",lineWidth:i.lineWidth},zlevel:i.zlevel,z:10001}),p.animateShape(!0).when(1e3,{endAngle:ow*3/2}).start("circularInOut"),p.animateShape(!0).when(1e3,{startAngle:ow*3/2}).delay(300).start("circularInOut"),r.add(p)),r.resize=function(){var d=u.getBoundingRect().width,m=i.showSpinner?i.spinnerRadius:0,_=(n.getWidth()-m*2-(i.showSpinner&&d?10:0)-d)/2-(i.showSpinner&&d?0:5+d/2)+(i.showSpinner?0:d/2)+(d?0:m),S=n.getHeight()/2;i.showSpinner&&p.setShape({cx:_,cy:S}),c.setShape({x:_-m,y:S-m,width:m*2,height:m*2}),s.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},r.resize(),r}var M8=function(){function n(i,r,s,u){this._stageTaskMap=le(),this.ecInstance=i,this.api=r,s=this._dataProcessorHandlers=s.slice(),u=this._visualHandlers=u.slice(),this._allHandlers=s.concat(u)}return n.prototype.restoreData=function(i,r){i.restoreData(r),this._stageTaskMap.each(function(s){var u=s.overallTask;u&&u.dirty()})},n.prototype.getPerformArgs=function(i,r){if(i.__pipeline){var s=this._pipelineMap.get(i.__pipeline.id),u=s.context,c=!r&&s.progressiveEnabled&&(!u||u.progressiveRender)&&i.__idxInPipeline>s.blockIndex,p=c?s.step:null,d=u&&u.modDataCount,m=d!=null?Math.ceil(d/p):null;return{step:p,modBy:m,modDataCount:d}}},n.prototype.getPipeline=function(i){return this._pipelineMap.get(i)},n.prototype.updateStreamModes=function(i,r){var s=this._pipelineMap.get(i.uid),u=i.getData(),c=u.count(),p=s.progressiveEnabled&&r.incrementalPrepareRender&&c>=s.threshold,d=i.get("large")&&c>=i.get("largeThreshold"),m=i.get("progressiveChunkMode")==="mod"?c:null;i.pipelineContext=s.context={progressiveRender:p,modDataCount:m,large:d}},n.prototype.restorePipelines=function(i){var r=this,s=r._pipelineMap=le();i.eachSeries(function(u){var c=u.getProgressive(),p=u.uid;s.set(p,{id:p,head:null,tail:null,threshold:u.getProgressiveThreshold(),progressiveEnabled:c&&!(u.preventIncremental&&u.preventIncremental()),blockIndex:-1,step:Math.round(c||700),count:0}),r._pipe(u,u.dataTask)})},n.prototype.prepareStageTasks=function(){var i=this._stageTaskMap,r=this.api.getModel(),s=this.api;j(this._allHandlers,function(u){var c=i.get(u.uid)||i.set(u.uid,{}),p="";p='"reset" and "overallReset" must not be both specified.',de(!(u.reset&&u.overallReset),p),u.reset&&this._createSeriesStageTask(u,c,r,s),u.overallReset&&this._createOverallStageTask(u,c,r,s)},this)},n.prototype.prepareView=function(i,r,s,u){var c=i.renderTask,p=c.context;p.model=r,p.ecModel=s,p.api=u,c.__block=!i.incrementalPrepareRender,this._pipe(r,c)},n.prototype.performDataProcessorTasks=function(i,r){this._performStageTasks(this._dataProcessorHandlers,i,r,{block:!0})},n.prototype.performVisualTasks=function(i,r,s){this._performStageTasks(this._visualHandlers,i,r,s)},n.prototype._performStageTasks=function(i,r,s,u){u=u||{};var c=!1,p=this;j(i,function(m,_){if(!(u.visualType&&u.visualType!==m.visualType)){var S=p._stageTaskMap.get(m.uid),w=S.seriesTaskMap,A=S.overallTask;if(A){var D,L=A.agentStubMap;L.each(function(R){d(u,R)&&(R.dirty(),D=!0)}),D&&A.dirty(),p.updatePayload(A,s);var E=p.getPerformArgs(A,u.block);L.each(function(R){R.perform(E)}),A.perform(E)&&(c=!0)}else w&&w.each(function(R,k){d(u,R)&&R.dirty();var z=p.getPerformArgs(R,u.block);z.skip=!m.performRawSeries&&r.isSeriesFiltered(R.context.model),p.updatePayload(R,s),R.perform(z)&&(c=!0)})}});function d(m,_){return m.setDirty&&(!m.dirtyMap||m.dirtyMap.get(_.__pipeline.id))}this.unfinished=c||this.unfinished},n.prototype.performSeriesTasks=function(i){var r;i.eachSeries(function(s){r=s.dataTask.perform()||r}),this.unfinished=r||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(i){var r=i.tail;do{if(r.__block){i.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},n.prototype.updatePayload=function(i,r){r!=="remain"&&(i.context.payload=r)},n.prototype._createSeriesStageTask=function(i,r,s,u){var c=this,p=r.seriesTaskMap,d=r.seriesTaskMap=le(),m=i.seriesType,_=i.getTargetSeries;i.createOnAllSeries?s.eachRawSeries(S):m?s.eachRawSeriesByType(m,S):_&&_(s,u).each(S);function S(w){var A=w.uid,D=d.set(A,p&&p.get(A)||A0({plan:OSt,reset:kSt,count:zSt}));D.context={model:w,ecModel:s,api:u,useClearVisual:i.isVisual&&!i.isLayout,plan:i.plan,reset:i.reset,scheduler:c},c._pipe(w,D)}},n.prototype._createOverallStageTask=function(i,r,s,u){var c=this,p=r.overallTask=r.overallTask||A0({reset:ISt});p.context={ecModel:s,api:u,overallReset:i.overallReset,scheduler:c};var d=p.agentStubMap,m=p.agentStubMap=le(),_=i.seriesType,S=i.getTargetSeries,w=!0,A=!1,D="";D='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',de(!i.createOnAllSeries,D),_?s.eachRawSeriesByType(_,L):S?S(s,u).each(L):(w=!1,j(s.getSeries(),L));function L(E){var R=E.uid,k=m.set(R,d&&d.get(R)||(A=!0,A0({reset:ESt,onDirty:RSt})));k.context={model:E,overallProgress:w},k.agent=p,k.__block=w,c._pipe(E,k)}A&&p.dirty()},n.prototype._pipe=function(i,r){var s=i.uid,u=this._pipelineMap.get(s);!u.head&&(u.head=r),u.tail&&u.tail.pipe(r),u.tail=r,r.__idxInPipeline=u.count++,r.__pipeline=u},n.wrapStageHandler=function(i,r){return Gt(i)&&(i={overallReset:i,seriesType:VSt(i)}),i.uid=gd("stageHandler"),r&&(i.visualType=r),i},n}();function ISt(n){n.overallReset(n.ecModel,n.api,n.payload)}function ESt(n){return n.overallProgress&&PSt}function PSt(){this.agent.dirty(),this.getDownstream().dirty()}function RSt(){this.agent&&this.agent.dirty()}function OSt(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function kSt(n){n.useClearVisual&&n.data.clearAllVisual();var i=n.resetDefines=xr(n.reset(n.model,n.ecModel,n.api,n.payload));return i.length>1?Tt(i,function(r,s){return L8(s)}):NSt}var NSt=L8(0);function L8(n){return function(i,r){var s=r.data,u=r.resetDefines[n];if(u&&u.dataEach)for(var c=i.start;c<i.end;c++)u.dataEach(s,c);else u&&u.progress&&u.progress(i,s)}}function zSt(n){return n.data.count()}function VSt(n){sw=null;try{n(L0,I8)}catch{}return sw}var L0={},I8={},sw;E8(L0,WP),E8(I8,LY),L0.eachSeriesByType=L0.eachRawSeriesByType=function(n){sw=n},L0.eachComponent=function(n){n.mainType==="series"&&n.subType&&(sw=n.subType)};function E8(n,i){for(var r in i.prototype)n[r]=Qr}var P8=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],BSt={color:P8,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],P8]},Sa="#B9B8CE",R8="#100C2A",lw=function(){return{axisLine:{lineStyle:{color:Sa}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},O8=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],k8={darkMode:!0,color:O8,backgroundColor:R8,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Sa},pageTextStyle:{color:Sa}},textStyle:{color:Sa},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Sa}},dataZoom:{borderColor:"#71708A",textStyle:{color:Sa},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Sa}},timeline:{lineStyle:{color:Sa},label:{color:Sa},controlStyle:{color:Sa,borderColor:Sa}},calendar:{itemStyle:{color:R8},dayLabel:{color:Sa},monthLabel:{color:Sa},yearLabel:{color:Sa}},timeAxis:lw(),logAxis:lw(),valueAxis:lw(),categoryAxis:lw(),line:{symbol:"circle"},graph:{color:O8},gauge:{title:{color:Sa},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Sa},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};k8.categoryAxis.splitLine.show=!1;var FSt=function(){function n(){}return n.prototype.normalizeQuery=function(i){var r={},s={},u={};if(kt(i)){var c=js(i);r.mainType=c.main||null,r.subType=c.sub||null}else{var p=["Index","Name","Id"],d={name:1,dataIndex:1,dataType:1};j(i,function(m,_){for(var S=!1,w=0;w<p.length;w++){var A=p[w],D=_.lastIndexOf(A);if(D>0&&D===_.length-A.length){var L=_.slice(0,D);L!=="data"&&(r.mainType=L,r[A.toLowerCase()]=m,S=!0)}}d.hasOwnProperty(_)&&(s[_]=m,S=!0),S||(u[_]=m)})}return{cptQuery:r,dataQuery:s,otherQuery:u}},n.prototype.filter=function(i,r){var s=this.eventInfo;if(!s)return!0;var u=s.targetEl,c=s.packedEvent,p=s.model,d=s.view;if(!p||!d)return!0;var m=r.cptQuery,_=r.dataQuery;return S(m,p,"mainType")&&S(m,p,"subType")&&S(m,p,"index","componentIndex")&&S(m,p,"name")&&S(m,p,"id")&&S(_,c,"name")&&S(_,c,"dataIndex")&&S(_,c,"dataType")&&(!d.filterForExposedEvent||d.filterForExposedEvent(i,r.otherQuery,u,c));function S(w,A,D,L){return w[D]==null||A[L||D]===w[D]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),o2=["symbol","symbolSize","symbolRotate","symbolOffset"],N8=o2.concat(["symbolKeepAspect"]),USt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){var r=n.getData();if(n.legendIcon&&r.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var s={},u={},c=!1,p=0;p<o2.length;p++){var d=o2[p],m=n.get(d);Gt(m)?(c=!0,u[d]=m):s[d]=m}if(s.symbol=s.symbol||n.defaultSymbol,r.setVisual(st({legendIcon:n.legendIcon||s.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},s)),i.isSeriesFiltered(n))return;var _=Xt(u);function S(w,A){for(var D=n.getRawValue(A),L=n.getDataParams(A),E=0;E<_.length;E++){var R=_[E];w.setItemVisual(A,R,u[R](D,L))}}return{dataEach:c?S:null}}},GSt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){if(!n.hasSymbolVisual||i.isSeriesFiltered(n))return;var r=n.getData();function s(u,c){for(var p=u.getItemModel(c),d=0;d<N8.length;d++){var m=N8[d],_=p.getShallow(m,!0);_!=null&&u.setItemVisual(c,m,_)}}return{dataEach:r.hasItemOption?s:null}}};function s2(n,i,r){switch(r){case"color":var s=n.getItemVisual(i,"style");return s[n.getVisual("drawType")];case"opacity":return n.getItemVisual(i,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(i,r);default:console.warn("Unknown visual type "+r)}}function I0(n,i){switch(i){case"color":var r=n.getVisual("style");return r[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(i);default:console.warn("Unknown visual type "+i)}}function z8(n,i,r,s){switch(r){case"color":var u=n.ensureUniqueItemVisual(i,"style");u[n.getVisual("drawType")]=s,n.setItemVisual(i,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(i,"style").opacity=s;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(i,r,s);break;default:console.warn("Unknown visual type "+r)}}function V8(n,i){function r(s,u){var c=[];return s.eachComponent({mainType:"series",subType:n,query:u},function(p){c.push(p.seriesIndex)}),c}j([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(s){i(s[0],function(u,c,p){u=st({},u),si(u.type,s[1]),p.dispatchAction(st(u,{type:s[1],seriesIndex:r(c,u)}))})})}function Md(n,i,r,s,u){var c=n+i;r.isSilent(c)||(fo("event "+c+" is deprecated."),s.eachComponent({mainType:"series",subType:"pie"},function(p){for(var d=p.seriesIndex,m=p.option.selectedMap,_=u.selected,S=0;S<_.length;S++)if(_[S].seriesIndex===d){var w=p.getData(),A=oh(w,u.fromActionPayload);r.trigger(c,{type:c,seriesId:p.id,name:wt(A)?w.getName(A[0]):w.getName(A),selected:kt(m)?m:st({},m)})}}))}function HSt(n,i,r){n.on("selectchanged",function(s){var u=r.getModel();s.isFromClick?(Md("map","selectchanged",i,u,s),Md("pie","selectchanged",i,u,s)):s.fromAction==="select"?(Md("map","selected",i,u,s),Md("pie","selected",i,u,s)):s.fromAction==="unselect"&&(Md("map","unselected",i,u,s),Md("pie","unselected",i,u,s))})}function Rh(n,i,r){for(var s;n&&!(i(n)&&(s=n,r));)n=n.__hostTarget||n.parent;return s}var WSt=Math.round(Math.random()*9),YSt=typeof Object.defineProperty=="function",ZSt=function(){function n(){this._id="__ec_inner_"+WSt++}return n.prototype.get=function(i){return this._guard(i)[this._id]},n.prototype.set=function(i,r){var s=this._guard(i);return YSt?Object.defineProperty(s,this._id,{value:r,enumerable:!1,configurable:!0}):s[this._id]=r,this},n.prototype.delete=function(i){return this.has(i)?(delete this._guard(i)[this._id],!0):!1},n.prototype.has=function(i){return!!this._guard(i)[this._id]},n.prototype._guard=function(i){if(i!==Object(i))throw TypeError("Value of WeakMap is not a non-null object.");return i},n}(),XSt=Xe.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,i){var r=i.cx,s=i.cy,u=i.width/2,c=i.height/2;n.moveTo(r,s-c),n.lineTo(r+u,s+c),n.lineTo(r-u,s+c),n.closePath()}}),qSt=Xe.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,i){var r=i.cx,s=i.cy,u=i.width/2,c=i.height/2;n.moveTo(r,s-c),n.lineTo(r+u,s),n.lineTo(r,s+c),n.lineTo(r-u,s),n.closePath()}}),$St=Xe.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,i){var r=i.x,s=i.y,u=i.width/5*3,c=Math.max(u,i.height),p=u/2,d=p*p/(c-p),m=s-c+p+d,_=Math.asin(d/p),S=Math.cos(_)*p,w=Math.sin(_),A=Math.cos(_),D=p*.6,L=p*.7;n.moveTo(r-S,m+d),n.arc(r,m,p,Math.PI-_,Math.PI*2+_),n.bezierCurveTo(r+S-w*D,m+d+A*D,r,s-L,r,s),n.bezierCurveTo(r,s-L,r-S+w*D,m+d+A*D,r-S,m+d),n.closePath()}}),KSt=Xe.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,i){var r=i.height,s=i.width,u=i.x,c=i.y,p=s/3*2;n.moveTo(u,c),n.lineTo(u+p,c+r),n.lineTo(u,c+r/4*3),n.lineTo(u-p,c+r),n.lineTo(u,c),n.closePath()}}),jSt={line:Ti,rect:tr,roundRect:tr,square:tr,circle:rl,diamond:qSt,pin:$St,arrow:KSt,triangle:XSt},JSt={line:function(n,i,r,s,u){u.x1=n,u.y1=i+s/2,u.x2=n+r,u.y2=i+s/2},rect:function(n,i,r,s,u){u.x=n,u.y=i,u.width=r,u.height=s},roundRect:function(n,i,r,s,u){u.x=n,u.y=i,u.width=r,u.height=s,u.r=Math.min(r,s)/4},square:function(n,i,r,s,u){var c=Math.min(r,s);u.x=n,u.y=i,u.width=c,u.height=c},circle:function(n,i,r,s,u){u.cx=n+r/2,u.cy=i+s/2,u.r=Math.min(r,s)/2},diamond:function(n,i,r,s,u){u.cx=n+r/2,u.cy=i+s/2,u.width=r,u.height=s},pin:function(n,i,r,s,u){u.x=n+r/2,u.y=i+s/2,u.width=r,u.height=s},arrow:function(n,i,r,s,u){u.x=n+r/2,u.y=i+s/2,u.width=r,u.height=s},triangle:function(n,i,r,s,u){u.cx=n+r/2,u.cy=i+s/2,u.width=r,u.height=s}},uw={};j(jSt,function(n,i){uw[i]=new n});var QSt=Xe.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,i,r){var s=l1(n,i,r),u=this.shape;return u&&u.symbolType==="pin"&&i.position==="inside"&&(s.y=r.y+r.height*.4),s},buildPath:function(n,i,r){var s=i.symbolType;if(s!=="none"){var u=uw[s];u||(s="rect",u=uw[s]),JSt[s](i.x,i.y,i.width,i.height,u.shape),u.buildPath(n,u.shape,r)}}});function tbt(n,i){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=n,r.fill=i||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=n:r.fill=n,this.markRedraw()}}function li(n,i,r,s,u,c,p){var d=n.indexOf("empty")===0;d&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var m;return n.indexOf("image://")===0?m=dP(n.slice(8),new Ve(i,r,s,u),p?"center":"cover"):n.indexOf("path://")===0?m=p0(n.slice(7),{},new Ve(i,r,s,u),p?"center":"cover"):m=new QSt({shape:{symbolType:n,x:i,y:r,width:s,height:u}}),m.__isEmptyBrush=d,m.setColor=tbt,c&&m.setColor(c),m}function Ld(n){return wt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Oh(n,i){if(n!=null)return wt(n)||(n=[n,n]),[Wt(n[0],i[0])||0,Wt(De(n[1],n[0]),i[1])||0]}function kh(n){return isFinite(n)}function ebt(n,i,r){var s=i.x==null?0:i.x,u=i.x2==null?1:i.x2,c=i.y==null?0:i.y,p=i.y2==null?0:i.y2;i.global||(s=s*r.width+r.x,u=u*r.width+r.x,c=c*r.height+r.y,p=p*r.height+r.y),s=kh(s)?s:0,u=kh(u)?u:1,c=kh(c)?c:0,p=kh(p)?p:0;var d=n.createLinearGradient(s,c,u,p);return d}function rbt(n,i,r){var s=r.width,u=r.height,c=Math.min(s,u),p=i.x==null?.5:i.x,d=i.y==null?.5:i.y,m=i.r==null?.5:i.r;i.global||(p=p*s+r.x,d=d*u+r.y,m=m*c),p=kh(p)?p:.5,d=kh(d)?d:.5,m=m>=0&&kh(m)?m:.5;var _=n.createRadialGradient(p,d,0,p,d,m);return _}function l2(n,i,r){for(var s=i.type==="radial"?rbt(n,i,r):ebt(n,i,r),u=i.colorStops,c=0;c<u.length;c++)s.addColorStop(u[c].offset,u[c].color);return s}function ibt(n,i){if(n===i||!n&&!i)return!1;if(!n||!i||n.length!==i.length)return!0;for(var r=0;r<n.length;r++)if(n[r]!==i[r])return!0;return!1}function fw(n){return parseInt(n,10)}function Id(n,i,r){var s=["width","height"][i],u=["clientWidth","clientHeight"][i],c=["paddingLeft","paddingTop"][i],p=["paddingRight","paddingBottom"][i];if(r[s]!=null&&r[s]!=="auto")return parseFloat(r[s]);var d=document.defaultView.getComputedStyle(n);return(n[u]||fw(d[s])||fw(n.style[s]))-(fw(d[c])||0)-(fw(d[p])||0)|0}function abt(n,i){return!n||n==="solid"||!(i>0)?null:n==="dashed"?[4*i,2*i]:n==="dotted"?[i]:Ne(n)?[n]:wt(n)?n:null}function u2(n){var i=n.style,r=i.lineDash&&i.lineWidth>0&&abt(i.lineDash,i.lineWidth),s=i.lineDashOffset;if(r){var u=i.strokeNoScale&&n.getLineScale?n.getLineScale():1;u&&u!==1&&(r=Tt(r,function(c){return c/u}),s/=u)}return[r,s]}var nbt=new el(!0);function cw(n){var i=n.stroke;return!(i==null||i==="none"||!(n.lineWidth>0))}function B8(n){return typeof n=="string"&&n!=="none"}function hw(n){var i=n.fill;return i!=null&&i!=="none"}function F8(n,i){if(i.fillOpacity!=null&&i.fillOpacity!==1){var r=n.globalAlpha;n.globalAlpha=i.fillOpacity*i.opacity,n.fill(),n.globalAlpha=r}else n.fill()}function U8(n,i){if(i.strokeOpacity!=null&&i.strokeOpacity!==1){var r=n.globalAlpha;n.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(),n.globalAlpha=r}else n.stroke()}function f2(n,i,r){var s=kE(i.image,i.__image,r);if(d1(s)){var u=n.createPattern(s,i.repeat||"repeat");if(typeof DOMMatrix=="function"&&u&&u.setTransform){var c=new DOMMatrix;c.translateSelf(i.x||0,i.y||0),c.rotateSelf(0,0,(i.rotation||0)*Dy),c.scaleSelf(i.scaleX||1,i.scaleY||1),u.setTransform(c)}return u}}function obt(n,i,r,s){var u,c=cw(r),p=hw(r),d=r.strokePercent,m=d<1,_=!i.path;(!i.silent||m)&&_&&i.createPathProxy();var S=i.path||nbt,w=i.__dirty;if(!s){var A=r.fill,D=r.stroke,L=p&&!!A.colorStops,E=c&&!!D.colorStops,R=p&&!!A.image,k=c&&!!D.image,z=void 0,B=void 0,G=void 0,W=void 0,Y=void 0;(L||E)&&(Y=i.getBoundingRect()),L&&(z=w?l2(n,A,Y):i.__canvasFillGradient,i.__canvasFillGradient=z),E&&(B=w?l2(n,D,Y):i.__canvasStrokeGradient,i.__canvasStrokeGradient=B),R&&(G=w||!i.__canvasFillPattern?f2(n,A,i):i.__canvasFillPattern,i.__canvasFillPattern=G),k&&(W=w||!i.__canvasStrokePattern?f2(n,D,i):i.__canvasStrokePattern,i.__canvasStrokePattern=G),L?n.fillStyle=z:R&&(G?n.fillStyle=G:p=!1),E?n.strokeStyle=B:k&&(W?n.strokeStyle=W:c=!1)}var q=i.getGlobalScale();S.setScale(q[0],q[1],i.segmentIgnoreThreshold);var J,tt;n.setLineDash&&r.lineDash&&(u=u2(i),J=u[0],tt=u[1]);var et=!0;(_||w&Yv)&&(S.setDPR(n.dpr),m?S.setContext(null):(S.setContext(n),et=!1),S.reset(),i.buildPath(S,i.shape,s),S.toStatic(),i.pathUpdated()),et&&S.rebuildPath(n,m?d:1),J&&(n.setLineDash(J),n.lineDashOffset=tt),s||(r.strokeFirst?(c&&U8(n,r),p&&F8(n,r)):(p&&F8(n,r),c&&U8(n,r))),J&&n.setLineDash([])}function sbt(n,i,r){var s=i.__image=kE(r.image,i.__image,i,i.onload);if(!(!s||!d1(s))){var u=r.x||0,c=r.y||0,p=i.getWidth(),d=i.getHeight(),m=s.width/s.height;if(p==null&&d!=null?p=d*m:d==null&&p!=null?d=p/m:p==null&&d==null&&(p=s.width,d=s.height),r.sWidth&&r.sHeight){var _=r.sx||0,S=r.sy||0;n.drawImage(s,_,S,r.sWidth,r.sHeight,u,c,p,d)}else if(r.sx&&r.sy){var _=r.sx,S=r.sy,w=p-_,A=d-S;n.drawImage(s,_,S,w,A,u,c,p,d)}else n.drawImage(s,u,c,p,d)}}function lbt(n,i,r){var s,u=r.text;if(u!=null&&(u+=""),u){n.font=r.font||y,n.textAlign=r.textAlign,n.textBaseline=r.textBaseline;var c=void 0,p=void 0;n.setLineDash&&r.lineDash&&(s=u2(i),c=s[0],p=s[1]),c&&(n.setLineDash(c),n.lineDashOffset=p),r.strokeFirst?(cw(r)&&n.strokeText(u,r.x,r.y),hw(r)&&n.fillText(u,r.x,r.y)):(hw(r)&&n.fillText(u,r.x,r.y),cw(r)&&n.strokeText(u,r.x,r.y)),c&&n.setLineDash([])}}var G8=["shadowBlur","shadowOffsetX","shadowOffsetY"],H8=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function W8(n,i,r,s,u){var c=!1;if(!s&&(r=r||{},i===r))return!1;if(s||i.opacity!==r.opacity){an(n,u),c=!0;var p=Math.max(Math.min(i.opacity,1),0);n.globalAlpha=isNaN(p)?uh.opacity:p}(s||i.blend!==r.blend)&&(c||(an(n,u),c=!0),n.globalCompositeOperation=i.blend||uh.blend);for(var d=0;d<G8.length;d++){var m=G8[d];(s||i[m]!==r[m])&&(c||(an(n,u),c=!0),n[m]=n.dpr*(i[m]||0))}return(s||i.shadowColor!==r.shadowColor)&&(c||(an(n,u),c=!0),n.shadowColor=i.shadowColor||uh.shadowColor),c}function Y8(n,i,r,s,u){var c=E0(i,u.inHover),p=s?null:r&&E0(r,u.inHover)||{};if(c===p)return!1;var d=W8(n,c,p,s,u);if((s||c.fill!==p.fill)&&(d||(an(n,u),d=!0),B8(c.fill)&&(n.fillStyle=c.fill)),(s||c.stroke!==p.stroke)&&(d||(an(n,u),d=!0),B8(c.stroke)&&(n.strokeStyle=c.stroke)),(s||c.opacity!==p.opacity)&&(d||(an(n,u),d=!0),n.globalAlpha=c.opacity==null?1:c.opacity),i.hasStroke()){var m=c.lineWidth,_=m/(c.strokeNoScale&&i.getLineScale?i.getLineScale():1);n.lineWidth!==_&&(d||(an(n,u),d=!0),n.lineWidth=_)}for(var S=0;S<H8.length;S++){var w=H8[S],A=w[0];(s||c[A]!==p[A])&&(d||(an(n,u),d=!0),n[A]=c[A]||w[1])}return d}function ubt(n,i,r,s,u){return W8(n,E0(i,u.inHover),r&&E0(r,u.inHover),s,u)}function Z8(n,i){var r=i.transform,s=n.dpr||1;r?n.setTransform(s*r[0],s*r[1],s*r[2],s*r[3],s*r[4],s*r[5]):n.setTransform(s,0,0,s,0,0)}function fbt(n,i,r){for(var s=!1,u=0;u<n.length;u++){var c=n[u];s=s||c.isZeroArea(),Z8(i,c),i.beginPath(),c.buildPath(i,c.shape),i.clip()}r.allClipped=s}function cbt(n,i){return n&&i?n[0]!==i[0]||n[1]!==i[1]||n[2]!==i[2]||n[3]!==i[3]||n[4]!==i[4]||n[5]!==i[5]:!(!n&&!i)}var X8=1,q8=2,$8=3,K8=4;function hbt(n){var i=hw(n),r=cw(n);return!(n.lineDash||!(+i^+r)||i&&typeof n.fill!="string"||r&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function an(n,i){i.batchFill&&n.fill(),i.batchStroke&&n.stroke(),i.batchFill="",i.batchStroke=""}function E0(n,i){return i&&n.__hoverStyle||n.style}function c2(n,i){Nh(n,i,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Nh(n,i,r,s){var u=i.transform;if(!i.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){i.__dirty&=~Pn,i.__isRendered=!1;return}var c=i.__clipPaths,p=r.prevElClipPaths,d=!1,m=!1;if((!p||ibt(c,p))&&(p&&p.length&&(an(n,r),n.restore(),m=d=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),c&&c.length&&(an(n,r),n.save(),fbt(c,n,r),d=!0),r.prevElClipPaths=c),r.allClipped){i.__isRendered=!1;return}i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush();var _=r.prevEl;_||(m=d=!0);var S=i instanceof Xe&&i.autoBatch&&hbt(i.style);d||cbt(u,_.transform)?(an(n,r),Z8(n,i)):S||an(n,r);var w=E0(i,r.inHover);i instanceof Xe?(r.lastDrawType!==X8&&(m=!0,r.lastDrawType=X8),Y8(n,i,_,m,r),(!S||!r.batchFill&&!r.batchStroke)&&n.beginPath(),obt(n,i,w,S),S&&(r.batchFill=w.fill||"",r.batchStroke=w.stroke||"")):i instanceof rd?(r.lastDrawType!==$8&&(m=!0,r.lastDrawType=$8),Y8(n,i,_,m,r),lbt(n,i,w)):i instanceof Ni?(r.lastDrawType!==q8&&(m=!0,r.lastDrawType=q8),ubt(n,i,_,m,r),sbt(n,i,w)):i.getTemporalDisplayables&&(r.lastDrawType!==K8&&(m=!0,r.lastDrawType=K8),pbt(n,i,r)),S&&s&&an(n,r),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),r.prevEl=i,i.__dirty=0,i.__isRendered=!0}function pbt(n,i,r){var s=i.getDisplayables(),u=i.getTemporalDisplayables();n.save();var c={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},p,d;for(p=i.getCursor(),d=s.length;p<d;p++){var m=s[p];m.beforeBrush&&m.beforeBrush(),m.innerBeforeBrush(),Nh(n,m,c,p===d-1),m.innerAfterBrush(),m.afterBrush&&m.afterBrush(),c.prevEl=m}for(var _=0,S=u.length;_<S;_++){var m=u[_];m.beforeBrush&&m.beforeBrush(),m.innerBeforeBrush(),Nh(n,m,c,_===S-1),m.innerAfterBrush(),m.afterBrush&&m.afterBrush(),c.prevEl=m}i.clearTemporalDisplayables(),i.notClear=!0,n.restore()}var h2=new ZSt,j8=new By(100),J8=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ed(n,i){if(n==="none")return null;var r=i.getDevicePixelRatio(),s=i.getZr(),u=s.painter.type==="svg";n.dirty&&h2.delete(n);var c=h2.get(n);if(c)return c;var p=dt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});p.backgroundColor==="none"&&(p.backgroundColor=null);var d={repeat:"repeat"};return m(d),d.rotation=p.rotation,d.scaleX=d.scaleY=u?1:1/r,h2.set(n,d),n.dirty=!1,d;function m(_){for(var S=[r],w=!0,A=0;A<J8.length;++A){var D=p[J8[A]];if(D!=null&&!wt(D)&&!kt(D)&&!Ne(D)&&typeof D!="boolean"){w=!1;break}S.push(D)}var L;if(w){L=S.join(",")+(u?"-svg":"");var E=j8.get(L);E&&(u?_.svgElement=E:_.image=E)}var R=t9(p.dashArrayX),k=vbt(p.dashArrayY),z=Q8(p.symbol),B=dbt(R),G=e9(k),W=!u&&I.createCanvas(),Y=u&&{tag:"g",attrs:{},key:"dcl",children:[]},q=tt(),J;W&&(W.width=q.width*r,W.height=q.height*r,J=W.getContext("2d")),et(),w&&j8.put(L,W||Y),_.image=W,_.svgElement=Y,_.svgWidth=q.width,_.svgHeight=q.height;function tt(){for(var it=1,ut=0,ct=B.length;ut<ct;++ut)it=y4(it,B[ut]);for(var ht=1,ut=0,ct=z.length;ut<ct;++ut)ht=y4(ht,z[ut].length);it*=ht;var vt=G*B.length*z.length,gt=function(bt){console.warn("Calculated decal size is greater than "+bt+" due to decal option settings so "+bt+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+bt+" to be larger to avoid incontinuity.")};return it>p.maxTileWidth&&gt("maxTileWidth"),vt>p.maxTileHeight&&gt("maxTileHeight"),{width:Math.max(1,Math.min(it,p.maxTileWidth)),height:Math.max(1,Math.min(vt,p.maxTileHeight))}}function et(){J&&(J.clearRect(0,0,W.width,W.height),p.backgroundColor&&(J.fillStyle=p.backgroundColor,J.fillRect(0,0,W.width,W.height)));for(var it=0,ut=0;ut<k.length;++ut)it+=k[ut];if(it<=0)return;for(var ct=-G,ht=0,vt=0,gt=0;ct<q.height;){if(ht%2===0){for(var bt=vt/2%z.length,St=0,Ct=0,Ot=0;St<q.width*2;){for(var Vt=0,ut=0;ut<R[gt].length;++ut)Vt+=R[gt][ut];if(Vt<=0)break;if(Ct%2===0){var $t=(1-p.symbolSize)*.5,pe=St+R[gt][Ct]*$t,me=ct+k[ht]*$t,Pe=R[gt][Ct]*p.symbolSize,br=k[ht]*p.symbolSize,ti=Ot/2%z[bt].length;Ge(pe,me,Pe,br,z[bt][ti])}St+=R[gt][Ct],++Ot,++Ct,Ct===R[gt].length&&(Ct=0)}++gt,gt===R.length&&(gt=0)}ct+=k[ht],++vt,++ht,ht===k.length&&(ht=0)}function Ge(Se,Ze,ce,Re,Or){var dr=u?1:r,Mr=li(Or,Se*dr,Ze*dr,ce*dr,Re*dr,p.color,p.symbolKeepAspect);if(u){var Ur=s.painter.renderOneToVNode(Mr);Ur&&Y.children.push(Ur)}else c2(J,Mr)}}}}function Q8(n){if(!n||n.length===0)return[["rect"]];if(kt(n))return[[n]];for(var i=!0,r=0;r<n.length;++r)if(!kt(n[r])){i=!1;break}if(i)return Q8([n]);for(var s=[],r=0;r<n.length;++r)kt(n[r])?s.push([n[r]]):s.push(n[r]);return s}function t9(n){if(!n||n.length===0)return[[0,0]];if(Ne(n)){var i=Math.ceil(n);return[[i,i]]}for(var r=!0,s=0;s<n.length;++s)if(!Ne(n[s])){r=!1;break}if(r)return t9([n]);for(var u=[],s=0;s<n.length;++s)if(Ne(n[s])){var i=Math.ceil(n[s]);u.push([i,i])}else{var i=Tt(n[s],function(d){return Math.ceil(d)});i.length%2===1?u.push(i.concat(i)):u.push(i)}return u}function vbt(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Ne(n)){var i=Math.ceil(n);return[i,i]}var r=Tt(n,function(s){return Math.ceil(s)});return n.length%2?r.concat(r):r}function dbt(n){return Tt(n,function(i){return e9(i)})}function e9(n){for(var i=0,r=0;r<n.length;++r)i+=n[r];return n.length%2===1?i*2:i}function gbt(n,i){n.eachRawSeries(function(r){if(!n.isSeriesFiltered(r)){var s=r.getData();s.hasItemVisual()&&s.each(function(p){var d=s.getItemVisual(p,"decal");if(d){var m=s.ensureUniqueItemVisual(p,"style");m.decal=Ed(d,i)}});var u=s.getVisual("decal");if(u){var c=s.getVisual("style");c.decal=Ed(u,i)}}})}var ms=new oo,pw={};function mbt(n,i){pw[n]&&ea("Already has an implementation of "+n+"."),pw[n]=i}function r9(n){return pw[n]||ea("Implementation of "+n+" doesn't exists."),pw[n]}var ybt="5.6.0",_bt={zrender:"5.6.1"},xbt=1,Sbt=800,bbt=900,wbt=1e3,Tbt=2e3,Abt=5e3,i9=1e3,Cbt=1100,p2=2e3,a9=3e3,Dbt=4e3,vw=4500,Mbt=4600,Lbt=5e3,Ibt=6e3,n9=7e3,o9={PROCESSOR:{FILTER:wbt,SERIES_FILTER:Sbt,STATISTIC:Abt},VISUAL:{LAYOUT:i9,PROGRESSIVE_LAYOUT:Cbt,GLOBAL:p2,CHART:a9,POST_CHART_LAYOUT:Mbt,COMPONENT:Dbt,BRUSH:Lbt,CHART_ITEM:vw,ARIA:Ibt,DECAL:n9}},ba="__flagInMainProcess",nn="__pendingUpdate",v2="__needsUpdateStatus",s9=/^[a-zA-Z0-9_]+$/,d2="__connectUpdateStatus",l9=0,Ebt=1,Pbt=2;function u9(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(this.isDisposed()){Vn(this.id);return}return c9(this,n,i)}}function f9(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return c9(this,n,i)}}function c9(n,i,r){return r[0]=r[0]&&r[0].toLowerCase(),oo.prototype[i].apply(n,r)}var h9=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i}(oo),p9=h9.prototype;p9.on=f9("on"),p9.off=f9("off");var Pd,g2,dw,Tf,m2,y2,_2,P0,R0,v9,d9,x2,g9,gw,m9,y9,xo,_9,mw=function(n){e(i,n);function i(r,s,u){var c=n.call(this,new FSt)||this;c._chartsViews=[],c._chartsMap={},c._componentsViews=[],c._componentsMap={},c._pendingActions=[],u=u||{},kt(s)&&(s=x9[s]),c._dom=r;var p="canvas",d="auto",m=!1,_=f.hasGlobalWindow?window:global;_&&(p=De(_.__ECHARTS__DEFAULT__RENDERER__,p),d=De(_.__ECHARTS__DEFAULT__COARSE_POINTER,d),m=De(_.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,m)),u.ssr&&c4(function(D){var L=Me(D),E=L.dataIndex;if(E!=null){var R=le();return R.set("series_index",L.seriesIndex),R.set("data_index",E),L.ssrType&&R.set("ssr_type",L.ssrType),R}});var S=c._zr=wE(r,{renderer:u.renderer||p,devicePixelRatio:u.devicePixelRatio,width:u.width,height:u.height,ssr:u.ssr,useDirtyRect:De(u.useDirtyRect,m),useCoarsePointer:De(u.useCoarsePointer,d),pointerSize:u.pointerSize});c._ssr=u.ssr,c._throttledZrFlush=nw(Mt(S.flush,S),17),s=lt(s),s&&NY(s,!0),c._theme=s,c._locale=X_t(u.locale||tY),c._coordSysMgr=new Lh;var w=c._api=m9(c);function A(D,L){return D.__prio-L.__prio}return Hb(_w,A),Hb(b2,A),c._scheduler=new M8(c,w,b2,_w),c._messageCenter=new h9,c._initEvents(),c.resize=Mt(c.resize,c),S.animation.on("frame",c._onframe,c),v9(S,c),d9(S,c),Ay(c),c}return i.prototype._onframe=function(){if(!this._disposed){_9(this);var r=this._scheduler;if(this[nn]){var s=this[nn].silent;this[ba]=!0;try{Pd(this),Tf.update.call(this,null,this[nn].updateParams)}catch(m){throw this[ba]=!1,this[nn]=null,m}this._zr.flush(),this[ba]=!1,this[nn]=null,P0.call(this,s),R0.call(this,s)}else if(r.unfinished){var u=xbt,c=this._model,p=this._api;r.unfinished=!1;do{var d=+new Date;r.performSeriesTasks(c),r.performDataProcessorTasks(c),y2(this,c),r.performVisualTasks(c),gw(this,this._model,p,"remain",{}),u-=+new Date-d}while(u>0&&r.unfinished);r.unfinished||this._zr.flush()}}},i.prototype.getDom=function(){return this._dom},i.prototype.getId=function(){return this.id},i.prototype.getZr=function(){return this._zr},i.prototype.isSSR=function(){return this._ssr},i.prototype.setOption=function(r,s,u){if(this[ba]){ea("`setOption` should not be called during main process.");return}if(this._disposed){Vn(this.id);return}var c,p,d;if(re(s)&&(u=s.lazyUpdate,c=s.silent,p=s.replaceMerge,d=s.transition,s=s.notMerge),this[ba]=!0,!this._model||s){var m=new bxt(this._api),_=this._theme,S=this._model=new WP;S.scheduler=this._scheduler,S.ssr=this._ssr,S.init(null,null,null,_,this._locale,m)}this._model.setOption(r,{replaceMerge:p},w2);var w={seriesTransition:d,optionChanged:!0};if(u)this[nn]={silent:c,updateParams:w},this[ba]=!1,this.getZr().wakeUp();else{try{Pd(this),Tf.update.call(this,null,w)}catch(A){throw this[nn]=null,this[ba]=!1,A}this._ssr||this._zr.flush(),this[nn]=null,this[ba]=!1,P0.call(this,c),R0.call(this,c)}},i.prototype.setTheme=function(){fo("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},i.prototype.getModel=function(){return this._model},i.prototype.getOption=function(){return this._model&&this._model.getOption()},i.prototype.getWidth=function(){return this._zr.getWidth()},i.prototype.getHeight=function(){return this._zr.getHeight()},i.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||f.hasGlobalWindow&&window.devicePixelRatio||1},i.prototype.getRenderedCanvas=function(r){return si("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(r)},i.prototype.renderToCanvas=function(r){r=r||{};var s=this._zr.painter;if(s.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return s.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},i.prototype.renderToSVGString=function(r){r=r||{};var s=this._zr.painter;if(s.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return s.renderToString({useViewBox:r.useViewBox})},i.prototype.getSvgDataURL=function(){if(f.svgSupported){var r=this._zr,s=r.storage.getDisplayList();return j(s,function(u){u.stopAnimation(null,!0)}),r.painter.toDataURL()}},i.prototype.getDataURL=function(r){if(this._disposed){Vn(this.id);return}r=r||{};var s=r.excludeComponents,u=this._model,c=[],p=this;j(s,function(m){u.eachComponent({mainType:m},function(_){var S=p._componentsMap[_.__viewId];S.group.ignore||(c.push(S),S.group.ignore=!0)})});var d=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return j(c,function(m){m.group.ignore=!1}),d},i.prototype.getConnectedDataURL=function(r){if(this._disposed){Vn(this.id);return}var s=r.type==="svg",u=this.group,c=Math.min,p=Math.max,d=1/0;if(xw[u]){var m=d,_=d,S=-d,w=-d,A=[],D=r&&r.pixelRatio||this.getDevicePixelRatio();j(zh,function(B,G){if(B.group===u){var W=s?B.getZr().painter.getSvgDom().innerHTML:B.renderToCanvas(lt(r)),Y=B.getDom().getBoundingClientRect();m=c(Y.left,m),_=c(Y.top,_),S=p(Y.right,S),w=p(Y.bottom,w),A.push({dom:W,left:Y.left,top:Y.top})}}),m*=D,_*=D,S*=D,w*=D;var L=S-m,E=w-_,R=I.createCanvas(),k=wE(R,{renderer:s?"svg":"canvas"});if(k.resize({width:L,height:E}),s){var z="";return j(A,function(B){var G=B.left-m,W=B.top-_;z+='<g transform="translate('+G+","+W+')">'+B.dom+"</g>"}),k.painter.getSvgRoot().innerHTML=z,r.connectedBackgroundColor&&k.painter.setBackgroundColor(r.connectedBackgroundColor),k.refreshImmediately(),k.painter.toDataURL()}else return r.connectedBackgroundColor&&k.add(new tr({shape:{x:0,y:0,width:L,height:E},style:{fill:r.connectedBackgroundColor}})),j(A,function(B){var G=new Ni({style:{x:B.left*D-m,y:B.top*D-_,image:B.dom}});k.add(G)}),k.refreshImmediately(),R.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},i.prototype.convertToPixel=function(r,s){return m2(this,"convertToPixel",r,s)},i.prototype.convertFromPixel=function(r,s){return m2(this,"convertFromPixel",r,s)},i.prototype.containPixel=function(r,s){if(this._disposed){Vn(this.id);return}var u=this._model,c,p=Qy(u,r);return j(p,function(d,m){m.indexOf("Models")>=0&&j(d,function(_){var S=_.coordinateSystem;if(S&&S.containPoint)c=c||!!S.containPoint(s);else if(m==="seriesModels"){var w=this._chartsMap[_.__viewId];w&&w.containPoint?c=c||w.containPoint(s,_):Yr(m+": "+(w?"The found component do not support containPoint.":"No view mapping to the found component."))}else Yr(m+": containPoint is not supported")},this)},this),!!c},i.prototype.getVisual=function(r,s){var u=this._model,c=Qy(u,r,{defaultMainType:"series"}),p=c.seriesModel;p||Yr("There is no specified series model");var d=p.getData(),m=c.hasOwnProperty("dataIndexInside")?c.dataIndexInside:c.hasOwnProperty("dataIndex")?d.indexOfRawIndex(c.dataIndex):null;return m!=null?s2(d,m,s):I0(d,s)},i.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},i.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},i.prototype._initEvents=function(){var r=this;j(Rbt,function(s){var u=function(c){var p=r.getModel(),d=c.target,m,_=s==="globalout";if(_?m={}:d&&Rh(d,function(L){var E=Me(L);if(E&&E.dataIndex!=null){var R=E.dataModel||p.getSeriesByIndex(E.seriesIndex);return m=R&&R.getDataParams(E.dataIndex,E.dataType,d)||{},!0}else if(E.eventData)return m=st({},E.eventData),!0},!0),m){var S=m.componentType,w=m.componentIndex;(S==="markLine"||S==="markPoint"||S==="markArea")&&(S="series",w=m.seriesIndex);var A=S&&w!=null&&p.getComponent(S,w),D=A&&r[A.mainType==="series"?"_chartsMap":"_componentsMap"][A.__viewId];!_&&!(A&&D)&&Yr("model or view can not be found by params"),m.event=c,m.type=s,r._$eventProcessor.eventInfo={targetEl:d,packedEvent:m,model:A,view:D},r.trigger(s,m)}};u.zrEventfulCallAtLast=!0,r._zr.on(s,u,r)}),j(O0,function(s,u){r._messageCenter.on(u,function(c){this.trigger(u,c)},r)}),j(["selectchanged"],function(s){r._messageCenter.on(s,function(u){this.trigger(s,u)},r)}),HSt(this._messageCenter,this,this._api)},i.prototype.isDisposed=function(){return this._disposed},i.prototype.clear=function(){if(this._disposed){Vn(this.id);return}this.setOption({series:[]},!0)},i.prototype.dispose=function(){if(this._disposed){Vn(this.id);return}this._disposed=!0;var r=this.getDom();r&&M4(this.getDom(),A2,"");var s=this,u=s._api,c=s._model;j(s._componentsViews,function(p){p.dispose(c,u)}),j(s._chartsViews,function(p){p.dispose(c,u)}),s._zr.dispose(),s._dom=s._model=s._chartsMap=s._componentsMap=s._chartsViews=s._componentsViews=s._scheduler=s._api=s._zr=s._throttledZrFlush=s._theme=s._coordSysMgr=s._messageCenter=null,delete zh[s.id]},i.prototype.resize=function(r){if(this[ba]){ea("`resize` should not be called during main process.");return}if(this._disposed){Vn(this.id);return}this._zr.resize(r);var s=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!s){var u=s.resetOption("media"),c=r&&r.silent;this[nn]&&(c==null&&(c=this[nn].silent),u=!0,this[nn]=null),this[ba]=!0;try{u&&Pd(this),Tf.update.call(this,{type:"resize",animation:st({duration:0},r&&r.animation)})}catch(p){throw this[ba]=!1,p}this[ba]=!1,P0.call(this,c),R0.call(this,c)}},i.prototype.showLoading=function(r,s){if(this._disposed){Vn(this.id);return}if(re(r)&&(s=r,r=""),r=r||"default",this.hideLoading(),!T2[r]){Yr("Loading effects "+r+" not exists.");return}var u=T2[r](this._api,s),c=this._zr;this._loadingFX=u,c.add(u)},i.prototype.hideLoading=function(){if(this._disposed){Vn(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},i.prototype.makeActionFromEvent=function(r){var s=st({},r);return s.type=O0[r.type],s},i.prototype.dispatchAction=function(r,s){if(this._disposed){Vn(this.id);return}if(re(s)||(s={silent:!!s}),!!yw[r.type]&&this._model){if(this[ba]){this._pendingActions.push(r);return}var u=s.silent;_2.call(this,r,u);var c=s.flush;c?this._zr.flush():c!==!1&&f.browser.weChat&&this._throttledZrFlush(),P0.call(this,u),R0.call(this,u)}},i.prototype.updateLabelLayout=function(){ms.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},i.prototype.appendData=function(r){if(this._disposed){Vn(this.id);return}var s=r.seriesIndex,u=this.getModel(),c=u.getSeriesByIndex(s);de(r.data&&c),c.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},i.internalField=function(){Pd=function(w){var A=w._scheduler;A.restorePipelines(w._model),A.prepareStageTasks(),g2(w,!0),g2(w,!1),A.plan()},g2=function(w,A){for(var D=w._model,L=w._scheduler,E=A?w._componentsViews:w._chartsViews,R=A?w._componentsMap:w._chartsMap,k=w._zr,z=w._api,B=0;B<E.length;B++)E[B].__alive=!1;A?D.eachComponent(function(Y,q){Y!=="series"&&G(q)}):D.eachSeries(G);function G(Y){var q=Y.__requireNewView;Y.__requireNewView=!1;var J="_ec_"+Y.id+"_"+Y.type,tt=!q&&R[J];if(!tt){var et=js(Y.type),it=A?Pr.getClass(et.main,et.sub):vr.getClass(et.sub);de(it,et.sub+" does not exist."),tt=new it,tt.init(D,z),R[J]=tt,E.push(tt),k.add(tt.group)}Y.__viewId=tt.__id=J,tt.__alive=!0,tt.__model=Y,tt.group.__ecComponentInfo={mainType:Y.mainType,index:Y.componentIndex},!A&&L.prepareView(tt,Y,D,z)}for(var B=0;B<E.length;){var W=E[B];W.__alive?B++:(!A&&W.renderTask.dispose(),k.remove(W.group),W.dispose(D,z),E.splice(B,1),R[W.__id]===W&&delete R[W.__id],W.__id=W.group.__ecComponentInfo=null)}},dw=function(w,A,D,L,E){var R=w._model;if(R.setUpdatePayload(D),!L){j([].concat(w._componentsViews).concat(w._chartsViews),W);return}var k={};k[L+"Id"]=D[L+"Id"],k[L+"Index"]=D[L+"Index"],k[L+"Name"]=D[L+"Name"];var z={mainType:L,query:k};E&&(z.subType=E);var B=D.excludeSeriesId,G;B!=null&&(G=le(),j(xr(B),function(Y){var q=wi(Y,null);q!=null&&G.set(q,!0)})),R&&R.eachComponent(z,function(Y){var q=G&&G.get(Y.id)!=null;if(!q)if(x6(D))if(Y instanceof Sr)D.type===mh&&!D.notBlur&&!Y.get(["emphasis","disabled"])&&K0t(Y,D,w._api);else{var J=nP(Y.mainType,Y.componentIndex,D.name,w._api),tt=J.focusSelf,et=J.dispatchers;D.type===mh&&tt&&!D.notBlur&&aP(Y.mainType,Y.componentIndex,w._api),et&&j(et,function(it){D.type===mh?Ql(it):tu(it)})}else sP(D)&&Y instanceof Sr&&(Q0t(Y,D,w._api),y6(Y),xo(w))},w),R&&R.eachComponent(z,function(Y){var q=G&&G.get(Y.id)!=null;q||W(w[L==="series"?"_chartsMap":"_componentsMap"][Y.__viewId])},w);function W(Y){Y&&Y.__alive&&Y[A]&&Y[A](Y.__model,R,w._api,D)}},Tf={prepareAndUpdate:function(w){Pd(this),Tf.update.call(this,w,{optionChanged:w.newOption!=null})},update:function(w,A){var D=this._model,L=this._api,E=this._zr,R=this._coordSysMgr,k=this._scheduler;if(D){D.setUpdatePayload(w),k.restoreData(D,w),k.performSeriesTasks(D),R.create(D,L),k.performDataProcessorTasks(D,w),y2(this,D),R.update(D,L),r(D),k.performVisualTasks(D,w),x2(this,D,L,w,A);var z=D.get("backgroundColor")||"transparent",B=D.get("darkMode");E.setBackgroundColor(z),B!=null&&B!=="auto"&&E.setDarkMode(B),ms.trigger("afterupdate",D,L)}},updateTransform:function(w){var A=this,D=this._model,L=this._api;if(D){D.setUpdatePayload(w);var E=[];D.eachComponent(function(k,z){if(k!=="series"){var B=A.getViewOfComponentModel(z);if(B&&B.__alive)if(B.updateTransform){var G=B.updateTransform(z,D,L,w);G&&G.update&&E.push(B)}else E.push(B)}});var R=le();D.eachSeries(function(k){var z=A._chartsMap[k.__viewId];if(z.updateTransform){var B=z.updateTransform(k,D,L,w);B&&B.update&&R.set(k.uid,1)}else R.set(k.uid,1)}),r(D),this._scheduler.performVisualTasks(D,w,{setDirty:!0,dirtyMap:R}),gw(this,D,L,w,{},R),ms.trigger("afterupdate",D,L)}},updateView:function(w){var A=this._model;A&&(A.setUpdatePayload(w),vr.markUpdateMethod(w,"updateView"),r(A),this._scheduler.performVisualTasks(A,w,{setDirty:!0}),x2(this,A,this._api,w,{}),ms.trigger("afterupdate",A,this._api))},updateVisual:function(w){var A=this,D=this._model;D&&(D.setUpdatePayload(w),D.eachSeries(function(L){L.getData().clearAllVisual()}),vr.markUpdateMethod(w,"updateVisual"),r(D),this._scheduler.performVisualTasks(D,w,{visualType:"visual",setDirty:!0}),D.eachComponent(function(L,E){if(L!=="series"){var R=A.getViewOfComponentModel(E);R&&R.__alive&&R.updateVisual(E,D,A._api,w)}}),D.eachSeries(function(L){var E=A._chartsMap[L.__viewId];E.updateVisual(L,D,A._api,w)}),ms.trigger("afterupdate",D,this._api))},updateLayout:function(w){Tf.update.call(this,w)}},m2=function(w,A,D,L){if(w._disposed){Vn(w.id);return}for(var E=w._model,R=w._coordSysMgr.getCoordinateSystems(),k,z=Qy(E,D),B=0;B<R.length;B++){var G=R[B];if(G[A]&&(k=G[A](E,z,L))!=null)return k}Yr("No coordinate system that supports "+A+" found by the given finder.")},y2=function(w,A){var D=w._chartsMap,L=w._scheduler;A.eachSeries(function(E){L.updateStreamModes(E,D[E.__viewId])})},_2=function(w,A){var D=this,L=this.getModel(),E=w.type,R=w.escapeConnect,k=yw[E],z=k.actionInfo,B=(z.update||"update").split(":"),G=B.pop(),W=B[0]!=null&&js(B[0]);this[ba]=!0;var Y=[w],q=!1;w.batch&&(q=!0,Y=Tt(w.batch,function(ht){return ht=dt(st({},ht),w),ht.batch=null,ht}));var J=[],tt,et=sP(w),it=x6(w);if(it&&m6(this._api),j(Y,function(ht){if(tt=k.action(ht,D._model,D._api),tt=tt||st({},ht),tt.type=z.event||tt.type,J.push(tt),it){var vt=EE(w),gt=vt.queryOptionMap,bt=vt.mainTypeSpecified,St=bt?gt.keys()[0]:"series";dw(D,G,ht,St),xo(D)}else et?(dw(D,G,ht,"series"),xo(D)):W&&dw(D,G,ht,W.main,W.sub)}),G!=="none"&&!it&&!et&&!W)try{this[nn]?(Pd(this),Tf.update.call(this,w),this[nn]=null):Tf[G].call(this,w)}catch(ht){throw this[ba]=!1,ht}if(q?tt={type:z.event||E,escapeConnect:R,batch:J}:tt=J[0],this[ba]=!1,!A){var ut=this._messageCenter;if(ut.trigger(tt.type,tt),et){var ct={type:"selectchanged",escapeConnect:R,selected:t_t(L),isFromClick:w.isFromClick||!1,fromAction:w.type,fromActionPayload:w};ut.trigger(ct.type,ct)}}},P0=function(w){for(var A=this._pendingActions;A.length;){var D=A.shift();_2.call(this,D,w)}},R0=function(w){!w&&this.trigger("updated")},v9=function(w,A){w.on("rendered",function(D){A.trigger("rendered",D),w.animation.isFinished()&&!A[nn]&&!A._scheduler.unfinished&&!A._pendingActions.length&&A.trigger("finished")})},d9=function(w,A){w.on("mouseover",function(D){var L=D.target,E=Rh(L,gf);E&&(j0t(E,D,A._api),xo(A))}).on("mouseout",function(D){var L=D.target,E=Rh(L,gf);E&&(J0t(E,D,A._api),xo(A))}).on("click",function(D){var L=D.target,E=Rh(L,function(z){return Me(z).dataIndex!=null},!0);if(E){var R=E.selected?"unselect":"select",k=Me(E);A._api.dispatchAction({type:R,dataType:k.dataType,dataIndexInside:k.dataIndex,seriesIndex:k.seriesIndex,isFromClick:!0})}})};function r(w){w.clearColorPalette(),w.eachSeries(function(A){A.clearColorPalette()})}function s(w){var A=[],D=[],L=!1;if(w.eachComponent(function(z,B){var G=B.get("zlevel")||0,W=B.get("z")||0,Y=B.getZLevelKey();L=L||!!Y,(z==="series"?D:A).push({zlevel:G,z:W,idx:B.componentIndex,type:z,key:Y})}),L){var E=A.concat(D),R,k;Hb(E,function(z,B){return z.zlevel===B.zlevel?z.z-B.z:z.zlevel-B.zlevel}),j(E,function(z){var B=w.getComponent(z.type,z.idx),G=z.zlevel,W=z.key;R!=null&&(G=Math.max(R,G)),W?(G===R&&W!==k&&G++,k=W):k&&(G===R&&G++,k=""),R=G,B.setZLevel(G)})}}x2=function(w,A,D,L,E){s(A),g9(w,A,D,L,E),j(w._chartsViews,function(R){R.__alive=!1}),gw(w,A,D,L,E),j(w._chartsViews,function(R){R.__alive||R.remove(A,D)})},g9=function(w,A,D,L,E,R){j(R||w._componentsViews,function(k){var z=k.__model;_(z,k),k.render(z,A,D,L),d(z,k),S(z,k)})},gw=function(w,A,D,L,E,R){var k=w._scheduler;E=st(E||{},{updatedSeries:A.getSeries()}),ms.trigger("series:beforeupdate",A,D,E);var z=!1;A.eachSeries(function(B){var G=w._chartsMap[B.__viewId];G.__alive=!0;var W=G.renderTask;k.updatePayload(W,L),_(B,G),R&&R.get(B.uid)&&W.dirty(),W.perform(k.getPerformArgs(W))&&(z=!0),G.group.silent=!!B.get("silent"),p(B,G),y6(B)}),k.unfinished=z||k.unfinished,ms.trigger("series:layoutlabels",A,D,E),ms.trigger("series:transition",A,D,E),A.eachSeries(function(B){var G=w._chartsMap[B.__viewId];d(B,G),S(B,G)}),c(w,A),ms.trigger("series:afterupdate",A,D,E)},xo=function(w){w[v2]=!0,w.getZr().wakeUp()},_9=function(w){w[v2]&&(w.getZr().storage.traverse(function(A){hd(A)||u(A)}),w[v2]=!1)};function u(w){for(var A=[],D=w.currentStates,L=0;L<D.length;L++){var E=D[L];E==="emphasis"||E==="blur"||E==="select"||A.push(E)}w.selected&&w.states.select&&A.push("select"),w.hoverState===b1&&w.states.emphasis?A.push("emphasis"):w.hoverState===i0&&w.states.blur&&A.push("blur"),w.useStates(A)}function c(w,A){var D=w._zr,L=D.storage,E=0;L.traverse(function(R){R.isGroup||E++}),E>A.get("hoverLayerThreshold")&&!f.node&&!f.worker&&A.eachSeries(function(R){if(!R.preventUsingHoverLayer){var k=w._chartsMap[R.__viewId];k.__alive&&k.eachRendered(function(z){z.states.emphasis&&(z.states.emphasis.hoverLayer=!0)})}})}function p(w,A){var D=w.get("blendMode")||null;A.eachRendered(function(L){L.isGroup||(L.style.blend=D)})}function d(w,A){if(!w.preventAutoZ){var D=w.get("z")||0,L=w.get("zlevel")||0;A.eachRendered(function(E){return m(E,D,L,-1/0),!0})}}function m(w,A,D,L){var E=w.getTextContent(),R=w.getTextGuideLine(),k=w.isGroup;if(k)for(var z=w.childrenRef(),B=0;B<z.length;B++)L=Math.max(m(z[B],A,D,L),L);else w.z=A,w.zlevel=D,L=Math.max(w.z2,L);if(E&&(E.z=A,E.zlevel=D,isFinite(L)&&(E.z2=L+2)),R){var G=w.textGuideLineConfig;R.z=A,R.zlevel=D,isFinite(L)&&(R.z2=L+(G&&G.showAbove?1:-1))}return L}function _(w,A){A.eachRendered(function(D){if(!hd(D)){var L=D.getTextContent(),E=D.getTextGuideLine();D.stateTransition&&(D.stateTransition=null),L&&L.stateTransition&&(L.stateTransition=null),E&&E.stateTransition&&(E.stateTransition=null),D.hasState()?(D.prevStates=D.currentStates,D.clearStates()):D.prevStates&&(D.prevStates=null)}})}function S(w,A){var D=w.getModel("stateAnimation"),L=w.isAnimationEnabled(),E=D.get("duration"),R=E>0?{duration:E,delay:D.get("delay"),easing:D.get("easing")}:null;A.eachRendered(function(k){if(k.states&&k.states.emphasis){if(hd(k))return;if(k instanceof Xe&&n_t(k),k.__dirty){var z=k.prevStates;z&&k.useStates(z)}if(L){k.stateTransition=R;var B=k.getTextContent(),G=k.getTextGuideLine();B&&(B.stateTransition=R),G&&(G.stateTransition=R)}k.__dirty&&u(k)}})}m9=function(w){return new(function(A){e(D,A);function D(){return A!==null&&A.apply(this,arguments)||this}return D.prototype.getCoordinateSystems=function(){return w._coordSysMgr.getCoordinateSystems()},D.prototype.getComponentByElement=function(L){for(;L;){var E=L.__ecComponentInfo;if(E!=null)return w._model.getComponent(E.mainType,E.index);L=L.parent}},D.prototype.enterEmphasis=function(L,E){Ql(L,E),xo(w)},D.prototype.leaveEmphasis=function(L,E){tu(L,E),xo(w)},D.prototype.enterBlur=function(L){p6(L),xo(w)},D.prototype.leaveBlur=function(L){rP(L),xo(w)},D.prototype.enterSelect=function(L){v6(L),xo(w)},D.prototype.leaveSelect=function(L){d6(L),xo(w)},D.prototype.getModel=function(){return w.getModel()},D.prototype.getViewOfComponentModel=function(L){return w.getViewOfComponentModel(L)},D.prototype.getViewOfSeriesModel=function(L){return w.getViewOfSeriesModel(L)},D}(LY))(w)},y9=function(w){function A(D,L){for(var E=0;E<D.length;E++){var R=D[E];R[d2]=L}}j(O0,function(D,L){w._messageCenter.on(L,function(E){if(xw[w.group]&&w[d2]!==l9){if(E&&E.escapeConnect)return;var R=w.makeActionFromEvent(E),k=[];j(zh,function(z){z!==w&&z.group===w.group&&k.push(z)}),A(k,l9),j(k,function(z){z[d2]!==Ebt&&z.dispatchAction(R)}),A(k,Pbt)}})})}}(),i}(oo),S2=mw.prototype;S2.on=u9("on"),S2.off=u9("off"),S2.one=function(n,i,r){var s=this;fo("ECharts#one is deprecated.");function u(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];i&&i.apply&&i.apply(this,c),s.off(n,u)}this.on.call(this,n,u,r)};var Rbt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Vn(n){Yr("Instance "+n+" has been disposed")}var yw={},O0={},b2=[],w2=[],_w=[],x9={},T2={},zh={},xw={},Obt=+new Date-0,kbt=+new Date-0,A2="_echarts_instance_";function Nbt(n,i,r){var s=!(r&&r.ssr);if(s){if(!n)throw new Error("Initialize failed: invalid dom.");var u=C2(n);if(u)return Yr("There is a chart instance already initialized on the dom."),u;ss(n)&&n.nodeName.toUpperCase()!=="CANVAS"&&(!n.clientWidth&&(!r||r.width==null)||!n.clientHeight&&(!r||r.height==null))&&Yr("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var c=new mw(n,i,r);return c.id="ec_"+Obt++,zh[c.id]=c,s&&M4(n,A2,c.id),y9(c),ms.trigger("afterinit",c),c}function zbt(n){if(wt(n)){var i=n;n=null,j(i,function(r){r.group!=null&&(n=r.group)}),n=n||"g_"+kbt++,j(i,function(r){r.group=n})}return xw[n]=!0,n}function S9(n){xw[n]=!1}var Vbt=S9;function Bbt(n){kt(n)?n=zh[n]:n instanceof mw||(n=C2(n)),n instanceof mw&&!n.isDisposed()&&n.dispose()}function C2(n){return zh[Xyt(n,A2)]}function Fbt(n){return zh[n]}function D2(n,i){x9[n]=i}function M2(n){At(w2,n)<0&&w2.push(n)}function L2(n,i){I2(b2,n,i,Tbt)}function b9(n){Sw("afterinit",n)}function w9(n){Sw("afterupdate",n)}function Sw(n,i){ms.on(n,i)}function ys(n,i,r){Gt(i)&&(r=i,i="");var s=re(n)?n.type:[n,n={event:i}][0];n.event=(n.event||s).toLowerCase(),i=n.event,!O0[i]&&(de(s9.test(s)&&s9.test(i)),yw[s]||(yw[s]={action:r,actionInfo:n}),O0[i]=s)}function T9(n,i){Lh.register(n,i)}function Ubt(n){var i=Lh.get(n);if(i)return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()}function A9(n,i){I2(_w,n,i,i9,"layout")}function Af(n,i){I2(_w,n,i,a9,"visual")}var C9=[];function I2(n,i,r,s,u){if((Gt(i)||re(i))&&(r=i,i=s),isNaN(i)||i==null)throw new Error("Illegal priority");if(j(n,function(p){de(p.__raw!==r)}),!(At(C9,r)>=0)){C9.push(r);var c=M8.wrapStageHandler(r,u);c.__prio=i,c.__raw=r,n.push(c)}}function E2(n,i){T2[n]=i}function Gbt(n){fo("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead."),P({createCanvas:n})}function D9(n,i,r){var s=r9("registerMap");s&&s(n,i,r)}function Hbt(n){var i=r9("getMap");return i&&i(n)}var M9=tSt;Af(p2,CSt),Af(vw,DSt),Af(vw,MSt),Af(p2,USt),Af(vw,GSt),Af(n9,gbt),M2(NY),L2(bbt,Oxt),E2("default",LSt),ys({type:mh,event:mh,update:mh},Qr),ys({type:w1,event:w1,update:w1},Qr),ys({type:n0,event:n0,update:n0},Qr),ys({type:T1,event:T1,update:T1},Qr),ys({type:o0,event:o0,update:o0},Qr),D2("light",BSt),D2("dark",k8);var Wbt={},L9=[],Ybt={registerPreprocessor:M2,registerProcessor:L2,registerPostInit:b9,registerPostUpdate:w9,registerUpdateLifecycle:Sw,registerAction:ys,registerCoordinateSystem:T9,registerLayout:A9,registerVisual:Af,registerTransform:M9,registerLoading:E2,registerMap:D9,registerImpl:mbt,PRIORITY:o9,ComponentModel:We,ComponentView:Pr,SeriesModel:Sr,ChartView:vr,registerComponentModel:function(n){We.registerClass(n)},registerComponentView:function(n){Pr.registerClass(n)},registerSeriesModel:function(n){Sr.registerClass(n)},registerChartView:function(n){vr.registerClass(n)},registerSubTypeDefaulter:function(n,i){We.registerSubTypeDefaulter(n,i)},registerPainter:function(n,i){u4(n,i)}};function Ye(n){if(wt(n)){j(n,function(i){Ye(i)});return}At(L9,n)>=0||(L9.push(n),Gt(n)&&(n={install:n}),n.install(Ybt))}function k0(n){return n==null?0:n.length||1}function I9(n){return n}var iu=function(){function n(i,r,s,u,c,p){this._old=i,this._new=r,this._oldKeyGetter=s||I9,this._newKeyGetter=u||I9,this.context=c,this._diffModeMultiple=p==="multiple"}return n.prototype.add=function(i){return this._add=i,this},n.prototype.update=function(i){return this._update=i,this},n.prototype.updateManyToOne=function(i){return this._updateManyToOne=i,this},n.prototype.updateOneToMany=function(i){return this._updateOneToMany=i,this},n.prototype.updateManyToMany=function(i){return this._updateManyToMany=i,this},n.prototype.remove=function(i){return this._remove=i,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var i=this._old,r=this._new,s={},u=new Array(i.length),c=new Array(r.length);this._initIndexMap(i,null,u,"_oldKeyGetter"),this._initIndexMap(r,s,c,"_newKeyGetter");for(var p=0;p<i.length;p++){var d=u[p],m=s[d],_=k0(m);if(_>1){var S=m.shift();m.length===1&&(s[d]=m[0]),this._update&&this._update(S,p)}else _===1?(s[d]=null,this._update&&this._update(m,p)):this._remove&&this._remove(p)}this._performRestAdd(c,s)},n.prototype._executeMultiple=function(){var i=this._old,r=this._new,s={},u={},c=[],p=[];this._initIndexMap(i,s,c,"_oldKeyGetter"),this._initIndexMap(r,u,p,"_newKeyGetter");for(var d=0;d<c.length;d++){var m=c[d],_=s[m],S=u[m],w=k0(_),A=k0(S);if(w>1&&A===1)this._updateManyToOne&&this._updateManyToOne(S,_),u[m]=null;else if(w===1&&A>1)this._updateOneToMany&&this._updateOneToMany(S,_),u[m]=null;else if(w===1&&A===1)this._update&&this._update(S,_),u[m]=null;else if(w>1&&A>1)this._updateManyToMany&&this._updateManyToMany(S,_),u[m]=null;else if(w>1)for(var D=0;D<w;D++)this._remove&&this._remove(_[D]);else this._remove&&this._remove(_)}this._performRestAdd(p,u)},n.prototype._performRestAdd=function(i,r){for(var s=0;s<i.length;s++){var u=i[s],c=r[u],p=k0(c);if(p>1)for(var d=0;d<p;d++)this._add&&this._add(c[d]);else p===1&&this._add&&this._add(c);r[u]=null}},n.prototype._initIndexMap=function(i,r,s,u){for(var c=this._diffModeMultiple,p=0;p<i.length;p++){var d="_ec_"+this[u](i[p],p);if(c||(s[p]=d),!!r){var m=r[d],_=k0(m);_===0?(r[d]=p,c&&s.push(d)):_===1?r[d]=[m,p]:m.push(p)}}},n}(),Zbt=function(){function n(i,r){this._encode=i,this._schema=r}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Xbt(n,i){var r={},s=r.encode={},u=le(),c=[],p=[],d={};j(n.dimensions,function(A){var D=n.getDimensionInfo(A),L=D.coordDim;if(L){de(zP.get(L)==null);var E=D.coordDimIndex;P2(s,L)[E]=A,D.isExtraCoord||(u.set(L,1),qbt(D.type)&&(c[0]=A),P2(d,L)[E]=n.getDimensionIndex(D.name)),D.defaultTooltip&&p.push(A)}zP.each(function(R,k){var z=P2(s,k),B=D.otherDims[k];B!=null&&B!==!1&&(z[B]=D.name)})});var m=[],_={};u.each(function(A,D){var L=s[D];_[D]=L[0],m=m.concat(L)}),r.dataDimsOnCoord=m,r.dataDimIndicesOnCoord=Tt(m,function(A){return n.getDimensionInfo(A).storeDimIndex}),r.encodeFirstDimNotExtra=_;var S=s.label;S&&S.length&&(c=S.slice());var w=s.tooltip;return w&&w.length?p=w.slice():p.length||(p=c.slice()),s.defaultedLabel=c,s.defaultedTooltip=p,r.userOutput=new Zbt(d,i),r}function P2(n,i){return n.hasOwnProperty(i)||(n[i]=[]),n[i]}function bw(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function qbt(n){return!(n==="ordinal"||n==="time")}var ww=function(){function n(i){this.otherDims={},i!=null&&st(this,i)}return n}(),$bt=rr(),Kbt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},E9=function(){function n(i){this.dimensions=i.dimensions,this._dimOmitted=i.dimensionOmitted,this.source=i.source,this._fullDimCount=i.fullDimensionCount,this._updateDimOmitted(i.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(i){this._dimOmitted=i,i&&(this._dimNameMap||(this._dimNameMap=O9(this.source)))},n.prototype.getSourceDimensionIndex=function(i){return De(this._dimNameMap.get(i),-1)},n.prototype.getSourceDimension=function(i){var r=this.source.dimensionsDefine;if(r)return r[i]},n.prototype.makeStoreSchema=function(){for(var i=this._fullDimCount,r=FY(this.source),s=!k9(i),u="",c=[],p=0,d=0;p<i;p++){var m=void 0,_=void 0,S=void 0,w=this.dimensions[d];if(w&&w.storeDimIndex===p)m=r?w.name:null,_=w.type,S=w.ordinalMeta,d++;else{var A=this.getSourceDimension(p);A&&(m=r?A.name:null,_=A.type)}c.push({property:m,type:_,ordinalMeta:S}),r&&m!=null&&(!w||!w.isCalculationCoord)&&(u+=s?m.replace(/\`/g,"`1").replace(/\$/g,"`2"):m),u+="$",u+=Kbt[_]||"f",S&&(u+=S.uid),u+="$"}var D=this.source,L=[D.seriesLayoutBy,D.startIndex,u].join("$$");return{dimensions:c,hash:L}},n.prototype.makeOutputDimensionNames=function(){for(var i=[],r=0,s=0;r<this._fullDimCount;r++){var u=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===r)c.isCalculationCoord||(u=c.name),s++;else{var p=this.getSourceDimension(r);p&&(u=p.name)}i.push(u)}return i},n.prototype.appendCalculationDimension=function(i){this.dimensions.push(i),i.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function P9(n){return n instanceof E9}function R9(n){for(var i=le(),r=0;r<(n||[]).length;r++){var s=n[r],u=re(s)?s.name:s;u!=null&&i.get(u)==null&&i.set(u,r)}return i}function O9(n){var i=$bt(n);return i.dimNameMap||(i.dimNameMap=R9(n.dimensionsDefine))}function k9(n){return n>30}var N0=re,Cf=Tt,jbt=typeof Int32Array>"u"?Array:Int32Array,Jbt="e\0\0",N9=-1,Qbt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],t1t=["_approximateExtent"],z9,Tw,z0,Rd,R2,V0,O2,wa=function(){function n(i,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var s,u=!1;P9(i)?(s=i.dimensions,this._dimOmitted=i.isDimensionOmitted(),this._schema=i):(u=!0,s=i),s=s||["x","y"];for(var c={},p=[],d={},m=!1,_={},S=0;S<s.length;S++){var w=s[S],A=kt(w)?new ww({name:w}):w instanceof ww?w:new ww(w),D=A.name;A.type=A.type||"float",A.coordDim||(A.coordDim=D,A.coordDimIndex=0);var L=A.otherDims=A.otherDims||{};p.push(D),c[D]=A,_[D]!=null&&(m=!0),A.createInvertedIndices&&(d[D]=[]),L.itemName===0&&(this._nameDimIdx=S),L.itemId===0&&(this._idDimIdx=S),de(u||A.storeDimIndex>=0),u&&(A.storeDimIndex=S)}if(this.dimensions=p,this._dimInfos=c,this._initGetDimensionInfo(m),this.hostModel=r,this._invertedIndicesMap=d,this._dimOmitted){var E=this._dimIdxToName=le();j(p,function(R){E.set(c[R].storeDimIndex,R)})}}return n.prototype.getDimension=function(i){var r=this._recognizeDimIndex(i);if(r==null)return i;if(r=i,!this._dimOmitted)return this.dimensions[r];var s=this._dimIdxToName.get(r);if(s!=null)return s;var u=this._schema.getSourceDimension(r);if(u)return u.name},n.prototype.getDimensionIndex=function(i){var r=this._recognizeDimIndex(i);if(r!=null)return r;if(i==null)return-1;var s=this._getDimInfo(i);return s?s.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(i):-1},n.prototype._recognizeDimIndex=function(i){if(Ne(i)||i!=null&&!isNaN(i)&&!this._getDimInfo(i)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(i)<0))return+i},n.prototype._getStoreDimIndex=function(i){var r=this.getDimensionIndex(i);if(r==null)throw new Error("Unknown dimension "+i);return r},n.prototype.getDimensionInfo=function(i){return this._getDimInfo(this.getDimension(i))},n.prototype._initGetDimensionInfo=function(i){var r=this._dimInfos;this._getDimInfo=i?function(s){return r.hasOwnProperty(s)?r[s]:void 0}:function(s){return r[s]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(i,r){var s=this._dimSummary;if(r==null)return s.encodeFirstDimNotExtra[i];var u=s.encode[i];return u?u[r]:null},n.prototype.mapDimensionsAll=function(i){var r=this._dimSummary,s=r.encode[i];return(s||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(i,r,s){var u=this,c;if(i instanceof e2&&(c=i),!c){var p=this.dimensions,d=qP(i)||te(i)?new HY(i,p.length):i;c=new e2;var m=Cf(p,function(_){return{type:u._dimInfos[_].type,property:_}});c.initData(d,m,s)}this._store=c,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,c.count()),this._dimSummary=Xbt(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(i){var r=this._store.appendData(i);this._doInit(r[0],r[1])},n.prototype.appendValues=function(i,r){var s=this._store.appendValues(i,r&&r.length),u=s.start,c=s.end,p=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var d=u;d<c;d++){var m=d-u;this._nameList[d]=r[m],p&&O2(this,d)}},n.prototype._updateOrdinalMeta=function(){for(var i=this._store,r=this.dimensions,s=0;s<r.length;s++){var u=this._dimInfos[r[s]];u.ordinalMeta&&i.collectOrdinalMeta(u.storeDimIndex,u.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var i=this._store.getProvider();return this._idDimIdx==null&&i.getSource().sourceFormat!==eu&&!i.fillStorage},n.prototype._doInit=function(i,r){if(!(i>=r)){var s=this._store,u=s.getProvider();this._updateOrdinalMeta();var c=this._nameList,p=this._idList,d=u.getSource().sourceFormat,m=d===go;if(m&&!u.pure)for(var _=[],S=i;S<r;S++){var w=u.getItem(S,_);if(!this.hasItemOption&&Oyt(w)&&(this.hasItemOption=!0),w){var A=w.name;c[S]==null&&A!=null&&(c[S]=wi(A,null));var D=w.id;p[S]==null&&D!=null&&(p[S]=wi(D,null))}}if(this._shouldMakeIdFromName())for(var S=i;S<r;S++)O2(this,S);z9(this)}},n.prototype.getApproximateExtent=function(i){return this._approximateExtent[i]||this._store.getDataExtent(this._getStoreDimIndex(i))},n.prototype.setApproximateExtent=function(i,r){r=this.getDimension(r),this._approximateExtent[r]=i.slice()},n.prototype.getCalculationInfo=function(i){return this._calculationInfo[i]},n.prototype.setCalculationInfo=function(i,r){N0(i)?st(this._calculationInfo,i):this._calculationInfo[i]=r},n.prototype.getName=function(i){var r=this.getRawIndex(i),s=this._nameList[r];return s==null&&this._nameDimIdx!=null&&(s=z0(this,this._nameDimIdx,r)),s==null&&(s=""),s},n.prototype._getCategory=function(i,r){var s=this._store.get(i,r),u=this._store.getOrdinalMeta(i);return u?u.categories[s]:s},n.prototype.getId=function(i){return Tw(this,this.getRawIndex(i))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(i,r){var s=this._store,u=this._dimInfos[i];if(u)return s.get(u.storeDimIndex,r)},n.prototype.getByRawIndex=function(i,r){var s=this._store,u=this._dimInfos[i];if(u)return s.getByRawIndex(u.storeDimIndex,r)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(i){return this._store.getDataExtent(this._getStoreDimIndex(i))},n.prototype.getSum=function(i){return this._store.getSum(this._getStoreDimIndex(i))},n.prototype.getMedian=function(i){return this._store.getMedian(this._getStoreDimIndex(i))},n.prototype.getValues=function(i,r){var s=this,u=this._store;return wt(i)?u.getValues(Cf(i,function(c){return s._getStoreDimIndex(c)}),r):u.getValues(i)},n.prototype.hasValue=function(i){for(var r=this._dimSummary.dataDimIndicesOnCoord,s=0,u=r.length;s<u;s++)if(isNaN(this._store.get(r[s],i)))return!1;return!0},n.prototype.indexOfName=function(i){for(var r=0,s=this._store.count();r<s;r++)if(this.getName(r)===i)return r;return-1},n.prototype.getRawIndex=function(i){return this._store.getRawIndex(i)},n.prototype.indexOfRawIndex=function(i){return this._store.indexOfRawIndex(i)},n.prototype.rawIndexOf=function(i,r){var s=i&&this._invertedIndicesMap[i];if(!s)throw new Error("Do not supported yet");var u=s&&s[r];return u==null||isNaN(u)?N9:u},n.prototype.indicesOfNearest=function(i,r,s){return this._store.indicesOfNearest(this._getStoreDimIndex(i),r,s)},n.prototype.each=function(i,r,s){Gt(i)&&(s=r,r=i,i=[]);var u=s||this,c=Cf(Rd(i),this._getStoreDimIndex,this);this._store.each(c,u?Mt(r,u):r)},n.prototype.filterSelf=function(i,r,s){Gt(i)&&(s=r,r=i,i=[]);var u=s||this,c=Cf(Rd(i),this._getStoreDimIndex,this);return this._store=this._store.filter(c,u?Mt(r,u):r),this},n.prototype.selectRange=function(i){var r=this,s={},u=Xt(i);return j(u,function(c){var p=r._getStoreDimIndex(c);s[p]=i[c]}),this._store=this._store.selectRange(s),this},n.prototype.mapArray=function(i,r,s){Gt(i)&&(s=r,r=i,i=[]),s=s||this;var u=[];return this.each(i,function(){u.push(r&&r.apply(this,arguments))},s),u},n.prototype.map=function(i,r,s,u){var c=s||u||this,p=Cf(Rd(i),this._getStoreDimIndex,this),d=V0(this);return d._store=this._store.map(p,c?Mt(r,c):r),d},n.prototype.modify=function(i,r,s,u){var c=this,p=s||u||this;j(Rd(i),function(m){var _=c.getDimensionInfo(m);_.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var d=Cf(Rd(i),this._getStoreDimIndex,this);this._store.modify(d,p?Mt(r,p):r)},n.prototype.downSample=function(i,r,s,u){var c=V0(this);return c._store=this._store.downSample(this._getStoreDimIndex(i),r,s,u),c},n.prototype.minmaxDownSample=function(i,r){var s=V0(this);return s._store=this._store.minmaxDownSample(this._getStoreDimIndex(i),r),s},n.prototype.lttbDownSample=function(i,r){var s=V0(this);return s._store=this._store.lttbDownSample(this._getStoreDimIndex(i),r),s},n.prototype.getRawDataItem=function(i){return this._store.getRawDataItem(i)},n.prototype.getItemModel=function(i){var r=this.hostModel,s=this.getRawDataItem(i);return new sr(s,r,r&&r.ecModel)},n.prototype.diff=function(i){var r=this;return new iu(i?i.getStore().getIndices():[],this.getStore().getIndices(),function(s){return Tw(i,s)},function(s){return Tw(r,s)})},n.prototype.getVisual=function(i){var r=this._visual;return r&&r[i]},n.prototype.setVisual=function(i,r){this._visual=this._visual||{},N0(i)?st(this._visual,i):this._visual[i]=r},n.prototype.getItemVisual=function(i,r){var s=this._itemVisuals[i],u=s&&s[r];return u??this.getVisual(r)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(i,r){var s=this._itemVisuals,u=s[i];u||(u=s[i]={});var c=u[r];return c==null&&(c=this.getVisual(r),wt(c)?c=c.slice():N0(c)&&(c=st({},c)),u[r]=c),c},n.prototype.setItemVisual=function(i,r,s){var u=this._itemVisuals[i]||{};this._itemVisuals[i]=u,N0(r)?st(u,r):u[r]=s},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(i,r){N0(i)?st(this._layout,i):this._layout[i]=r},n.prototype.getLayout=function(i){return this._layout[i]},n.prototype.getItemLayout=function(i){return this._itemLayouts[i]},n.prototype.setItemLayout=function(i,r,s){this._itemLayouts[i]=s?st(this._itemLayouts[i]||{},r):r},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(i,r){var s=this.hostModel&&this.hostModel.seriesIndex;jE(s,this.dataType,i,r),this._graphicEls[i]=r},n.prototype.getItemGraphicEl=function(i){return this._graphicEls[i]},n.prototype.eachItemGraphicEl=function(i,r){j(this._graphicEls,function(s,u){s&&i&&i.call(r,s,u)})},n.prototype.cloneShallow=function(i){return i||(i=new n(this._schema?this._schema:Cf(this.dimensions,this._getDimInfo,this),this.hostModel)),R2(i,this),i._store=this._store,i},n.prototype.wrapMethod=function(i,r){var s=this[i];Gt(s)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(i),this[i]=function(){var u=s.apply(this,arguments);return r.apply(this,[u].concat(kb(arguments)))})},n.internalField=function(){z9=function(i){var r=i._invertedIndicesMap;j(r,function(s,u){var c=i._dimInfos[u],p=c.ordinalMeta,d=i._store;if(p){s=r[u]=new jbt(p.categories.length);for(var m=0;m<s.length;m++)s[m]=N9;for(var m=0;m<d.count();m++)s[d.get(c.storeDimIndex,m)]=m}})},z0=function(i,r,s){return wi(i._getCategory(r,s),null)},Tw=function(i,r){var s=i._idList[r];return s==null&&i._idDimIdx!=null&&(s=z0(i,i._idDimIdx,r)),s==null&&(s=Jbt+r),s},Rd=function(i){return wt(i)||(i=i!=null?[i]:[]),i},V0=function(i){var r=new n(i._schema?i._schema:Cf(i.dimensions,i._getDimInfo,i),i.hostModel);return R2(r,i),r},R2=function(i,r){j(Qbt.concat(r.__wrappedMethods||[]),function(s){r.hasOwnProperty(s)&&(i[s]=r[s])}),i.__wrappedMethods=r.__wrappedMethods,j(t1t,function(s){i[s]=lt(r[s])}),i._calculationInfo=st({},r._calculationInfo)},O2=function(i,r){var s=i._nameList,u=i._idList,c=i._nameDimIdx,p=i._idDimIdx,d=s[r],m=u[r];if(d==null&&c!=null&&(s[r]=d=z0(i,c,r)),m==null&&p!=null&&(u[r]=m=z0(i,p,r)),m==null&&d!=null){var _=i._nameRepeatCount,S=_[d]=(_[d]||0)+1;m=d,S>1&&(m+="__ec__"+S),u[r]=m}}}(),n}();function e1t(n,i){return Od(n,i).dimensions}function Od(n,i){qP(n)||(n=KP(n)),i=i||{};var r=i.coordDimensions||[],s=i.dimensionsDefine||n.dimensionsDefine||[],u=le(),c=[],p=i1t(n,r,s,i.dimensionsCount),d=i.canOmitUnusedDimensions&&k9(p),m=s===n.dimensionsDefine,_=m?O9(n):R9(s),S=i.encodeDefine;!S&&i.encodeDefaulter&&(S=i.encodeDefaulter(n,p));for(var w=le(S),A=new e8(p),D=0;D<A.length;D++)A[D]=-1;function L(tt){var et=A[tt];if(et<0){var it=s[tt],ut=re(it)?it:{name:it},ct=new ww,ht=ut.name;ht!=null&&_.get(ht)!=null&&(ct.name=ct.displayName=ht),ut.type!=null&&(ct.type=ut.type),ut.displayName!=null&&(ct.displayName=ut.displayName);var vt=c.length;return A[tt]=vt,ct.storeDimIndex=tt,c.push(ct),ct}return c[et]}if(!d)for(var D=0;D<p;D++)L(D);w.each(function(tt,et){var it=xr(tt).slice();if(it.length===1&&!kt(it[0])&&it[0]<0){w.set(et,!1);return}var ut=w.set(et,[]);j(it,function(ct,ht){var vt=kt(ct)?_.get(ct):ct;vt!=null&&vt<p&&(ut[ht]=vt,R(L(vt),et,ht))})});var E=0;j(r,function(tt){var et,it,ut,ct;if(kt(tt))et=tt,ct={};else{ct=tt,et=ct.name;var ht=ct.ordinalMeta;ct.ordinalMeta=null,ct=st({},ct),ct.ordinalMeta=ht,it=ct.dimsDef,ut=ct.otherDims,ct.name=ct.coordDim=ct.coordDimIndex=ct.dimsDef=ct.otherDims=null}var vt=w.get(et);if(vt!==!1){if(vt=xr(vt),!vt.length)for(var gt=0;gt<(it&&it.length||1);gt++){for(;E<p&&L(E).coordDim!=null;)E++;E<p&&vt.push(E++)}j(vt,function(bt,St){var Ct=L(bt);if(m&&ct.type!=null&&(Ct.type=ct.type),R(dt(Ct,ct),et,St),Ct.name==null&&it){var Ot=it[St];!re(Ot)&&(Ot={name:Ot}),Ct.name=Ct.displayName=Ot.name,Ct.defaultTooltip=Ot.defaultTooltip}ut&&dt(Ct.otherDims,ut)})}});function R(tt,et,it){zP.get(et)!=null?tt.otherDims[et]=it:(tt.coordDim=et,tt.coordDimIndex=it,u.set(et,!0))}var k=i.generateCoord,z=i.generateCoordCount,B=z!=null;z=k?z||1:0;var G=k||"value";function W(tt){tt.name==null&&(tt.name=tt.coordDim)}if(d)j(c,function(tt){W(tt)}),c.sort(function(tt,et){return tt.storeDimIndex-et.storeDimIndex});else for(var Y=0;Y<p;Y++){var q=L(Y),J=q.coordDim;J==null&&(q.coordDim=a1t(G,u,B),q.coordDimIndex=0,(!k||z<=0)&&(q.isExtraCoord=!0),z--),W(q),q.type==null&&(xY(n,Y)===aa.Must||q.isExtraCoord&&(q.otherDims.itemName!=null||q.otherDims.seriesName!=null))&&(q.type="ordinal")}return r1t(c),new E9({source:n,dimensions:c,fullDimensionCount:p,dimensionOmitted:d})}function r1t(n){for(var i=le(),r=0;r<n.length;r++){var s=n[r],u=s.name,c=i.get(u)||0;c>0&&(s.name=u+(c-1)),c++,i.set(u,c)}}function i1t(n,i,r,s){var u=Math.max(n.dimensionsDetectedCount||1,i.length,r.length,s||0);return j(i,function(c){var p;re(c)&&(p=c.dimsDef)&&(u=Math.max(u,p.length))}),u}function a1t(n,i,r){if(r||i.hasKey(n)){for(var s=0;i.hasKey(n+s);)s++;n+=s}return i.set(n,!0),n}var n1t=function(){function n(i){this.coordSysDims=[],this.axisMap=le(),this.categoryAxisMap=le(),this.coordSysName=i}return n}();function o1t(n){var i=n.get("coordinateSystem"),r=new n1t(i),s=s1t[i];if(s)return s(n,r,r.axisMap,r.categoryAxisMap),r}var s1t={cartesian2d:function(n,i,r,s){var u=n.getReferringComponents("xAxis",mi).models[0],c=n.getReferringComponents("yAxis",mi).models[0];if(!u)throw new Error('xAxis "'+oi(n.get("xAxisIndex"),n.get("xAxisId"),0)+'" not found');if(!c)throw new Error('yAxis "'+oi(n.get("xAxisIndex"),n.get("yAxisId"),0)+'" not found');i.coordSysDims=["x","y"],r.set("x",u),r.set("y",c),kd(u)&&(s.set("x",u),i.firstCategoryDimIndex=0),kd(c)&&(s.set("y",c),i.firstCategoryDimIndex==null&&(i.firstCategoryDimIndex=1))},singleAxis:function(n,i,r,s){var u=n.getReferringComponents("singleAxis",mi).models[0];if(!u)throw new Error("singleAxis should be specified.");i.coordSysDims=["single"],r.set("single",u),kd(u)&&(s.set("single",u),i.firstCategoryDimIndex=0)},polar:function(n,i,r,s){var u=n.getReferringComponents("polar",mi).models[0],c=u.findAxisModel("radiusAxis"),p=u.findAxisModel("angleAxis");if(!p)throw new Error("angleAxis option not found");if(!c)throw new Error("radiusAxis option not found");i.coordSysDims=["radius","angle"],r.set("radius",c),r.set("angle",p),kd(c)&&(s.set("radius",c),i.firstCategoryDimIndex=0),kd(p)&&(s.set("angle",p),i.firstCategoryDimIndex==null&&(i.firstCategoryDimIndex=1))},geo:function(n,i,r,s){i.coordSysDims=["lng","lat"]},parallel:function(n,i,r,s){var u=n.ecModel,c=u.getComponent("parallel",n.get("parallelIndex")),p=i.coordSysDims=c.dimensions.slice();j(c.parallelAxisIndex,function(d,m){var _=u.getComponent("parallelAxis",d),S=p[m];r.set(S,_),kd(_)&&(s.set(S,_),i.firstCategoryDimIndex==null&&(i.firstCategoryDimIndex=m))})}};function kd(n){return n.get("type")==="category"}function V9(n,i,r){r=r||{};var s=r.byIndex,u=r.stackedCoordDimension,c,p,d;l1t(i)?c=i:(p=i.schema,c=p.dimensions,d=i.store);var m=!!(n&&n.get("stack")),_,S,w,A;if(j(c,function(z,B){kt(z)&&(c[B]=z={name:z}),m&&!z.isExtraCoord&&(!s&&!_&&z.ordinalMeta&&(_=z),!S&&z.type!=="ordinal"&&z.type!=="time"&&(!u||u===z.coordDim)&&(S=z))}),S&&!s&&!_&&(s=!0),S){w="__\0ecstackresult_"+n.id,A="__\0ecstackedover_"+n.id,_&&(_.createInvertedIndices=!0);var D=S.coordDim,L=S.type,E=0;j(c,function(z){z.coordDim===D&&E++});var R={name:w,coordDim:D,coordDimIndex:E,type:L,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length},k={name:A,coordDim:A,coordDimIndex:E+1,type:L,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length+1};p?(d&&(R.storeDimIndex=d.ensureCalculationDimension(A,L),k.storeDimIndex=d.ensureCalculationDimension(w,L)),p.appendCalculationDimension(R),p.appendCalculationDimension(k)):(c.push(R),c.push(k))}return{stackedDimension:S&&S.name,stackedByDimension:_&&_.name,isStackedByIndex:s,stackedOverDimension:A,stackResultDimension:w}}function l1t(n){return!P9(n.schema)}function au(n,i){return!!i&&i===n.getCalculationInfo("stackedDimension")}function k2(n,i){return au(n,i)?n.getCalculationInfo("stackResultDimension"):i}function u1t(n,i){var r=n.get("coordinateSystem"),s=Lh.get(r),u;return i&&i.coordSysDims&&(u=Tt(i.coordSysDims,function(c){var p={name:c},d=i.axisMap.get(c);if(d){var m=d.get("type");p.type=bw(m)}return p})),u||(u=s&&(s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice())||["x","y"]),u}function f1t(n,i,r){var s,u;return r&&j(n,function(c,p){var d=c.coordDim,m=r.categoryAxisMap.get(d);m&&(s==null&&(s=p),c.ordinalMeta=m.getOrdinalMeta(),i&&(c.createInvertedIndices=!0)),c.otherDims.itemName!=null&&(u=!0)}),!u&&s!=null&&(n[s].otherDims.itemName=0),s}function ol(n,i,r){r=r||{};var s=i.getSourceManager(),u,c=!1;n?(c=!0,u=KP(n)):(u=s.getSource(),c=u.sourceFormat===go);var p=o1t(i),d=u1t(i,p),m=r.useEncodeDefaulter,_=Gt(m)?m:m?ee(_Y,d,i):null,S={coordDimensions:d,generateCoord:r.generateCoord,encodeDefine:i.getEncode(),encodeDefaulter:_,canOmitUnusedDimensions:!c},w=Od(u,S),A=f1t(w.dimensions,r.createInvertedIndices,p),D=c?null:s.getSharedDataStore(w),L=V9(i,{schema:w,store:D}),E=new wa(w,i);E.setCalculationInfo(L);var R=A!=null&&c1t(u)?function(k,z,B,G){return G===A?B:this.defaultDimValueGetter(k,z,B,G)}:null;return E.hasItemOption=!1,E.initData(c?u:D,null,R),E}function c1t(n){if(n.sourceFormat===go){var i=h1t(n.data||[]);return!wt(td(i))}}function h1t(n){for(var i=0;i<n.length&&n[i]==null;)i++;return n[i]}var sl=function(){function n(i){this._setting=i||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(i){return this._setting[i]},n.prototype.unionExtent=function(i){var r=this._extent;i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])},n.prototype.unionExtentFromData=function(i,r){this.unionExtent(i.getApproximateExtent(r))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(i,r){var s=this._extent;isNaN(i)||(s[0]=i),isNaN(r)||(s[1]=r)},n.prototype.isInExtentRange=function(i){return this._extent[0]<=i&&this._extent[1]>=i},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(i){this._isBlank=i},n}();v1(sl);var p1t=0,N2=function(){function n(i){this.categories=i.categories||[],this._needCollect=i.needCollect,this._deduplication=i.deduplication,this.uid=++p1t}return n.createByAxisModel=function(i){var r=i.option,s=r.data,u=s&&Tt(s,v1t);return new n({categories:u,needCollect:!u,deduplication:r.dedplication!==!1})},n.prototype.getOrdinal=function(i){return this._getOrCreateMap().get(i)},n.prototype.parseAndCollect=function(i){var r,s=this._needCollect;if(!kt(i)&&!s)return i;if(s&&!this._deduplication)return r=this.categories.length,this.categories[r]=i,r;var u=this._getOrCreateMap();return r=u.get(i),r==null&&(s?(r=this.categories.length,this.categories[r]=i,u.set(i,r)):r=NaN),r},n.prototype._getOrCreateMap=function(){return this._map||(this._map=le(this.categories))},n}();function v1t(n){return re(n)&&n.value!=null?n.value:n+""}function d1t(n){var i=Math.pow(10,jy(Math.abs(n))),r=Math.abs(n/i);return r===0||r===1||r===2||r===3||r===5}function z2(n){return n.type==="interval"||n.type==="log"}function g1t(n,i,r,s){var u={},c=n[1]-n[0],p=u.interval=ME(c/i,!0);r!=null&&p<r&&(p=u.interval=r),s!=null&&p>s&&(p=u.interval=s);var d=u.intervalPrecision=B9(p),m=u.niceTickExtent=[Kr(Math.ceil(n[0]/p)*p,d),Kr(Math.floor(n[1]/p)*p,d)];return m1t(m,n),u}function V2(n){var i=Math.pow(10,jy(n)),r=n/i;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Kr(r*i)}function B9(n){return ps(n)+2}function F9(n,i,r){n[i]=Math.max(Math.min(n[i],r[1]),r[0])}function m1t(n,i){!isFinite(n[0])&&(n[0]=i[0]),!isFinite(n[1])&&(n[1]=i[1]),F9(n,0,i),F9(n,1,i),n[0]>n[1]&&(n[0]=n[1])}function Aw(n,i){return n>=i[0]&&n<=i[1]}function Cw(n,i){return i[1]===i[0]?.5:(n-i[0])/(i[1]-i[0])}function Dw(n,i){return n*(i[1]-i[0])+i[0]}var Mw=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;s.type="ordinal";var u=s.getSetting("ordinalMeta");return u||(u=new N2({})),wt(u)&&(u=new N2({categories:Tt(u,function(c){return re(c)?c.value:c})})),s._ordinalMeta=u,s._extent=s.getSetting("extent")||[0,u.categories.length-1],s}return i.prototype.parse=function(r){return r==null?NaN:kt(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},i.prototype.contain=function(r){return r=this.parse(r),Aw(r,this._extent)&&this._ordinalMeta.categories[r]!=null},i.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),Cw(r,this._extent)},i.prototype.scale=function(r){return r=Math.round(Dw(r,this._extent)),this.getRawOrdinalNumber(r)},i.prototype.getTicks=function(){for(var r=[],s=this._extent,u=s[0];u<=s[1];)r.push({value:u}),u++;return r},i.prototype.getMinorTicks=function(r){},i.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var s=r.ordinalNumbers,u=this._ordinalNumbersByTick=[],c=this._ticksByOrdinalNumber=[],p=0,d=this._ordinalMeta.categories.length,m=Math.min(d,s.length);p<m;++p){var _=s[p];u[p]=_,c[_]=p}for(var S=0;p<d;++p){for(;c[S]!=null;)S++;u.push(S),c[S]=p}},i.prototype._getTickNumber=function(r){var s=this._ticksByOrdinalNumber;return s&&r>=0&&r<s.length?s[r]:r},i.prototype.getRawOrdinalNumber=function(r){var s=this._ordinalNumbersByTick;return s&&r>=0&&r<s.length?s[r]:r},i.prototype.getLabel=function(r){if(!this.isBlank()){var s=this.getRawOrdinalNumber(r.value),u=this._ordinalMeta.categories[s];return u==null?"":u+""}},i.prototype.count=function(){return this._extent[1]-this._extent[0]+1},i.prototype.unionExtentFromData=function(r,s){this.unionExtent(r.getApproximateExtent(s))},i.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},i.prototype.getOrdinalMeta=function(){return this._ordinalMeta},i.prototype.calcNiceTicks=function(){},i.prototype.calcNiceExtent=function(){},i.type="ordinal",i}(sl);sl.registerClass(Mw);var Vh=Kr,nu=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return i.prototype.parse=function(r){return r},i.prototype.contain=function(r){return Aw(r,this._extent)},i.prototype.normalize=function(r){return Cw(r,this._extent)},i.prototype.scale=function(r){return Dw(r,this._extent)},i.prototype.setExtent=function(r,s){var u=this._extent;isNaN(r)||(u[0]=parseFloat(r)),isNaN(s)||(u[1]=parseFloat(s))},i.prototype.unionExtent=function(r){var s=this._extent;r[0]<s[0]&&(s[0]=r[0]),r[1]>s[1]&&(s[1]=r[1]),this.setExtent(s[0],s[1])},i.prototype.getInterval=function(){return this._interval},i.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=B9(r)},i.prototype.getTicks=function(r){var s=this._interval,u=this._extent,c=this._niceExtent,p=this._intervalPrecision,d=[];if(!s)return d;var m=1e4;u[0]<c[0]&&(r?d.push({value:Vh(c[0]-s,p)}):d.push({value:u[0]}));for(var _=c[0];_<=c[1]&&(d.push({value:_}),_=Vh(_+s,p),_!==d[d.length-1].value);)if(d.length>m)return[];var S=d.length?d[d.length-1].value:c[1];return u[1]>S&&(r?d.push({value:Vh(S+s,p)}):d.push({value:u[1]})),d},i.prototype.getMinorTicks=function(r){for(var s=this.getTicks(!0),u=[],c=this.getExtent(),p=1;p<s.length;p++){for(var d=s[p],m=s[p-1],_=0,S=[],w=d.value-m.value,A=w/r;_<r-1;){var D=Vh(m.value+(_+1)*A);D>c[0]&&D<c[1]&&S.push(D),_++}u.push(S)}return u},i.prototype.getLabel=function(r,s){if(r==null)return"";var u=s&&s.precision;u==null?u=ps(r.value)||0:u==="auto"&&(u=this._intervalPrecision);var c=Vh(r.value,u,!0);return EP(c)},i.prototype.calcNiceTicks=function(r,s,u){r=r||5;var c=this._extent,p=c[1]-c[0];if(isFinite(p)){p<0&&(p=-p,c.reverse());var d=g1t(c,r,s,u);this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent}},i.prototype.calcNiceExtent=function(r){var s=this._extent;if(s[0]===s[1])if(s[0]!==0){var u=Math.abs(s[0]);r.fixMax||(s[1]+=u/2),s[0]-=u/2}else s[1]=1;var c=s[1]-s[0];isFinite(c)||(s[0]=0,s[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var p=this._interval;r.fixMin||(s[0]=Vh(Math.floor(s[0]/p)*p)),r.fixMax||(s[1]=Vh(Math.ceil(s[1]/p)*p))},i.prototype.setNiceExtent=function(r,s){this._niceExtent=[r,s]},i.type="interval",i}(sl);sl.registerClass(nu);var U9=typeof Float32Array<"u",y1t=U9?Float32Array:Array;function ll(n){return wt(n)?U9?new Float32Array(n):n:new y1t(n)}var B2="__ec_stack_";function F2(n){return n.get("stack")||B2+n.seriesIndex}function U2(n){return n.dim+n.index}function _1t(n){var i=[],r=n.axis,s="axis0";if(r.type==="category"){for(var u=r.getBandWidth(),c=0;c<n.count;c++)i.push(dt({bandWidth:u,axisKey:s,stackId:B2+c},n));for(var p=W9(i),d=[],c=0;c<n.count;c++){var m=p[s][B2+c];m.offsetCenter=m.offset+m.width/2,d.push(m)}return d}}function G9(n,i){var r=[];return i.eachSeriesByType(n,function(s){X9(s)&&r.push(s)}),r}function x1t(n){var i={};j(n,function(m){var _=m.coordinateSystem,S=_.getBaseAxis();if(!(S.type!=="time"&&S.type!=="value"))for(var w=m.getData(),A=S.dim+"_"+S.index,D=w.getDimensionIndex(w.mapDimension(S.dim)),L=w.getStore(),E=0,R=L.count();E<R;++E){var k=L.get(D,E);i[A]?i[A].push(k):i[A]=[k]}});var r={};for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];if(u){u.sort(function(m,_){return m-_});for(var c=null,p=1;p<u.length;++p){var d=u[p]-u[p-1];d>0&&(c=c===null?d:Math.min(c,d))}r[s]=c}}return r}function H9(n){var i=x1t(n),r=[];return j(n,function(s){var u=s.coordinateSystem,c=u.getBaseAxis(),p=c.getExtent(),d;if(c.type==="category")d=c.getBandWidth();else if(c.type==="value"||c.type==="time"){var m=c.dim+"_"+c.index,_=i[m],S=Math.abs(p[1]-p[0]),w=c.scale.getExtent(),A=Math.abs(w[1]-w[0]);d=_?S/A*_:S}else{var D=s.getData();d=Math.abs(p[1]-p[0])/D.count()}var L=Wt(s.get("barWidth"),d),E=Wt(s.get("barMaxWidth"),d),R=Wt(s.get("barMinWidth")||(q9(s)?.5:1),d),k=s.get("barGap"),z=s.get("barCategoryGap");r.push({bandWidth:d,barWidth:L,barMaxWidth:E,barMinWidth:R,barGap:k,barCategoryGap:z,axisKey:U2(c),stackId:F2(s)})}),W9(r)}function W9(n){var i={};j(n,function(s,u){var c=s.axisKey,p=s.bandWidth,d=i[c]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},m=d.stacks;i[c]=d;var _=s.stackId;m[_]||d.autoWidthCount++,m[_]=m[_]||{width:0,maxWidth:0};var S=s.barWidth;S&&!m[_].width&&(m[_].width=S,S=Math.min(d.remainedWidth,S),d.remainedWidth-=S);var w=s.barMaxWidth;w&&(m[_].maxWidth=w);var A=s.barMinWidth;A&&(m[_].minWidth=A);var D=s.barGap;D!=null&&(d.gap=D);var L=s.barCategoryGap;L!=null&&(d.categoryGap=L)});var r={};return j(i,function(s,u){r[u]={};var c=s.stacks,p=s.bandWidth,d=s.categoryGap;if(d==null){var m=Xt(c).length;d=Math.max(35-m*4,15)+"%"}var _=Wt(d,p),S=Wt(s.gap,1),w=s.remainedWidth,A=s.autoWidthCount,D=(w-_)/(A+(A-1)*S);D=Math.max(D,0),j(c,function(k){var z=k.maxWidth,B=k.minWidth;if(k.width){var G=k.width;z&&(G=Math.min(G,z)),B&&(G=Math.max(G,B)),k.width=G,w-=G+S*G,A--}else{var G=D;z&&z<G&&(G=Math.min(z,w)),B&&B>G&&(G=B),G!==D&&(k.width=G,w-=G+S*G,A--)}}),D=(w-_)/(A+(A-1)*S),D=Math.max(D,0);var L=0,E;j(c,function(k,z){k.width||(k.width=D),E=k,L+=k.width*(1+S)}),E&&(L-=E.width*S);var R=-L/2;j(c,function(k,z){r[u][z]=r[u][z]||{bandWidth:p,offset:R,width:k.width},R+=k.width*(1+S)})}),r}function S1t(n,i,r){if(n&&i){var s=n[U2(i)];return s!=null&&r!=null?s[F2(r)]:s}}function Y9(n,i){var r=G9(n,i),s=H9(r);j(r,function(u){var c=u.getData(),p=u.coordinateSystem,d=p.getBaseAxis(),m=F2(u),_=s[U2(d)][m],S=_.offset,w=_.width;c.setLayout({bandWidth:_.bandWidth,offset:S,size:w})})}function Z9(n){return{seriesType:n,plan:Cd(),reset:function(i){if(X9(i)){var r=i.getData(),s=i.coordinateSystem,u=s.getBaseAxis(),c=s.getOtherAxis(u),p=r.getDimensionIndex(r.mapDimension(c.dim)),d=r.getDimensionIndex(r.mapDimension(u.dim)),m=i.get("showBackground",!0),_=r.mapDimension(c.dim),S=r.getCalculationInfo("stackResultDimension"),w=au(r,_)&&!!r.getCalculationInfo("stackedOnSeries"),A=c.isHorizontal(),D=b1t(u,c),L=q9(i),E=i.get("barMinHeight")||0,R=S&&r.getDimensionIndex(S),k=r.getLayout("size"),z=r.getLayout("offset");return{progress:function(B,G){for(var W=B.count,Y=L&&ll(W*3),q=L&&m&&ll(W*3),J=L&&ll(W),tt=s.master.getRect(),et=A?tt.width:tt.height,it,ut=G.getStore(),ct=0;(it=B.next())!=null;){var ht=ut.get(w?R:p,it),vt=ut.get(d,it),gt=D,bt=void 0;w&&(bt=+ht-ut.get(p,it));var St=void 0,Ct=void 0,Ot=void 0,Vt=void 0;if(A){var $t=s.dataToPoint([ht,vt]);if(w){var pe=s.dataToPoint([bt,vt]);gt=pe[0]}St=gt,Ct=$t[1]+z,Ot=$t[0]-gt,Vt=k,Math.abs(Ot)<E&&(Ot=(Ot<0?-1:1)*E)}else{var $t=s.dataToPoint([vt,ht]);if(w){var pe=s.dataToPoint([vt,bt]);gt=pe[1]}St=$t[0]+z,Ct=gt,Ot=k,Vt=$t[1]-gt,Math.abs(Vt)<E&&(Vt=(Vt<=0?-1:1)*E)}L?(Y[ct]=St,Y[ct+1]=Ct,Y[ct+2]=A?Ot:Vt,q&&(q[ct]=A?tt.x:St,q[ct+1]=A?Ct:tt.y,q[ct+2]=et),J[it]=it):G.setItemLayout(it,{x:St,y:Ct,width:Ot,height:Vt}),ct+=3}L&&G.setLayout({largePoints:Y,largeDataIndices:J,largeBackgroundPoints:q,valueAxisHorizontal:A})}}}}}}function X9(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function q9(n){return n.pipelineContext&&n.pipelineContext.large}function b1t(n,i){var r=i.model.get("startValue");return r||(r=0),i.toGlobalCoord(i.dataToCoord(i.type==="log"?r>0?r:1:r))}var w1t=function(n,i,r,s){for(;r<s;){var u=r+s>>>1;n[u][1]<i?r=u+1:s=u}return r},G2=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="time",s}return i.prototype.getLabel=function(r){var s=this.getSetting("useUTC");return y0(r.value,rY[K_t(yd(this._minLevelUnit))]||rY.second,s,this.getSetting("locale"))},i.prototype.getFormattedLabel=function(r,s,u){var c=this.getSetting("useUTC"),p=this.getSetting("locale");return j_t(r,s,u,p,c)},i.prototype.getTicks=function(){var r=this._interval,s=this._extent,u=[];if(!r)return u;u.push({value:s[0],level:0});var c=this.getSetting("useUTC"),p=I1t(this._minLevelUnit,this._approxInterval,c,s);return u=u.concat(p),u.push({value:s[1],level:0}),u},i.prototype.calcNiceExtent=function(r){var s=this._extent;if(s[0]===s[1]&&(s[0]-=vo,s[1]+=vo),s[1]===-1/0&&s[0]===1/0){var u=new Date;s[1]=+new Date(u.getFullYear(),u.getMonth(),u.getDate()),s[0]=s[1]-vo}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},i.prototype.calcNiceTicks=function(r,s,u){r=r||10;var c=this._extent,p=c[1]-c[0];this._approxInterval=p/r,s!=null&&this._approxInterval<s&&(this._approxInterval=s),u!=null&&this._approxInterval>u&&(this._approxInterval=u);var d=Lw.length,m=Math.min(w1t(Lw,this._approxInterval,0,d),d-1);this._interval=Lw[m][1],this._minLevelUnit=Lw[Math.max(m-1,0)][0]},i.prototype.parse=function(r){return Ne(r)?r:+kn(r)},i.prototype.contain=function(r){return Aw(this.parse(r),this._extent)},i.prototype.normalize=function(r){return Cw(this.parse(r),this._extent)},i.prototype.scale=function(r){return Dw(r,this._extent)},i.type="time",i}(nu),Lw=[["second",DP],["minute",MP],["hour",g0],["quarter-day",g0*6],["half-day",g0*12],["day",vo*1.2],["half-week",vo*3.5],["week",vo*7],["month",vo*31],["quarter",vo*95],["half-year",eY/2],["year",eY]];function T1t(n,i,r,s){var u=kn(i),c=kn(r),p=function(L){return nY(u,L,s)===nY(c,L,s)},d=function(){return p("year")},m=function(){return d()&&p("month")},_=function(){return m()&&p("day")},S=function(){return _()&&p("hour")},w=function(){return S()&&p("minute")},A=function(){return w()&&p("second")},D=function(){return A()&&p("millisecond")};switch(n){case"year":return d();case"month":return m();case"day":return _();case"hour":return S();case"minute":return w();case"second":return A();case"millisecond":return D()}}function A1t(n,i){return n/=vo,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function C1t(n){var i=30*vo;return n/=i,n>6?6:n>3?3:n>2?2:1}function D1t(n){return n/=g0,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function $9(n,i){return n/=i?MP:DP,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function M1t(n){return ME(n,!0)}function L1t(n,i,r){var s=new Date(n);switch(yd(i)){case"year":case"month":s[oY(r)](0);case"day":s[sY(r)](1);case"hour":s[lY(r)](0);case"minute":s[uY(r)](0);case"second":s[fY(r)](0),s[cY(r)](0)}return s.getTime()}function I1t(n,i,r,s){var u=1e4,c=iY,p=0;function d(et,it,ut,ct,ht,vt,gt){for(var bt=new Date(it),St=it,Ct=bt[ct]();St<ut&&St<=s[1];)gt.push({value:St}),Ct+=et,bt[ht](Ct),St=bt.getTime();gt.push({value:St,notAdd:!0})}function m(et,it,ut){var ct=[],ht=!it.length;if(!T1t(yd(et),s[0],s[1],r)){ht&&(it=[{value:L1t(new Date(s[0]),et,r)},{value:s[1]}]);for(var vt=0;vt<it.length-1;vt++){var gt=it[vt].value,bt=it[vt+1].value;if(gt!==bt){var St=void 0,Ct=void 0,Ot=void 0,Vt=!1;switch(et){case"year":St=Math.max(1,Math.round(i/vo/365)),Ct=IP(r),Ot=J_t(r);break;case"half-year":case"quarter":case"month":St=C1t(i),Ct=_d(r),Ot=oY(r);break;case"week":case"half-week":case"day":St=A1t(i),Ct=W1(r),Ot=sY(r),Vt=!0;break;case"half-day":case"quarter-day":case"hour":St=D1t(i),Ct=_0(r),Ot=lY(r);break;case"minute":St=$9(i,!0),Ct=Y1(r),Ot=uY(r);break;case"second":St=$9(i,!1),Ct=Z1(r),Ot=fY(r);break;case"millisecond":St=M1t(i),Ct=X1(r),Ot=cY(r);break}d(St,gt,bt,Ct,Ot,Vt,ct),et==="year"&&ut.length>1&&vt===0&&ut.unshift({value:ut[0].value-St})}}for(var vt=0;vt<ct.length;vt++)ut.push(ct[vt]);return ct}}for(var _=[],S=[],w=0,A=0,D=0;D<c.length&&p++<u;++D){var L=yd(c[D]);if($_t(c[D])){m(c[D],_[_.length-1]||[],S);var E=c[D+1]?yd(c[D+1]):null;if(L!==E){if(S.length){A=w,S.sort(function(et,it){return et.value-it.value});for(var R=[],k=0;k<S.length;++k){var z=S[k].value;(k===0||S[k-1].value!==z)&&(R.push(S[k]),z>=s[0]&&z<=s[1]&&w++)}var B=(s[1]-s[0])/i;if(w>B*1.5&&A>B/1.5||(_.push(R),w>B||n===c[D]))break}S=[]}}}p>=u&&Yr("Exceed safe limit.");for(var G=jt(Tt(_,function(et){return jt(et,function(it){return it.value>=s[0]&&it.value<=s[1]&&!it.notAdd})}),function(et){return et.length>0}),W=[],Y=G.length-1,D=0;D<G.length;++D)for(var q=G[D],J=0;J<q.length;++J)W.push({value:q[J].value,level:Y-D});W.sort(function(et,it){return et.value-it.value});for(var tt=[],D=0;D<W.length;++D)(D===0||W[D].value!==W[D-1].value)&&tt.push(W[D]);return tt}sl.registerClass(G2);var K9=sl.prototype,B0=nu.prototype,E1t=Kr,P1t=Math.floor,R1t=Math.ceil,Iw=Math.pow,_s=Math.log,H2=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new nu,r._interval=0,r}return i.prototype.getTicks=function(r){var s=this._originalScale,u=this._extent,c=s.getExtent(),p=B0.getTicks.call(this,r);return Tt(p,function(d){var m=d.value,_=Kr(Iw(this.base,m));return _=m===u[0]&&this._fixMin?Ew(_,c[0]):_,_=m===u[1]&&this._fixMax?Ew(_,c[1]):_,{value:_}},this)},i.prototype.setExtent=function(r,s){var u=_s(this.base);r=_s(Math.max(0,r))/u,s=_s(Math.max(0,s))/u,B0.setExtent.call(this,r,s)},i.prototype.getExtent=function(){var r=this.base,s=K9.getExtent.call(this);s[0]=Iw(r,s[0]),s[1]=Iw(r,s[1]);var u=this._originalScale,c=u.getExtent();return this._fixMin&&(s[0]=Ew(s[0],c[0])),this._fixMax&&(s[1]=Ew(s[1],c[1])),s},i.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var s=this.base;r[0]=_s(r[0])/_s(s),r[1]=_s(r[1])/_s(s),K9.unionExtent.call(this,r)},i.prototype.unionExtentFromData=function(r,s){this.unionExtent(r.getApproximateExtent(s))},i.prototype.calcNiceTicks=function(r){r=r||10;var s=this._extent,u=s[1]-s[0];if(!(u===1/0||u<=0)){var c=d4(u),p=r/u*c;for(p<=.5&&(c*=10);!isNaN(c)&&Math.abs(c)<1&&Math.abs(c)>0;)c*=10;var d=[Kr(R1t(s[0]/c)*c),Kr(P1t(s[1]/c)*c)];this._interval=c,this._niceExtent=d}},i.prototype.calcNiceExtent=function(r){B0.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},i.prototype.parse=function(r){return r},i.prototype.contain=function(r){return r=_s(r)/_s(this.base),Aw(r,this._extent)},i.prototype.normalize=function(r){return r=_s(r)/_s(this.base),Cw(r,this._extent)},i.prototype.scale=function(r){return r=Dw(r,this._extent),Iw(this.base,r)},i.type="log",i}(sl),j9=H2.prototype;j9.getMinorTicks=B0.getMinorTicks,j9.getLabel=B0.getLabel;function Ew(n,i){return E1t(n,ps(i))}sl.registerClass(H2);var O1t=function(){function n(i,r,s){this._prepareParams(i,r,s)}return n.prototype._prepareParams=function(i,r,s){s[1]<s[0]&&(s=[NaN,NaN]),this._dataMin=s[0],this._dataMax=s[1];var u=this._isOrdinal=i.type==="ordinal";this._needCrossZero=i.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var c=r.get("min",!0);c==null&&(c=r.get("startValue",!0));var p=this._modelMinRaw=c;Gt(p)?this._modelMinNum=Pw(i,p({min:s[0],max:s[1]})):p!=="dataMin"&&(this._modelMinNum=Pw(i,p));var d=this._modelMaxRaw=r.get("max",!0);if(Gt(d)?this._modelMaxNum=Pw(i,d({min:s[0],max:s[1]})):d!=="dataMax"&&(this._modelMaxNum=Pw(i,d)),u)this._axisDataLen=r.getCategories().length;else{var m=r.get("boundaryGap"),_=wt(m)?m:[m||0,m||0];typeof _[0]=="boolean"||typeof _[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[hs(_[0],1),hs(_[1],1)]}},n.prototype.calculate=function(){var i=this._isOrdinal,r=this._dataMin,s=this._dataMax,u=this._axisDataLen,c=this._boundaryGapInner,p=i?null:s-r||Math.abs(r),d=this._modelMinRaw==="dataMin"?r:this._modelMinNum,m=this._modelMaxRaw==="dataMax"?s:this._modelMaxNum,_=d!=null,S=m!=null;d==null&&(d=i?u?0:NaN:r-c[0]*p),m==null&&(m=i?u?u-1:NaN:s+c[1]*p),(d==null||!isFinite(d))&&(d=NaN),(m==null||!isFinite(m))&&(m=NaN);var w=tf(d)||tf(m)||i&&!u;this._needCrossZero&&(d>0&&m>0&&!_&&(d=0),d<0&&m<0&&!S&&(m=0));var A=this._determinedMin,D=this._determinedMax;return A!=null&&(d=A,_=!0),D!=null&&(m=D,S=!0),{min:d,max:m,minFixed:_,maxFixed:S,isBlank:w}},n.prototype.modifyDataMinMax=function(i,r){de(!this.frozen),this[N1t[i]]=r},n.prototype.setDeterminedMinMax=function(i,r){var s=k1t[i];de(!this.frozen&&this[s]==null),this[s]=r},n.prototype.freeze=function(){this.frozen=!0},n}(),k1t={min:"_determinedMin",max:"_determinedMax"},N1t={min:"_dataMin",max:"_dataMax"};function J9(n,i,r){var s=n.rawExtentInfo;return s||(s=new O1t(n,i,r),n.rawExtentInfo=s,s)}function Pw(n,i){return i==null?null:tf(i)?NaN:n.parse(i)}function Q9(n,i){var r=n.type,s=J9(n,i,n.getExtent()).calculate();n.setBlank(s.isBlank);var u=s.min,c=s.max,p=i.ecModel;if(p&&r==="time"){var d=G9("bar",p),m=!1;if(j(d,function(w){m=m||w.getBaseAxis()===i.axis}),m){var _=H9(d),S=z1t(u,c,i,_);u=S.min,c=S.max}}return{extent:[u,c],fixMin:s.minFixed,fixMax:s.maxFixed}}function z1t(n,i,r,s){var u=r.axis.getExtent(),c=Math.abs(u[1]-u[0]),p=S1t(s,r.axis);if(p===void 0)return{min:n,max:i};var d=1/0;j(p,function(D){d=Math.min(D.offset,d)});var m=-1/0;j(p,function(D){m=Math.max(D.offset+D.width,m)}),d=Math.abs(d),m=Math.abs(m);var _=d+m,S=i-n,w=1-(d+m)/c,A=S/w-S;return i+=A*(m/_),n-=A*(d/_),{min:n,max:i}}function Bh(n,i){var r=i,s=Q9(n,r),u=s.extent,c=r.get("splitNumber");n instanceof H2&&(n.base=r.get("logBase"));var p=n.type,d=r.get("interval"),m=p==="interval"||p==="time";n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:c,fixMin:s.fixMin,fixMax:s.fixMax,minInterval:m?r.get("minInterval"):null,maxInterval:m?r.get("maxInterval"):null}),d!=null&&n.setInterval&&n.setInterval(d)}function F0(n,i){if(i=i||n.get("type"),i)switch(i){case"category":return new Mw({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new G2({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(sl.getClass(i)||nu)}}function V1t(n){var i=n.scale.getExtent(),r=i[0],s=i[1];return!(r>0&&s>0||r<0&&s<0)}function Nd(n){var i=n.getLabelModel().get("formatter"),r=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(s){return function(u,c){return n.scale.getFormattedLabel(u,c,s)}}(i):kt(i)?function(s){return function(u){var c=n.scale.getLabel(u),p=s.replace("{value}",c??"");return p}}(i):Gt(i)?function(s){return function(u,c){return r!=null&&(c=u.value-r),s(W2(n,u),c,u.level!=null?{level:u.level}:null)}}(i):function(s){return n.scale.getLabel(s)}}function W2(n,i){return n.type==="category"?n.scale.getLabel(i):i.value}function B1t(n){var i=n.model,r=n.scale;if(!(!i.get(["axisLabel","show"])||r.isBlank())){var s,u,c=r.getExtent();r instanceof Mw?u=r.count():(s=r.getTicks(),u=s.length);var p=n.getLabelModel(),d=Nd(n),m,_=1;u>40&&(_=Math.ceil(u/40));for(var S=0;S<u;S+=_){var w=s?s[S]:{value:c[0]+S},A=d(w,S),D=p.getTextRect(A),L=F1t(D,p.get("rotate")||0);m?m.union(L):m=L}return m}}function F1t(n,i){var r=i*Math.PI/180,s=n.width,u=n.height,c=s*Math.abs(Math.cos(r))+Math.abs(u*Math.sin(r)),p=s*Math.abs(Math.sin(r))+Math.abs(u*Math.cos(r)),d=new Ve(n.x,n.y,c,p);return d}function Y2(n){var i=n.get("interval");return i??"auto"}function t7(n){return n.type==="category"&&Y2(n.getLabelModel())===0}function Rw(n,i){var r={};return j(n.mapDimensionsAll(i),function(s){r[k2(n,s)]=!0}),Xt(r)}function U1t(n,i,r){i&&j(Rw(i,r),function(s){var u=i.getApproximateExtent(s);u[0]<n[0]&&(n[0]=u[0]),u[1]>n[1]&&(n[1]=u[1])})}var zd=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var i=this.option;return!i.scale},n.prototype.getCoordSysModel=function(){},n}();function G1t(n){return ol(null,n)}var H1t={isDimensionStacked:au,enableDataStack:V9,getStackedDimension:k2};function W1t(n,i){var r=i;i instanceof sr||(r=new sr(i));var s=F0(r);return s.setExtent(n[0],n[1]),Bh(s,r),s}function Y1t(n){qt(n,zd)}function Z1t(n,i){return i=i||{},Dr(n,null,null,i.state!=="normal")}var X1t=Object.freeze({__proto__:null,createList:G1t,getLayoutRect:yi,dataStack:H1t,createScale:W1t,mixinAxisModelCommonMethods:Y1t,getECData:Me,createTextStyle:Z1t,createDimensions:e1t,createSymbol:li,enableHoverEmphasis:df}),q1t=1e-8;function e7(n,i){return Math.abs(n-i)<q1t}function Fh(n,i,r){var s=0,u=n[0];if(!u)return!1;for(var c=1;c<n.length;c++){var p=n[c];s+=jl(u[0],u[1],p[0],p[1],i,r),u=p}var d=n[0];return(!e7(u[0],d[0])||!e7(u[1],d[1]))&&(s+=jl(u[0],u[1],d[0],d[1],i,r)),s!==0}var $1t=[];function Z2(n,i){for(var r=0;r<n.length;r++)Xi(n[r],n[r],i)}function r7(n,i,r,s){for(var u=0;u<n.length;u++){var c=n[u];s&&(c=s.project(c)),c&&isFinite(c[0])&&isFinite(c[1])&&(Yl(i,i,c),Zl(r,r,c))}}function K1t(n){for(var i=0,r=0,s=0,u=n.length,c=n[u-1][0],p=n[u-1][1],d=0;d<u;d++){var m=n[d][0],_=n[d][1],S=c*_-m*p;i+=S,r+=(c+m)*S,s+=(p+_)*S,c=m,p=_}return i?[r/i/3,s/i/3,i]:[n[0][0]||0,n[0][1]||0]}var i7=function(){function n(i){this.name=i}return n.prototype.setCenter=function(i){this._center=i},n.prototype.getCenter=function(){var i=this._center;return i||(i=this._center=this.calcCenter()),i},n}(),a7=function(){function n(i,r){this.type="polygon",this.exterior=i,this.interiors=r}return n}(),n7=function(){function n(i){this.type="linestring",this.points=i}return n}(),o7=function(n){e(i,n);function i(r,s,u){var c=n.call(this,r)||this;return c.type="geoJSON",c.geometries=s,c._center=u&&[u[0],u[1]],c}return i.prototype.calcCenter=function(){for(var r=this.geometries,s,u=0,c=0;c<r.length;c++){var p=r[c],d=p.exterior,m=d&&d.length;m>u&&(s=p,u=m)}if(s)return K1t(s.exterior);var _=this.getBoundingRect();return[_.x+_.width/2,_.y+_.height/2]},i.prototype.getBoundingRect=function(r){var s=this._rect;if(s&&!r)return s;var u=[1/0,1/0],c=[-1/0,-1/0],p=this.geometries;return j(p,function(d){d.type==="polygon"?r7(d.exterior,u,c,r):j(d.points,function(m){r7(m,u,c,r)})}),isFinite(u[0])&&isFinite(u[1])&&isFinite(c[0])&&isFinite(c[1])||(u[0]=u[1]=c[0]=c[1]=0),s=new Ve(u[0],u[1],c[0]-u[0],c[1]-u[1]),r||(this._rect=s),s},i.prototype.contain=function(r){var s=this.getBoundingRect(),u=this.geometries;if(!s.contain(r[0],r[1]))return!1;t:for(var c=0,p=u.length;c<p;c++){var d=u[c];if(d.type==="polygon"){var m=d.exterior,_=d.interiors;if(Fh(m,r[0],r[1])){for(var S=0;S<(_?_.length:0);S++)if(Fh(_[S],r[0],r[1]))continue t;return!0}}}return!1},i.prototype.transformTo=function(r,s,u,c){var p=this.getBoundingRect(),d=p.width/p.height;u?c||(c=u/d):u=d*c;for(var m=new Ve(r,s,u,c),_=p.calculateTransform(m),S=this.geometries,w=0;w<S.length;w++){var A=S[w];A.type==="polygon"?(Z2(A.exterior,_),j(A.interiors,function(D){Z2(D,_)})):j(A.points,function(D){Z2(D,_)})}p=this._rect,p.copy(m),this._center=[p.x+p.width/2,p.y+p.height/2]},i.prototype.cloneShallow=function(r){r==null&&(r=this.name);var s=new i(r,this.geometries,this._center);return s._rect=this._rect,s.transformTo=null,s},i}(i7),j1t=function(n){e(i,n);function i(r,s){var u=n.call(this,r)||this;return u.type="geoSVG",u._elOnlyForCalculate=s,u}return i.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,s=r.getBoundingRect(),u=[s.x+s.width/2,s.y+s.height/2],c=Ey($1t),p=r;p&&!p.isGeoSVGGraphicRoot;)Xs(c,p.getLocalTransform(),c),p=p.parent;return Kc(c,c),Xi(u,u,c),u},i}(i7);function J1t(n){if(!n.UTF8Encoding)return n;var i=n,r=i.UTF8Scale;r==null&&(r=1024);var s=i.features;return j(s,function(u){var c=u.geometry,p=c.encodeOffsets,d=c.coordinates;if(p)switch(c.type){case"LineString":c.coordinates=s7(d,p,r);break;case"Polygon":X2(d,p,r);break;case"MultiLineString":X2(d,p,r);break;case"MultiPolygon":j(d,function(m,_){return X2(m,p[_],r)})}}),i.UTF8Encoding=!1,i}function X2(n,i,r){for(var s=0;s<n.length;s++)n[s]=s7(n[s],i[s],r)}function s7(n,i,r){for(var s=[],u=i[0],c=i[1],p=0;p<n.length;p+=2){var d=n.charCodeAt(p)-64,m=n.charCodeAt(p+1)-64;d=d>>1^-(d&1),m=m>>1^-(m&1),d+=u,m+=c,u=d,c=m,s.push([d/r,m/r])}return s}function q2(n,i){return n=J1t(n),Tt(jt(n.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var s=r.properties,u=r.geometry,c=[];switch(u.type){case"Polygon":var p=u.coordinates;c.push(new a7(p[0],p.slice(1)));break;case"MultiPolygon":j(u.coordinates,function(m){m[0]&&c.push(new a7(m[0],m.slice(1)))});break;case"LineString":c.push(new n7([u.coordinates]));break;case"MultiLineString":c.push(new n7(u.coordinates))}var d=new o7(s[i||"name"],c,s.cp);return d.properties=s,d})}var Q1t=Object.freeze({__proto__:null,linearMap:ur,round:Kr,asc:On,getPrecision:ps,getPrecisionSafe:f1,getPixelPrecision:AE,getPercentWithPrecision:Myt,MAX_SAFE_INTEGER:CE,remRadian:DE,isRadianAroundZero:Qv,parseDate:kn,quantity:d4,quantityExponent:jy,nice:ME,quantile:c1,reformIntervals:LE,isNumeric:h1,numericToNumber:Ks}),twt=Object.freeze({__proto__:null,parse:kn,format:y0}),ewt=Object.freeze({__proto__:null,extendShape:V6,extendPath:B6,makePath:p0,makeImage:dP,mergePath:zn,resizePath:gP,createIcon:vd,updateProps:ir,initProps:Vr,getTransform:yf,clipPointsByRect:mP,clipRectByRect:G6,registerShape:po,getShapeClass:N1,Group:Te,Image:Ni,Text:er,Circle:rl,Ellipse:l0,Sector:ga,Ring:ld,Polygon:ma,Polyline:ya,Rect:tr,Line:Ti,BezierCurve:ud,Arc:c0,IncrementalDisplayable:k6,CompoundPath:I1,LinearGradient:fd,RadialGradient:hP,BoundingRect:Ve}),rwt=Object.freeze({__proto__:null,addCommas:EP,toCamelCase:PP,normalizeCssArray:Ah,encodeHTML:ta,formatTpl:kP,getTooltipMarker:pY,formatTime:ext,capitalFirst:rxt,truncateText:s0t,getTextRect:Q_t}),iwt=Object.freeze({__proto__:null,map:Tt,each:j,indexOf:At,inherits:Zt,reduce:lr,filter:jt,bind:Mt,curry:ee,isArray:wt,isString:kt,isObject:re,isFunction:Gt,extend:st,defaults:dt,clone:lt,merge:pt}),U0=rr();function l7(n,i){var r=Tt(i,function(s){return n.scale.parse(s)});return n.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function awt(n){var i=n.getLabelModel().get("customValues");if(i){var r=Nd(n),s=n.scale.getExtent(),u=l7(n,i),c=jt(u,function(p){return p>=s[0]&&p<=s[1]});return{labels:Tt(c,function(p){var d={value:p};return{formattedLabel:r(d),rawLabel:n.scale.getLabel(d),tickValue:p}})}}return n.type==="category"?owt(n):lwt(n)}function nwt(n,i){var r=n.getTickModel().get("customValues");if(r){var s=n.scale.getExtent(),u=l7(n,r);return{ticks:jt(u,function(c){return c>=s[0]&&c<=s[1]})}}return n.type==="category"?swt(n,i):{ticks:Tt(n.scale.getTicks(),function(c){return c.value})}}function owt(n){var i=n.getLabelModel(),r=u7(n,i);return!i.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function u7(n,i){var r=f7(n,"labels"),s=Y2(i),u=c7(r,s);if(u)return u;var c,p;return Gt(s)?c=v7(n,s):(p=s==="auto"?uwt(n):s,c=p7(n,p)),h7(r,s,{labels:c,labelCategoryInterval:p})}function swt(n,i){var r=f7(n,"ticks"),s=Y2(i),u=c7(r,s);if(u)return u;var c,p;if((!i.get("show")||n.scale.isBlank())&&(c=[]),Gt(s))c=v7(n,s,!0);else if(s==="auto"){var d=u7(n,n.getLabelModel());p=d.labelCategoryInterval,c=Tt(d.labels,function(m){return m.tickValue})}else p=s,c=p7(n,p,!0);return h7(r,s,{ticks:c,tickCategoryInterval:p})}function lwt(n){var i=n.scale.getTicks(),r=Nd(n);return{labels:Tt(i,function(s,u){return{level:s.level,formattedLabel:r(s,u),rawLabel:n.scale.getLabel(s),tickValue:s.value}})}}function f7(n,i){return U0(n)[i]||(U0(n)[i]=[])}function c7(n,i){for(var r=0;r<n.length;r++)if(n[r].key===i)return n[r].value}function h7(n,i,r){return n.push({key:i,value:r}),r}function uwt(n){var i=U0(n).autoInterval;return i??(U0(n).autoInterval=n.calculateCategoryInterval())}function fwt(n){var i=cwt(n),r=Nd(n),s=(i.axisRotate-i.labelRotate)/180*Math.PI,u=n.scale,c=u.getExtent(),p=u.count();if(c[1]-c[0]<1)return 0;var d=1;p>40&&(d=Math.max(1,Math.floor(p/40)));for(var m=c[0],_=n.dataToCoord(m+1)-n.dataToCoord(m),S=Math.abs(_*Math.cos(s)),w=Math.abs(_*Math.sin(s)),A=0,D=0;m<=c[1];m+=d){var L=0,E=0,R=qy(r({value:m}),i.font,"center","top");L=R.width*1.3,E=R.height*1.3,A=Math.max(A,L,7),D=Math.max(D,E,7)}var k=A/S,z=D/w;isNaN(k)&&(k=1/0),isNaN(z)&&(z=1/0);var B=Math.max(0,Math.floor(Math.min(k,z))),G=U0(n.model),W=n.getExtent(),Y=G.lastAutoInterval,q=G.lastTickCount;return Y!=null&&q!=null&&Math.abs(Y-B)<=1&&Math.abs(q-p)<=1&&Y>B&&G.axisExtent0===W[0]&&G.axisExtent1===W[1]?B=Y:(G.lastTickCount=p,G.lastAutoInterval=B,G.axisExtent0=W[0],G.axisExtent1=W[1]),B}function cwt(n){var i=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}}function p7(n,i,r){var s=Nd(n),u=n.scale,c=u.getExtent(),p=n.getLabelModel(),d=[],m=Math.max((i||0)+1,1),_=c[0],S=u.count();_!==0&&m>1&&S/m>2&&(_=Math.round(Math.ceil(_/m)*m));var w=t7(n),A=p.get("showMinLabel")||w,D=p.get("showMaxLabel")||w;A&&_!==c[0]&&E(c[0]);for(var L=_;L<=c[1];L+=m)E(L);D&&L-m!==c[1]&&E(c[1]);function E(R){var k={value:R};d.push(r?R:{formattedLabel:s(k),rawLabel:u.getLabel(k),tickValue:R})}return d}function v7(n,i,r){var s=n.scale,u=Nd(n),c=[];return j(s.getTicks(),function(p){var d=s.getLabel(p),m=p.value;i(p.value,d)&&c.push(r?m:{formattedLabel:u(p),rawLabel:d,tickValue:m})}),c}var d7=[0,1],So=function(){function n(i,r,s){this.onBand=!1,this.inverse=!1,this.dim=i,this.scale=r,this._extent=s||[0,0]}return n.prototype.contain=function(i){var r=this._extent,s=Math.min(r[0],r[1]),u=Math.max(r[0],r[1]);return i>=s&&i<=u},n.prototype.containData=function(i){return this.scale.contain(i)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(i){return AE(i||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(i,r){var s=this._extent;s[0]=i,s[1]=r},n.prototype.dataToCoord=function(i,r){var s=this._extent,u=this.scale;return i=u.normalize(i),this.onBand&&u.type==="ordinal"&&(s=s.slice(),g7(s,u.count())),ur(i,d7,s,r)},n.prototype.coordToData=function(i,r){var s=this._extent,u=this.scale;this.onBand&&u.type==="ordinal"&&(s=s.slice(),g7(s,u.count()));var c=ur(i,s,d7,r);return this.scale.scale(c)},n.prototype.pointToData=function(i,r){},n.prototype.getTicksCoords=function(i){i=i||{};var r=i.tickModel||this.getTickModel(),s=nwt(this,r),u=s.ticks,c=Tt(u,function(d){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(d):d),tickValue:d}},this),p=r.get("alignWithLabel");return hwt(this,c,p,i.clamp),c},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var i=this.model.getModel("minorTick"),r=i.get("splitNumber");r>0&&r<100||(r=5);var s=this.scale.getMinorTicks(r),u=Tt(s,function(c){return Tt(c,function(p){return{coord:this.dataToCoord(p),tickValue:p}},this)},this);return u},n.prototype.getViewLabels=function(){return awt(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var i=this._extent,r=this.scale.getExtent(),s=r[1]-r[0]+(this.onBand?1:0);s===0&&(s=1);var u=Math.abs(i[1]-i[0]);return Math.abs(u)/s},n.prototype.calculateCategoryInterval=function(){return fwt(this)},n}();function g7(n,i){var r=n[1]-n[0],s=i,u=r/s/2;n[0]+=u,n[1]-=u}function hwt(n,i,r,s){var u=i.length;if(!n.onBand||r||!u)return;var c=n.getExtent(),p,d;if(u===1)i[0].coord=c[0],p=i[1]={coord:c[1],tickValue:i[0].tickValue};else{var m=i[u-1].tickValue-i[0].tickValue,_=(i[u-1].coord-i[0].coord)/m;j(i,function(D){D.coord-=_/2});var S=n.scale.getExtent();d=1+S[1]-i[u-1].tickValue,p={coord:i[u-1].coord+_*d,tickValue:S[1]+1},i.push(p)}var w=c[0]>c[1];A(i[0].coord,c[0])&&(s?i[0].coord=c[0]:i.shift()),s&&A(c[0],i[0].coord)&&i.unshift({coord:c[0]}),A(c[1],p.coord)&&(s?p.coord=c[1]:i.pop()),s&&A(p.coord,c[1])&&i.push({coord:c[1]});function A(D,L){return D=Kr(D),L=Kr(L),w?D>L:D<L}}function pwt(n){var i=We.extend(n);return We.registerClass(i),i}function vwt(n){var i=Pr.extend(n);return Pr.registerClass(i),i}function dwt(n){var i=Sr.extend(n);return Sr.registerClass(i),i}function gwt(n){var i=vr.extend(n);return vr.registerClass(i),i}var G0=Math.PI*2,Uh=el.CMD,mwt=["top","right","bottom","left"];function ywt(n,i,r,s,u){var c=r.width,p=r.height;switch(n){case"top":s.set(r.x+c/2,r.y-i),u.set(0,-1);break;case"bottom":s.set(r.x+c/2,r.y+p+i),u.set(0,1);break;case"left":s.set(r.x-i,r.y+p/2),u.set(-1,0);break;case"right":s.set(r.x+c+i,r.y+p/2),u.set(1,0);break}}function _wt(n,i,r,s,u,c,p,d,m){p-=n,d-=i;var _=Math.sqrt(p*p+d*d);p/=_,d/=_;var S=p*r+n,w=d*r+i;if(Math.abs(s-u)%G0<1e-4)return m[0]=S,m[1]=w,_-r;if(c){var A=s;s=Nn(u),u=Nn(A)}else s=Nn(s),u=Nn(u);s>u&&(u+=G0);var D=Math.atan2(d,p);if(D<0&&(D+=G0),D>=s&&D<=u||D+G0>=s&&D+G0<=u)return m[0]=S,m[1]=w,_-r;var L=r*Math.cos(s)+n,E=r*Math.sin(s)+i,R=r*Math.cos(u)+n,k=r*Math.sin(u)+i,z=(L-p)*(L-p)+(E-d)*(E-d),B=(R-p)*(R-p)+(k-d)*(k-d);return z<B?(m[0]=L,m[1]=E,Math.sqrt(z)):(m[0]=R,m[1]=k,Math.sqrt(B))}function Ow(n,i,r,s,u,c,p,d){var m=u-n,_=c-i,S=r-n,w=s-i,A=Math.sqrt(S*S+w*w);S/=A,w/=A;var D=m*S+_*w,L=D/A;d&&(L=Math.min(Math.max(L,0),1)),L*=A;var E=p[0]=n+L*S,R=p[1]=i+L*w;return Math.sqrt((E-u)*(E-u)+(R-c)*(R-c))}function m7(n,i,r,s,u,c,p){r<0&&(n=n+r,r=-r),s<0&&(i=i+s,s=-s);var d=n+r,m=i+s,_=p[0]=Math.min(Math.max(u,n),d),S=p[1]=Math.min(Math.max(c,i),m);return Math.sqrt((_-u)*(_-u)+(S-c)*(S-c))}var xs=[];function xwt(n,i,r){var s=m7(i.x,i.y,i.width,i.height,n.x,n.y,xs);return r.set(xs[0],xs[1]),s}function Swt(n,i,r){for(var s=0,u=0,c=0,p=0,d,m,_=1/0,S=i.data,w=n.x,A=n.y,D=0;D<S.length;){var L=S[D++];D===1&&(s=S[D],u=S[D+1],c=s,p=u);var E=_;switch(L){case Uh.M:c=S[D++],p=S[D++],s=c,u=p;break;case Uh.L:E=Ow(s,u,S[D],S[D+1],w,A,xs,!0),s=S[D++],u=S[D++];break;case Uh.C:E=OW(s,u,S[D++],S[D++],S[D++],S[D++],S[D],S[D+1],w,A,xs),s=S[D++],u=S[D++];break;case Uh.Q:E=NW(s,u,S[D++],S[D++],S[D],S[D+1],w,A,xs),s=S[D++],u=S[D++];break;case Uh.A:var R=S[D++],k=S[D++],z=S[D++],B=S[D++],G=S[D++],W=S[D++];D+=1;var Y=!!(1-S[D++]);d=Math.cos(G)*z+R,m=Math.sin(G)*B+k,D<=1&&(c=d,p=m);var q=(w-R)*B/z+R;E=_wt(R,k,B,G,G+W,Y,q,A,xs),s=Math.cos(G+W)*z+R,u=Math.sin(G+W)*B+k;break;case Uh.R:c=s=S[D++],p=u=S[D++];var J=S[D++],tt=S[D++];E=m7(c,p,J,tt,w,A,xs);break;case Uh.Z:E=Ow(s,u,c,p,w,A,xs,!0),s=c,u=p;break}E<_&&(_=E,r.set(xs[0],xs[1]))}return _}var Ss=new ze,Rr=new ze,ui=new ze,ul=new ze,fl=new ze;function y7(n,i){if(n){var r=n.getTextGuideLine(),s=n.getTextContent();if(s&&r){var u=n.textGuideLineConfig||{},c=[[0,0],[0,0],[0,0]],p=u.candidates||mwt,d=s.getBoundingRect().clone();d.applyTransform(s.getComputedTransform());var m=1/0,_=u.anchor,S=n.getComputedTransform(),w=S&&Kc([],S),A=i.get("length2")||0;_&&ui.copy(_);for(var D=0;D<p.length;D++){var L=p[D];ywt(L,0,d,Ss,ul),ze.scaleAndAdd(Rr,Ss,ul,A),Rr.transform(w);var E=n.getBoundingRect(),R=_?_.distance(Rr):n instanceof Xe?Swt(Rr,n.path,ui):xwt(Rr,E,ui);R<m&&(m=R,Rr.transform(S),ui.transform(S),ui.toArray(c[0]),Rr.toArray(c[1]),Ss.toArray(c[2]))}_7(c,i.get("minTurnAngle")),r.setShape({points:c})}}}var kw=[],Ba=new ze;function _7(n,i){if(i<=180&&i>0){i=i/180*Math.PI,Ss.fromArray(n[0]),Rr.fromArray(n[1]),ui.fromArray(n[2]),ze.sub(ul,Ss,Rr),ze.sub(fl,ui,Rr);var r=ul.len(),s=fl.len();if(!(r<.001||s<.001)){ul.scale(1/r),fl.scale(1/s);var u=ul.dot(fl),c=Math.cos(i);if(c<u){var p=Ow(Rr.x,Rr.y,ui.x,ui.y,Ss.x,Ss.y,kw,!1);Ba.fromArray(kw),Ba.scaleAndAdd(fl,p/Math.tan(Math.PI-i));var d=ui.x!==Rr.x?(Ba.x-Rr.x)/(ui.x-Rr.x):(Ba.y-Rr.y)/(ui.y-Rr.y);if(isNaN(d))return;d<0?ze.copy(Ba,Rr):d>1&&ze.copy(Ba,ui),Ba.toArray(n[1])}}}}function bwt(n,i,r){if(r<=180&&r>0){r=r/180*Math.PI,Ss.fromArray(n[0]),Rr.fromArray(n[1]),ui.fromArray(n[2]),ze.sub(ul,Rr,Ss),ze.sub(fl,ui,Rr);var s=ul.len(),u=fl.len();if(!(s<.001||u<.001)){ul.scale(1/s),fl.scale(1/u);var c=ul.dot(i),p=Math.cos(r);if(c<p){var d=Ow(Rr.x,Rr.y,ui.x,ui.y,Ss.x,Ss.y,kw,!1);Ba.fromArray(kw);var m=Math.PI/2,_=Math.acos(fl.dot(i)),S=m+_-r;if(S>=m)ze.copy(Ba,ui);else{Ba.scaleAndAdd(fl,d/Math.tan(Math.PI/2-S));var w=ui.x!==Rr.x?(Ba.x-Rr.x)/(ui.x-Rr.x):(Ba.y-Rr.y)/(ui.y-Rr.y);if(isNaN(w))return;w<0?ze.copy(Ba,Rr):w>1&&ze.copy(Ba,ui)}Ba.toArray(n[1])}}}}function $2(n,i,r,s){var u=r==="normal",c=u?n:n.ensureState(r);c.ignore=i;var p=s.get("smooth");p&&p===!0&&(p=.3),c.shape=c.shape||{},p>0&&(c.shape.smooth=p);var d=s.getModel("lineStyle").getLineStyle();u?n.useStyle(d):c.style=d}function wwt(n,i){var r=i.smooth,s=i.points;if(s)if(n.moveTo(s[0][0],s[0][1]),r>0&&s.length>=3){var u=Wl(s[0],s[1]),c=Wl(s[1],s[2]);if(!u||!c){n.lineTo(s[1][0],s[1][1]),n.lineTo(s[2][0],s[2][1]);return}var p=Math.min(u,c)*r,d=Iy([],s[1],s[0],p/u),m=Iy([],s[1],s[2],p/c),_=Iy([],d,m,.5);n.bezierCurveTo(d[0],d[1],d[0],d[1],_[0],_[1]),n.bezierCurveTo(m[0],m[1],m[0],m[1],s[2][0],s[2][1])}else for(var S=1;S<s.length;S++)n.lineTo(s[S][0],s[S][1])}function K2(n,i,r){var s=n.getTextGuideLine(),u=n.getTextContent();if(!u){s&&n.removeTextGuideLine();return}for(var c=i.normal,p=c.get("show"),d=u.ignore,m=0;m<a0.length;m++){var _=a0[m],S=i[_],w=_==="normal";if(S){var A=S.get("show"),D=w?d:De(u.states[_]&&u.states[_].ignore,d);if(D||!De(A,p)){var L=w?s:s&&s.states[_];L&&(L.ignore=!0),s&&$2(s,!0,_,S);continue}s||(s=new ya,n.setTextGuideLine(s),!w&&(d||!p)&&$2(s,!0,"normal",i.normal),n.stateProxy&&(s.stateProxy=n.stateProxy)),$2(s,!1,_,S)}}if(s){dt(s.style,r),s.style.fill=null;var E=c.get("showAbove"),R=n.textGuideLineConfig=n.textGuideLineConfig||{};R.showAbove=E||!1,s.buildPath=wwt}}function j2(n,i){i=i||"labelLine";for(var r={normal:n.getModel(i)},s=0;s<za.length;s++){var u=za[s];r[u]=n.getModel([u,i])}return r}function x7(n){for(var i=[],r=0;r<n.length;r++){var s=n[r];if(!s.defaultAttr.ignore){var u=s.label,c=u.getComputedTransform(),p=u.getBoundingRect(),d=!c||c[1]<1e-5&&c[2]<1e-5,m=u.style.margin||0,_=p.clone();_.applyTransform(c),_.x-=m/2,_.y-=m/2,_.width+=m,_.height+=m;var S=d?new R1(p,c):null;i.push({label:u,labelLine:s.labelLine,rect:_,localRect:p,obb:S,priority:s.priority,defaultAttr:s.defaultAttr,layoutOption:s.computedLayoutOption,axisAligned:d,transform:c})}}return i}function S7(n,i,r,s,u,c){var p=n.length;if(p<2)return;n.sort(function(J,tt){return J.rect[i]-tt.rect[i]});for(var d=0,m,_=!1,S=0,w=0;w<p;w++){var A=n[w],D=A.rect;m=D[i]-d,m<0&&(D[i]-=m,A.label[i]-=m,_=!0);var L=Math.max(-m,0);S+=L,d=D[i]+D[r]}S>0&&c&&W(-S/p,0,p);var E=n[0],R=n[p-1],k,z;B(),k<0&&Y(-k,.8),z<0&&Y(z,.8),B(),G(k,z,1),G(z,k,-1),B(),k<0&&q(-k),z<0&&q(z);function B(){k=E.rect[i]-s,z=u-R.rect[i]-R.rect[r]}function G(J,tt,et){if(J<0){var it=Math.min(tt,-J);if(it>0){W(it*et,0,p);var ut=it+J;ut<0&&Y(-ut*et,1)}else Y(-J*et,1)}}function W(J,tt,et){J!==0&&(_=!0);for(var it=tt;it<et;it++){var ut=n[it],ct=ut.rect;ct[i]+=J,ut.label[i]+=J}}function Y(J,tt){for(var et=[],it=0,ut=1;ut<p;ut++){var ct=n[ut-1].rect,ht=Math.max(n[ut].rect[i]-ct[i]-ct[r],0);et.push(ht),it+=ht}if(it){var vt=Math.min(Math.abs(J)/it,tt);if(J>0)for(var ut=0;ut<p-1;ut++){var gt=et[ut]*vt;W(gt,0,ut+1)}else for(var ut=p-1;ut>0;ut--){var gt=et[ut-1]*vt;W(-gt,ut,p)}}}function q(J){var tt=J<0?-1:1;J=Math.abs(J);for(var et=Math.ceil(J/(p-1)),it=0;it<p-1;it++)if(tt>0?W(et,0,it+1):W(-et,p-it-1,p),J-=et,J<=0)return}return _}function Twt(n,i,r,s){return S7(n,"x","width",i,r,s)}function b7(n,i,r,s){return S7(n,"y","height",i,r,s)}function w7(n){var i=[];n.sort(function(E,R){return R.priority-E.priority});var r=new Ve(0,0,0,0);function s(E){if(!E.ignore){var R=E.ensureState("emphasis");R.ignore==null&&(R.ignore=!1)}E.ignore=!0}for(var u=0;u<n.length;u++){var c=n[u],p=c.axisAligned,d=c.localRect,m=c.transform,_=c.label,S=c.labelLine;r.copy(c.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var w=c.obb,A=!1,D=0;D<i.length;D++){var L=i[D];if(r.intersect(L.rect)){if(p&&L.axisAligned){A=!0;break}if(L.obb||(L.obb=new R1(L.localRect,L.transform)),w||(w=new R1(d,m)),w.intersect(L.obb)){A=!0;break}}}A?(s(_),S&&s(S)):(_.attr("ignore",c.defaultAttr.ignore),S&&S.attr("ignore",c.defaultAttr.labelGuideIgnore),i.push(c))}}function Awt(n){if(n){for(var i=[],r=0;r<n.length;r++)i.push(n[r].slice());return i}}function Cwt(n,i){var r=n.label,s=i&&i.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:Awt(s&&s.shape.points)}}var T7=["align","verticalAlign","width","height","fontSize"],Fa=new $l,J2=rr(),Dwt=rr();function Nw(n,i,r){for(var s=0;s<r.length;s++){var u=r[s];i[u]!=null&&(n[u]=i[u])}}var zw=["x","y","rotation"],Mwt=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(i,r,s,u,c){var p=u.style,d=u.__hostTarget,m=d.textConfig||{},_=u.getComputedTransform(),S=u.getBoundingRect().plain();Ve.applyTransform(S,S,_),_?Fa.setLocalTransform(_):(Fa.x=Fa.y=Fa.rotation=Fa.originX=Fa.originY=0,Fa.scaleX=Fa.scaleY=1),Fa.rotation=Nn(Fa.rotation);var w=u.__hostTarget,A;if(w){A=w.getBoundingRect().plain();var D=w.getComputedTransform();Ve.applyTransform(A,A,D)}var L=A&&w.getTextGuideLine();this._labelList.push({label:u,labelLine:L,seriesModel:s,dataIndex:i,dataType:r,layoutOption:c,computedLayoutOption:null,rect:S,hostRect:A,priority:A?A.width*A.height:0,defaultAttr:{ignore:u.ignore,labelGuideIgnore:L&&L.ignore,x:Fa.x,y:Fa.y,scaleX:Fa.scaleX,scaleY:Fa.scaleY,rotation:Fa.rotation,style:{x:p.x,y:p.y,align:p.align,verticalAlign:p.verticalAlign,width:p.width,height:p.height,fontSize:p.fontSize},cursor:u.cursor,attachedPos:m.position,attachedRot:m.rotation}})},n.prototype.addLabelsOfSeries=function(i){var r=this;this._chartViewList.push(i);var s=i.__model,u=s.get("labelLayout");(Gt(u)||Xt(u).length)&&i.group.traverse(function(c){if(c.ignore)return!0;var p=c.getTextContent(),d=Me(c);p&&!p.disableLabelLayout&&r._addLabel(d.dataIndex,d.dataType,s,p,u)})},n.prototype.updateLayoutConfig=function(i){var r=i.getWidth(),s=i.getHeight();function u(B,G){return function(){y7(B,G)}}for(var c=0;c<this._labelList.length;c++){var p=this._labelList[c],d=p.label,m=d.__hostTarget,_=p.defaultAttr,S=void 0;Gt(p.layoutOption)?S=p.layoutOption(Cwt(p,m)):S=p.layoutOption,S=S||{},p.computedLayoutOption=S;var w=Math.PI/180;m&&m.setTextConfig({local:!1,position:S.x!=null||S.y!=null?null:_.attachedPos,rotation:S.rotate!=null?S.rotate*w:_.attachedRot,offset:[S.dx||0,S.dy||0]});var A=!1;if(S.x!=null?(d.x=Wt(S.x,r),d.setStyle("x",0),A=!0):(d.x=_.x,d.setStyle("x",_.style.x)),S.y!=null?(d.y=Wt(S.y,s),d.setStyle("y",0),A=!0):(d.y=_.y,d.setStyle("y",_.style.y)),S.labelLinePoints){var D=m.getTextGuideLine();D&&(D.setShape({points:S.labelLinePoints}),A=!1)}var L=J2(d);L.needsUpdateLabelLine=A,d.rotation=S.rotate!=null?S.rotate*w:_.rotation,d.scaleX=_.scaleX,d.scaleY=_.scaleY;for(var E=0;E<T7.length;E++){var R=T7[E];d.setStyle(R,S[R]!=null?S[R]:_.style[R])}if(S.draggable){if(d.draggable=!0,d.cursor="move",m){var k=p.seriesModel;if(p.dataIndex!=null){var z=p.seriesModel.getData(p.dataType);k=z.getItemModel(p.dataIndex)}d.on("drag",u(m,k.getModel("labelLine")))}}else d.off("drag"),d.cursor=_.cursor}},n.prototype.layout=function(i){var r=i.getWidth(),s=i.getHeight(),u=x7(this._labelList),c=jt(u,function(m){return m.layoutOption.moveOverlap==="shiftX"}),p=jt(u,function(m){return m.layoutOption.moveOverlap==="shiftY"});Twt(c,0,r),b7(p,0,s);var d=jt(u,function(m){return m.layoutOption.hideOverlap});w7(d)},n.prototype.processLabelsOverall=function(){var i=this;j(this._chartViewList,function(r){var s=r.__model,u=r.ignoreLabelLineUpdate,c=s.isAnimationEnabled();r.group.traverse(function(p){if(p.ignore&&!p.forceLabelAnimation)return!0;var d=!u,m=p.getTextContent();!d&&m&&(d=J2(m).needsUpdateLabelLine),d&&i._updateLabelLine(p,s),c&&i._animateLabels(p,s)})})},n.prototype._updateLabelLine=function(i,r){var s=i.getTextContent(),u=Me(i),c=u.dataIndex;if(s&&c!=null){var p=r.getData(u.dataType),d=p.getItemModel(c),m={},_=p.getItemVisual(c,"style");if(_){var S=p.getVisual("drawType");m.stroke=_[S]}var w=d.getModel("labelLine");K2(i,j2(d),m),y7(i,w)}},n.prototype._animateLabels=function(i,r){var s=i.getTextContent(),u=i.getTextGuideLine();if(s&&(i.forceLabelAnimation||!s.ignore&&!s.invisible&&!i.disableLabelAnimation&&!hd(i))){var c=J2(s),p=c.oldLayout,d=Me(i),m=d.dataIndex,_={x:s.x,y:s.y,rotation:s.rotation},S=r.getData(d.dataType);if(p){s.attr(p);var A=i.prevStates;A&&(At(A,"select")>=0&&s.attr(c.oldLayoutSelect),At(A,"emphasis")>=0&&s.attr(c.oldLayoutEmphasis)),ir(s,_,r,m)}else if(s.attr(_),!dd(s).valueAnimation){var w=De(s.style.opacity,1);s.style.opacity=0,Vr(s,{style:{opacity:w}},r,m)}if(c.oldLayout=_,s.states.select){var D=c.oldLayoutSelect={};Nw(D,_,zw),Nw(D,s.states.select,zw)}if(s.states.emphasis){var L=c.oldLayoutEmphasis={};Nw(L,_,zw),Nw(L,s.states.emphasis,zw)}j6(s,m,S,r,r)}if(u&&!u.ignore&&!u.invisible){var c=Dwt(u),p=c.oldLayout,E={points:u.shape.points};p?(u.attr({shape:p}),ir(u,{shape:E},r)):(u.setShape(E),u.style.strokePercent=0,Vr(u,{style:{strokePercent:1}},r)),c.oldLayout=E}},n}(),Q2=rr();function Lwt(n){n.registerUpdateLifecycle("series:beforeupdate",function(i,r,s){var u=Q2(r).labelManager;u||(u=Q2(r).labelManager=new Mwt),u.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(i,r,s){var u=Q2(r).labelManager;s.updatedSeries.forEach(function(c){u.addLabelsOfSeries(r.getViewOfSeriesModel(c))}),u.updateLayoutConfig(r),u.layout(r),u.processLabelsOverall()})}var tR=Math.sin,eR=Math.cos,A7=Math.PI,Gh=Math.PI*2,Iwt=180/A7,C7=function(){function n(){}return n.prototype.reset=function(i){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,i||4)},n.prototype.moveTo=function(i,r){this._add("M",i,r)},n.prototype.lineTo=function(i,r){this._add("L",i,r)},n.prototype.bezierCurveTo=function(i,r,s,u,c,p){this._add("C",i,r,s,u,c,p)},n.prototype.quadraticCurveTo=function(i,r,s,u){this._add("Q",i,r,s,u)},n.prototype.arc=function(i,r,s,u,c,p){this.ellipse(i,r,s,s,0,u,c,p)},n.prototype.ellipse=function(i,r,s,u,c,p,d,m){var _=d-p,S=!m,w=Math.abs(_),A=ff(w-Gh)||(S?_>=Gh:-_>=Gh),D=_>0?_%Gh:_%Gh+Gh,L=!1;A?L=!0:ff(w)?L=!1:L=D>=A7==!!S;var E=i+s*eR(p),R=r+u*tR(p);this._start&&this._add("M",E,R);var k=Math.round(c*Iwt);if(A){var z=1/this._p,B=(S?1:-1)*(Gh-z);this._add("A",s,u,k,1,+S,i+s*eR(p+B),r+u*tR(p+B)),z>.01&&this._add("A",s,u,k,0,+S,E,R)}else{var G=i+s*eR(d),W=r+u*tR(d);this._add("A",s,u,k,+L,+S,G,W)}},n.prototype.rect=function(i,r,s,u){this._add("M",i,r),this._add("l",s,0),this._add("l",0,u),this._add("l",-s,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(i,r,s,u,c,p,d,m,_){for(var S=[],w=this._p,A=1;A<arguments.length;A++){var D=arguments[A];if(isNaN(D)){this._invalid=!0;return}S.push(Math.round(D*w)/w)}this._d.push(i+S.join(" ")),this._start=i==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),H0="none",Ewt=Math.round;function Pwt(n){var i=n.fill;return i!=null&&i!==H0}function Rwt(n){var i=n.stroke;return i!=null&&i!==H0}var rR=["lineCap","miterLimit","lineJoin"],Owt=Tt(rR,function(n){return"stroke-"+n.toLowerCase()});function kwt(n,i,r,s){var u=i.opacity==null?1:i.opacity;if(r instanceof Ni){n("opacity",u);return}if(Pwt(i)){var c=Wy(i.fill);n("fill",c.color);var p=i.fillOpacity!=null?i.fillOpacity*c.opacity*u:c.opacity*u;(s||p<1)&&n("fill-opacity",p)}else n("fill",H0);if(Rwt(i)){var d=Wy(i.stroke);n("stroke",d.color);var m=i.strokeNoScale?r.getLineScale():1,_=m?(i.lineWidth||0)/m:0,S=i.strokeOpacity!=null?i.strokeOpacity*d.opacity*u:d.opacity*u,w=i.strokeFirst;if((s||_!==1)&&n("stroke-width",_),(s||w)&&n("paint-order",w?"stroke":"fill"),(s||S<1)&&n("stroke-opacity",S),i.lineDash){var A=u2(r),D=A[0],L=A[1];D&&(L=Ewt(L||0),n("stroke-dasharray",D.join(",")),(L||s)&&n("stroke-dashoffset",L))}else s&&n("stroke-dasharray",H0);for(var E=0;E<rR.length;E++){var R=rR[E];if(s||i[R]!==S1[R]){var k=i[R]||S1[R];k&&n(Owt[E],k)}}}else s&&n("stroke",H0)}var D7="http://www.w3.org/2000/svg",M7="http://www.w3.org/1999/xlink",Nwt="http://www.w3.org/2000/xmlns/",zwt="http://www.w3.org/XML/1998/namespace",L7="ecmeta_";function I7(n){return document.createElementNS(D7,n)}function Bi(n,i,r,s,u){return{tag:n,attrs:r||{},children:s,text:u,key:i}}function Vwt(n,i){var r=[];if(i)for(var s in i){var u=i[s],c=s;u!==!1&&(u!==!0&&u!=null&&(c+='="'+u+'"'),r.push(c))}return"<"+n+" "+r.join(" ")+">"}function Bwt(n){return"</"+n+">"}function iR(n,i){i=i||{};var r=i.newline?`
`:"";function s(u){var c=u.children,p=u.tag,d=u.attrs,m=u.text;return Vwt(p,d)+(p!=="style"?ta(m):m||"")+(c?""+r+Tt(c,function(_){return s(_)}).join(r)+r:"")+Bwt(p)}return s(n)}function Fwt(n,i,r){r=r||{};var s=r.newline?`
`:"",u=" {"+s,c=s+"}",p=Tt(Xt(n),function(m){return m+u+Tt(Xt(n[m]),function(_){return _+":"+n[m][_]+";"}).join(s)+c}).join(s),d=Tt(Xt(i),function(m){return"@keyframes "+m+u+Tt(Xt(i[m]),function(_){return _+u+Tt(Xt(i[m][_]),function(S){var w=i[m][_][S];return S==="d"&&(w='path("'+w+'")'),S+":"+w+";"}).join(s)+c}).join(s)+c}).join(s);return!p&&!d?"":["<![CDATA[",p,d,"]]>"].join(s)}function aR(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function E7(n,i,r,s){return Bi("svg","root",{width:n,height:i,xmlns:D7,"xmlns:xlink":M7,version:"1.1",baseProfile:"full",viewBox:s?"0 0 "+n+" "+i:!1},r)}var Uwt=0;function P7(){return Uwt++}var R7={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Hh="transform-origin";function Gwt(n,i,r){var s=st({},n.shape);st(s,i),n.buildPath(r,s);var u=new C7;return u.reset(ZW(n)),r.rebuildPath(u,1),u.generateStr(),u.getStr()}function Hwt(n,i){var r=i.originX,s=i.originY;(r||s)&&(n[Hh]=r+"px "+s+"px")}var Wwt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function O7(n,i){var r=i.zrId+"-ani-"+i.cssAnimIdx++;return i.cssAnims[r]=n,r}function Ywt(n,i,r){var s=n.shape.paths,u={},c,p;if(j(s,function(m){var _=aR(r.zrId);_.animation=!0,Vw(m,{},_,!0);var S=_.cssAnims,w=_.cssNodes,A=Xt(S),D=A.length;if(D){p=A[D-1];var L=S[p];for(var E in L){var R=L[E];u[E]=u[E]||{d:""},u[E].d+=R.d||""}for(var k in w){var z=w[k].animation;z.indexOf(p)>=0&&(c=z)}}}),!!c){i.d=!1;var d=O7(u,r);return c.replace(p,d)}}function k7(n){return kt(n)?R7[n]?"cubic-bezier("+R7[n]+")":$I(n)?n:"":""}function Vw(n,i,r,s){var u=n.animators,c=u.length,p=[];if(n instanceof I1){var d=Ywt(n,i,r);if(d)p.push(d);else if(!c)return}else if(!c)return;for(var m={},_=0;_<c;_++){var S=u[_],w=[S.getMaxTime()/1e3+"s"],A=k7(S.getClip().easing),D=S.getDelay();A?w.push(A):w.push("linear"),D&&w.push(D/1e3+"s"),S.getLoop()&&w.push("infinite");var L=w.join(" ");m[L]=m[L]||[L,[]],m[L][1].push(S)}function E(z){var B=z[1],G=B.length,W={},Y={},q={},J="animation-timing-function";function tt(Ge,Se,Ze){for(var ce=Ge.getTracks(),Re=Ge.getMaxTime(),Or=0;Or<ce.length;Or++){var dr=ce[Or];if(dr.needsAnimate()){var Mr=dr.keyframes,Ur=dr.propName;if(Ze&&(Ur=Ze(Ur)),Ur)for(var Ui=0;Ui<Mr.length;Ui++){var Fn=Mr[Ui],on=Math.round(Fn.time/Re*100)+"%",lp=k7(Fn.easing),Vf=Fn.rawValue;(kt(Vf)||Ne(Vf))&&(Se[on]=Se[on]||{},Se[on][Ur]=Fn.rawValue,lp&&(Se[on][J]=lp))}}}}for(var et=0;et<G;et++){var it=B[et],ut=it.targetName;ut?ut==="shape"&&tt(it,Y):!s&&tt(it,W)}for(var ct in W){var ht={};n4(ht,n),st(ht,W[ct]);var vt=XW(ht),gt=W[ct][J];q[ct]=vt?{transform:vt}:{},Hwt(q[ct],ht),gt&&(q[ct][J]=gt)}var bt,St=!0;for(var ct in Y){q[ct]=q[ct]||{};var Ct=!bt,gt=Y[ct][J];Ct&&(bt=new el);var Ot=bt.len();bt.reset(),q[ct].d=Gwt(n,Y[ct],bt);var Vt=bt.len();if(!Ct&&Ot!==Vt){St=!1;break}gt&&(q[ct][J]=gt)}if(!St)for(var ct in q)delete q[ct].d;if(!s)for(var et=0;et<G;et++){var it=B[et],ut=it.targetName;ut==="style"&&tt(it,q,function(ce){return Wwt[ce]})}for(var $t=Xt(q),pe=!0,me,et=1;et<$t.length;et++){var Pe=$t[et-1],br=$t[et];if(q[Pe][Hh]!==q[br][Hh]){pe=!1;break}me=q[Pe][Hh]}if(pe&&me){for(var ct in q)q[ct][Hh]&&delete q[ct][Hh];i[Hh]=me}if(jt($t,function(Ge){return Xt(q[Ge]).length>0}).length){var ti=O7(q,r);return ti+" "+z[0]+" both"}}for(var R in m){var d=E(m[R]);d&&p.push(d)}if(p.length){var k=r.zrId+"-cls-"+P7();r.cssNodes["."+k]={animation:p.join(",")},i.class=k}}function Zwt(n,i,r){if(!n.ignore)if(n.isSilent()){var s={"pointer-events":"none"};N7(s,i,r,!0)}else{var u=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},c=u.fill;if(!c){var p=n.style&&n.style.fill,d=n.states.select&&n.states.select.style&&n.states.select.style.fill,m=n.currentStates.indexOf("select")>=0&&d||p;m&&(c=Kb(m))}var _=u.lineWidth;if(_){var S=!u.strokeNoScale&&n.transform?n.transform[0]:1;_=_/S}var s={cursor:"pointer"};c&&(s.fill=c),u.stroke&&(s.stroke=u.stroke),_&&(s["stroke-width"]=_),N7(s,i,r,!0)}}function N7(n,i,r,s){var u=JSON.stringify(n),c=r.cssStyleCache[u];c||(c=r.zrId+"-cls-"+P7(),r.cssStyleCache[u]=c,r.cssNodes["."+c+(s?":hover":"")]=n),i.class=i.class?i.class+" "+c:c}var W0=Math.round;function z7(n){return n&&kt(n.src)}function V7(n){return n&&Gt(n.toDataURL)}function nR(n,i,r,s){kwt(function(u,c){var p=u==="fill"||u==="stroke";p&&YW(c)?W7(i,n,u,s):p&&rE(c)?Y7(r,n,u,s):n[u]=c,p&&s.ssr&&c==="none"&&(n["pointer-events"]="visible")},i,r,!1),Qwt(r,n,s)}function oR(n,i){var r=f4(i);r&&(r.each(function(s,u){s!=null&&(n[(L7+u).toLowerCase()]=s+"")}),i.isSilent()&&(n[L7+"silent"]="true"))}function B7(n){return ff(n[0]-1)&&ff(n[1])&&ff(n[2])&&ff(n[3]-1)}function Xwt(n){return ff(n[4])&&ff(n[5])}function sR(n,i,r){if(i&&!(Xwt(i)&&B7(i))){var s=r?10:1e4;n.transform=B7(i)?"translate("+W0(i[4]*s)/s+" "+W0(i[5]*s)/s+")":Zmt(i)}}function F7(n,i,r){for(var s=n.points,u=[],c=0;c<s.length;c++)u.push(W0(s[c][0]*r)/r),u.push(W0(s[c][1]*r)/r);i.points=u.join(" ")}function U7(n){return!n.smooth}function qwt(n){var i=Tt(n,function(r){return typeof r=="string"?[r,r]:r});return function(r,s,u){for(var c=0;c<i.length;c++){var p=i[c],d=r[p[0]];d!=null&&(s[p[1]]=W0(d*u)/u)}}}var $wt={circle:[qwt(["cx","cy","r"])],polyline:[F7,U7],polygon:[F7,U7]};function Kwt(n){for(var i=n.animators,r=0;r<i.length;r++)if(i[r].targetName==="shape")return!0;return!1}function G7(n,i){var r=n.style,s=n.shape,u=$wt[n.type],c={},p=i.animation,d="path",m=n.style.strokePercent,_=i.compress&&ZW(n)||4;if(u&&!i.willUpdate&&!(u[1]&&!u[1](s))&&!(p&&Kwt(n))&&!(m<1)){d=n.type;var S=Math.pow(10,_);u[0](s,c,S)}else{var w=!n.path||n.shapeChanged();n.path||n.createPathProxy();var A=n.path;w&&(A.beginPath(),n.buildPath(A,n.shape),n.pathUpdated());var D=A.getVersion(),L=n,E=L.__svgPathBuilder;(L.__svgPathVersion!==D||!E||m!==L.__svgPathStrokePercent)&&(E||(E=L.__svgPathBuilder=new C7),E.reset(_),A.rebuildPath(E,m),E.generateStr(),L.__svgPathVersion=D,L.__svgPathStrokePercent=m),c.d=E.getStr()}return sR(c,n.transform),nR(c,r,n,i),oR(c,n),i.animation&&Vw(n,c,i),i.emphasis&&Zwt(n,c,i),Bi(d,n.id+"",c)}function jwt(n,i){var r=n.style,s=r.image;if(s&&!kt(s)&&(z7(s)?s=s.src:V7(s)&&(s=s.toDataURL())),!!s){var u=r.x||0,c=r.y||0,p=r.width,d=r.height,m={href:s,width:p,height:d};return u&&(m.x=u),c&&(m.y=c),sR(m,n.transform),nR(m,r,n,i),oR(m,n),i.animation&&Vw(n,m,i),Bi("image",n.id+"",m)}}function Jwt(n,i){var r=n.style,s=r.text;if(s!=null&&(s+=""),!(!s||isNaN(r.x)||isNaN(r.y))){var u=r.font||y,c=r.x||0,p=qmt(r.y||0,s1(u),r.textBaseline),d=Xmt[r.textAlign]||r.textAlign,m={"dominant-baseline":"central","text-anchor":d};if(J4(r)){var _="",S=r.fontStyle,w=K4(r.fontSize);if(!parseFloat(w))return;var A=r.fontFamily||g,D=r.fontWeight;_+="font-size:"+w+";font-family:"+A+";",S&&S!=="normal"&&(_+="font-style:"+S+";"),D&&D!=="normal"&&(_+="font-weight:"+D+";"),m.style=_}else m.style="font: "+u;return s.match(/\s/)&&(m["xml:space"]="preserve"),c&&(m.x=c),p&&(m.y=p),sR(m,n.transform),nR(m,r,n,i),oR(m,n),i.animation&&Vw(n,m,i),Bi("text",n.id+"",m,void 0,s)}}function H7(n,i){if(n instanceof Xe)return G7(n,i);if(n instanceof Ni)return jwt(n,i);if(n instanceof rd)return Jwt(n,i)}function Qwt(n,i,r){var s=n.style;if($mt(s)){var u=Kmt(n),c=r.shadowCache,p=c[u];if(!p){var d=n.getGlobalScale(),m=d[0],_=d[1];if(!m||!_)return;var S=s.shadowOffsetX||0,w=s.shadowOffsetY||0,A=s.shadowBlur,D=Wy(s.shadowColor),L=D.opacity,E=D.color,R=A/2/m,k=A/2/_,z=R+" "+k;p=r.zrId+"-s"+r.shadowIdx++,r.defs[p]=Bi("filter",p,{id:p,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Bi("feDropShadow","",{dx:S/m,dy:w/_,stdDeviation:z,"flood-color":E,"flood-opacity":L})]),c[u]=p}i.filter=Qb(p)}}function W7(n,i,r,s){var u=n[r],c,p={gradientUnits:u.global?"userSpaceOnUse":"objectBoundingBox"};if(HW(u))c="linearGradient",p.x1=u.x,p.y1=u.y,p.x2=u.x2,p.y2=u.y2;else if(WW(u))c="radialGradient",p.cx=De(u.x,.5),p.cy=De(u.y,.5),p.r=De(u.r,.5);else{ft("Illegal gradient type.");return}for(var d=u.colorStops,m=[],_=0,S=d.length;_<S;++_){var w=eE(d[_].offset)*100+"%",A=d[_].color,D=Wy(A),L=D.color,E=D.opacity,R={offset:w};R["stop-color"]=L,E<1&&(R["stop-opacity"]=E),m.push(Bi("stop",_+"",R))}var k=Bi(c,"",p,m),z=iR(k),B=s.gradientCache,G=B[z];G||(G=s.zrId+"-g"+s.gradientIdx++,B[z]=G,p.id=G,s.defs[G]=Bi(c,G,p,m)),i[r]=Qb(G)}function Y7(n,i,r,s){var u=n.style[r],c=n.getBoundingRect(),p={},d=u.repeat,m=d==="no-repeat",_=d==="repeat-x",S=d==="repeat-y",w;if(GW(u)){var A=u.imageWidth,D=u.imageHeight,L=void 0,E=u.image;if(kt(E)?L=E:z7(E)?L=E.src:V7(E)&&(L=E.toDataURL()),typeof Image>"u"){var R="Image width/height must been given explictly in svg-ssr renderer.";de(A,R),de(D,R)}else if(A==null||D==null){var k=function(et,it){if(et){var ut=et.elm,ct=A||it.width,ht=D||it.height;et.tag==="pattern"&&(_?(ht=1,ct/=c.width):S&&(ct=1,ht/=c.height)),et.attrs.width=ct,et.attrs.height=ht,ut&&(ut.setAttribute("width",ct),ut.setAttribute("height",ht))}},z=kE(L,null,n,function(et){m||k(Y,et),k(w,et)});z&&z.width&&z.height&&(A=A||z.width,D=D||z.height)}w=Bi("image","img",{href:L,width:A,height:D}),p.width=A,p.height=D}else u.svgElement&&(w=lt(u.svgElement),p.width=u.svgWidth,p.height=u.svgHeight);if(w){var B,G;m?B=G=1:_?(G=1,B=p.width/c.width):S?(B=1,G=p.height/c.height):p.patternUnits="userSpaceOnUse",B!=null&&!isNaN(B)&&(p.width=B),G!=null&&!isNaN(G)&&(p.height=G);var W=XW(u);W&&(p.patternTransform=W);var Y=Bi("pattern","",p,[w]),q=iR(Y),J=s.patternCache,tt=J[q];tt||(tt=s.zrId+"-p"+s.patternIdx++,J[q]=tt,p.id=tt,Y=s.defs[tt]=Bi("pattern",tt,p,[w])),i[r]=Qb(tt)}}function tTt(n,i,r){var s=r.clipPathCache,u=r.defs,c=s[n.id];if(!c){c=r.zrId+"-c"+r.clipPathIdx++;var p={id:c};s[n.id]=c,u[c]=Bi("clipPath",c,p,[G7(n,r)])}i["clip-path"]=Qb(c)}function Z7(n){return document.createTextNode(n)}function Wh(n,i,r){n.insertBefore(i,r)}function X7(n,i){n.removeChild(i)}function q7(n,i){n.appendChild(i)}function $7(n){return n.parentNode}function K7(n){return n.nextSibling}function lR(n,i){n.textContent=i}var j7=58,eTt=120,rTt=Bi("","");function uR(n){return n===void 0}function cl(n){return n!==void 0}function iTt(n,i,r){for(var s={},u=i;u<=r;++u){var c=n[u].key;c!==void 0&&(s[c]!=null&&console.error("Duplicate key "+c),s[c]=u)}return s}function Y0(n,i){var r=n.key===i.key,s=n.tag===i.tag;return s&&r}function Z0(n){var i,r=n.children,s=n.tag;if(cl(s)){var u=n.elm=I7(s);if(fR(rTt,n),wt(r))for(i=0;i<r.length;++i){var c=r[i];c!=null&&q7(u,Z0(c))}else cl(n.text)&&!re(n.text)&&q7(u,Z7(n.text))}else n.elm=Z7(n.text);return n.elm}function J7(n,i,r,s,u){for(;s<=u;++s){var c=r[s];c!=null&&Wh(n,Z0(c),i)}}function Bw(n,i,r,s){for(;r<=s;++r){var u=i[r];if(u!=null)if(cl(u.tag)){var c=$7(u.elm);X7(c,u.elm)}else X7(n,u.elm)}}function fR(n,i){var r,s=i.elm,u=n&&n.attrs||{},c=i.attrs||{};if(u!==c){for(r in c){var p=c[r],d=u[r];d!==p&&(p===!0?s.setAttribute(r,""):p===!1?s.removeAttribute(r):r==="style"?s.style.cssText=p:r.charCodeAt(0)!==eTt?s.setAttribute(r,p):r==="xmlns:xlink"||r==="xmlns"?s.setAttributeNS(Nwt,r,p):r.charCodeAt(3)===j7?s.setAttributeNS(zwt,r,p):r.charCodeAt(5)===j7?s.setAttributeNS(M7,r,p):s.setAttribute(r,p))}for(r in u)r in c||s.removeAttribute(r)}}function aTt(n,i,r){for(var s=0,u=0,c=i.length-1,p=i[0],d=i[c],m=r.length-1,_=r[0],S=r[m],w,A,D,L;s<=c&&u<=m;)p==null?p=i[++s]:d==null?d=i[--c]:_==null?_=r[++u]:S==null?S=r[--m]:Y0(p,_)?(Vd(p,_),p=i[++s],_=r[++u]):Y0(d,S)?(Vd(d,S),d=i[--c],S=r[--m]):Y0(p,S)?(Vd(p,S),Wh(n,p.elm,K7(d.elm)),p=i[++s],S=r[--m]):Y0(d,_)?(Vd(d,_),Wh(n,d.elm,p.elm),d=i[--c],_=r[++u]):(uR(w)&&(w=iTt(i,s,c)),A=w[_.key],uR(A)?Wh(n,Z0(_),p.elm):(D=i[A],D.tag!==_.tag?Wh(n,Z0(_),p.elm):(Vd(D,_),i[A]=void 0,Wh(n,D.elm,p.elm))),_=r[++u]);(s<=c||u<=m)&&(s>c?(L=r[m+1]==null?null:r[m+1].elm,J7(n,L,r,u,m)):Bw(n,i,s,c))}function Vd(n,i){var r=i.elm=n.elm,s=n.children,u=i.children;n!==i&&(fR(n,i),uR(i.text)?cl(s)&&cl(u)?s!==u&&aTt(r,s,u):cl(u)?(cl(n.text)&&lR(r,""),J7(r,null,u,0,u.length-1)):cl(s)?Bw(r,s,0,s.length-1):cl(n.text)&&lR(r,""):n.text!==i.text&&(cl(s)&&Bw(r,s,0,s.length-1),lR(r,i.text)))}function nTt(n,i){if(Y0(n,i))Vd(n,i);else{var r=n.elm,s=$7(r);Z0(i),s!==null&&(Wh(s,i.elm,K7(r)),Bw(s,[n],0,0))}return i}var oTt=0,sTt=function(){function n(i,r,s){if(this.type="svg",this.refreshHover=Q7("refreshHover"),this.configLayer=Q7("configLayer"),this.storage=r,this._opts=s=st({},s),this.root=i,this._id="zr"+oTt++,this._oldVNode=E7(s.width,s.height),i&&!s.ssr){var u=this._viewport=document.createElement("div");u.style.cssText="position:relative;overflow:hidden";var c=this._svgDom=this._oldVNode.elm=I7("svg");fR(null,this._oldVNode),u.appendChild(c),i.appendChild(u)}this.resize(s.width,s.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var i=this.renderToVNode({willUpdate:!0});i.attrs.style="position:absolute;left:0;top:0;user-select:none",nTt(this._oldVNode,i),this._oldVNode=i}},n.prototype.renderOneToVNode=function(i){return H7(i,aR(this._id))},n.prototype.renderToVNode=function(i){i=i||{};var r=this.storage.getDisplayList(!0),s=this._width,u=this._height,c=aR(this._id);c.animation=i.animation,c.willUpdate=i.willUpdate,c.compress=i.compress,c.emphasis=i.emphasis,c.ssr=this._opts.ssr;var p=[],d=this._bgVNode=lTt(s,u,this._backgroundColor,c);d&&p.push(d);var m=i.compress?null:this._mainVNode=Bi("g","main",{},[]);this._paintList(r,c,m?m.children:p),m&&p.push(m);var _=Tt(Xt(c.defs),function(A){return c.defs[A]});if(_.length&&p.push(Bi("defs","defs",{},_)),i.animation){var S=Fwt(c.cssNodes,c.cssAnims,{newline:!0});if(S){var w=Bi("style","stl",{},[],S);p.push(w)}}return E7(s,u,p,i.useViewBox)},n.prototype.renderToString=function(i){return i=i||{},iR(this.renderToVNode({animation:De(i.cssAnimation,!0),emphasis:De(i.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:De(i.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(i){this._backgroundColor=i},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(i,r,s){for(var u=i.length,c=[],p=0,d,m,_=0,S=0;S<u;S++){var w=i[S];if(!w.invisible){var A=w.__clipPaths,D=A&&A.length||0,L=m&&m.length||0,E=void 0;for(E=Math.max(D-1,L-1);E>=0&&!(A&&m&&A[E]===m[E]);E--);for(var R=L-1;R>E;R--)p--,d=c[p-1];for(var k=E+1;k<D;k++){var z={};tTt(A[k],z,r);var B=Bi("g","clip-g-"+_++,z,[]);(d?d.children:s).push(B),c[p++]=B,d=B}m=A;var G=H7(w,r);G&&(d?d.children:s).push(G)}}},n.prototype.resize=function(i,r){var s=this._opts,u=this.root,c=this._viewport;if(i!=null&&(s.width=i),r!=null&&(s.height=r),u&&c&&(c.style.display="none",i=Id(u,0,s),r=Id(u,1,s),c.style.display=""),this._width!==i||this._height!==r){if(this._width=i,this._height=r,c){var p=c.style;p.width=i+"px",p.height=r+"px"}if(rE(this._backgroundColor))this.refresh();else{var d=this._svgDom;d&&(d.setAttribute("width",i),d.setAttribute("height",r));var m=this._bgVNode&&this._bgVNode.elm;m&&(m.setAttribute("width",i),m.setAttribute("height",r))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(i){var r=this.renderToString(),s="data:image/svg+xml;";return i?(r=Jmt(r),r&&s+"base64,"+r):s+"charset=UTF-8,"+encodeURIComponent(r)},n}();function Q7(n){return function(){ft('In SVG mode painter not support method "'+n+'"')}}function lTt(n,i,r,s){var u;if(r&&r!=="none")if(u=Bi("rect","bg",{width:n,height:i,x:"0",y:"0"}),YW(r))W7({fill:r},u.attrs,"fill",s);else if(rE(r))Y7({style:{fill:r},dirty:Qr,getBoundingRect:function(){return{width:n,height:i}}},u.attrs,"fill",s);else{var c=Wy(r),p=c.color,d=c.opacity;u.attrs.fill=p,d<1&&(u.attrs["fill-opacity"]=d)}return u}function uTt(n){n.registerPainter("svg",sTt)}function tZ(n,i,r){var s=I.createCanvas(),u=i.getWidth(),c=i.getHeight(),p=s.style;return p&&(p.position="absolute",p.left="0",p.top="0",p.width=u+"px",p.height=c+"px",s.setAttribute("data-zr-dom-id",n)),s.width=u*r,s.height=c*r,s}var cR=function(n){e(i,n);function i(r,s,u){var c=n.call(this)||this;c.motionBlur=!1,c.lastFrameAlpha=.7,c.dpr=1,c.virtual=!1,c.config={},c.incremental=!1,c.zlevel=0,c.maxRepaintRectCount=5,c.__dirty=!0,c.__firstTimePaint=!0,c.__used=!1,c.__drawIndex=0,c.__startIndex=0,c.__endIndex=0,c.__prevStartIndex=null,c.__prevEndIndex=null;var p;u=u||o1,typeof r=="string"?p=tZ(r,s,u):re(r)&&(p=r,r=p.id),c.id=r,c.dom=p;var d=p.style;return d&&(PI(p),p.onselectstart=function(){return!1},d.padding="0",d.margin="0",d.borderWidth="0"),c.painter=s,c.dpr=u,c}return i.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},i.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},i.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},i.prototype.setUnpainted=function(){this.__firstTimePaint=!0},i.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=tZ("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},i.prototype.createRepaintRects=function(r,s,u,c){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var p=[],d=this.maxRepaintRectCount,m=!1,_=new Ve(0,0,0,0);function S(z){if(!(!z.isFinite()||z.isZero()))if(p.length===0){var B=new Ve(0,0,0,0);B.copy(z),p.push(B)}else{for(var G=!1,W=1/0,Y=0,q=0;q<p.length;++q){var J=p[q];if(J.intersect(z)){var tt=new Ve(0,0,0,0);tt.copy(J),tt.union(z),p[q]=tt,G=!0;break}else if(m){_.copy(z),_.union(J);var et=z.width*z.height,it=J.width*J.height,ut=_.width*_.height,ct=ut-et-it;ct<W&&(W=ct,Y=q)}}if(m&&(p[Y].union(z),G=!0),!G){var B=new Ve(0,0,0,0);B.copy(z),p.push(B)}m||(m=p.length>=d)}}for(var w=this.__startIndex;w<this.__endIndex;++w){var A=r[w];if(A){var D=A.shouldBePainted(u,c,!0,!0),L=A.__isRendered&&(A.__dirty&Pn||!D)?A.getPrevPaintRect():null;L&&S(L);var E=D&&(A.__dirty&Pn||!A.__isRendered)?A.getPaintRect():null;E&&S(E)}}for(var w=this.__prevStartIndex;w<this.__prevEndIndex;++w){var A=s[w],D=A&&A.shouldBePainted(u,c,!0,!0);if(A&&(!D||!A.__zr)&&A.__isRendered){var L=A.getPrevPaintRect();L&&S(L)}}var R;do{R=!1;for(var w=0;w<p.length;){if(p[w].isZero()){p.splice(w,1);continue}for(var k=w+1;k<p.length;)p[w].intersect(p[k])?(R=!0,p[w].union(p[k]),p.splice(k,1)):k++;w++}}while(R);return this._paintRects=p,p},i.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},i.prototype.resize=function(r,s){var u=this.dpr,c=this.dom,p=c.style,d=this.domBack;p&&(p.width=r+"px",p.height=s+"px"),c.width=r*u,c.height=s*u,d&&(d.width=r*u,d.height=s*u,u!==1&&this.ctxBack.scale(u,u))},i.prototype.clear=function(r,s,u){var c=this.dom,p=this.ctx,d=c.width,m=c.height;s=s||this.clearColor;var _=this.motionBlur&&!r,S=this.lastFrameAlpha,w=this.dpr,A=this;_&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,d/w,m/w));var D=this.domBack;function L(E,R,k,z){if(p.clearRect(E,R,k,z),s&&s!=="transparent"){var B=void 0;if(Hl(s)){var G=s.global||s.__width===k&&s.__height===z;B=G&&s.__canvasGradient||l2(p,s,{x:0,y:0,width:k,height:z}),s.__canvasGradient=B,s.__width=k,s.__height=z}else oW(s)&&(s.scaleX=s.scaleX||w,s.scaleY=s.scaleY||w,B=f2(p,s,{dirty:function(){A.setUnpainted(),A.painter.refresh()}}));p.save(),p.fillStyle=B||s,p.fillRect(E,R,k,z),p.restore()}_&&(p.save(),p.globalAlpha=S,p.drawImage(D,E,R,k,z),p.restore())}!u||_?L(0,0,d,m):u.length&&j(u,function(E){L(E.x*w,E.y*w,E.width*w,E.height*w)})},i}(oo),eZ=1e5,Yh=314159,Fw=.01,fTt=.001;function cTt(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function hTt(n,i){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+n+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var pTt=function(){function n(i,r,s,u){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var c=!i.nodeName||i.nodeName.toUpperCase()==="CANVAS";this._opts=s=st({},s||{}),this.dpr=s.devicePixelRatio||o1,this._singleCanvas=c,this.root=i;var p=i.style;p&&(PI(i),i.innerHTML=""),this.storage=r;var d=this._zlevelList;this._prevDisplayList=[];var m=this._layers;if(c){var S=i,w=S.width,A=S.height;s.width!=null&&(w=s.width),s.height!=null&&(A=s.height),this.dpr=s.devicePixelRatio||1,S.width=w*this.dpr,S.height=A*this.dpr,this._width=w,this._height=A;var D=new cR(S,this,this.dpr);D.__builtin__=!0,D.initContext(),m[Yh]=D,D.zlevel=Yh,d.push(Yh),this._domRoot=i}else{this._width=Id(i,0,s),this._height=Id(i,1,s);var _=this._domRoot=hTt(this._width,this._height);i.appendChild(_)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},n.prototype.refresh=function(i){var r=this.storage.getDisplayList(!0),s=this._prevDisplayList,u=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,s,i,this._redrawId);for(var c=0;c<u.length;c++){var p=u[c],d=this._layers[p];if(!d.__builtin__&&d.refresh){var m=c===0?this._backgroundColor:null;d.refresh(m)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(i){var r=i.length,s=this._hoverlayer;if(s&&s.clear(),!!r){for(var u={inHover:!0,viewWidth:this._width,viewHeight:this._height},c,p=0;p<r;p++){var d=i[p];d.__inHover&&(s||(s=this._hoverlayer=this.getLayer(eZ)),c||(c=s.ctx,c.save()),Nh(c,d,u,p===r-1))}c&&c.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(eZ)},n.prototype.paintOne=function(i,r){c2(i,r)},n.prototype._paintList=function(i,r,s,u){if(this._redrawId===u){s=s||!1,this._updateLayerStatus(i);var c=this._doPaintList(i,r,s),p=c.finished,d=c.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),d&&this._paintHoverList(i),p)this.eachLayer(function(_){_.afterBrush&&_.afterBrush()});else{var m=this;XI(function(){m._paintList(i,r,s,u)})}}},n.prototype._compositeManually=function(){var i=this.getLayer(Yh).ctx,r=this._domRoot.width,s=this._domRoot.height;i.clearRect(0,0,r,s),this.eachBuiltinLayer(function(u){u.virtual&&i.drawImage(u.dom,0,0,r,s)})},n.prototype._doPaintList=function(i,r,s){for(var u=this,c=[],p=this._opts.useDirtyRect,d=0;d<this._zlevelList.length;d++){var m=this._zlevelList[d],_=this._layers[m];_.__builtin__&&_!==this._hoverlayer&&(_.__dirty||s)&&c.push(_)}for(var S=!0,w=!1,A=function(E){var R=c[E],k=R.ctx,z=p&&R.createRepaintRects(i,r,D._width,D._height),B=s?R.__startIndex:R.__drawIndex,G=!s&&R.incremental&&Date.now,W=G&&Date.now(),Y=R.zlevel===D._zlevelList[0]?D._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,Y,z);else if(B===R.__startIndex){var q=i[B];(!q.incremental||!q.notClear||s)&&R.clear(!1,Y,z)}B===-1&&(console.error("For some unknown reason. drawIndex is -1"),B=R.__startIndex);var J,tt=function(ct){var ht={inHover:!1,allClipped:!1,prevEl:null,viewWidth:u._width,viewHeight:u._height};for(J=B;J<R.__endIndex;J++){var vt=i[J];if(vt.__inHover&&(w=!0),u._doPaintEl(vt,R,p,ct,ht,J===R.__endIndex-1),G){var gt=Date.now()-W;if(gt>15)break}}ht.prevElClipPaths&&k.restore()};if(z)if(z.length===0)J=R.__endIndex;else for(var et=D.dpr,it=0;it<z.length;++it){var ut=z[it];k.save(),k.beginPath(),k.rect(ut.x*et,ut.y*et,ut.width*et,ut.height*et),k.clip(),tt(ut),k.restore()}else k.save(),tt(),k.restore();R.__drawIndex=J,R.__drawIndex<R.__endIndex&&(S=!1)},D=this,L=0;L<c.length;L++)A(L);return f.wxa&&j(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:S,needsRefreshHover:w}},n.prototype._doPaintEl=function(i,r,s,u,c,p){var d=r.ctx;if(s){var m=i.getPaintRect();(!u||m&&m.intersect(u))&&(Nh(d,i,c,p),i.setPrevPaintRect(m))}else Nh(d,i,c,p)},n.prototype.getLayer=function(i,r){this._singleCanvas&&!this._needsManuallyCompositing&&(i=Yh);var s=this._layers[i];return s||(s=new cR("zr_"+i,this,this.dpr),s.zlevel=i,s.__builtin__=!0,this._layerConfig[i]?pt(s,this._layerConfig[i],!0):this._layerConfig[i-Fw]&&pt(s,this._layerConfig[i-Fw],!0),r&&(s.virtual=r),this.insertLayer(i,s),s.initContext()),s},n.prototype.insertLayer=function(i,r){var s=this._layers,u=this._zlevelList,c=u.length,p=this._domRoot,d=null,m=-1;if(s[i]){ft("ZLevel "+i+" has been used already");return}if(!cTt(r)){ft("Layer of zlevel "+i+" is not valid");return}if(c>0&&i>u[0]){for(m=0;m<c-1&&!(u[m]<i&&u[m+1]>i);m++);d=s[u[m]]}if(u.splice(m+1,0,i),s[i]=r,!r.virtual)if(d){var _=d.dom;_.nextSibling?p.insertBefore(r.dom,_.nextSibling):p.appendChild(r.dom)}else p.firstChild?p.insertBefore(r.dom,p.firstChild):p.appendChild(r.dom);r.painter||(r.painter=this)},n.prototype.eachLayer=function(i,r){for(var s=this._zlevelList,u=0;u<s.length;u++){var c=s[u];i.call(r,this._layers[c],c)}},n.prototype.eachBuiltinLayer=function(i,r){for(var s=this._zlevelList,u=0;u<s.length;u++){var c=s[u],p=this._layers[c];p.__builtin__&&i.call(r,p,c)}},n.prototype.eachOtherLayer=function(i,r){for(var s=this._zlevelList,u=0;u<s.length;u++){var c=s[u],p=this._layers[c];p.__builtin__||i.call(r,p,c)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(i){this.eachBuiltinLayer(function(w,A){w.__dirty=w.__used=!1});function r(w){c&&(c.__endIndex!==w&&(c.__dirty=!0),c.__endIndex=w)}if(this._singleCanvas)for(var s=1;s<i.length;s++){var u=i[s];if(u.zlevel!==i[s-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}}var c=null,p=0,d,m;for(m=0;m<i.length;m++){var u=i[m],_=u.zlevel,S=void 0;d!==_&&(d=_,p=0),u.incremental?(S=this.getLayer(_+fTt,this._needsManuallyCompositing),S.incremental=!0,p=1):S=this.getLayer(_+(p>0?Fw:0),this._needsManuallyCompositing),S.__builtin__||ft("ZLevel "+_+" has been used by unkown layer "+S.id),S!==c&&(S.__used=!0,S.__startIndex!==m&&(S.__dirty=!0),S.__startIndex=m,S.incremental?S.__drawIndex=-1:S.__drawIndex=m,r(m),c=S),u.__dirty&Pn&&!u.__inHover&&(S.__dirty=!0,S.incremental&&S.__drawIndex<0&&(S.__drawIndex=m))}r(m),this.eachBuiltinLayer(function(w,A){!w.__used&&w.getElementCount()>0&&(w.__dirty=!0,w.__startIndex=w.__endIndex=w.__drawIndex=0),w.__dirty&&w.__drawIndex<0&&(w.__drawIndex=w.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(i){i.clear()},n.prototype.setBackgroundColor=function(i){this._backgroundColor=i,j(this._layers,function(r){r.setUnpainted()})},n.prototype.configLayer=function(i,r){if(r){var s=this._layerConfig;s[i]?pt(s[i],r,!0):s[i]=r;for(var u=0;u<this._zlevelList.length;u++){var c=this._zlevelList[u];if(c===i||c===i+Fw){var p=this._layers[c];pt(p,s[i],!0)}}}},n.prototype.delLayer=function(i){var r=this._layers,s=this._zlevelList,u=r[i];u&&(u.dom.parentNode.removeChild(u.dom),delete r[i],s.splice(At(s,i),1))},n.prototype.resize=function(i,r){if(this._domRoot.style){var s=this._domRoot;s.style.display="none";var u=this._opts,c=this.root;if(i!=null&&(u.width=i),r!=null&&(u.height=r),i=Id(c,0,u),r=Id(c,1,u),s.style.display="",this._width!==i||r!==this._height){s.style.width=i+"px",s.style.height=r+"px";for(var p in this._layers)this._layers.hasOwnProperty(p)&&this._layers[p].resize(i,r);this.refresh(!0)}this._width=i,this._height=r}else{if(i==null||r==null)return;this._width=i,this._height=r,this.getLayer(Yh).resize(i,r)}return this},n.prototype.clearLayer=function(i){var r=this._layers[i];r&&r.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(i){if(i=i||{},this._singleCanvas&&!this._compositeManually)return this._layers[Yh].dom;var r=new cR("image",this,i.pixelRatio||this.dpr);r.initContext(),r.clear(!1,i.backgroundColor||this._backgroundColor);var s=r.ctx;if(i.pixelRatio<=this.dpr){this.refresh();var u=r.dom.width,c=r.dom.height;this.eachLayer(function(w){w.__builtin__?s.drawImage(w.dom,0,0,u,c):w.renderToCanvas&&(s.save(),w.renderToCanvas(s),s.restore())})}else for(var p={inHover:!1,viewWidth:this._width,viewHeight:this._height},d=this.storage.getDisplayList(!0),m=0,_=d.length;m<_;m++){var S=d[m];Nh(s,S,p,m===_-1)}return r.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();function vTt(n){n.registerPainter("canvas",pTt)}var dTt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r}return i.prototype.getInitialData=function(r){var s=r.coordinateSystem;if(s!=="polar"&&s!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar");return ol(null,this,{useEncodeDefaulter:!0})},i.prototype.getLegendIcon=function(r){var s=new Te,u=li("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);s.add(u),u.setStyle(r.lineStyle);var c=this.getData().getVisual("symbol"),p=this.getData().getVisual("symbolRotate"),d=c==="none"?"circle":c,m=r.itemHeight*.8,_=li(d,(r.itemWidth-m)/2,(r.itemHeight-m)/2,m,m,r.itemStyle.fill);s.add(_),_.setStyle(r.itemStyle);var S=r.iconRotate==="inherit"?p:r.iconRotate||0;return _.rotation=S*Math.PI/180,_.setOrigin([r.itemWidth/2,r.itemHeight/2]),d.indexOf("empty")>-1&&(_.style.stroke=_.style.fill,_.style.fill="#fff",_.style.lineWidth=2),s},i.type="series.line",i.dependencies=["grid","polar"],i.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},i}(Sr);function Bd(n,i){var r=n.mapDimensionsAll("defaultedLabel"),s=r.length;if(s===1){var u=wd(n,i,r[0]);return u!=null?u+"":null}else if(s){for(var c=[],p=0;p<r.length;p++)c.push(wd(n,i,r[p]));return c.join(" ")}}function rZ(n,i){var r=n.mapDimensionsAll("defaultedLabel");if(!wt(i))return i+"";for(var s=[],u=0;u<r.length;u++){var c=n.getDimensionIndex(r[u]);c>=0&&s.push(i[c])}return s.join(" ")}var X0=function(n){e(i,n);function i(r,s,u,c){var p=n.call(this)||this;return p.updateData(r,s,u,c),p}return i.prototype._createSymbol=function(r,s,u,c,p){this.removeAll();var d=li(r,-1,-1,2,2,null,p);d.attr({z2:100,culling:!0,scaleX:c[0]/2,scaleY:c[1]/2}),d.drift=gTt,this._symbolType=r,this.add(d)},i.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},i.prototype.getSymbolType=function(){return this._symbolType},i.prototype.getSymbolPath=function(){return this.childAt(0)},i.prototype.highlight=function(){Ql(this.childAt(0))},i.prototype.downplay=function(){tu(this.childAt(0))},i.prototype.setZ=function(r,s){var u=this.childAt(0);u.zlevel=r,u.z=s},i.prototype.setDraggable=function(r,s){var u=this.childAt(0);u.draggable=r,u.cursor=!s&&r?"move":u.cursor},i.prototype.updateData=function(r,s,u,c){this.silent=!1;var p=r.getItemVisual(s,"symbol")||"circle",d=r.hostModel,m=i.getSymbolSize(r,s),_=p!==this._symbolType,S=c&&c.disableAnimation;if(_){var w=r.getItemVisual(s,"symbolKeepAspect");this._createSymbol(p,r,s,m,w)}else{var A=this.childAt(0);A.silent=!1;var D={scaleX:m[0]/2,scaleY:m[1]/2};S?A.attr(D):ir(A,D,d,s),ds(A)}if(this._updateCommon(r,s,m,u,c),_){var A=this.childAt(0);if(!S){var D={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:A.style.opacity}};A.scaleX=A.scaleY=0,A.style.opacity=0,Vr(A,D,d,s)}}S&&this.childAt(0).stopAnimation("leave")},i.prototype._updateCommon=function(r,s,u,c,p){var d=this.childAt(0),m=r.hostModel,_,S,w,A,D,L,E,R,k;if(c&&(_=c.emphasisItemStyle,S=c.blurItemStyle,w=c.selectItemStyle,A=c.focus,D=c.blurScope,E=c.labelStatesModels,R=c.hoverScale,k=c.cursorStyle,L=c.emphasisDisabled),!c||r.hasItemOption){var z=c&&c.itemModel?c.itemModel:r.getItemModel(s),B=z.getModel("emphasis");_=B.getModel("itemStyle").getItemStyle(),w=z.getModel(["select","itemStyle"]).getItemStyle(),S=z.getModel(["blur","itemStyle"]).getItemStyle(),A=B.get("focus"),D=B.get("blurScope"),L=B.get("disabled"),E=zi(z),R=B.getShallow("scale"),k=z.getShallow("cursor")}var G=r.getItemVisual(s,"symbolRotate");d.attr("rotation",(G||0)*Math.PI/180||0);var W=Oh(r.getItemVisual(s,"symbolOffset"),u);W&&(d.x=W[0],d.y=W[1]),k&&d.attr("cursor",k);var Y=r.getItemVisual(s,"style"),q=Y.fill;if(d instanceof Ni){var J=d.style;d.useStyle(st({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},Y))}else d.__isEmptyBrush?d.useStyle(st({},Y)):d.useStyle(Y),d.style.decal=null,d.setColor(q,p&&p.symbolInnerColor),d.style.strokeNoScale=!0;var tt=r.getItemVisual(s,"liftZ"),et=this._z2;tt!=null?et==null&&(this._z2=d.z2,d.z2+=tt):et!=null&&(d.z2=et,this._z2=null);var it=p&&p.useNameLabel;ia(d,E,{labelFetcher:m,labelDataIndex:s,defaultText:ut,inheritColor:q,defaultOpacity:Y.opacity});function ut(vt){return it?r.getName(vt):Bd(r,vt)}this._sizeX=u[0]/2,this._sizeY=u[1]/2;var ct=d.ensureState("emphasis");ct.style=_,d.ensureState("select").style=w,d.ensureState("blur").style=S;var ht=R==null||R===!0?Math.max(1.1,3/this._sizeY):isFinite(R)&&R>0?+R:1;ct.scaleX=this._sizeX*ht,ct.scaleY=this._sizeY*ht,this.setSymbolScale(1),Zr(this,A,D,L)},i.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},i.prototype.fadeOut=function(r,s,u){var c=this.childAt(0),p=Me(this).dataIndex,d=u&&u.animation;if(this.silent=c.silent=!0,u&&u.fadeLabel){var m=c.getTextContent();m&&mf(m,{style:{opacity:0}},s,{dataIndex:p,removeOpt:d,cb:function(){c.removeTextContent()}})}else c.removeTextContent();mf(c,{style:{opacity:0},scaleX:0,scaleY:0},s,{dataIndex:p,cb:r,removeOpt:d})},i.getSymbolSize=function(r,s){return Ld(r.getItemVisual(s,"symbolSize"))},i}(Te);function gTt(n,i){this.parent.drift(n,i)}function hR(n,i,r,s){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(s.isIgnore&&s.isIgnore(r))&&!(s.clipShape&&!s.clipShape.contain(i[0],i[1]))&&n.getItemVisual(r,"symbol")!=="none"}function iZ(n){return n!=null&&!re(n)&&(n={isIgnore:n}),n||{}}function aZ(n){var i=n.hostModel,r=i.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:i.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:i.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:zi(i),cursorStyle:i.get("cursor")}}var q0=function(){function n(i){this.group=new Te,this._SymbolCtor=i||X0}return n.prototype.updateData=function(i,r){this._progressiveEls=null,r=iZ(r);var s=this.group,u=i.hostModel,c=this._data,p=this._SymbolCtor,d=r.disableAnimation,m=aZ(i),_={disableAnimation:d},S=r.getSymbolPoint||function(w){return i.getItemLayout(w)};c||s.removeAll(),i.diff(c).add(function(w){var A=S(w);if(hR(i,A,w,r)){var D=new p(i,w,m,_);D.setPosition(A),i.setItemGraphicEl(w,D),s.add(D)}}).update(function(w,A){var D=c.getItemGraphicEl(A),L=S(w);if(!hR(i,L,w,r)){s.remove(D);return}var E=i.getItemVisual(w,"symbol")||"circle",R=D&&D.getSymbolType&&D.getSymbolType();if(!D||R&&R!==E)s.remove(D),D=new p(i,w,m,_),D.setPosition(L);else{D.updateData(i,w,m,_);var k={x:L[0],y:L[1]};d?D.attr(k):ir(D,k,u)}s.add(D),i.setItemGraphicEl(w,D)}).remove(function(w){var A=c.getItemGraphicEl(w);A&&A.fadeOut(function(){s.remove(A)},u)}).execute(),this._getSymbolPoint=S,this._data=i},n.prototype.updateLayout=function(){var i=this,r=this._data;r&&r.eachItemGraphicEl(function(s,u){var c=i._getSymbolPoint(u);s.setPosition(c),s.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=aZ(i),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(i,r,s){this._progressiveEls=[],s=iZ(s);function u(m){m.isGroup||(m.incremental=!0,m.ensureState("emphasis").hoverLayer=!0)}for(var c=i.start;c<i.end;c++){var p=r.getItemLayout(c);if(hR(r,p,c,s)){var d=new this._SymbolCtor(r,c,this._seriesScope);d.traverse(u),d.setPosition(p),this.group.add(d),r.setItemGraphicEl(c,d),this._progressiveEls.push(d)}}},n.prototype.eachRendered=function(i){_f(this._progressiveEls||this.group,i)},n.prototype.remove=function(i){var r=this.group,s=this._data;s&&i?s.eachItemGraphicEl(function(u){u.fadeOut(function(){r.remove(u)},s.hostModel)}):r.removeAll()},n}();function nZ(n,i,r){var s=n.getBaseAxis(),u=n.getOtherAxis(s),c=mTt(u,r),p=s.dim,d=u.dim,m=i.mapDimension(d),_=i.mapDimension(p),S=d==="x"||d==="radius"?1:0,w=Tt(n.dimensions,function(L){return i.mapDimension(L)}),A=!1,D=i.getCalculationInfo("stackResultDimension");return au(i,w[0])&&(A=!0,w[0]=D),au(i,w[1])&&(A=!0,w[1]=D),{dataDimsForPoint:w,valueStart:c,valueAxisDim:d,baseAxisDim:p,stacked:!!A,valueDim:m,baseDim:_,baseDataOffset:S,stackedOverDimension:i.getCalculationInfo("stackedOverDimension")}}function mTt(n,i){var r=0,s=n.scale.getExtent();return i==="start"?r=s[0]:i==="end"?r=s[1]:Ne(i)&&!isNaN(i)?r=i:s[0]>0?r=s[0]:s[1]<0&&(r=s[1]),r}function oZ(n,i,r,s){var u=NaN;n.stacked&&(u=r.get(r.getCalculationInfo("stackedOverDimension"),s)),isNaN(u)&&(u=n.valueStart);var c=n.baseDataOffset,p=[];return p[c]=r.get(n.baseDim,s),p[1-c]=u,i.dataToPoint(p)}function yTt(n,i){var r=[];return i.diff(n).add(function(s){r.push({cmd:"+",idx:s})}).update(function(s,u){r.push({cmd:"=",idx:u,idx1:s})}).remove(function(s){r.push({cmd:"-",idx:s})}).execute(),r}function _Tt(n,i,r,s,u,c,p,d){for(var m=yTt(n,i),_=[],S=[],w=[],A=[],D=[],L=[],E=[],R=nZ(u,i,p),k=n.getLayout("points")||[],z=i.getLayout("points")||[],B=0;B<m.length;B++){var G=m[B],W=!0,Y=void 0,q=void 0;switch(G.cmd){case"=":Y=G.idx*2,q=G.idx1*2;var J=k[Y],tt=k[Y+1],et=z[q],it=z[q+1];(isNaN(J)||isNaN(tt))&&(J=et,tt=it),_.push(J,tt),S.push(et,it),w.push(r[Y],r[Y+1]),A.push(s[q],s[q+1]),E.push(i.getRawIndex(G.idx1));break;case"+":var ut=G.idx,ct=R.dataDimsForPoint,ht=u.dataToPoint([i.get(ct[0],ut),i.get(ct[1],ut)]);q=ut*2,_.push(ht[0],ht[1]),S.push(z[q],z[q+1]);var vt=oZ(R,u,i,ut);w.push(vt[0],vt[1]),A.push(s[q],s[q+1]),E.push(i.getRawIndex(ut));break;case"-":W=!1}W&&(D.push(G),L.push(L.length))}L.sort(function(Pe,br){return E[Pe]-E[br]});for(var gt=_.length,bt=ll(gt),St=ll(gt),Ct=ll(gt),Ot=ll(gt),Vt=[],B=0;B<L.length;B++){var $t=L[B],pe=B*2,me=$t*2;bt[pe]=_[me],bt[pe+1]=_[me+1],St[pe]=S[me],St[pe+1]=S[me+1],Ct[pe]=w[me],Ct[pe+1]=w[me+1],Ot[pe]=A[me],Ot[pe+1]=A[me+1],Vt[B]=D[$t]}return{current:bt,next:St,stackedOnCurrent:Ct,stackedOnNext:Ot,status:Vt}}var Df=Math.min,Mf=Math.max;function Zh(n,i){return isNaN(n)||isNaN(i)}function pR(n,i,r,s,u,c,p,d,m){for(var _,S,w,A,D,L,E=r,R=0;R<s;R++){var k=i[E*2],z=i[E*2+1];if(E>=u||E<0)break;if(Zh(k,z)){if(m){E+=c;continue}break}if(E===r)n[c>0?"moveTo":"lineTo"](k,z),w=k,A=z;else{var B=k-_,G=z-S;if(B*B+G*G<.5){E+=c;continue}if(p>0){for(var W=E+c,Y=i[W*2],q=i[W*2+1];Y===k&&q===z&&R<s;)R++,W+=c,E+=c,Y=i[W*2],q=i[W*2+1],k=i[E*2],z=i[E*2+1],B=k-_,G=z-S;var J=R+1;if(m)for(;Zh(Y,q)&&J<s;)J++,W+=c,Y=i[W*2],q=i[W*2+1];var tt=.5,et=0,it=0,ut=void 0,ct=void 0;if(J>=s||Zh(Y,q))D=k,L=z;else{et=Y-_,it=q-S;var ht=k-_,vt=Y-k,gt=z-S,bt=q-z,St=void 0,Ct=void 0;if(d==="x"){St=Math.abs(ht),Ct=Math.abs(vt);var Ot=et>0?1:-1;D=k-Ot*St*p,L=z,ut=k+Ot*Ct*p,ct=z}else if(d==="y"){St=Math.abs(gt),Ct=Math.abs(bt);var Vt=it>0?1:-1;D=k,L=z-Vt*St*p,ut=k,ct=z+Vt*Ct*p}else St=Math.sqrt(ht*ht+gt*gt),Ct=Math.sqrt(vt*vt+bt*bt),tt=Ct/(Ct+St),D=k-et*p*(1-tt),L=z-it*p*(1-tt),ut=k+et*p*tt,ct=z+it*p*tt,ut=Df(ut,Mf(Y,k)),ct=Df(ct,Mf(q,z)),ut=Mf(ut,Df(Y,k)),ct=Mf(ct,Df(q,z)),et=ut-k,it=ct-z,D=k-et*St/Ct,L=z-it*St/Ct,D=Df(D,Mf(_,k)),L=Df(L,Mf(S,z)),D=Mf(D,Df(_,k)),L=Mf(L,Df(S,z)),et=k-D,it=z-L,ut=k+et*Ct/St,ct=z+it*Ct/St}n.bezierCurveTo(w,A,D,L,k,z),w=ut,A=ct}else n.lineTo(k,z)}_=k,S=z,E+=c}return R}var sZ=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),xTt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="ec-polyline",s}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new sZ},i.prototype.buildPath=function(r,s){var u=s.points,c=0,p=u.length/2;if(s.connectNulls){for(;p>0&&Zh(u[p*2-2],u[p*2-1]);p--);for(;c<p&&Zh(u[c*2],u[c*2+1]);c++);}for(;c<p;)c+=pR(r,u,c,p,p,1,s.smooth,s.smoothMonotone,s.connectNulls)+1},i.prototype.getPointOn=function(r,s){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var u=this.path,c=u.data,p=el.CMD,d,m,_=s==="x",S=[],w=0;w<c.length;){var A=c[w++],D=void 0,L=void 0,E=void 0,R=void 0,k=void 0,z=void 0,B=void 0;switch(A){case p.M:d=c[w++],m=c[w++];break;case p.L:if(D=c[w++],L=c[w++],B=_?(r-d)/(D-d):(r-m)/(L-m),B<=1&&B>=0){var G=_?(L-m)*B+m:(D-d)*B+d;return _?[r,G]:[G,r]}d=D,m=L;break;case p.C:D=c[w++],L=c[w++],E=c[w++],R=c[w++],k=c[w++],z=c[w++];var W=_?Xb(d,D,E,k,r,S):Xb(m,L,R,z,r,S);if(W>0)for(var Y=0;Y<W;Y++){var q=S[Y];if(q<=1&&q>=0){var G=_?ki(m,L,R,z,q):ki(d,D,E,k,q);return _?[r,G]:[G,r]}}d=k,m=z;break}}},i}(Xe),STt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i}(sZ),lZ=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="ec-polygon",s}return i.prototype.getDefaultShape=function(){return new STt},i.prototype.buildPath=function(r,s){var u=s.points,c=s.stackedOnPoints,p=0,d=u.length/2,m=s.smoothMonotone;if(s.connectNulls){for(;d>0&&Zh(u[d*2-2],u[d*2-1]);d--);for(;p<d&&Zh(u[p*2],u[p*2+1]);p++);}for(;p<d;){var _=pR(r,u,p,d,d,1,s.smooth,m,s.connectNulls);pR(r,c,p+_-1,_,d,-1,s.stackedOnSmooth,m,s.connectNulls),p+=_+1,r.closePath()}},i}(Xe);function uZ(n,i,r,s,u){var c=n.getArea(),p=c.x,d=c.y,m=c.width,_=c.height,S=r.get(["lineStyle","width"])||0;p-=S/2,d-=S/2,m+=S,_+=S,m=Math.ceil(m),p!==Math.floor(p)&&(p=Math.floor(p),m++);var w=new tr({shape:{x:p,y:d,width:m,height:_}});if(i){var A=n.getBaseAxis(),D=A.isHorizontal(),L=A.inverse;D?(L&&(w.shape.x+=m),w.shape.width=0):(L||(w.shape.y+=_),w.shape.height=0);var E=Gt(u)?function(R){u(R,w)}:null;Vr(w,{shape:{width:m,height:_,x:p,y:d}},r,null,s,E)}return w}function fZ(n,i,r){var s=n.getArea(),u=Kr(s.r0,1),c=Kr(s.r,1),p=new ga({shape:{cx:Kr(n.cx,1),cy:Kr(n.cy,1),r0:u,r:c,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}});if(i){var d=n.getBaseAxis().dim==="angle";d?p.shape.endAngle=s.startAngle:p.shape.r=u,Vr(p,{shape:{endAngle:s.endAngle,r:c}},r)}return p}function $0(n,i,r,s,u){if(n){if(n.type==="polar")return fZ(n,i,r);if(n.type==="cartesian2d")return uZ(n,i,r,s,u)}else return null;return null}function Xh(n,i){return n.type===i}function cZ(n,i){if(n.length===i.length){for(var r=0;r<n.length;r++)if(n[r]!==i[r])return;return!0}}function hZ(n){for(var i=1/0,r=1/0,s=-1/0,u=-1/0,c=0;c<n.length;){var p=n[c++],d=n[c++];isNaN(p)||(i=Math.min(p,i),s=Math.max(p,s)),isNaN(d)||(r=Math.min(d,r),u=Math.max(d,u))}return[[i,r],[s,u]]}function pZ(n,i){var r=hZ(n),s=r[0],u=r[1],c=hZ(i),p=c[0],d=c[1];return Math.max(Math.abs(s[0]-p[0]),Math.abs(s[1]-p[1]),Math.abs(u[0]-d[0]),Math.abs(u[1]-d[1]))}function vZ(n){return Ne(n)?n:n?.5:0}function bTt(n,i,r){if(!r.valueDim)return[];for(var s=i.count(),u=ll(s*2),c=0;c<s;c++){var p=oZ(r,n,i,c);u[c*2]=p[0],u[c*2+1]=p[1]}return u}function Lf(n,i,r,s,u){var c=r.getBaseAxis(),p=c.dim==="x"||c.dim==="radius"?0:1,d=[],m=0,_=[],S=[],w=[],A=[];if(u){for(m=0;m<n.length;m+=2){var D=i||n;!isNaN(D[m])&&!isNaN(D[m+1])&&A.push(n[m],n[m+1])}n=A}for(m=0;m<n.length-2;m+=2)switch(w[0]=n[m+2],w[1]=n[m+3],S[0]=n[m],S[1]=n[m+1],d.push(S[0],S[1]),s){case"end":_[p]=w[p],_[1-p]=S[1-p],d.push(_[0],_[1]);break;case"middle":var L=(S[p]+w[p])/2,E=[];_[p]=E[p]=L,_[1-p]=S[1-p],E[1-p]=w[1-p],d.push(_[0],_[1]),d.push(E[0],E[1]);break;default:_[p]=S[p],_[1-p]=w[1-p],d.push(_[0],_[1])}return d.push(n[m++],n[m++]),d}function wTt(n,i){var r=[],s=n.length,u,c;function p(S,w,A){var D=S.coord,L=(A-D)/(w.coord-D),E=tE(L,[S.color,w.color]);return{coord:A,color:E}}for(var d=0;d<s;d++){var m=n[d],_=m.coord;if(_<0)u=m;else if(_>i){c?r.push(p(c,m,i)):u&&r.push(p(u,m,0),p(u,m,i));break}else u&&(r.push(p(u,m,0)),u=null),r.push(m),c=m}return r}function TTt(n,i,r){var s=n.getVisual("visualMeta");if(!(!s||!s.length||!n.count())){if(i.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var u,c,p=s.length-1;p>=0;p--){var d=n.getDimensionInfo(s[p].dimension);if(u=d&&d.coordDim,u==="x"||u==="y"){c=s[p];break}}if(!c){console.warn("Visual map on line style only support x or y dimension.");return}var m=i.getAxis(u),_=Tt(c.stops,function(B){return{coord:m.toGlobalCoord(m.dataToCoord(B.value)),color:B.color}}),S=_.length,w=c.outerColors.slice();S&&_[0].coord>_[S-1].coord&&(_.reverse(),w.reverse());var A=wTt(_,u==="x"?r.getWidth():r.getHeight()),D=A.length;if(!D&&S)return _[0].coord<0?w[1]?w[1]:_[S-1].color:w[0]?w[0]:_[0].color;var L=10,E=A[0].coord-L,R=A[D-1].coord+L,k=R-E;if(k<.001)return"transparent";j(A,function(B){B.offset=(B.coord-E)/k}),A.push({offset:D?A[D-1].offset:.5,color:w[1]||"transparent"}),A.unshift({offset:D?A[0].offset:.5,color:w[0]||"transparent"});var z=new fd(0,0,0,0,A,!0);return z[u]=E,z[u+"2"]=R,z}}function ATt(n,i,r){var s=n.get("showAllSymbol"),u=s==="auto";if(!(s&&!u)){var c=r.getAxesByScale("ordinal")[0];if(c&&!(u&&CTt(c,i))){var p=i.mapDimension(c.dim),d={};return j(c.getViewLabels(),function(m){var _=c.scale.getRawOrdinalNumber(m.tickValue);d[_]=1}),function(m){return!d.hasOwnProperty(i.get(p,m))}}}}function CTt(n,i){var r=n.getExtent(),s=Math.abs(r[1]-r[0])/n.scale.count();isNaN(s)&&(s=0);for(var u=i.count(),c=Math.max(1,Math.round(u/5)),p=0;p<u;p+=c)if(X0.getSymbolSize(i,p)[n.isHorizontal()?1:0]*1.5>s)return!1;return!0}function DTt(n,i){return isNaN(n)||isNaN(i)}function MTt(n){for(var i=n.length/2;i>0&&DTt(n[i*2-2],n[i*2-1]);i--);return i-1}function dZ(n,i){return[n[i*2],n[i*2+1]]}function LTt(n,i,r){for(var s=n.length/2,u=r==="x"?0:1,c,p,d=0,m=-1,_=0;_<s;_++)if(p=n[_*2+u],!(isNaN(p)||isNaN(n[_*2+1-u]))){if(_===0){c=p;continue}if(c<=i&&p>=i||c>=i&&p<=i){m=_;break}d=_,c=p}return{range:[d,m],t:(i-c)/(p-c)}}function gZ(n){if(n.get(["endLabel","show"]))return!0;for(var i=0;i<za.length;i++)if(n.get([za[i],"endLabel","show"]))return!0;return!1}function vR(n,i,r,s){if(Xh(i,"cartesian2d")){var u=s.getModel("endLabel"),c=u.get("valueAnimation"),p=s.getData(),d={lastFrameIndex:0},m=gZ(s)?function(D,L){n._endLabelOnDuring(D,L,p,d,c,u,i)}:null,_=i.getBaseAxis().isHorizontal(),S=uZ(i,r,s,function(){var D=n._endLabel;D&&r&&d.originalX!=null&&D.attr({x:d.originalX,y:d.originalY})},m);if(!s.get("clip",!0)){var w=S.shape,A=Math.max(w.width,w.height);_?(w.y-=A,w.height+=A*2):(w.x-=A,w.width+=A*2)}return m&&m(1,S),S}else return s.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),fZ(i,r,s)}function ITt(n,i){var r=i.getBaseAxis(),s=r.isHorizontal(),u=r.inverse,c=s?u?"right":"left":"center",p=s?"middle":u?"top":"bottom";return{normal:{align:n.get("align")||c,verticalAlign:n.get("verticalAlign")||p}}}var ETt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.init=function(){var r=new Te,s=new q0;this.group.add(s.group),this._symbolDraw=s,this._lineGroup=r,this._changePolyState=Mt(this._changePolyState,this)},i.prototype.render=function(r,s,u){var c=r.coordinateSystem,p=this.group,d=r.getData(),m=r.getModel("lineStyle"),_=r.getModel("areaStyle"),S=d.getLayout("points")||[],w=c.type==="polar",A=this._coordSys,D=this._symbolDraw,L=this._polyline,E=this._polygon,R=this._lineGroup,k=!s.ssr&&r.get("animation"),z=!_.isEmpty(),B=_.get("origin"),G=nZ(c,d,B),W=z&&bTt(c,d,G),Y=r.get("showSymbol"),q=r.get("connectNulls"),J=Y&&!w&&ATt(r,d,c),tt=this._data;tt&&tt.eachItemGraphicEl(function(Pe,br){Pe.__temp&&(p.remove(Pe),tt.setItemGraphicEl(br,null))}),Y||D.remove(),p.add(R);var et=w?!1:r.get("step"),it;c&&c.getArea&&r.get("clip",!0)&&(it=c.getArea(),it.width!=null?(it.x-=.1,it.y-=.1,it.width+=.2,it.height+=.2):it.r0&&(it.r0-=.5,it.r+=.5)),this._clipShapeForSymbol=it;var ut=TTt(d,c,u)||d.getVisual("style")[d.getVisual("drawType")];if(!(L&&A.type===c.type&&et===this._step))Y&&D.updateData(d,{isIgnore:J,clipShape:it,disableAnimation:!0,getSymbolPoint:function(Pe){return[S[Pe*2],S[Pe*2+1]]}}),k&&this._initSymbolLabelAnimation(d,c,it),et&&(W&&(W=Lf(W,S,c,et,q)),S=Lf(S,null,c,et,q)),L=this._newPolyline(S),z?E=this._newPolygon(S,W):E&&(R.remove(E),E=this._polygon=null),w||this._initOrUpdateEndLabel(r,c,Ch(ut)),R.setClipPath(vR(this,c,!0,r));else{z&&!E?E=this._newPolygon(S,W):E&&!z&&(R.remove(E),E=this._polygon=null),w||this._initOrUpdateEndLabel(r,c,Ch(ut));var ct=R.getClipPath();if(ct){var ht=vR(this,c,!1,r);Vr(ct,{shape:ht.shape},r)}else R.setClipPath(vR(this,c,!0,r));Y&&D.updateData(d,{isIgnore:J,clipShape:it,disableAnimation:!0,getSymbolPoint:function(Pe){return[S[Pe*2],S[Pe*2+1]]}}),(!cZ(this._stackedOnPoints,W)||!cZ(this._points,S))&&(k?this._doUpdateAnimation(d,W,c,u,et,B,q):(et&&(W&&(W=Lf(W,S,c,et,q)),S=Lf(S,null,c,et,q)),L.setShape({points:S}),E&&E.setShape({points:S,stackedOnPoints:W})))}var vt=r.getModel("emphasis"),gt=vt.get("focus"),bt=vt.get("blurScope"),St=vt.get("disabled");if(L.useStyle(dt(m.getLineStyle(),{fill:"none",stroke:ut,lineJoin:"bevel"})),ra(L,r,"lineStyle"),L.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var Ct=L.getState("emphasis").style;Ct.lineWidth=+L.style.lineWidth+1}Me(L).seriesIndex=r.seriesIndex,Zr(L,gt,bt,St);var Ot=vZ(r.get("smooth")),Vt=r.get("smoothMonotone");if(L.setShape({smooth:Ot,smoothMonotone:Vt,connectNulls:q}),E){var $t=d.getCalculationInfo("stackedOnSeries"),pe=0;E.useStyle(dt(_.getAreaStyle(),{fill:ut,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),$t&&(pe=vZ($t.get("smooth"))),E.setShape({smooth:Ot,stackedOnSmooth:pe,smoothMonotone:Vt,connectNulls:q}),ra(E,r,"areaStyle"),Me(E).seriesIndex=r.seriesIndex,Zr(E,gt,bt,St)}var me=this._changePolyState;d.eachItemGraphicEl(function(Pe){Pe&&(Pe.onHoverStateChange=me)}),this._polyline.onHoverStateChange=me,this._data=d,this._coordSys=c,this._stackedOnPoints=W,this._points=S,this._step=et,this._valueOrigin=B,r.get("triggerLineEvent")&&(this.packEventData(r,L),E&&this.packEventData(r,E))},i.prototype.packEventData=function(r,s){Me(s).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},i.prototype.highlight=function(r,s,u,c){var p=r.getData(),d=oh(p,c);if(this._changePolyState("emphasis"),!(d instanceof Array)&&d!=null&&d>=0){var m=p.getLayout("points"),_=p.getItemGraphicEl(d);if(!_){var S=m[d*2],w=m[d*2+1];if(isNaN(S)||isNaN(w)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(S,w))return;var A=r.get("zlevel")||0,D=r.get("z")||0;_=new X0(p,d),_.x=S,_.y=w,_.setZ(A,D);var L=_.getSymbolPath().getTextContent();L&&(L.zlevel=A,L.z=D,L.z2=this._polyline.z2+1),_.__temp=!0,p.setItemGraphicEl(d,_),_.stopSymbolAnimation(!0),this.group.add(_)}_.highlight()}else vr.prototype.highlight.call(this,r,s,u,c)},i.prototype.downplay=function(r,s,u,c){var p=r.getData(),d=oh(p,c);if(this._changePolyState("normal"),d!=null&&d>=0){var m=p.getItemGraphicEl(d);m&&(m.__temp?(p.setItemGraphicEl(d,null),this.group.remove(m)):m.downplay())}else vr.prototype.downplay.call(this,r,s,u,c)},i.prototype._changePolyState=function(r){var s=this._polygon;C1(this._polyline,r),s&&C1(s,r)},i.prototype._newPolyline=function(r){var s=this._polyline;return s&&this._lineGroup.remove(s),s=new xTt({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(s),this._polyline=s,s},i.prototype._newPolygon=function(r,s){var u=this._polygon;return u&&this._lineGroup.remove(u),u=new lZ({shape:{points:r,stackedOnPoints:s},segmentIgnoreThreshold:2}),this._lineGroup.add(u),this._polygon=u,u},i.prototype._initSymbolLabelAnimation=function(r,s,u){var c,p,d=s.getBaseAxis(),m=d.inverse;s.type==="cartesian2d"?(c=d.isHorizontal(),p=!1):s.type==="polar"&&(c=d.dim==="angle",p=!0);var _=r.hostModel,S=_.get("animationDuration");Gt(S)&&(S=S(null));var w=_.get("animationDelay")||0,A=Gt(w)?w(null):w;r.eachItemGraphicEl(function(D,L){var E=D;if(E){var R=[D.x,D.y],k=void 0,z=void 0,B=void 0;if(u)if(p){var G=u,W=s.pointToCoord(R);c?(k=G.startAngle,z=G.endAngle,B=-W[1]/180*Math.PI):(k=G.r0,z=G.r,B=W[0])}else{var Y=u;c?(k=Y.x,z=Y.x+Y.width,B=D.x):(k=Y.y+Y.height,z=Y.y,B=D.y)}var q=z===k?0:(B-k)/(z-k);m&&(q=1-q);var J=Gt(w)?w(L):S*q+A,tt=E.getSymbolPath(),et=tt.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:J}),et&&et.animateFrom({style:{opacity:0}},{duration:300,delay:J}),tt.disableLabelAnimation=!0}})},i.prototype._initOrUpdateEndLabel=function(r,s,u){var c=r.getModel("endLabel");if(gZ(r)){var p=r.getData(),d=this._polyline,m=p.getLayout("points");if(!m){d.removeTextContent(),this._endLabel=null;return}var _=this._endLabel;_||(_=this._endLabel=new er({z2:200}),_.ignoreClip=!0,d.setTextContent(this._endLabel),d.disableLabelAnimation=!0);var S=MTt(m);S>=0&&(ia(d,zi(r,"endLabel"),{inheritColor:u,labelFetcher:r,labelDataIndex:S,defaultText:function(w,A,D){return D!=null?rZ(p,D):Bd(p,w)},enableTextSetter:!0},ITt(c,s)),d.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},i.prototype._endLabelOnDuring=function(r,s,u,c,p,d,m){var _=this._endLabel,S=this._polyline;if(_){r<1&&c.originalX==null&&(c.originalX=_.x,c.originalY=_.y);var w=u.getLayout("points"),A=u.hostModel,D=A.get("connectNulls"),L=d.get("precision"),E=d.get("distance")||0,R=m.getBaseAxis(),k=R.isHorizontal(),z=R.inverse,B=s.shape,G=z?k?B.x:B.y+B.height:k?B.x+B.width:B.y,W=(k?E:0)*(z?-1:1),Y=(k?0:-E)*(z?-1:1),q=k?"x":"y",J=LTt(w,G,q),tt=J.range,et=tt[1]-tt[0],it=void 0;if(et>=1){if(et>1&&!D){var ut=dZ(w,tt[0]);_.attr({x:ut[0]+W,y:ut[1]+Y}),p&&(it=A.getRawValue(tt[0]))}else{var ut=S.getPointOn(G,q);ut&&_.attr({x:ut[0]+W,y:ut[1]+Y});var ct=A.getRawValue(tt[0]),ht=A.getRawValue(tt[1]);p&&(it=L4(u,L,ct,ht,J.t))}c.lastFrameIndex=tt[0]}else{var vt=r===1||c.lastFrameIndex>0?tt[0]:0,ut=dZ(w,vt);p&&(it=A.getRawValue(vt)),_.attr({x:ut[0]+W,y:ut[1]+Y})}if(p){var gt=dd(_);typeof gt.setLabelText=="function"&&gt.setLabelText(it)}}},i.prototype._doUpdateAnimation=function(r,s,u,c,p,d,m){var _=this._polyline,S=this._polygon,w=r.hostModel,A=_Tt(this._data,r,this._stackedOnPoints,s,this._coordSys,u,this._valueOrigin),D=A.current,L=A.stackedOnCurrent,E=A.next,R=A.stackedOnNext;if(p&&(L=Lf(A.stackedOnCurrent,A.current,u,p,m),D=Lf(A.current,null,u,p,m),R=Lf(A.stackedOnNext,A.next,u,p,m),E=Lf(A.next,null,u,p,m)),pZ(D,E)>3e3||S&&pZ(L,R)>3e3){_.stopAnimation(),_.setShape({points:E}),S&&(S.stopAnimation(),S.setShape({points:E,stackedOnPoints:R}));return}_.shape.__points=A.current,_.shape.points=D;var k={shape:{points:E}};A.current!==D&&(k.shape.__points=A.next),_.stopAnimation(),ir(_,k,w),S&&(S.setShape({points:D,stackedOnPoints:L}),S.stopAnimation(),ir(S,{shape:{stackedOnPoints:R}},w),_.shape.points!==S.shape.points&&(S.shape.points=_.shape.points));for(var z=[],B=A.status,G=0;G<B.length;G++){var W=B[G].cmd;if(W==="="){var Y=r.getItemGraphicEl(B[G].idx1);Y&&z.push({el:Y,ptIdx:G})}}_.animators&&_.animators.length&&_.animators[0].during(function(){S&&S.dirtyShape();for(var q=_.shape.__points,J=0;J<z.length;J++){var tt=z[J].el,et=z[J].ptIdx*2;tt.x=q[et],tt.y=q[et+1],tt.markRedraw()}})},i.prototype.remove=function(r){var s=this.group,u=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),u&&u.eachItemGraphicEl(function(c,p){c.__temp&&(s.remove(c),u.setItemGraphicEl(p,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},i.type="line",i}(vr);function K0(n,i){return{seriesType:n,plan:Cd(),reset:function(r){var s=r.getData(),u=r.coordinateSystem,c=r.pipelineContext,p=i||c.large;if(u){var d=Tt(u.dimensions,function(D){return s.mapDimension(D)}).slice(0,2),m=d.length,_=s.getCalculationInfo("stackResultDimension");au(s,d[0])&&(d[0]=_),au(s,d[1])&&(d[1]=_);var S=s.getStore(),w=s.getDimensionIndex(d[0]),A=s.getDimensionIndex(d[1]);return m&&{progress:function(D,L){for(var E=D.end-D.start,R=p&&ll(E*m),k=[],z=[],B=D.start,G=0;B<D.end;B++){var W=void 0;if(m===1){var Y=S.get(w,B);W=u.dataToPoint(Y,null,z)}else k[0]=S.get(w,B),k[1]=S.get(A,B),W=u.dataToPoint(k,null,z);p?(R[G++]=W[0],R[G++]=W[1]):L.setItemLayout(B,W.slice())}p&&L.setLayout("points",R)}}}}}}var PTt={average:function(n){for(var i=0,r=0,s=0;s<n.length;s++)isNaN(n[s])||(i+=n[s],r++);return r===0?NaN:i/r},sum:function(n){for(var i=0,r=0;r<n.length;r++)i+=n[r]||0;return i},max:function(n){for(var i=-1/0,r=0;r<n.length;r++)n[r]>i&&(i=n[r]);return isFinite(i)?i:NaN},min:function(n){for(var i=1/0,r=0;r<n.length;r++)n[r]<i&&(i=n[r]);return isFinite(i)?i:NaN},nearest:function(n){return n[0]}},RTt=function(n){return Math.round(n.length/2)};function mZ(n){return{seriesType:n,reset:function(i,r,s){var u=i.getData(),c=i.get("sampling"),p=i.coordinateSystem,d=u.count();if(d>10&&p.type==="cartesian2d"&&c){var m=p.getBaseAxis(),_=p.getOtherAxis(m),S=m.getExtent(),w=s.getDevicePixelRatio(),A=Math.abs(S[1]-S[0])*(w||1),D=Math.round(d/A);if(isFinite(D)&&D>1){c==="lttb"?i.setData(u.lttbDownSample(u.mapDimension(_.dim),1/D)):c==="minmax"&&i.setData(u.minmaxDownSample(u.mapDimension(_.dim),1/D));var L=void 0;kt(c)?L=PTt[c]:Gt(c)&&(L=c),L&&i.setData(u.downSample(u.mapDimension(_.dim),1/D,L,RTt))}}}}}function OTt(n){n.registerChartView(ETt),n.registerSeriesModel(dTt),n.registerLayout(K0("line",!0)),n.registerVisual({seriesType:"line",reset:function(i){var r=i.getData(),s=i.getModel("lineStyle").getLineStyle();s&&!s.stroke&&(s.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",s)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,mZ("line"))}var j0=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.getInitialData=function(r,s){return ol(null,this,{useEncodeDefaulter:!0})},i.prototype.getMarkerPosition=function(r,s,u){var c=this.coordinateSystem;if(c&&c.clampData){var p=c.clampData(r),d=c.dataToPoint(p);if(u)j(c.getAxes(),function(A,D){if(A.type==="category"&&s!=null){var L=A.getTicksCoords(),E=A.getTickModel().get("alignWithLabel"),R=p[D],k=s[D]==="x1"||s[D]==="y1";if(k&&!E&&(R+=1),L.length<2)return;if(L.length===2){d[D]=A.toGlobalCoord(A.getExtent()[k?1:0]);return}for(var z=void 0,B=void 0,G=1,W=0;W<L.length;W++){var Y=L[W].coord,q=W===L.length-1?L[W-1].tickValue+G:L[W].tickValue;if(q===R){B=Y;break}else if(q<R)z=Y;else if(z!=null&&q>R){B=(Y+z)/2;break}W===1&&(G=q-L[0].tickValue)}B==null&&(z?z&&(B=L[L.length-1].coord):B=L[0].coord),d[D]=A.toGlobalCoord(B)}});else{var m=this.getData(),_=m.getLayout("offset"),S=m.getLayout("size"),w=c.getBaseAxis().isHorizontal()?0:1;d[w]+=_+S/2}return d}return[NaN,NaN]},i.type="series.__base_bar__",i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},i}(Sr);Sr.registerClass(j0);var kTt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.getInitialData=function(){return ol(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},i.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},i.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),s=this.get("largeThreshold");return s>r&&(r=s),r},i.prototype.brushSelector=function(r,s,u){return u.rect(s.getItemLayout(r))},i.type="series.bar",i.dependencies=["grid","polar"],i.defaultOption=xf(j0.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),i}(j0),NTt=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Uw=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="sausage",s}return i.prototype.getDefaultShape=function(){return new NTt},i.prototype.buildPath=function(r,s){var u=s.cx,c=s.cy,p=Math.max(s.r0||0,0),d=Math.max(s.r,0),m=(d-p)*.5,_=p+m,S=s.startAngle,w=s.endAngle,A=s.clockwise,D=Math.PI*2,L=A?w-S<D:S-w<D;L||(S=w-(A?D:-D));var E=Math.cos(S),R=Math.sin(S),k=Math.cos(w),z=Math.sin(w);L?(r.moveTo(E*p+u,R*p+c),r.arc(E*_+u,R*_+c,m,-Math.PI+S,S,!A)):r.moveTo(E*d+u,R*d+c),r.arc(u,c,d,S,w,!A),r.arc(k*_+u,z*_+c,m,w-Math.PI*2,w-Math.PI,!A),p!==0&&r.arc(u,c,p,w,S,A)},i}(Xe);function zTt(n,i){i=i||{};var r=i.isRoundCap;return function(s,u,c){var p=u.position;if(!p||p instanceof Array)return l1(s,u,c);var d=n(p),m=u.distance!=null?u.distance:5,_=this.shape,S=_.cx,w=_.cy,A=_.r,D=_.r0,L=(A+D)/2,E=_.startAngle,R=_.endAngle,k=(E+R)/2,z=r?Math.abs(A-D)/2:0,B=Math.cos,G=Math.sin,W=S+A*B(E),Y=w+A*G(E),q="left",J="top";switch(d){case"startArc":W=S+(D-m)*B(k),Y=w+(D-m)*G(k),q="center",J="top";break;case"insideStartArc":W=S+(D+m)*B(k),Y=w+(D+m)*G(k),q="center",J="bottom";break;case"startAngle":W=S+L*B(E)+Gw(E,m+z,!1),Y=w+L*G(E)+Hw(E,m+z,!1),q="right",J="middle";break;case"insideStartAngle":W=S+L*B(E)+Gw(E,-m+z,!1),Y=w+L*G(E)+Hw(E,-m+z,!1),q="left",J="middle";break;case"middle":W=S+L*B(k),Y=w+L*G(k),q="center",J="middle";break;case"endArc":W=S+(A+m)*B(k),Y=w+(A+m)*G(k),q="center",J="bottom";break;case"insideEndArc":W=S+(A-m)*B(k),Y=w+(A-m)*G(k),q="center",J="top";break;case"endAngle":W=S+L*B(R)+Gw(R,m+z,!0),Y=w+L*G(R)+Hw(R,m+z,!0),q="left",J="middle";break;case"insideEndAngle":W=S+L*B(R)+Gw(R,-m+z,!0),Y=w+L*G(R)+Hw(R,-m+z,!0),q="right",J="middle";break;default:return l1(s,u,c)}return s=s||{},s.x=W,s.y=Y,s.align=q,s.verticalAlign=J,s}}function VTt(n,i,r,s){if(Ne(s)){n.setTextConfig({rotation:s});return}else if(wt(i)){n.setTextConfig({rotation:0});return}var u=n.shape,c=u.clockwise?u.startAngle:u.endAngle,p=u.clockwise?u.endAngle:u.startAngle,d=(c+p)/2,m,_=r(i);switch(_){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":m=d;break;case"startAngle":case"insideStartAngle":m=c;break;case"endAngle":case"insideEndAngle":m=p;break;default:n.setTextConfig({rotation:0});return}var S=Math.PI*1.5-m;_==="middle"&&S>Math.PI/2&&S<Math.PI*1.5&&(S-=Math.PI),n.setTextConfig({rotation:S})}function Gw(n,i,r){return i*Math.sin(n)*(r?-1:1)}function Hw(n,i,r){return i*Math.cos(n)*(r?1:-1)}function qh(n,i,r){var s=n.get("borderRadius");if(s==null)return r?{cornerRadius:0}:null;wt(s)||(s=[s,s,s,s]);var u=Math.abs(i.r||0-i.r0||0);return{cornerRadius:Tt(s,function(c){return hs(c,u)})}}var dR=Math.max,gR=Math.min;function BTt(n,i){var r=n.getArea&&n.getArea();if(Xh(n,"cartesian2d")){var s=n.getBaseAxis();if(s.type!=="category"||!s.onBand){var u=i.getLayout("bandWidth");s.isHorizontal()?(r.x-=u,r.width+=u*2):(r.y-=u,r.height+=u*2)}}return r}var FTt=function(n){e(i,n);function i(){var r=n.call(this)||this;return r.type=i.type,r._isFirstFrame=!0,r}return i.prototype.render=function(r,s,u,c){this._model=r,this._removeOnRenderedListener(u),this._updateDrawMode(r);var p=r.get("coordinateSystem");p==="cartesian2d"||p==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,s,u):this._renderNormal(r,s,u,c)):Yr("Only cartesian2d and polar supported for bar.")},i.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},i.prototype.incrementalRender=function(r,s){this._progressiveEls=[],this._incrementalRenderLarge(r,s)},i.prototype.eachRendered=function(r){_f(this._progressiveEls||this.group,r)},i.prototype._updateDrawMode=function(r){var s=r.pipelineContext.large;(this._isLargeDraw==null||s!==this._isLargeDraw)&&(this._isLargeDraw=s,this._clear())},i.prototype._renderNormal=function(r,s,u,c){var p=this.group,d=r.getData(),m=this._data,_=r.coordinateSystem,S=_.getBaseAxis(),w;_.type==="cartesian2d"?w=S.isHorizontal():_.type==="polar"&&(w=S.dim==="angle");var A=r.isAnimationEnabled()?r:null,D=UTt(r,_);D&&this._enableRealtimeSort(D,d,u);var L=r.get("clip",!0)||D,E=BTt(_,d);p.removeClipPath();var R=r.get("roundCap",!0),k=r.get("showBackground",!0),z=r.getModel("backgroundStyle"),B=z.get("borderRadius")||0,G=[],W=this._backgroundEls,Y=c&&c.isInitSort,q=c&&c.type==="changeAxisOrder";function J(it){var ut=Ww[_.type](d,it),ct=qTt(_,w,ut);return ct.useStyle(z.getItemStyle()),_.type==="cartesian2d"?ct.setShape("r",B):ct.setShape("cornerRadius",B),G[it]=ct,ct}d.diff(m).add(function(it){var ut=d.getItemModel(it),ct=Ww[_.type](d,it,ut);if(k&&J(it),!(!d.hasValue(it)||!bZ[_.type](ct))){var ht=!1;L&&(ht=yZ[_.type](E,ct));var vt=_Z[_.type](r,d,it,ct,w,A,S.model,!1,R);D&&(vt.forceLabelAnimation=!0),TZ(vt,d,it,ut,ct,r,w,_.type==="polar"),Y?vt.attr({shape:ct}):D?xZ(D,A,vt,ct,it,w,!1,!1):Vr(vt,{shape:ct},r,it),d.setItemGraphicEl(it,vt),p.add(vt),vt.ignore=ht}}).update(function(it,ut){var ct=d.getItemModel(it),ht=Ww[_.type](d,it,ct);if(k){var vt=void 0;W.length===0?vt=J(ut):(vt=W[ut],vt.useStyle(z.getItemStyle()),_.type==="cartesian2d"?vt.setShape("r",B):vt.setShape("cornerRadius",B),G[it]=vt);var gt=Ww[_.type](d,it),bt=MZ(w,gt,_);ir(vt,{shape:bt},A,it)}var St=m.getItemGraphicEl(ut);if(!d.hasValue(it)||!bZ[_.type](ht)){p.remove(St);return}var Ct=!1;if(L&&(Ct=yZ[_.type](E,ht),Ct&&p.remove(St)),St?ds(St):St=_Z[_.type](r,d,it,ht,w,A,S.model,!!St,R),D&&(St.forceLabelAnimation=!0),q){var Ot=St.getTextContent();if(Ot){var Vt=dd(Ot);Vt.prevValue!=null&&(Vt.prevValue=Vt.value)}}else TZ(St,d,it,ct,ht,r,w,_.type==="polar");Y?St.attr({shape:ht}):D?xZ(D,A,St,ht,it,w,!0,q):ir(St,{shape:ht},r,it,null),d.setItemGraphicEl(it,St),St.ignore=Ct,p.add(St)}).remove(function(it){var ut=m.getItemGraphicEl(it);ut&&h0(ut,r,it)}).execute();var tt=this._backgroundGroup||(this._backgroundGroup=new Te);tt.removeAll();for(var et=0;et<G.length;++et)tt.add(G[et]);p.add(tt),this._backgroundEls=G,this._data=d},i.prototype._renderLarge=function(r,s,u){this._clear(),CZ(r,this.group),this._updateLargeClip(r)},i.prototype._incrementalRenderLarge=function(r,s){this._removeBackground(),CZ(s,this.group,this._progressiveEls,!0)},i.prototype._updateLargeClip=function(r){var s=r.get("clip",!0)&&$0(r.coordinateSystem,!1,r),u=this.group;s?u.setClipPath(s):u.removeClipPath()},i.prototype._enableRealtimeSort=function(r,s,u){var c=this;if(s.count()){var p=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(s,r,u),this._isFirstFrame=!1;else{var d=function(m){var _=s.getItemGraphicEl(m),S=_&&_.shape;return S&&Math.abs(p.isHorizontal()?S.height:S.width)||0};this._onRendered=function(){c._updateSortWithinSameData(s,d,p,u)},u.getZr().on("rendered",this._onRendered)}}},i.prototype._dataSort=function(r,s,u){var c=[];return r.each(r.mapDimension(s.dim),function(p,d){var m=u(d);m=m??NaN,c.push({dataIndex:d,mappedValue:m,ordinalNumber:p})}),c.sort(function(p,d){return d.mappedValue-p.mappedValue}),{ordinalNumbers:Tt(c,function(p){return p.ordinalNumber})}},i.prototype._isOrderChangedWithinSameData=function(r,s,u){for(var c=u.scale,p=r.mapDimension(u.dim),d=Number.MAX_VALUE,m=0,_=c.getOrdinalMeta().categories.length;m<_;++m){var S=r.rawIndexOf(p,c.getRawOrdinalNumber(m)),w=S<0?Number.MIN_VALUE:s(r.indexOfRawIndex(S));if(w>d)return!0;d=w}return!1},i.prototype._isOrderDifferentInView=function(r,s){for(var u=s.scale,c=u.getExtent(),p=Math.max(0,c[0]),d=Math.min(c[1],u.getOrdinalMeta().categories.length-1);p<=d;++p)if(r.ordinalNumbers[p]!==u.getRawOrdinalNumber(p))return!0},i.prototype._updateSortWithinSameData=function(r,s,u,c){if(this._isOrderChangedWithinSameData(r,s,u)){var p=this._dataSort(r,u,s);this._isOrderDifferentInView(p,u)&&(this._removeOnRenderedListener(c),c.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",axisId:u.index,sortInfo:p}))}},i.prototype._dispatchInitSort=function(r,s,u){var c=s.baseAxis,p=this._dataSort(r,c,function(d){return r.get(r.mapDimension(s.otherAxis.dim),d)});u.dispatchAction({type:"changeAxisOrder",componentType:c.dim+"Axis",isInitSort:!0,axisId:c.index,sortInfo:p})},i.prototype.remove=function(r,s){this._clear(this._model),this._removeOnRenderedListener(s)},i.prototype.dispose=function(r,s){this._removeOnRenderedListener(s)},i.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},i.prototype._clear=function(r){var s=this.group,u=this._data;r&&r.isAnimationEnabled()&&u&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],u.eachItemGraphicEl(function(c){h0(c,r,Me(c).dataIndex)})):s.removeAll(),this._data=null,this._isFirstFrame=!0},i.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},i.type="bar",i}(vr),yZ={cartesian2d:function(n,i){var r=i.width<0?-1:1,s=i.height<0?-1:1;r<0&&(i.x+=i.width,i.width=-i.width),s<0&&(i.y+=i.height,i.height=-i.height);var u=n.x+n.width,c=n.y+n.height,p=dR(i.x,n.x),d=gR(i.x+i.width,u),m=dR(i.y,n.y),_=gR(i.y+i.height,c),S=d<p,w=_<m;return i.x=S&&p>u?d:p,i.y=w&&m>c?_:m,i.width=S?0:d-p,i.height=w?0:_-m,r<0&&(i.x+=i.width,i.width=-i.width),s<0&&(i.y+=i.height,i.height=-i.height),S||w},polar:function(n,i){var r=i.r0<=i.r?1:-1;if(r<0){var s=i.r;i.r=i.r0,i.r0=s}var u=gR(i.r,n.r),c=dR(i.r0,n.r0);i.r=u,i.r0=c;var p=u-c<0;if(r<0){var s=i.r;i.r=i.r0,i.r0=s}return p}},_Z={cartesian2d:function(n,i,r,s,u,c,p,d,m){var _=new tr({shape:st({},s),z2:1});if(_.__dataIndex=r,_.name="item",c){var S=_.shape,w=u?"height":"width";S[w]=0}return _},polar:function(n,i,r,s,u,c,p,d,m){var _=!u&&m?Uw:ga,S=new _({shape:s,z2:1});S.name="item";var w=wZ(u);if(S.calculateTextPosition=zTt(w,{isRoundCap:_===Uw}),c){var A=S.shape,D=u?"r":"endAngle",L={};A[D]=u?s.r0:s.startAngle,L[D]=s[D],(d?ir:Vr)(S,{shape:L},c)}return S}};function UTt(n,i){var r=n.get("realtimeSort",!0),s=i.getBaseAxis();if(r&&(s.type!=="category"&&Yr("`realtimeSort` will not work because this bar series is not based on a category axis."),i.type!=="cartesian2d"&&Yr("`realtimeSort` will not work because this bar series is not on cartesian2d.")),r&&s.type==="category"&&i.type==="cartesian2d")return{baseAxis:s,otherAxis:i.getOtherAxis(s)}}function xZ(n,i,r,s,u,c,p,d){var m,_;c?(_={x:s.x,width:s.width},m={y:s.y,height:s.height}):(_={y:s.y,height:s.height},m={x:s.x,width:s.width}),d||(p?ir:Vr)(r,{shape:m},i,u,null);var S=i?n.baseAxis.model:null;(p?ir:Vr)(r,{shape:_},S,u)}function SZ(n,i){for(var r=0;r<i.length;r++)if(!isFinite(n[i[r]]))return!0;return!1}var GTt=["x","y","width","height"],HTt=["cx","cy","r","startAngle","endAngle"],bZ={cartesian2d:function(n){return!SZ(n,GTt)},polar:function(n){return!SZ(n,HTt)}},Ww={cartesian2d:function(n,i,r){var s=n.getItemLayout(i),u=r?YTt(r,s):0,c=s.width>0?1:-1,p=s.height>0?1:-1;return{x:s.x+c*u/2,y:s.y+p*u/2,width:s.width-c*u,height:s.height-p*u}},polar:function(n,i,r){var s=n.getItemLayout(i);return{cx:s.cx,cy:s.cy,r0:s.r0,r:s.r,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}}};function WTt(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function wZ(n){return function(i){var r=i?"Arc":"Angle";return function(s){switch(s){case"start":case"insideStart":case"end":case"insideEnd":return s+r;default:return s}}}(n)}function TZ(n,i,r,s,u,c,p,d){var m=i.getItemVisual(r,"style");if(d){if(!c.get("roundCap")){var S=n.shape,w=qh(s.getModel("itemStyle"),S,!0);st(S,w),n.setShape(S)}}else{var _=s.get(["itemStyle","borderRadius"])||0;n.setShape("r",_)}n.useStyle(m);var A=s.getShallow("cursor");A&&n.attr("cursor",A);var D=d?p?u.r>=u.r0?"endArc":"startArc":u.endAngle>=u.startAngle?"endAngle":"startAngle":p?u.height>=0?"bottom":"top":u.width>=0?"right":"left",L=zi(s);ia(n,L,{labelFetcher:c,labelDataIndex:r,defaultText:Bd(c.getData(),r),inheritColor:m.fill,defaultOpacity:m.opacity,defaultOutsidePosition:D});var E=n.getTextContent();if(d&&E){var R=s.get(["label","position"]);n.textConfig.inside=R==="middle"?!0:null,VTt(n,R==="outside"?D:R,wZ(p),s.get(["label","rotate"]))}K6(E,L,c.getRawValue(r),function(z){return rZ(i,z)});var k=s.getModel(["emphasis"]);Zr(n,k.get("focus"),k.get("blurScope"),k.get("disabled")),ra(n,s),WTt(u)&&(n.style.fill="none",n.style.stroke="none",j(n.states,function(z){z.style&&(z.style.fill=z.style.stroke="none")}))}function YTt(n,i){var r=n.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var s=n.get(["itemStyle","borderWidth"])||0,u=isNaN(i.width)?Number.MAX_VALUE:Math.abs(i.width),c=isNaN(i.height)?Number.MAX_VALUE:Math.abs(i.height);return Math.min(s,u,c)}var ZTt=function(){function n(){}return n}(),AZ=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="largeBar",s}return i.prototype.getDefaultShape=function(){return new ZTt},i.prototype.buildPath=function(r,s){for(var u=s.points,c=this.baseDimIdx,p=1-this.baseDimIdx,d=[],m=[],_=this.barWidth,S=0;S<u.length;S+=3)m[c]=_,m[p]=u[S+2],d[c]=u[S+c],d[p]=u[S+p],r.rect(d[0],d[1],m[0],m[1])},i}(Xe);function CZ(n,i,r,s){var u=n.getData(),c=u.getLayout("valueAxisHorizontal")?1:0,p=u.getLayout("largeDataIndices"),d=u.getLayout("size"),m=n.getModel("backgroundStyle"),_=u.getLayout("largeBackgroundPoints");if(_){var S=new AZ({shape:{points:_},incremental:!!s,silent:!0,z2:0});S.baseDimIdx=c,S.largeDataIndices=p,S.barWidth=d,S.useStyle(m.getItemStyle()),i.add(S),r&&r.push(S)}var w=new AZ({shape:{points:u.getLayout("largePoints")},incremental:!!s,ignoreCoarsePointer:!0,z2:1});w.baseDimIdx=c,w.largeDataIndices=p,w.barWidth=d,i.add(w),w.useStyle(u.getVisual("style")),w.style.stroke=null,Me(w).seriesIndex=n.seriesIndex,n.get("silent")||(w.on("mousedown",DZ),w.on("mousemove",DZ)),r&&r.push(w)}var DZ=nw(function(n){var i=this,r=XTt(i,n.offsetX,n.offsetY);Me(i).dataIndex=r>=0?r:null},30,!1);function XTt(n,i,r){for(var s=n.baseDimIdx,u=1-s,c=n.shape.points,p=n.largeDataIndices,d=[],m=[],_=n.barWidth,S=0,w=c.length/3;S<w;S++){var A=S*3;if(m[s]=_,m[u]=c[A+2],d[s]=c[A+s],d[u]=c[A+u],m[u]<0&&(d[u]+=m[u],m[u]=-m[u]),i>=d[0]&&i<=d[0]+m[0]&&r>=d[1]&&r<=d[1]+m[1])return p[S]}return-1}function MZ(n,i,r){if(Xh(r,"cartesian2d")){var s=i,u=r.getArea();return{x:n?s.x:u.x,y:n?u.y:s.y,width:n?s.width:u.width,height:n?u.height:s.height}}else{var u=r.getArea(),c=i;return{cx:u.cx,cy:u.cy,r0:n?u.r0:c.r0,r:n?u.r:c.r,startAngle:n?c.startAngle:0,endAngle:n?c.endAngle:Math.PI*2}}}function qTt(n,i,r){var s=n.type==="polar"?ga:tr;return new s({shape:MZ(i,r,n),silent:!0,z2:0})}function $Tt(n){n.registerChartView(FTt),n.registerSeriesModel(kTt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ee(Y9,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Z9("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,mZ("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(i,r){var s=i.componentType||"series";r.eachComponent({mainType:s,query:i},function(u){i.sortInfo&&u.axis.setCategorySortInfo(i.sortInfo)})})}var LZ=Math.PI*2,Yw=Math.PI/180;function IZ(n,i){return yi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function EZ(n,i){var r=IZ(n,i),s=n.get("center"),u=n.get("radius");wt(u)||(u=[0,u]);var c=Wt(r.width,i.getWidth()),p=Wt(r.height,i.getHeight()),d=Math.min(c,p),m=Wt(u[0],d/2),_=Wt(u[1],d/2),S,w,A=n.coordinateSystem;if(A){var D=A.dataToPoint(s);S=D[0]||0,w=D[1]||0}else wt(s)||(s=[s,s]),S=Wt(s[0],c)+r.x,w=Wt(s[1],p)+r.y;return{cx:S,cy:w,r0:m,r:_}}function KTt(n,i,r){i.eachSeriesByType(n,function(s){var u=s.getData(),c=u.mapDimension("value"),p=IZ(s,r),d=EZ(s,r),m=d.cx,_=d.cy,S=d.r,w=d.r0,A=-s.get("startAngle")*Yw,D=s.get("endAngle"),L=s.get("padAngle")*Yw;D=D==="auto"?A-LZ:-D*Yw;var E=s.get("minAngle")*Yw,R=E+L,k=0;u.each(c,function(bt){!isNaN(bt)&&k++});var z=u.getSum(c),B=Math.PI/(z||k)*2,G=s.get("clockwise"),W=s.get("roseType"),Y=s.get("stillShowZeroSum"),q=u.getDataExtent(c);q[0]=0;var J=G?1:-1,tt=[A,D],et=J*L/2;qE(tt,!G),A=tt[0],D=tt[1];var it=PZ(s);it.startAngle=A,it.endAngle=D,it.clockwise=G;var ut=Math.abs(D-A),ct=ut,ht=0,vt=A;if(u.setLayout({viewRect:p,r:S}),u.each(c,function(bt,St){var Ct;if(isNaN(bt)){u.setItemLayout(St,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:G,cx:m,cy:_,r0:w,r:W?NaN:S});return}W!=="area"?Ct=z===0&&Y?B:bt*B:Ct=ut/k,Ct<R?(Ct=R,ct-=R):ht+=bt;var Ot=vt+J*Ct,Vt=0,$t=0;L>Ct?(Vt=vt+J*Ct/2,$t=Vt):(Vt=vt+et,$t=Ot-et),u.setItemLayout(St,{angle:Ct,startAngle:Vt,endAngle:$t,clockwise:G,cx:m,cy:_,r0:w,r:W?ur(bt,q,[w,S]):S}),vt=Ot}),ct<LZ&&k)if(ct<=.001){var gt=ut/k;u.each(c,function(bt,St){if(!isNaN(bt)){var Ct=u.getItemLayout(St);Ct.angle=gt;var Ot=0,Vt=0;gt<L?(Ot=A+J*(St+1/2)*gt,Vt=Ot):(Ot=A+J*St*gt+et,Vt=A+J*(St+1)*gt-et),Ct.startAngle=Ot,Ct.endAngle=Vt}})}else B=ct/ht,vt=A,u.each(c,function(bt,St){if(!isNaN(bt)){var Ct=u.getItemLayout(St),Ot=Ct.angle===R?R:bt*B,Vt=0,$t=0;Ot<L?(Vt=vt+J*Ot/2,$t=Vt):(Vt=vt+et,$t=vt+J*Ot-et),Ct.startAngle=Vt,Ct.endAngle=$t,vt+=J*Ot}})})}var PZ=rr();function J0(n){return{seriesType:n,reset:function(i,r){var s=r.findComponents({mainType:"legend"});if(!(!s||!s.length)){var u=i.getData();u.filterSelf(function(c){for(var p=u.getName(c),d=0;d<s.length;d++)if(!s[d].isSelected(p))return!1;return!0})}}}}var jTt=Math.PI/180;function RZ(n,i,r,s,u,c,p,d,m,_){if(n.length<2)return;function S(E){for(var R=E.rB,k=R*R,z=0;z<E.list.length;z++){var B=E.list[z],G=Math.abs(B.label.y-r),W=s+B.len,Y=W*W,q=Math.sqrt(Math.abs((1-G*G/k)*Y)),J=i+(q+B.len2)*u,tt=J-B.label.x,et=B.targetTextWidth-tt*u;OZ(B,et,!0),B.label.x=J}}function w(E){for(var R={list:[],maxY:0},k={list:[],maxY:0},z=0;z<E.length;z++)if(E[z].labelAlignTo==="none"){var B=E[z],G=B.label.y>r?k:R,W=Math.abs(B.label.y-r);if(W>=G.maxY){var Y=B.label.x-i-B.len2*u,q=s+B.len,J=Math.abs(Y)<q?Math.sqrt(W*W/(1-Y*Y/q/q)):q;G.rB=J,G.maxY=W}G.list.push(B)}S(R),S(k)}for(var A=n.length,D=0;D<A;D++)if(n[D].position==="outer"&&n[D].labelAlignTo==="labelLine"){var L=n[D].label.x-_;n[D].linePoints[1][0]+=L,n[D].label.x=_}b7(n,m,m+p)&&w(n)}function JTt(n,i,r,s,u,c,p,d){for(var m=[],_=[],S=Number.MAX_VALUE,w=-Number.MAX_VALUE,A=0;A<n.length;A++){var D=n[A].label;mR(n[A])||(D.x<i?(S=Math.min(S,D.x),m.push(n[A])):(w=Math.max(w,D.x),_.push(n[A])))}for(var A=0;A<n.length;A++){var L=n[A];if(!mR(L)&&L.linePoints){if(L.labelStyleWidth!=null)continue;var D=L.label,E=L.linePoints,R=void 0;L.labelAlignTo==="edge"?D.x<i?R=E[2][0]-L.labelDistance-p-L.edgeDistance:R=p+u-L.edgeDistance-E[2][0]-L.labelDistance:L.labelAlignTo==="labelLine"?D.x<i?R=S-p-L.bleedMargin:R=p+u-w-L.bleedMargin:D.x<i?R=D.x-p-L.bleedMargin:R=p+u-D.x-L.bleedMargin,L.targetTextWidth=R,OZ(L,R)}}RZ(_,i,r,s,1,u,c,p,d,w),RZ(m,i,r,s,-1,u,c,p,d,S);for(var A=0;A<n.length;A++){var L=n[A];if(!mR(L)&&L.linePoints){var D=L.label,E=L.linePoints,k=L.labelAlignTo==="edge",z=D.style.padding,B=z?z[1]+z[3]:0,G=D.style.backgroundColor?0:B,W=L.rect.width+G,Y=E[1][0]-E[2][0];k?D.x<i?E[2][0]=p+L.edgeDistance+W+L.labelDistance:E[2][0]=p+u-L.edgeDistance-W-L.labelDistance:(D.x<i?E[2][0]=D.x+L.labelDistance:E[2][0]=D.x-L.labelDistance,E[1][0]=E[2][0]+Y),E[1][1]=E[2][1]=D.y}}}function OZ(n,i,r){if(r===void 0&&(r=!1),n.labelStyleWidth==null){var s=n.label,u=s.style,c=n.rect,p=u.backgroundColor,d=u.padding,m=d?d[1]+d[3]:0,_=u.overflow,S=c.width+(p?0:m);if(i<S||r){var w=c.height;if(_&&_.match("break")){s.setStyle("backgroundColor",null),s.setStyle("width",i-m);var A=s.getBoundingRect();s.setStyle("width",Math.ceil(A.width)),s.setStyle("backgroundColor",p)}else{var D=i-m,L=i<S?D:r?D>n.unconstrainedWidth?null:D:null;s.setStyle("width",L)}var E=s.getBoundingRect();c.width=E.width;var R=(s.style.margin||0)+2.1;c.height=E.height+R,c.y-=(c.height-w)/2}}}function mR(n){return n.position==="center"}function QTt(n){var i=n.getData(),r=[],s,u,c=!1,p=(n.get("minShowLabelAngle")||0)*jTt,d=i.getLayout("viewRect"),m=i.getLayout("r"),_=d.width,S=d.x,w=d.y,A=d.height;function D(Y){Y.ignore=!0}function L(Y){if(!Y.ignore)return!0;for(var q in Y.states)if(Y.states[q].ignore===!1)return!0;return!1}i.each(function(Y){var q=i.getItemGraphicEl(Y),J=q.shape,tt=q.getTextContent(),et=q.getTextGuideLine(),it=i.getItemModel(Y),ut=it.getModel("label"),ct=ut.get("position")||it.get(["emphasis","label","position"]),ht=ut.get("distanceToLabelLine"),vt=ut.get("alignTo"),gt=Wt(ut.get("edgeDistance"),_),bt=ut.get("bleedMargin"),St=it.getModel("labelLine"),Ct=St.get("length");Ct=Wt(Ct,_);var Ot=St.get("length2");if(Ot=Wt(Ot,_),Math.abs(J.endAngle-J.startAngle)<p){j(tt.states,D),tt.ignore=!0,et&&(j(et.states,D),et.ignore=!0);return}if(L(tt)){var Vt=(J.startAngle+J.endAngle)/2,$t=Math.cos(Vt),pe=Math.sin(Vt),me,Pe,br,ti;s=J.cx,u=J.cy;var Ge=ct==="inside"||ct==="inner";if(ct==="center")me=J.cx,Pe=J.cy,ti="center";else{var Se=(Ge?(J.r+J.r0)/2*$t:J.r*$t)+s,Ze=(Ge?(J.r+J.r0)/2*pe:J.r*pe)+u;if(me=Se+$t*3,Pe=Ze+pe*3,!Ge){var ce=Se+$t*(Ct+m-J.r),Re=Ze+pe*(Ct+m-J.r),Or=ce+($t<0?-1:1)*Ot,dr=Re;vt==="edge"?me=$t<0?S+gt:S+_-gt:me=Or+($t<0?-ht:ht),Pe=dr,br=[[Se,Ze],[ce,Re],[Or,dr]]}ti=Ge?"center":vt==="edge"?$t>0?"right":"left":$t>0?"left":"right"}var Mr=Math.PI,Ur=0,Ui=ut.get("rotate");if(Ne(Ui))Ur=Ui*(Mr/180);else if(ct==="center")Ur=0;else if(Ui==="radial"||Ui===!0){var Fn=$t<0?-Vt+Mr:-Vt;Ur=Fn}else if(Ui==="tangential"&&ct!=="outside"&&ct!=="outer"){var on=Math.atan2($t,pe);on<0&&(on=Mr*2+on);var lp=pe>0;lp&&(on=Mr+on),Ur=on-Mr}if(c=!!Ur,tt.x=me,tt.y=Pe,tt.rotation=Ur,tt.setStyle({verticalAlign:"middle"}),Ge){tt.setStyle({align:ti});var nN=tt.states.select;nN&&(nN.x+=tt.x,nN.y+=tt.y)}else{var Vf=tt.getBoundingRect().clone();Vf.applyTransform(tt.getComputedTransform());var HJ=(tt.style.margin||0)+2.1;Vf.y-=HJ/2,Vf.height+=HJ,r.push({label:tt,labelLine:et,position:ct,len:Ct,len2:Ot,minTurnAngle:St.get("minTurnAngle"),maxSurfaceAngle:St.get("maxSurfaceAngle"),surfaceNormal:new ze($t,pe),linePoints:br,textAlign:ti,labelDistance:ht,labelAlignTo:vt,edgeDistance:gt,bleedMargin:bt,rect:Vf,unconstrainedWidth:Vf.width,labelStyleWidth:tt.style.width})}q.setTextConfig({inside:Ge})}}),!c&&n.get("avoidLabelOverlap")&&JTt(r,s,u,m,_,A,S,w);for(var E=0;E<r.length;E++){var R=r[E],k=R.label,z=R.labelLine,B=isNaN(k.x)||isNaN(k.y);if(k){k.setStyle({align:R.textAlign}),B&&(j(k.states,D),k.ignore=!0);var G=k.states.select;G&&(G.x+=k.x,G.y+=k.y)}if(z){var W=R.linePoints;B||!W?(j(z.states,D),z.ignore=!0):(_7(W,R.minTurnAngle),bwt(W,R.surfaceNormal,R.maxSurfaceAngle),z.setShape({points:W}),k.__hostTarget.textGuideLineConfig={anchor:new ze(W[0][0],W[0][1])})}}}var tAt=function(n){e(i,n);function i(r,s,u){var c=n.call(this)||this;c.z2=2;var p=new er;return c.setTextContent(p),c.updateData(r,s,u,!0),c}return i.prototype.updateData=function(r,s,u,c){var p=this,d=r.hostModel,m=r.getItemModel(s),_=m.getModel("emphasis"),S=r.getItemLayout(s),w=st(qh(m.getModel("itemStyle"),S,!0),S);if(isNaN(w.startAngle)){p.setShape(w);return}if(c){p.setShape(w);var A=d.getShallow("animationType");d.ecModel.ssr?(Vr(p,{scaleX:0,scaleY:0},d,{dataIndex:s,isFrom:!0}),p.originX=w.cx,p.originY=w.cy):A==="scale"?(p.shape.r=S.r0,Vr(p,{shape:{r:S.r}},d,s)):u!=null?(p.setShape({startAngle:u,endAngle:u}),Vr(p,{shape:{startAngle:S.startAngle,endAngle:S.endAngle}},d,s)):(p.shape.endAngle=S.startAngle,ir(p,{shape:{endAngle:S.endAngle}},d,s))}else ds(p),ir(p,{shape:w},d,s);p.useStyle(r.getItemVisual(s,"style")),ra(p,m);var D=(S.startAngle+S.endAngle)/2,L=d.get("selectedOffset"),E=Math.cos(D)*L,R=Math.sin(D)*L,k=m.getShallow("cursor");k&&p.attr("cursor",k),this._updateLabel(d,r,s),p.ensureState("emphasis").shape=st({r:S.r+(_.get("scale")&&_.get("scaleSize")||0)},qh(_.getModel("itemStyle"),S)),st(p.ensureState("select"),{x:E,y:R,shape:qh(m.getModel(["select","itemStyle"]),S)}),st(p.ensureState("blur"),{shape:qh(m.getModel(["blur","itemStyle"]),S)});var z=p.getTextGuideLine(),B=p.getTextContent();z&&st(z.ensureState("select"),{x:E,y:R}),st(B.ensureState("select"),{x:E,y:R}),Zr(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},i.prototype._updateLabel=function(r,s,u){var c=this,p=s.getItemModel(u),d=p.getModel("labelLine"),m=s.getItemVisual(u,"style"),_=m&&m.fill,S=m&&m.opacity;ia(c,zi(p),{labelFetcher:s.hostModel,labelDataIndex:u,inheritColor:_,defaultOpacity:S,defaultText:r.getFormattedLabel(u,"normal")||s.getName(u)});var w=c.getTextContent();c.setTextConfig({position:null,rotation:null}),w.attr({z2:10});var A=r.get(["label","position"]);if(A!=="outside"&&A!=="outer")c.removeTextGuideLine();else{var D=this.getTextGuideLine();D||(D=new ya,this.setTextGuideLine(D)),K2(this,j2(p),{stroke:_,opacity:En(d.get(["lineStyle","opacity"]),S,1)})}},i}(ga),eAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return i.prototype.render=function(r,s,u,c){var p=r.getData(),d=this._data,m=this.group,_;if(!d&&p.count()>0){for(var S=p.getItemLayout(0),w=1;isNaN(S&&S.startAngle)&&w<p.count();++w)S=p.getItemLayout(w);S&&(_=S.startAngle)}if(this._emptyCircleSector&&m.remove(this._emptyCircleSector),p.count()===0&&r.get("showEmptyCircle")){var A=PZ(r),D=new ga({shape:st(EZ(r,u),A)});D.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=D,m.add(D)}p.diff(d).add(function(L){var E=new tAt(p,L,_);p.setItemGraphicEl(L,E),m.add(E)}).update(function(L,E){var R=d.getItemGraphicEl(E);R.updateData(p,L,_),R.off("click"),m.add(R),p.setItemGraphicEl(L,R)}).remove(function(L){var E=d.getItemGraphicEl(L);h0(E,r,L)}).execute(),QTt(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=p)},i.prototype.dispose=function(){},i.prototype.containPoint=function(r,s){var u=s.getData(),c=u.getItemLayout(0);if(c){var p=r[0]-c.cx,d=r[1]-c.cy,m=Math.sqrt(p*p+d*d);return m<=c.r&&m>=c.r0}},i.type="pie",i}(vr);function Fd(n,i,r){i=wt(i)&&{coordDimensions:i}||st({encodeDefine:n.getEncode()},i);var s=n.getSource(),u=Od(s,i).dimensions,c=new wa(u,n);return c.initData(s,r),c}var Q0=function(){function n(i,r){this._getDataWithEncodedVisual=i,this._getRawData=r}return n.prototype.getAllNames=function(){var i=this._getRawData();return i.mapArray(i.getName)},n.prototype.containName=function(i){var r=this._getRawData();return r.indexOfName(i)>=0},n.prototype.indexOfName=function(i){var r=this._getDataWithEncodedVisual();return r.indexOfName(i)},n.prototype.getItemVisual=function(i,r){var s=this._getDataWithEncodedVisual();return s.getItemVisual(i,r)},n}(),rAt=rr(),iAt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.init=function(r){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q0(Mt(this.getData,this),Mt(this.getRawData,this)),this._defaultLabelLine(r)},i.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},i.prototype.getInitialData=function(){return Fd(this,{coordDimensions:["value"],encodeDefaulter:ee(VP,this)})},i.prototype.getDataParams=function(r){var s=this.getData(),u=rAt(s),c=u.seats;if(!c){var p=[];s.each(s.mapDimension("value"),function(m){p.push(m)}),c=u.seats=v4(p,s.hostModel.get("percentPrecision"))}var d=n.prototype.getDataParams.call(this,r);return d.percent=c[r]||0,d.$vars.push("percent"),d},i.prototype._defaultLabelLine=function(r){nh(r,"labelLine",["show"]);var s=r.labelLine,u=r.emphasis.labelLine;s.show=s.show&&r.label.show,u.show=u.show&&r.emphasis.label.show},i.type="series.pie",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},i}(Sr);function aAt(n){return{seriesType:n,reset:function(i,r){var s=i.getData();s.filterSelf(function(u){var c=s.mapDimension("value"),p=s.get(c,u);return!(Ne(p)&&!isNaN(p)&&p<0)})}}}function nAt(n){n.registerChartView(eAt),n.registerSeriesModel(iAt),V8("pie",n.registerAction),n.registerLayout(ee(KTt,"pie")),n.registerProcessor(J0("pie")),n.registerProcessor(aAt("pie"))}var oAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r}return i.prototype.getInitialData=function(r,s){return ol(null,this,{useEncodeDefaulter:!0})},i.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},i.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},i.prototype.brushSelector=function(r,s,u){return u.point(s.getItemLayout(r))},i.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},i.type="series.scatter",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},i}(Sr),kZ=4,sAt=function(){function n(){}return n}(),lAt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s._off=0,s.hoverDataIdx=-1,s}return i.prototype.getDefaultShape=function(){return new sAt},i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.buildPath=function(r,s){var u=s.points,c=s.size,p=this.symbolProxy,d=p.shape,m=r.getContext?r.getContext():r,_=m&&c[0]<kZ,S=this.softClipShape,w;if(_){this._ctx=m;return}for(this._ctx=null,w=this._off;w<u.length;){var A=u[w++],D=u[w++];isNaN(A)||isNaN(D)||S&&!S.contain(A,D)||(d.x=A-c[0]/2,d.y=D-c[1]/2,d.width=c[0],d.height=c[1],p.buildPath(r,d,!0))}this.incremental&&(this._off=w,this.notClear=!0)},i.prototype.afterBrush=function(){var r=this.shape,s=r.points,u=r.size,c=this._ctx,p=this.softClipShape,d;if(c){for(d=this._off;d<s.length;){var m=s[d++],_=s[d++];isNaN(m)||isNaN(_)||p&&!p.contain(m,_)||c.fillRect(m-u[0]/2,_-u[1]/2,u[0],u[1])}this.incremental&&(this._off=d,this.notClear=!0)}},i.prototype.findDataIndex=function(r,s){for(var u=this.shape,c=u.points,p=u.size,d=Math.max(p[0],4),m=Math.max(p[1],4),_=c.length/2-1;_>=0;_--){var S=_*2,w=c[S]-d/2,A=c[S+1]-m/2;if(r>=w&&s>=A&&r<=w+d&&s<=A+m)return _}return-1},i.prototype.contain=function(r,s){var u=this.transformCoordToLocal(r,s),c=this.getBoundingRect();if(r=u[0],s=u[1],c.contain(r,s)){var p=this.hoverDataIdx=this.findDataIndex(r,s);return p>=0}return this.hoverDataIdx=-1,!1},i.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var s=this.shape,u=s.points,c=s.size,p=c[0],d=c[1],m=1/0,_=1/0,S=-1/0,w=-1/0,A=0;A<u.length;){var D=u[A++],L=u[A++];m=Math.min(D,m),S=Math.max(D,S),_=Math.min(L,_),w=Math.max(L,w)}r=this._rect=new Ve(m-p/2,_-d/2,S-m+p,w-_+d)}return r},i}(Xe),uAt=function(){function n(){this.group=new Te}return n.prototype.updateData=function(i,r){this._clear();var s=this._create();s.setShape({points:i.getLayout("points")}),this._setCommon(s,i,r)},n.prototype.updateLayout=function(i){var r=i.getLayout("points");this.group.eachChild(function(s){if(s.startIndex!=null){var u=(s.endIndex-s.startIndex)*2,c=s.startIndex*4*2;r=new Float32Array(r.buffer,c,u)}s.setShape("points",r),s.reset()})},n.prototype.incrementalPrepareUpdate=function(i){this._clear()},n.prototype.incrementalUpdate=function(i,r,s){var u=this._newAdded[0],c=r.getLayout("points"),p=u&&u.shape.points;if(p&&p.length<2e4){var d=p.length,m=new Float32Array(d+c.length);m.set(p),m.set(c,d),u.endIndex=i.end,u.setShape({points:m})}else{this._newAdded=[];var _=this._create();_.startIndex=i.start,_.endIndex=i.end,_.incremental=!0,_.setShape({points:c}),this._setCommon(_,r,s)}},n.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},n.prototype._create=function(){var i=new lAt({cursor:"default"});return i.ignoreCoarsePointer=!0,this.group.add(i),this._newAdded.push(i),i},n.prototype._setCommon=function(i,r,s){var u=r.hostModel;s=s||{};var c=r.getVisual("symbolSize");i.setShape("size",c instanceof Array?c:[c,c]),i.softClipShape=s.clipShape||null,i.symbolProxy=li(r.getVisual("symbol"),0,0,0,0),i.setColor=i.symbolProxy.setColor;var p=i.shape.size[0]<kZ;i.useStyle(u.getModel("itemStyle").getItemStyle(p?["color","shadowBlur","shadowColor"]:["color"]));var d=r.getVisual("style"),m=d&&d.fill;m&&i.setColor(m);var _=Me(i);_.seriesIndex=u.seriesIndex,i.on("mousemove",function(S){_.dataIndex=null;var w=i.hoverDataIdx;w>=0&&(_.dataIndex=w+(i.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),fAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=r.getData(),p=this._updateSymbolDraw(c,r);p.updateData(c,{clipShape:this._getClipShape(r)}),this._finished=!0},i.prototype.incrementalPrepareRender=function(r,s,u){var c=r.getData(),p=this._updateSymbolDraw(c,r);p.incrementalPrepareUpdate(c),this._finished=!1},i.prototype.incrementalRender=function(r,s,u){this._symbolDraw.incrementalUpdate(r,s.getData(),{clipShape:this._getClipShape(s)}),this._finished=r.end===s.getData().count()},i.prototype.updateTransform=function(r,s,u){var c=r.getData();if(this.group.dirty(),!this._finished||c.count()>1e4)return{update:!0};var p=K0("").reset(r,s,u);p.progress&&p.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout(c)},i.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},i.prototype._getClipShape=function(r){if(r.get("clip",!0)){var s=r.coordinateSystem;return s&&s.getArea&&s.getArea(.1)}},i.prototype._updateSymbolDraw=function(r,s){var u=this._symbolDraw,c=s.pipelineContext,p=c.large;return(!u||p!==this._isLargeDraw)&&(u&&u.remove(),u=this._symbolDraw=p?new uAt:new q0,this._isLargeDraw=p,this.group.removeAll()),this.group.add(u.group),u},i.prototype.remove=function(r,s){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},i.prototype.dispose=function(){},i.type="scatter",i}(vr),cAt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.type="grid",i.dependencies=["xAxis","yAxis"],i.layoutMode="box",i.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},i}(We),yR=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mi).models[0]},i.type="cartesian2dAxis",i}(We);qt(yR,zd);var NZ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},hAt=pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},NZ),_R=pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},NZ),pAt=pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_R),vAt=dt({logBase:10},_R),zZ={category:hAt,value:_R,time:pAt,log:vAt},dAt={value:1,category:1,time:1,log:1};function Ud(n,i,r,s){j(dAt,function(u,c){var p=pt(pt({},zZ[c],!0),s,!0),d=function(m){e(_,m);function _(){var S=m!==null&&m.apply(this,arguments)||this;return S.type=i+"Axis."+c,S}return _.prototype.mergeDefaultAndTheme=function(S,w){var A=x0(this),D=A?xd(S):{},L=w.getTheme();pt(S,L.get(c+"Axis")),pt(S,this.getDefaultOption()),S.type=VZ(S),A&&Sf(S,D,A)},_.prototype.optionUpdated=function(){var S=this.option;S.type==="category"&&(this.__ordinalMeta=N2.createByAxisModel(this))},_.prototype.getCategories=function(S){var w=this.option;if(w.type==="category")return S?w.data:this.__ordinalMeta.categories},_.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},_.type=i+"Axis."+c,_.defaultOption=p,_}(r);n.registerComponentModel(d)}),n.registerSubTypeDefaulter(i+"Axis",VZ)}function VZ(n){return n.type||(n.data?"category":"value")}var gAt=function(){function n(i){this.type="cartesian",this._dimList=[],this._axes={},this.name=i||""}return n.prototype.getAxis=function(i){return this._axes[i]},n.prototype.getAxes=function(){return Tt(this._dimList,function(i){return this._axes[i]},this)},n.prototype.getAxesByScale=function(i){return i=i.toLowerCase(),jt(this.getAxes(),function(r){return r.scale.type===i})},n.prototype.addAxis=function(i){var r=i.dim;this._axes[r]=i,this._dimList.push(r)},n}(),xR=["x","y"];function BZ(n){return n.type==="interval"||n.type==="time"}var mAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=xR,r}return i.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,s=this.getAxis("y").scale;if(!(!BZ(r)||!BZ(s))){var u=r.getExtent(),c=s.getExtent(),p=this.dataToPoint([u[0],c[0]]),d=this.dataToPoint([u[1],c[1]]),m=u[1]-u[0],_=c[1]-c[0];if(!(!m||!_)){var S=(d[0]-p[0])/m,w=(d[1]-p[1])/_,A=p[0]-u[0]*S,D=p[1]-c[0]*w,L=this._transform=[S,0,0,w,A,D];this._invTransform=Kc([],L)}}},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},i.prototype.containPoint=function(r){var s=this.getAxis("x"),u=this.getAxis("y");return s.contain(s.toLocalCoord(r[0]))&&u.contain(u.toLocalCoord(r[1]))},i.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},i.prototype.containZone=function(r,s){var u=this.dataToPoint(r),c=this.dataToPoint(s),p=this.getArea(),d=new Ve(u[0],u[1],c[0]-u[0],c[1]-u[1]);return p.intersect(d)},i.prototype.dataToPoint=function(r,s,u){u=u||[];var c=r[0],p=r[1];if(this._transform&&c!=null&&isFinite(c)&&p!=null&&isFinite(p))return Xi(u,r,this._transform);var d=this.getAxis("x"),m=this.getAxis("y");return u[0]=d.toGlobalCoord(d.dataToCoord(c,s)),u[1]=m.toGlobalCoord(m.dataToCoord(p,s)),u},i.prototype.clampData=function(r,s){var u=this.getAxis("x").scale,c=this.getAxis("y").scale,p=u.getExtent(),d=c.getExtent(),m=u.parse(r[0]),_=c.parse(r[1]);return s=s||[],s[0]=Math.min(Math.max(Math.min(p[0],p[1]),m),Math.max(p[0],p[1])),s[1]=Math.min(Math.max(Math.min(d[0],d[1]),_),Math.max(d[0],d[1])),s},i.prototype.pointToData=function(r,s){var u=[];if(this._invTransform)return Xi(u,r,this._invTransform);var c=this.getAxis("x"),p=this.getAxis("y");return u[0]=c.coordToData(c.toLocalCoord(r[0]),s),u[1]=p.coordToData(p.toLocalCoord(r[1]),s),u},i.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},i.prototype.getArea=function(r){r=r||0;var s=this.getAxis("x").getGlobalExtent(),u=this.getAxis("y").getGlobalExtent(),c=Math.min(s[0],s[1])-r,p=Math.min(u[0],u[1])-r,d=Math.max(s[0],s[1])-c+r,m=Math.max(u[0],u[1])-p+r;return new Ve(c,p,d,m)},i}(gAt),yAt=function(n){e(i,n);function i(r,s,u,c,p){var d=n.call(this,r,s,u)||this;return d.index=0,d.type=c||"value",d.position=p||"bottom",d}return i.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},i.prototype.getGlobalExtent=function(r){var s=this.getExtent();return s[0]=this.toGlobalCoord(s[0]),s[1]=this.toGlobalCoord(s[1]),r&&s[0]>s[1]&&s.reverse(),s},i.prototype.pointToData=function(r,s){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),s)},i.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},i}(So);function SR(n,i,r){r=r||{};var s=n.coordinateSystem,u=i.axis,c={},p=u.getAxesOnZeroOf()[0],d=u.position,m=p?"onZero":d,_=u.dim,S=s.getRect(),w=[S.x,S.x+S.width,S.y,S.y+S.height],A={left:0,right:1,top:0,bottom:1,onZero:2},D=i.get("offset")||0,L=_==="x"?[w[2]-D,w[3]+D]:[w[0]-D,w[1]+D];if(p){var E=p.toGlobalCoord(p.dataToCoord(0));L[A.onZero]=Math.max(Math.min(E,L[1]),L[0])}c.position=[_==="y"?L[A[m]]:w[0],_==="x"?L[A[m]]:w[3]],c.rotation=Math.PI/2*(_==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};c.labelDirection=c.tickDirection=c.nameDirection=R[d],c.labelOffset=p?L[A[d]]-L[A.onZero]:0,i.get(["axisTick","inside"])&&(c.tickDirection=-c.tickDirection),oi(r.labelInside,i.get(["axisLabel","inside"]))&&(c.labelDirection=-c.labelDirection);var k=i.get(["axisLabel","rotate"]);return c.labelRotate=m==="top"?-k:k,c.z2=1,c}function FZ(n){return n.get("coordinateSystem")==="cartesian2d"}function UZ(n){var i={xAxisModel:null,yAxisModel:null};return j(i,function(r,s){var u=s.replace(/Model$/,""),c=n.getReferringComponents(u,mi).models[0];if(!c)throw new Error(u+' "'+En(n.get(u+"Index"),n.get(u+"Id"),0)+'" not found');i[s]=c}),i}var bR=Math.log;function GZ(n,i,r){var s=nu.prototype,u=s.getTicks.call(r),c=s.getTicks.call(r,!0),p=u.length-1,d=s.getInterval.call(r),m=Q9(n,i),_=m.extent,S=m.fixMin,w=m.fixMax;if(n.type==="log"){var A=bR(n.base);_=[bR(_[0])/A,bR(_[1])/A]}n.setExtent(_[0],_[1]),n.calcNiceExtent({splitNumber:p,fixMin:S,fixMax:w});var D=s.getExtent.call(n);S&&(_[0]=D[0]),w&&(_[1]=D[1]);var L=s.getInterval.call(n),E=_[0],R=_[1];if(S&&w)L=(R-E)/p;else if(S)for(R=_[0]+L*p;R<_[1]&&isFinite(R)&&isFinite(_[1]);)L=V2(L),R=_[0]+L*p;else if(w)for(E=_[1]-L*p;E>_[0]&&isFinite(E)&&isFinite(_[0]);)L=V2(L),E=_[1]-L*p;else{var k=n.getTicks().length-1;k>p&&(L=V2(L));var z=L*p;R=Math.ceil(_[1]/L)*L,E=Kr(R-z),E<0&&_[0]>=0?(E=0,R=Kr(z)):R>0&&_[1]<=0&&(R=0,E=-Kr(z))}var B=(u[0].value-c[0].value)/d,G=(u[p].value-c[p].value)/d;s.setExtent.call(n,E+L*B,R+L*G),s.setInterval.call(n,L),(B||G)&&s.setNiceExtent.call(n,E+L,R-L);var W=s.getTicks.call(n);W[1]&&(!d1t(L)||f1(W[1].value)>f1(L))&&Yr("The ticks may be not readable when set min: "+i.get("min")+", max: "+i.get("max")+" and alignTicks: true")}var _At=function(){function n(i,r,s){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=xR,this._initCartesian(i,r,s),this.model=i}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(i,r){var s=this._axesMap;this._updateScale(i,this.model);function u(p){var d,m=Xt(p),_=m.length;if(_){for(var S=[],w=_-1;w>=0;w--){var A=+m[w],D=p[A],L=D.model,E=D.scale;z2(E)&&L.get("alignTicks")&&L.get("interval")==null?S.push(D):(Bh(E,L),z2(E)&&(d=D))}S.length&&(d||(d=S.pop(),Bh(d.scale,d.model)),j(S,function(R){GZ(R.scale,R.model,d.scale)}))}}u(s.x),u(s.y);var c={};j(s.x,function(p){HZ(s,"y",p,c)}),j(s.y,function(p){HZ(s,"x",p,c)}),this.resize(this.model,r)},n.prototype.resize=function(i,r,s){var u=i.getBoxLayoutParams(),c=!s&&i.get("containLabel"),p=yi(u,{width:r.getWidth(),height:r.getHeight()});this._rect=p;var d=this._axesList;m(),c&&(j(d,function(_){if(!_.model.get(["axisLabel","inside"])){var S=B1t(_);if(S){var w=_.isHorizontal()?"height":"width",A=_.model.get(["axisLabel","margin"]);p[w]-=S[w]+A,_.position==="top"?p.y+=S.height+A:_.position==="left"&&(p.x+=S.width+A)}}}),m()),j(this._coordsList,function(_){_.calcAffineTransform()});function m(){j(d,function(_){var S=_.isHorizontal(),w=S?[0,p.width]:[0,p.height],A=_.inverse?1:0;_.setExtent(w[A],w[1-A]),xAt(_,S?p.x:p.y)})}},n.prototype.getAxis=function(i,r){var s=this._axesMap[i];if(s!=null)return s[r||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(i,r){if(i!=null&&r!=null){var s="x"+i+"y"+r;return this._coordsMap[s]}re(i)&&(r=i.yAxisIndex,i=i.xAxisIndex);for(var u=0,c=this._coordsList;u<c.length;u++)if(c[u].getAxis("x").index===i||c[u].getAxis("y").index===r)return c[u]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(i,r,s){var u=this._findConvertTarget(r);return u.cartesian?u.cartesian.dataToPoint(s):u.axis?u.axis.toGlobalCoord(u.axis.dataToCoord(s)):null},n.prototype.convertFromPixel=function(i,r,s){var u=this._findConvertTarget(r);return u.cartesian?u.cartesian.pointToData(s):u.axis?u.axis.coordToData(u.axis.toLocalCoord(s)):null},n.prototype._findConvertTarget=function(i){var r=i.seriesModel,s=i.xAxisModel||r&&r.getReferringComponents("xAxis",mi).models[0],u=i.yAxisModel||r&&r.getReferringComponents("yAxis",mi).models[0],c=i.gridModel,p=this._coordsList,d,m;if(r)d=r.coordinateSystem,At(p,d)<0&&(d=null);else if(s&&u)d=this.getCartesian(s.componentIndex,u.componentIndex);else if(s)m=this.getAxis("x",s.componentIndex);else if(u)m=this.getAxis("y",u.componentIndex);else if(c){var _=c.coordinateSystem;_===this&&(d=this._coordsList[0])}return{cartesian:d,axis:m}},n.prototype.containPoint=function(i){var r=this._coordsList[0];if(r)return r.containPoint(i)},n.prototype._initCartesian=function(i,r,s){var u=this,c=this,p={left:!1,right:!1,top:!1,bottom:!1},d={x:{},y:{}},m={x:0,y:0};if(r.eachComponent("xAxis",_("x"),this),r.eachComponent("yAxis",_("y"),this),!m.x||!m.y){this._axesMap={},this._axesList=[];return}this._axesMap=d,j(d.x,function(S,w){j(d.y,function(A,D){var L="x"+w+"y"+D,E=new mAt(L);E.master=u,E.model=i,u._coordsMap[L]=E,u._coordsList.push(E),E.addAxis(S),E.addAxis(A)})});function _(S){return function(w,A){if(wR(w,i)){var D=w.get("position");S==="x"?D!=="top"&&D!=="bottom"&&(D=p.bottom?"top":"bottom"):D!=="left"&&D!=="right"&&(D=p.left?"right":"left"),p[D]=!0;var L=new yAt(S,F0(w),[0,0],w.get("type"),D),E=L.type==="category";L.onBand=E&&w.get("boundaryGap"),L.inverse=w.get("inverse"),w.axis=L,L.model=w,L.grid=c,L.index=A,c._axesList.push(L),d[S][A]=L,m[S]++}}}},n.prototype._updateScale=function(i,r){j(this._axesList,function(u){if(u.scale.setExtent(1/0,-1/0),u.type==="category"){var c=u.model.get("categorySortInfo");u.scale.setSortInfo(c)}}),i.eachSeries(function(u){if(FZ(u)){var c=UZ(u),p=c.xAxisModel,d=c.yAxisModel;if(!wR(p,r)||!wR(d,r))return;var m=this.getCartesian(p.componentIndex,d.componentIndex),_=u.getData(),S=m.getAxis("x"),w=m.getAxis("y");s(_,S),s(_,w)}},this);function s(u,c){j(Rw(u,c.dim),function(p){c.scale.unionExtentFromData(u,p)})}},n.prototype.getTooltipAxes=function(i){var r=[],s=[];return j(this.getCartesians(),function(u){var c=i!=null&&i!=="auto"?u.getAxis(i):u.getBaseAxis(),p=u.getOtherAxis(c);At(r,c)<0&&r.push(c),At(s,p)<0&&s.push(p)}),{baseAxes:r,otherAxes:s}},n.create=function(i,r){var s=[];return i.eachComponent("grid",function(u,c){var p=new n(u,i,r);p.name="grid_"+c,p.resize(u,r,!0),u.coordinateSystem=p,s.push(p)}),i.eachSeries(function(u){if(FZ(u)){var c=UZ(u),p=c.xAxisModel,d=c.yAxisModel,m=p.getCoordSysModel();if(!m)throw new Error('Grid "'+En(p.get("gridIndex"),p.get("gridId"),0)+'" not found');if(p.getCoordSysModel()!==d.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");var _=m.coordinateSystem;u.coordinateSystem=_.getCartesian(p.componentIndex,d.componentIndex)}}),s},n.dimensions=xR,n}();function wR(n,i){return n.getCoordSysModel()===i}function HZ(n,i,r,s){r.getAxesOnZeroOf=function(){return c?[c]:[]};var u=n[i],c,p=r.model,d=p.get(["axisLine","onZero"]),m=p.get(["axisLine","onZeroAxisIndex"]);if(!d)return;if(m!=null)WZ(u[m])&&(c=u[m]);else for(var _ in u)if(u.hasOwnProperty(_)&&WZ(u[_])&&!s[S(u[_])]){c=u[_];break}c&&(s[S(c)]=!0);function S(w){return w.dim+"_"+w.index}}function WZ(n){return n&&n.type!=="category"&&n.type!=="time"&&V1t(n)}function xAt(n,i){var r=n.getExtent(),s=r[0]+r[1];n.toGlobalCoord=n.dim==="x"?function(u){return u+i}:function(u){return s-u+i},n.toLocalCoord=n.dim==="x"?function(u){return u-i}:function(u){return s-u+i}}var If=Math.PI,Ua=function(){function n(i,r){this.group=new Te,this.opt=r,this.axisModel=i,dt(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var s=new Te({x:r.position[0],y:r.position[1],rotation:r.rotation});s.updateTransform(),this._transformGroup=s}return n.prototype.hasBuilder=function(i){return!!YZ[i]},n.prototype.add=function(i){YZ[i](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(i,r,s){var u=DE(r-i),c,p;return Qv(u)?(p=s>0?"top":"bottom",c="center"):Qv(u-If)?(p=s>0?"bottom":"top",c="center"):(p="middle",u>0&&u<If?c=s>0?"right":"left":c=s>0?"left":"right"),{rotation:u,textAlign:c,textVerticalAlign:p}},n.makeAxisEventDataBase=function(i){var r={componentType:i.mainType,componentIndex:i.componentIndex};return r[i.mainType+"Index"]=i.componentIndex,r},n.isLabelSilent=function(i){var r=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||r&&r.show)},n}(),YZ={axisLine:function(n,i,r,s){var u=i.get(["axisLine","show"]);if(u==="auto"&&n.handleAutoShown&&(u=n.handleAutoShown("axisLine")),!!u){var c=i.axis.getExtent(),p=s.transform,d=[c[0],0],m=[c[1],0],_=d[0]>m[0];p&&(Xi(d,d,p),Xi(m,m,p));var S=st({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),w=new Ti({shape:{x1:d[0],y1:d[1],x2:m[0],y2:m[1]},style:S,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});pd(w.shape,w.style.lineWidth),w.anid="line",r.add(w);var A=i.get(["axisLine","symbol"]);if(A!=null){var D=i.get(["axisLine","symbolSize"]);kt(A)&&(A=[A,A]),(kt(D)||Ne(D))&&(D=[D,D]);var L=Oh(i.get(["axisLine","symbolOffset"])||0,D),E=D[0],R=D[1];j([{rotate:n.rotation+Math.PI/2,offset:L[0],r:0},{rotate:n.rotation-Math.PI/2,offset:L[1],r:Math.sqrt((d[0]-m[0])*(d[0]-m[0])+(d[1]-m[1])*(d[1]-m[1]))}],function(k,z){if(A[z]!=="none"&&A[z]!=null){var B=li(A[z],-E/2,-R/2,E,R,S.stroke,!0),G=k.r+k.offset,W=_?m:d;B.attr({rotation:k.rotate,x:W[0]+G*Math.cos(n.rotation),y:W[1]-G*Math.sin(n.rotation),silent:!0,z2:11}),r.add(B)}})}}},axisTickLabel:function(n,i,r,s){var u=wAt(r,s,i,n),c=AAt(r,s,i,n);if(bAt(i,c,u),TAt(r,s,i,n.tickDirection),i.get(["axisLabel","hideOverlap"])){var p=x7(Tt(c,function(d){return{label:d,priority:d.z2,defaultAttr:{ignore:d.ignore}}}));w7(p)}},axisName:function(n,i,r,s){var u=oi(n.axisName,i.get("name"));if(u){var c=i.get("nameLocation"),p=n.nameDirection,d=i.getModel("nameTextStyle"),m=i.get("nameGap")||0,_=i.axis.getExtent(),S=_[0]>_[1]?-1:1,w=[c==="start"?_[0]-S*m:c==="end"?_[1]+S*m:(_[0]+_[1])/2,XZ(c)?n.labelOffset+p*m:0],A,D=i.get("nameRotate");D!=null&&(D=D*If/180);var L;XZ(c)?A=Ua.innerTextLayout(n.rotation,D??n.rotation,p):(A=SAt(n.rotation,c,D||0,_),L=n.axisNameAvailableWidth,L!=null&&(L=Math.abs(L/Math.sin(A.rotation)),!isFinite(L)&&(L=null)));var E=d.getFont(),R=i.get("nameTruncate",!0)||{},k=R.ellipsis,z=oi(n.nameTruncateMaxWidth,R.maxWidth,L),B=new er({x:w[0],y:w[1],rotation:A.rotation,silent:Ua.isLabelSilent(i),style:Dr(d,{text:u,font:E,overflow:"truncate",width:z,ellipsis:k,fill:d.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:d.get("align")||A.textAlign,verticalAlign:d.get("verticalAlign")||A.textVerticalAlign}),z2:1});if(wh({el:B,componentModel:i,itemName:u}),B.__fullText=u,B.anid="name",i.get("triggerEvent")){var G=Ua.makeAxisEventDataBase(i);G.targetType="axisName",G.name=u,Me(B).eventData=G}s.add(B),B.updateTransform(),r.add(B),B.decomposeTransform()}}};function SAt(n,i,r,s){var u=DE(r-n),c,p,d=s[0]>s[1],m=i==="start"&&!d||i!=="start"&&d;return Qv(u-If/2)?(p=m?"bottom":"top",c="center"):Qv(u-If*1.5)?(p=m?"top":"bottom",c="center"):(p="middle",u<If*1.5&&u>If/2?c=m?"left":"right":c=m?"right":"left"),{rotation:u,textAlign:c,textVerticalAlign:p}}function bAt(n,i,r){if(!t7(n.axis)){var s=n.get(["axisLabel","showMinLabel"]),u=n.get(["axisLabel","showMaxLabel"]);i=i||[],r=r||[];var c=i[0],p=i[1],d=i[i.length-1],m=i[i.length-2],_=r[0],S=r[1],w=r[r.length-1],A=r[r.length-2];s===!1?(bo(c),bo(_)):ZZ(c,p)&&(s?(bo(p),bo(S)):(bo(c),bo(_))),u===!1?(bo(d),bo(w)):ZZ(m,d)&&(u?(bo(m),bo(A)):(bo(d),bo(w)))}}function bo(n){n&&(n.ignore=!0)}function ZZ(n,i){var r=n&&n.getBoundingRect().clone(),s=i&&i.getBoundingRect().clone();if(!(!r||!s)){var u=Ey([]);return nf(u,u,-n.rotation),r.applyTransform(Xs([],u,n.getLocalTransform())),s.applyTransform(Xs([],u,i.getLocalTransform())),r.intersect(s)}}function XZ(n){return n==="middle"||n==="center"}function qZ(n,i,r,s,u){for(var c=[],p=[],d=[],m=0;m<n.length;m++){var _=n[m].coord;p[0]=_,p[1]=0,d[0]=_,d[1]=r,i&&(Xi(p,p,i),Xi(d,d,i));var S=new Ti({shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:s,z2:2,autoBatch:!0,silent:!0});pd(S.shape,S.style.lineWidth),S.anid=u+"_"+n[m].tickValue,c.push(S)}return c}function wAt(n,i,r,s){var u=r.axis,c=r.getModel("axisTick"),p=c.get("show");if(p==="auto"&&s.handleAutoShown&&(p=s.handleAutoShown("axisTick")),!(!p||u.scale.isBlank())){for(var d=c.getModel("lineStyle"),m=s.tickDirection*c.get("length"),_=u.getTicksCoords(),S=qZ(_,i.transform,m,dt(d.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),w=0;w<S.length;w++)n.add(S[w]);return S}}function TAt(n,i,r,s){var u=r.axis,c=r.getModel("minorTick");if(!(!c.get("show")||u.scale.isBlank())){var p=u.getMinorTicksCoords();if(p.length)for(var d=c.getModel("lineStyle"),m=s*c.get("length"),_=dt(d.getLineStyle(),dt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),S=0;S<p.length;S++)for(var w=qZ(p[S],i.transform,m,_,"minorticks_"+S),A=0;A<w.length;A++)n.add(w[A])}}function AAt(n,i,r,s){var u=r.axis,c=oi(s.axisLabelShow,r.get(["axisLabel","show"]));if(!(!c||u.scale.isBlank())){var p=r.getModel("axisLabel"),d=p.get("margin"),m=u.getViewLabels(),_=(oi(s.labelRotate,p.get("rotate"))||0)*If/180,S=Ua.innerTextLayout(s.rotation,_,s.labelDirection),w=r.getCategories&&r.getCategories(!0),A=[],D=Ua.isLabelSilent(r),L=r.get("triggerEvent");return j(m,function(E,R){var k=u.scale.type==="ordinal"?u.scale.getRawOrdinalNumber(E.tickValue):E.tickValue,z=E.formattedLabel,B=E.rawLabel,G=p;if(w&&w[k]){var W=w[k];re(W)&&W.textStyle&&(G=new sr(W.textStyle,p,r.ecModel))}var Y=G.getTextColor()||r.get(["axisLine","lineStyle","color"]),q=u.dataToCoord(k),J=G.getShallow("align",!0)||S.textAlign,tt=De(G.getShallow("alignMinLabel",!0),J),et=De(G.getShallow("alignMaxLabel",!0),J),it=G.getShallow("verticalAlign",!0)||G.getShallow("baseline",!0)||S.textVerticalAlign,ut=De(G.getShallow("verticalAlignMinLabel",!0),it),ct=De(G.getShallow("verticalAlignMaxLabel",!0),it),ht=new er({x:q,y:s.labelOffset+s.labelDirection*d,rotation:S.rotation,silent:D,z2:10+(E.level||0),style:Dr(G,{text:z,align:R===0?tt:R===m.length-1?et:J,verticalAlign:R===0?ut:R===m.length-1?ct:it,fill:Gt(Y)?Y(u.type==="category"?B:u.type==="value"?k+"":k,R):Y})});if(ht.anid="label_"+k,wh({el:ht,componentModel:r,itemName:z,formatterParamsExtra:{isTruncated:function(){return ht.isTruncated},value:B,tickIndex:R}}),L){var vt=Ua.makeAxisEventDataBase(r);vt.targetType="axisLabel",vt.value=B,vt.tickIndex=R,u.type==="category"&&(vt.dataIndex=k),Me(ht).eventData=vt}i.add(ht),ht.updateTransform(),A.push(ht),n.add(ht),ht.decomposeTransform()}),A}}function CAt(n,i){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return DAt(r,n,i),r.seriesInvolved&&LAt(r,n),r}function DAt(n,i,r){var s=i.getComponent("tooltip"),u=i.getComponent("axisPointer"),c=u.get("link",!0)||[],p=[];j(r.getCoordinateSystems(),function(d){if(!d.axisPointerEnabled)return;var m=t_(d.model),_=n.coordSysAxesInfo[m]={};n.coordSysMap[m]=d;var S=d.model,w=S.getModel("tooltip",s);if(j(d.getAxes(),ee(E,!1,null)),d.getTooltipAxes&&s&&w.get("show")){var A=w.get("trigger")==="axis",D=w.get(["axisPointer","type"])==="cross",L=d.getTooltipAxes(w.get(["axisPointer","axis"]));(A||D)&&j(L.baseAxes,ee(E,D?"cross":!0,A)),D&&j(L.otherAxes,ee(E,"cross",!1))}function E(R,k,z){var B=z.model.getModel("axisPointer",u),G=B.get("show");if(!(!G||G==="auto"&&!R&&!CR(B))){k==null&&(k=B.get("triggerTooltip")),B=R?MAt(z,w,u,i,R,k):B;var W=B.get("snap"),Y=B.get("triggerEmphasis"),q=t_(z.model),J=k||W||z.type==="category",tt=n.axesInfo[q]={key:q,axis:z,coordSys:d,axisPointerModel:B,triggerTooltip:k,triggerEmphasis:Y,involveSeries:J,snap:W,useHandle:CR(B),seriesModels:[],linkGroup:null};_[q]=tt,n.seriesInvolved=n.seriesInvolved||J;var et=IAt(c,z);if(et!=null){var it=p[et]||(p[et]={axesInfo:{}});it.axesInfo[q]=tt,it.mapper=c[et].mapper,tt.linkGroup=it}}}})}function MAt(n,i,r,s,u,c){var p=i.getModel("axisPointer"),d=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],m={};j(d,function(A){m[A]=lt(p.get(A))}),m.snap=n.type!=="category"&&!!c,p.get("type")==="cross"&&(m.type="line");var _=m.label||(m.label={});if(_.show==null&&(_.show=!1),u==="cross"){var S=p.get(["label","show"]);if(_.show=S??!0,!c){var w=m.lineStyle=p.get("crossStyle");w&&dt(_,w.textStyle)}}return n.model.getModel("axisPointer",new sr(m,r,s))}function LAt(n,i){i.eachSeries(function(r){var s=r.coordinateSystem,u=r.get(["tooltip","trigger"],!0),c=r.get(["tooltip","show"],!0);!s||u==="none"||u===!1||u==="item"||c===!1||r.get(["axisPointer","show"],!0)===!1||j(n.coordSysAxesInfo[t_(s.model)],function(p){var d=p.axis;s.getAxis(d.dim)===d&&(p.seriesModels.push(r),p.seriesDataCount==null&&(p.seriesDataCount=0),p.seriesDataCount+=r.getData().count())})})}function IAt(n,i){for(var r=i.model,s=i.dim,u=0;u<n.length;u++){var c=n[u]||{};if(TR(c[s+"AxisId"],r.id)||TR(c[s+"AxisIndex"],r.componentIndex)||TR(c[s+"AxisName"],r.name))return u}}function TR(n,i){return n==="all"||wt(n)&&At(n,i)>=0||n===i}function EAt(n){var i=AR(n);if(i){var r=i.axisPointerModel,s=i.axis.scale,u=r.option,c=r.get("status"),p=r.get("value");p!=null&&(p=s.parse(p));var d=CR(r);c==null&&(u.status=d?"show":"hide");var m=s.getExtent().slice();m[0]>m[1]&&m.reverse(),(p==null||p>m[1])&&(p=m[1]),p<m[0]&&(p=m[0]),u.value=p,d&&(u.status=i.axis.scale.isBlank()?"hide":"show")}}function AR(n){var i=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[t_(n)]}function PAt(n){var i=AR(n);return i&&i.axisPointerModel}function CR(n){return!!n.get(["handle","show"])}function t_(n){return n.type+"||"+n.id}var DR={},$h=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u,c){this.axisPointerClass&&EAt(r),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,u,!0)},i.prototype.updateAxisPointer=function(r,s,u,c){this._doUpdateAxisPointerClass(r,u,!1)},i.prototype.remove=function(r,s){var u=this._axisPointer;u&&u.remove(s)},i.prototype.dispose=function(r,s){this._disposeAxisPointer(s),n.prototype.dispose.apply(this,arguments)},i.prototype._doUpdateAxisPointerClass=function(r,s,u){var c=i.getAxisPointerClass(this.axisPointerClass);if(c){var p=PAt(r);p?(this._axisPointer||(this._axisPointer=new c)).render(r,p,s,u):this._disposeAxisPointer(s)}},i.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},i.registerAxisPointerClass=function(r,s){if(DR[r])throw new Error("axisPointer "+r+" exists");DR[r]=s},i.getAxisPointerClass=function(r){return r&&DR[r]},i.type="axis",i}(Pr),MR=rr();function $Z(n,i,r,s){var u=r.axis;if(!u.scale.isBlank()){var c=r.getModel("splitArea"),p=c.getModel("areaStyle"),d=p.get("color"),m=s.coordinateSystem.getRect(),_=u.getTicksCoords({tickModel:c,clamp:!0});if(_.length){var S=d.length,w=MR(n).splitAreaColors,A=le(),D=0;if(w)for(var L=0;L<_.length;L++){var E=w.get(_[L].tickValue);if(E!=null){D=(E+(S-1)*L)%S;break}}var R=u.toGlobalCoord(_[0].coord),k=p.getAreaStyle();d=wt(d)?d:[d];for(var L=1;L<_.length;L++){var z=u.toGlobalCoord(_[L].coord),B=void 0,G=void 0,W=void 0,Y=void 0;u.isHorizontal()?(B=R,G=m.y,W=z-B,Y=m.height,R=B+W):(B=m.x,G=R,W=m.width,Y=z-G,R=G+Y);var q=_[L-1].tickValue;q!=null&&A.set(q,D),i.add(new tr({anid:q!=null?"area_"+q:null,shape:{x:B,y:G,width:W,height:Y},style:dt({fill:d[D]},k),autoBatch:!0,silent:!0})),D=(D+1)%S}MR(n).splitAreaColors=A}}}function KZ(n){MR(n).splitAreaColors=null}var RAt=["axisLine","axisTickLabel","axisName"],OAt=["splitArea","splitLine","minorSplitLine"],jZ=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.axisPointerClass="CartesianAxisPointer",r}return i.prototype.render=function(r,s,u,c){this.group.removeAll();var p=this._axisGroup;if(this._axisGroup=new Te,this.group.add(this._axisGroup),!!r.get("show")){var d=r.getCoordSysModel(),m=SR(d,r),_=new Ua(r,st({handleAutoShown:function(w){for(var A=d.coordinateSystem.getCartesians(),D=0;D<A.length;D++)if(z2(A[D].getOtherAxis(r.axis).scale))return!0;return!1}},m));j(RAt,_.add,_),this._axisGroup.add(_.getGroup()),j(OAt,function(w){r.get([w,"show"])&&kAt[w](this,this._axisGroup,r,d)},this);var S=c&&c.type==="changeAxisOrder"&&c.isInitSort;S||v0(p,this._axisGroup,r),n.prototype.render.call(this,r,s,u,c)}},i.prototype.remove=function(){KZ(this)},i.type="cartesianAxis",i}($h),kAt={splitLine:function(n,i,r,s){var u=r.axis;if(!u.scale.isBlank()){var c=r.getModel("splitLine"),p=c.getModel("lineStyle"),d=p.get("color"),m=c.get("showMinLine")!==!1,_=c.get("showMaxLine")!==!1;d=wt(d)?d:[d];for(var S=s.coordinateSystem.getRect(),w=u.isHorizontal(),A=0,D=u.getTicksCoords({tickModel:c}),L=[],E=[],R=p.getLineStyle(),k=0;k<D.length;k++){var z=u.toGlobalCoord(D[k].coord);if(!(k===0&&!m||k===D.length-1&&!_)){var B=D[k].tickValue;w?(L[0]=z,L[1]=S.y,E[0]=z,E[1]=S.y+S.height):(L[0]=S.x,L[1]=z,E[0]=S.x+S.width,E[1]=z);var G=A++%d.length,W=new Ti({anid:B!=null?"line_"+B:null,autoBatch:!0,shape:{x1:L[0],y1:L[1],x2:E[0],y2:E[1]},style:dt({stroke:d[G]},R),silent:!0});pd(W.shape,R.lineWidth),i.add(W)}}}},minorSplitLine:function(n,i,r,s){var u=r.axis,c=r.getModel("minorSplitLine"),p=c.getModel("lineStyle"),d=s.coordinateSystem.getRect(),m=u.isHorizontal(),_=u.getMinorTicksCoords();if(_.length)for(var S=[],w=[],A=p.getLineStyle(),D=0;D<_.length;D++)for(var L=0;L<_[D].length;L++){var E=u.toGlobalCoord(_[D][L].coord);m?(S[0]=E,S[1]=d.y,w[0]=E,w[1]=d.y+d.height):(S[0]=d.x,S[1]=E,w[0]=d.x+d.width,w[1]=E);var R=new Ti({anid:"minor_line_"+_[D][L].tickValue,autoBatch:!0,shape:{x1:S[0],y1:S[1],x2:w[0],y2:w[1]},style:A,silent:!0});pd(R.shape,A.lineWidth),i.add(R)}},splitArea:function(n,i,r,s){$Z(n,i,r,s)}},JZ=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="xAxis",i}(jZ),NAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=JZ.type,r}return i.type="yAxis",i}(jZ),zAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="grid",r}return i.prototype.render=function(r,s){this.group.removeAll(),r.get("show")&&this.group.add(new tr({shape:r.coordinateSystem.getRect(),style:dt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},i.type="grid",i}(Pr),QZ={offset:0};function tX(n){n.registerComponentView(zAt),n.registerComponentModel(cAt),n.registerCoordinateSystem("cartesian2d",_At),Ud(n,"x",yR,QZ),Ud(n,"y",yR,QZ),n.registerComponentView(JZ),n.registerComponentView(NAt),n.registerPreprocessor(function(i){i.xAxis&&i.yAxis&&!i.grid&&(i.grid={})})}function VAt(n){Ye(tX),n.registerSeriesModel(oAt),n.registerChartView(fAt),n.registerLayout(K0("scatter"))}function BAt(n){n.eachSeriesByType("radar",function(i){var r=i.getData(),s=[],u=i.coordinateSystem;if(u){var c=u.getIndicatorAxes();j(c,function(p,d){r.each(r.mapDimension(c[d].dim),function(m,_){s[_]=s[_]||[];var S=u.dataToPoint(m,d);s[_][d]=eX(S)?S:rX(u)})}),r.each(function(p){var d=ve(s[p],function(m){return eX(m)})||rX(u);s[p].push(d.slice()),r.setItemLayout(p,s[p])})}})}function eX(n){return!isNaN(n[0])&&!isNaN(n[1])}function rX(n){return[n.cx,n.cy]}function FAt(n){var i=n.polar;if(i){wt(i)||(i=[i]);var r=[];j(i,function(s,u){s.indicator?(s.type&&!s.shape&&(s.shape=s.type),n.radar=n.radar||[],wt(n.radar)||(n.radar=[n.radar]),n.radar.push(s)):r.push(s)}),n.polar=r}j(n.series,function(s){s&&s.type==="radar"&&s.polarIndex&&(s.radarIndex=s.polarIndex)})}var UAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=r.coordinateSystem,p=this.group,d=r.getData(),m=this._data;function _(A,D){var L=A.getItemVisual(D,"symbol")||"circle";if(L!=="none"){var E=Ld(A.getItemVisual(D,"symbolSize")),R=li(L,-1,-1,2,2),k=A.getItemVisual(D,"symbolRotate")||0;return R.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:k*Math.PI/180||0}),R}}function S(A,D,L,E,R,k){L.removeAll();for(var z=0;z<D.length-1;z++){var B=_(E,R);B&&(B.__dimIdx=z,A[z]?(B.setPosition(A[z]),Th[k?"initProps":"updateProps"](B,{x:D[z][0],y:D[z][1]},r,R)):B.setPosition(D[z]),L.add(B))}}function w(A){return Tt(A,function(D){return[c.cx,c.cy]})}d.diff(m).add(function(A){var D=d.getItemLayout(A);if(D){var L=new ma,E=new ya,R={shape:{points:D}};L.shape.points=w(D),E.shape.points=w(D),Vr(L,R,r,A),Vr(E,R,r,A);var k=new Te,z=new Te;k.add(E),k.add(L),k.add(z),S(E.shape.points,D,z,d,A,!0),d.setItemGraphicEl(A,k)}}).update(function(A,D){var L=m.getItemGraphicEl(D),E=L.childAt(0),R=L.childAt(1),k=L.childAt(2),z={shape:{points:d.getItemLayout(A)}};z.shape.points&&(S(E.shape.points,z.shape.points,k,d,A,!1),ds(R),ds(E),ir(E,z,r),ir(R,z,r),d.setItemGraphicEl(A,L))}).remove(function(A){p.remove(m.getItemGraphicEl(A))}).execute(),d.eachItemGraphicEl(function(A,D){var L=d.getItemModel(D),E=A.childAt(0),R=A.childAt(1),k=A.childAt(2),z=d.getItemVisual(D,"style"),B=z.fill;p.add(A),E.useStyle(dt(L.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:B})),ra(E,L,"lineStyle"),ra(R,L,"areaStyle");var G=L.getModel("areaStyle"),W=G.isEmpty()&&G.parentModel.isEmpty();R.ignore=W,j(["emphasis","select","blur"],function(J){var tt=L.getModel([J,"areaStyle"]),et=tt.isEmpty()&&tt.parentModel.isEmpty();R.ensureState(J).ignore=et&&W}),R.useStyle(dt(G.getAreaStyle(),{fill:B,opacity:.7,decal:z.decal}));var Y=L.getModel("emphasis"),q=Y.getModel("itemStyle").getItemStyle();k.eachChild(function(J){if(J instanceof Ni){var tt=J.style;J.useStyle(st({image:tt.image,x:tt.x,y:tt.y,width:tt.width,height:tt.height},z))}else J.useStyle(z),J.setColor(B),J.style.strokeNoScale=!0;var et=J.ensureState("emphasis");et.style=lt(q);var it=d.getStore().get(d.getDimensionIndex(J.__dimIdx),D);(it==null||isNaN(it))&&(it=""),ia(J,zi(L),{labelFetcher:d.hostModel,labelDataIndex:D,labelDimIndex:J.__dimIdx,defaultText:it,inheritColor:B,defaultOpacity:z.opacity})}),Zr(A,Y.get("focus"),Y.get("blurScope"),Y.get("disabled"))}),this._data=d},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.type="radar",i}(vr),GAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r}return i.prototype.init=function(r){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q0(Mt(this.getData,this),Mt(this.getRawData,this))},i.prototype.getInitialData=function(r,s){return Fd(this,{generateCoord:"indicator_",generateCoordCount:1/0})},i.prototype.formatTooltip=function(r,s,u){var c=this.getData(),p=this.coordinateSystem,d=p.getIndicatorAxes(),m=this.getData().getName(r),_=m===""?this.name:m,S=v8(this,r);return Vi("section",{header:_,sortBlocks:!0,blocks:Tt(d,function(w){var A=c.get(c.mapDimension(w.dim),r);return Vi("nameValue",{markerType:"subItem",markerColor:S,name:w.name,value:A,sortParam:A})})})},i.prototype.getTooltipPosition=function(r){if(r!=null){for(var s=this.getData(),u=this.coordinateSystem,c=s.getValues(Tt(u.dimensions,function(_){return s.mapDimension(_)}),r),p=0,d=c.length;p<d;p++)if(!isNaN(c[p])){var m=u.getIndicatorAxes();return u.coordToPoint(m[p].dataToCoord(c[p]),p)}}},i.type="series.radar",i.dependencies=["radar"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},i}(Sr),e_=zZ.value;function Zw(n,i){return dt({show:i},n)}var HAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),s=this.get("splitNumber"),u=this.get("scale"),c=this.get("axisLine"),p=this.get("axisTick"),d=this.get("axisLabel"),m=this.get("axisName"),_=this.get(["axisName","show"]),S=this.get(["axisName","formatter"]),w=this.get("axisNameGap"),A=this.get("triggerEvent"),D=Tt(this.get("indicator")||[],function(L){L.max!=null&&L.max>0&&!L.min?L.min=0:L.min!=null&&L.min<0&&!L.max&&(L.max=0);var E=m;L.color!=null&&(E=dt({color:L.color},m));var R=pt(lt(L),{boundaryGap:r,splitNumber:s,scale:u,axisLine:c,axisTick:p,axisLabel:d,name:L.text,showName:_,nameLocation:"end",nameGap:w,nameTextStyle:E,triggerEvent:A},!1);if(kt(S)){var k=R.name;R.name=S.replace("{value}",k??"")}else Gt(S)&&(R.name=S(R.name,R));var z=new sr(R,null,this.ecModel);return qt(z,zd.prototype),z.mainType="radar",z.componentIndex=this.componentIndex,z},this);this._indicatorModels=D},i.prototype.getIndicatorModels=function(){return this._indicatorModels},i.type="radar",i.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:pt({lineStyle:{color:"#bbb"}},e_.axisLine),axisLabel:Zw(e_.axisLabel,!1),axisTick:Zw(e_.axisTick,!1),splitLine:Zw(e_.splitLine,!0),splitArea:Zw(e_.splitArea,!0),indicator:[]},i}(We),WAt=["axisLine","axisTickLabel","axisName"],YAt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=this.group;c.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},i.prototype._buildAxes=function(r){var s=r.coordinateSystem,u=s.getIndicatorAxes(),c=Tt(u,function(p){var d=p.model.get("showName")?p.name:"",m=new Ua(p.model,{axisName:d,position:[s.cx,s.cy],rotation:p.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return m});j(c,function(p){j(WAt,p.add,p),this.group.add(p.getGroup())},this)},i.prototype._buildSplitLineAndArea=function(r){var s=r.coordinateSystem,u=s.getIndicatorAxes();if(!u.length)return;var c=r.get("shape"),p=r.getModel("splitLine"),d=r.getModel("splitArea"),m=p.getModel("lineStyle"),_=d.getModel("areaStyle"),S=p.get("show"),w=d.get("show"),A=m.get("color"),D=_.get("color"),L=wt(A)?A:[A],E=wt(D)?D:[D],R=[],k=[];function z(vt,gt,bt){var St=bt%gt.length;return vt[St]=vt[St]||[],St}if(c==="circle")for(var B=u[0].getTicksCoords(),G=s.cx,W=s.cy,Y=0;Y<B.length;Y++){if(S){var q=z(R,L,Y);R[q].push(new rl({shape:{cx:G,cy:W,r:B[Y].coord}}))}if(w&&Y<B.length-1){var q=z(k,E,Y);k[q].push(new ld({shape:{cx:G,cy:W,r0:B[Y].coord,r:B[Y+1].coord}}))}}else for(var J,tt=Tt(u,function(vt,gt){var bt=vt.getTicksCoords();return J=J==null?bt.length-1:Math.min(bt.length-1,J),Tt(bt,function(St){return s.coordToPoint(St.coord,gt)})}),et=[],Y=0;Y<=J;Y++){for(var it=[],ut=0;ut<u.length;ut++)it.push(tt[ut][Y]);if(it[0]?it.push(it[0].slice()):console.error("Can't draw value axis "+Y),S){var q=z(R,L,Y);R[q].push(new ya({shape:{points:it}}))}if(w&&et){var q=z(k,E,Y-1);k[q].push(new ma({shape:{points:it.concat(et)}}))}et=it.slice().reverse()}var ct=m.getLineStyle(),ht=_.getAreaStyle();j(k,function(vt,gt){this.group.add(zn(vt,{style:dt({stroke:"none",fill:E[gt%E.length]},ht),silent:!0}))},this),j(R,function(vt,gt){this.group.add(zn(vt,{style:dt({fill:"none",stroke:L[gt%L.length]},ct),silent:!0}))},this)},i.type="radar",i}(Pr),ZAt=function(n){e(i,n);function i(r,s,u){var c=n.call(this,r,s,u)||this;return c.type="value",c.angle=0,c.name="",c}return i}(So),XAt=function(){function n(i,r,s){this.dimensions=[],this._model=i,this._indicatorAxes=Tt(i.getIndicatorModels(),function(u,c){var p="indicator_"+c,d=new ZAt(p,new nu);return d.name=u.get("name"),d.model=u,u.axis=d,this.dimensions.push(p),d},this),this.resize(i,s)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(i,r){var s=this._indicatorAxes[r];return this.coordToPoint(s.dataToCoord(i),r)},n.prototype.coordToPoint=function(i,r){var s=this._indicatorAxes[r],u=s.angle,c=this.cx+i*Math.cos(u),p=this.cy-i*Math.sin(u);return[c,p]},n.prototype.pointToData=function(i){var r=i[0]-this.cx,s=i[1]-this.cy,u=Math.sqrt(r*r+s*s);r/=u,s/=u;for(var c=Math.atan2(-s,r),p=1/0,d,m=-1,_=0;_<this._indicatorAxes.length;_++){var S=this._indicatorAxes[_],w=Math.abs(c-S.angle);w<p&&(d=S,m=_,p=w)}return[m,+(d&&d.coordToData(u))]},n.prototype.resize=function(i,r){var s=i.get("center"),u=r.getWidth(),c=r.getHeight(),p=Math.min(u,c)/2;this.cx=Wt(s[0],u),this.cy=Wt(s[1],c),this.startAngle=i.get("startAngle")*Math.PI/180;var d=i.get("radius");(kt(d)||Ne(d))&&(d=[0,d]),this.r0=Wt(d[0],p),this.r=Wt(d[1],p),j(this._indicatorAxes,function(m,_){m.setExtent(this.r0,this.r);var S=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;S=Math.atan2(Math.sin(S),Math.cos(S)),m.angle=S},this)},n.prototype.update=function(i,r){var s=this._indicatorAxes,u=this._model;j(s,function(d){d.scale.setExtent(1/0,-1/0)}),i.eachSeriesByType("radar",function(d,m){if(!(d.get("coordinateSystem")!=="radar"||i.getComponent("radar",d.get("radarIndex"))!==u)){var _=d.getData();j(s,function(S){S.scale.unionExtentFromData(_,_.mapDimension(S.dim))})}},this);var c=u.get("splitNumber"),p=new nu;p.setExtent(0,c),p.setInterval(1),j(s,function(d,m){GZ(d.scale,d.model,p)})},n.prototype.convertToPixel=function(i,r,s){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(i,r,s){return console.warn("Not implemented."),null},n.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},n.create=function(i,r){var s=[];return i.eachComponent("radar",function(u){var c=new n(u,i,r);s.push(c),u.coordinateSystem=c}),i.eachSeriesByType("radar",function(u){u.get("coordinateSystem")==="radar"&&(u.coordinateSystem=s[u.get("radarIndex")||0])}),s},n.dimensions=[],n}();function qAt(n){n.registerCoordinateSystem("radar",XAt),n.registerComponentModel(HAt),n.registerComponentView(YAt),n.registerVisual({seriesType:"radar",reset:function(i){var r=i.getData();r.each(function(s){r.setItemVisual(s,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function $At(n){Ye(qAt),n.registerChartView(UAt),n.registerSeriesModel(GAt),n.registerLayout(BAt),n.registerProcessor(J0("radar")),n.registerPreprocessor(FAt)}var iX="\0_ec_interaction_mutex";function KAt(n,i,r){var s=LR(n);s[i]=r}function jAt(n,i,r){var s=LR(n),u=s[i];u===r&&(s[i]=null)}function aX(n,i){return!!LR(n)[i]}function LR(n){return n[iX]||(n[iX]={})}ys({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qr);var r_=function(n){e(i,n);function i(r){var s=n.call(this)||this;s._zr=r;var u=Mt(s._mousedownHandler,s),c=Mt(s._mousemoveHandler,s),p=Mt(s._mouseupHandler,s),d=Mt(s._mousewheelHandler,s),m=Mt(s._pinchHandler,s);return s.enable=function(_,S){this.disable(),this._opt=dt(lt(S)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),_==null&&(_=!0),(_===!0||_==="move"||_==="pan")&&(r.on("mousedown",u),r.on("mousemove",c),r.on("mouseup",p)),(_===!0||_==="scale"||_==="zoom")&&(r.on("mousewheel",d),r.on("pinch",m))},s.disable=function(){r.off("mousedown",u),r.off("mousemove",c),r.off("mouseup",p),r.off("mousewheel",d),r.off("pinch",m)},s}return i.prototype.isDragging=function(){return this._dragging},i.prototype.isPinching=function(){return this._pinching},i.prototype.setPointerChecker=function(r){this.pointerChecker=r},i.prototype.dispose=function(){this.disable()},i.prototype._mousedownHandler=function(r){if(!gW(r)){for(var s=r.target;s;){if(s.draggable)return;s=s.__hostTarget||s.parent}var u=r.offsetX,c=r.offsetY;this.pointerChecker&&this.pointerChecker(r,u,c)&&(this._x=u,this._y=c,this._dragging=!0)}},i.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!Xw("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||aX(this._zr,"globalPan"))){var s=r.offsetX,u=r.offsetY,c=this._x,p=this._y,d=s-c,m=u-p;this._x=s,this._y=u,this._opt.preventDefaultMouseMove&&Xl(r.event),nX(this,"pan","moveOnMouseMove",r,{dx:d,dy:m,oldX:c,oldY:p,newX:s,newY:u,isAvailableBehavior:null})}},i.prototype._mouseupHandler=function(r){gW(r)||(this._dragging=!1)},i.prototype._mousewheelHandler=function(r){var s=Xw("zoomOnMouseWheel",r,this._opt),u=Xw("moveOnMouseWheel",r,this._opt),c=r.wheelDelta,p=Math.abs(c),d=r.offsetX,m=r.offsetY;if(!(c===0||!s&&!u)){if(s){var _=p>3?1.4:p>1?1.2:1.1,S=c>0?_:1/_;IR(this,"zoom","zoomOnMouseWheel",r,{scale:S,originX:d,originY:m,isAvailableBehavior:null})}if(u){var w=Math.abs(c),A=(c>0?1:-1)*(w>3?.4:w>1?.15:.05);IR(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:A,originX:d,originY:m,isAvailableBehavior:null})}}},i.prototype._pinchHandler=function(r){if(!aX(this._zr,"globalPan")){var s=r.pinchScale>1?1.1:1/1.1;IR(this,"zoom",null,r,{scale:s,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},i}(oo);function IR(n,i,r,s,u){n.pointerChecker&&n.pointerChecker(s,u.originX,u.originY)&&(Xl(s.event),nX(n,i,r,s,u))}function nX(n,i,r,s,u){u.isAvailableBehavior=Mt(Xw,null,r,s),n.trigger(i,u)}function Xw(n,i,r){var s=r[n];return!n||s&&(!kt(s)||i.event[s+"Key"])}function ER(n,i,r){var s=n.target;s.x+=i,s.y+=r,s.dirty()}function PR(n,i,r,s){var u=n.target,c=n.zoomLimit,p=n.zoom=n.zoom||1;if(p*=i,c){var d=c.min||0,m=c.max||1/0;p=Math.max(Math.min(m,p),d)}var _=p/n.zoom;n.zoom=p,u.x-=(r-u.x)*(_-1),u.y-=(s-u.y)*(_-1),u.scaleX*=_,u.scaleY*=_,u.dirty()}var JAt={axisPointer:1,tooltip:1,brush:1};function qw(n,i,r){var s=i.getComponentByElement(n.topTarget),u=s&&s.coordinateSystem;return s&&s!==r&&!JAt.hasOwnProperty(s.mainType)&&u&&u.model!==r}function oX(n){if(kt(n)){var i=new DOMParser;n=i.parseFromString(n,"text/xml")}var r=n;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var RR,$w={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},sX=Xt($w),Kw={"alignment-baseline":"textBaseline","stop-color":"stopColor"},lX=Xt(Kw),QAt=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(i,r){r=r||{};var s=oX(i);if(!s)throw new Error("Illegal svg");this._defsUsePending=[];var u=new Te;this._root=u;var c=[],p=s.getAttribute("viewBox")||"",d=parseFloat(s.getAttribute("width")||r.width),m=parseFloat(s.getAttribute("height")||r.height);isNaN(d)&&(d=null),isNaN(m)&&(m=null),Bn(s,u,null,!0,!1);for(var _=s.firstChild;_;)this._parseNode(_,u,c,null,!1,!1),_=_.nextSibling;rCt(this._defs,this._defsUsePending),this._defsUsePending=[];var S,w;if(p){var A=jw(p);A.length>=4&&(S={x:parseFloat(A[0]||0),y:parseFloat(A[1]||0),width:parseFloat(A[2]),height:parseFloat(A[3])})}if(S&&d!=null&&m!=null&&(w=gX(S,{x:0,y:0,width:d,height:m}),!r.ignoreViewBox)){var D=u;u=new Te,u.add(D),D.scaleX=D.scaleY=w.scale,D.x=w.x,D.y=w.y}return!r.ignoreRootClip&&d!=null&&m!=null&&u.setClipPath(new tr({shape:{x:0,y:0,width:d,height:m}})),{root:u,width:d,height:m,viewBoxRect:S,viewBoxTransform:w,named:c}},n.prototype._parseNode=function(i,r,s,u,c,p){var d=i.nodeName.toLowerCase(),m,_=u;if(d==="defs"&&(c=!0),d==="text"&&(p=!0),d==="defs"||d==="switch")m=r;else{if(!c){var S=RR[d];if(S&&Jt(RR,d)){m=S.call(this,i,r);var w=i.getAttribute("name");if(w){var A={name:w,namedFrom:null,svgNodeTagLower:d,el:m};s.push(A),d==="g"&&(_=A)}else u&&s.push({name:u.name,namedFrom:u,svgNodeTagLower:d,el:m});r.add(m)}}var D=uX[d];if(D&&Jt(uX,d)){var L=D.call(this,i),E=i.getAttribute("id");E&&(this._defs[E]=L)}}if(m&&m.isGroup)for(var R=i.firstChild;R;)R.nodeType===1?this._parseNode(R,m,s,_,c,p):R.nodeType===3&&p&&this._parseText(R,m),R=R.nextSibling},n.prototype._parseText=function(i,r){var s=new rd({style:{text:i.textContent},silent:!0,x:this._textX||0,y:this._textY||0});wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),tCt(s,r);var u=s.style,c=u.fontSize;c&&c<9&&(u.fontSize=9,s.scaleX*=c/9,s.scaleY*=c/9);var p=(u.fontSize||u.fontFamily)&&[u.fontStyle,u.fontWeight,(u.fontSize||12)+"px",u.fontFamily||"sans-serif"].join(" ");u.font=p;var d=s.getBoundingRect();return this._textX+=d.width,r.add(s),s},n.internalField=function(){RR={g:function(i,r){var s=new Te;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s},rect:function(i,r){var s=new tr;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s.setShape({x:parseFloat(i.getAttribute("x")||"0"),y:parseFloat(i.getAttribute("y")||"0"),width:parseFloat(i.getAttribute("width")||"0"),height:parseFloat(i.getAttribute("height")||"0")}),s.silent=!0,s},circle:function(i,r){var s=new rl;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),r:parseFloat(i.getAttribute("r")||"0")}),s.silent=!0,s},line:function(i,r){var s=new Ti;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s.setShape({x1:parseFloat(i.getAttribute("x1")||"0"),y1:parseFloat(i.getAttribute("y1")||"0"),x2:parseFloat(i.getAttribute("x2")||"0"),y2:parseFloat(i.getAttribute("y2")||"0")}),s.silent=!0,s},ellipse:function(i,r){var s=new l0;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),rx:parseFloat(i.getAttribute("rx")||"0"),ry:parseFloat(i.getAttribute("ry")||"0")}),s.silent=!0,s},polygon:function(i,r){var s=i.getAttribute("points"),u;s&&(u=hX(s));var c=new ma({shape:{points:u||[]},silent:!0});return wo(r,c),Bn(i,c,this._defsUsePending,!1,!1),c},polyline:function(i,r){var s=i.getAttribute("points"),u;s&&(u=hX(s));var c=new ya({shape:{points:u||[]},silent:!0});return wo(r,c),Bn(i,c,this._defsUsePending,!1,!1),c},image:function(i,r){var s=new Ni;return wo(r,s),Bn(i,s,this._defsUsePending,!1,!1),s.setStyle({image:i.getAttribute("xlink:href")||i.getAttribute("href"),x:+i.getAttribute("x"),y:+i.getAttribute("y"),width:+i.getAttribute("width"),height:+i.getAttribute("height")}),s.silent=!0,s},text:function(i,r){var s=i.getAttribute("x")||"0",u=i.getAttribute("y")||"0",c=i.getAttribute("dx")||"0",p=i.getAttribute("dy")||"0";this._textX=parseFloat(s)+parseFloat(c),this._textY=parseFloat(u)+parseFloat(p);var d=new Te;return wo(r,d),Bn(i,d,this._defsUsePending,!1,!0),d},tspan:function(i,r){var s=i.getAttribute("x"),u=i.getAttribute("y");s!=null&&(this._textX=parseFloat(s)),u!=null&&(this._textY=parseFloat(u));var c=i.getAttribute("dx")||"0",p=i.getAttribute("dy")||"0",d=new Te;return wo(r,d),Bn(i,d,this._defsUsePending,!1,!0),this._textX+=parseFloat(c),this._textY+=parseFloat(p),d},path:function(i,r){var s=i.getAttribute("d")||"",u=L6(s);return wo(r,u),Bn(i,u,this._defsUsePending,!1,!1),u.silent=!0,u}}}(),n}(),uX={lineargradient:function(n){var i=parseInt(n.getAttribute("x1")||"0",10),r=parseInt(n.getAttribute("y1")||"0",10),s=parseInt(n.getAttribute("x2")||"10",10),u=parseInt(n.getAttribute("y2")||"0",10),c=new fd(i,r,s,u);return fX(n,c),cX(n,c),c},radialgradient:function(n){var i=parseInt(n.getAttribute("cx")||"0",10),r=parseInt(n.getAttribute("cy")||"0",10),s=parseInt(n.getAttribute("r")||"0",10),u=new hP(i,r,s);return fX(n,u),cX(n,u),u}};function fX(n,i){var r=n.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(i.global=!0)}function cX(n,i){for(var r=n.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var s=r.getAttribute("offset"),u=void 0;s&&s.indexOf("%")>0?u=parseInt(s,10)/100:s?u=parseFloat(s):u=0;var c={};dX(r,c,c);var p=c.stopColor||r.getAttribute("stop-color")||"#000000";i.colorStops.push({offset:u,color:p})}r=r.nextSibling}}function wo(n,i){n&&n.__inheritedStyle&&(i.__inheritedStyle||(i.__inheritedStyle={}),dt(i.__inheritedStyle,n.__inheritedStyle))}function hX(n){for(var i=jw(n),r=[],s=0;s<i.length;s+=2){var u=parseFloat(i[s]),c=parseFloat(i[s+1]);r.push([u,c])}return r}function Bn(n,i,r,s,u){var c=i,p=c.__inheritedStyle=c.__inheritedStyle||{},d={};n.nodeType===1&&(nCt(n,i),dX(n,p,d),s||oCt(n,p,d)),c.style=c.style||{},p.fill!=null&&(c.style.fill=pX(c,"fill",p.fill,r)),p.stroke!=null&&(c.style.stroke=pX(c,"stroke",p.stroke,r)),j(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(m){p[m]!=null&&(c.style[m]=parseFloat(p[m]))}),j(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(m){p[m]!=null&&(c.style[m]=p[m])}),u&&(c.__selfStyle=d),p.lineDash&&(c.style.lineDash=Tt(jw(p.lineDash),function(m){return parseFloat(m)})),(p.visibility==="hidden"||p.visibility==="collapse")&&(c.invisible=!0),p.display==="none"&&(c.ignore=!0)}function tCt(n,i){var r=i.__selfStyle;if(r){var s=r.textBaseline,u=s;!s||s==="auto"||s==="baseline"?u="alphabetic":s==="before-edge"||s==="text-before-edge"?u="top":s==="after-edge"||s==="text-after-edge"?u="bottom":(s==="central"||s==="mathematical")&&(u="middle"),n.style.textBaseline=u}var c=i.__inheritedStyle;if(c){var p=c.textAlign,d=p;p&&(p==="middle"&&(d="center"),n.style.textAlign=d)}}var eCt=/^url\(\s*#(.*?)\)/;function pX(n,i,r,s){var u=r&&r.match(eCt);if(u){var c=no(u[1]);s.push([n,i,c]);return}return r==="none"&&(r=null),r}function rCt(n,i){for(var r=0;r<i.length;r++){var s=i[r];s[0].style[s[1]]=n[s[2]]}}var iCt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function jw(n){return n.match(iCt)||[]}var aCt=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,OR=Math.PI/180;function nCt(n,i){var r=n.getAttribute("transform");if(r){r=r.replace(/,/g," ");var s=[],u=null;r.replace(aCt,function(w,A,D){return s.push(A,D),""});for(var c=s.length-1;c>0;c-=2){var p=s[c],d=s[c-1],m=jw(p);switch(u=u||Qa(),d){case"translate":ls(u,u,[parseFloat(m[0]),parseFloat(m[1]||"0")]);break;case"scale":Fb(u,u,[parseFloat(m[0]),parseFloat(m[1]||m[0])]);break;case"rotate":nf(u,u,-parseFloat(m[0])*OR,[parseFloat(m[1]||"0"),parseFloat(m[2]||"0")]);break;case"skewX":var _=Math.tan(parseFloat(m[0])*OR);Xs(u,[1,0,_,1,0,0],u);break;case"skewY":var S=Math.tan(parseFloat(m[0])*OR);Xs(u,[1,S,0,1,0,0],u);break;case"matrix":u[0]=parseFloat(m[0]),u[1]=parseFloat(m[1]),u[2]=parseFloat(m[2]),u[3]=parseFloat(m[3]),u[4]=parseFloat(m[4]),u[5]=parseFloat(m[5]);break}}i.setLocalTransform(u)}}var vX=/([^\s:;]+)\s*:\s*([^:;]+)/g;function dX(n,i,r){var s=n.getAttribute("style");if(s){vX.lastIndex=0;for(var u;(u=vX.exec(s))!=null;){var c=u[1],p=Jt($w,c)?$w[c]:null;p&&(i[p]=u[2]);var d=Jt(Kw,c)?Kw[c]:null;d&&(r[d]=u[2])}}}function oCt(n,i,r){for(var s=0;s<sX.length;s++){var u=sX[s],c=n.getAttribute(u);c!=null&&(i[$w[u]]=c)}for(var s=0;s<lX.length;s++){var u=lX[s],c=n.getAttribute(u);c!=null&&(r[Kw[u]]=c)}}function gX(n,i){var r=i.width/n.width,s=i.height/n.height,u=Math.min(r,s);return{scale:u,x:-(n.x+n.width/2)*u+(i.x+i.width/2),y:-(n.y+n.height/2)*u+(i.y+i.height/2)}}function sCt(n,i){var r=new QAt;return r.parse(n,i)}var lCt=le(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),uCt=function(){function n(i,r){this.type="geoSVG",this._usedGraphicMap=le(),this._freedGraphics=[],this._mapName=i,this._parsedXML=oX(r)}return n.prototype.load=function(){var i=this._firstGraphic;if(!i){i=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(i),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=cCt(i.named),s=r.regions,u=r.regionsMap;this._regions=s,this._regionsMap=u}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(i){var r,s;try{r=i&&sCt(i,{ignoreViewBox:!0,ignoreRootClip:!0})||{},s=r.root,de(s!=null)}catch(R){throw new Error(`Invalid svg format
`+R.message)}var u=new Te;u.add(s),u.isGeoSVGGraphicRoot=!0;var c=r.width,p=r.height,d=r.viewBoxRect,m=this._boundingRect;if(!m){var _=void 0,S=void 0,w=void 0,A=void 0;if(c!=null?(_=0,w=c):d&&(_=d.x,w=d.width),p!=null?(S=0,A=p):d&&(S=d.y,A=d.height),_==null||S==null){var D=s.getBoundingRect();_==null&&(_=D.x,w=D.width),S==null&&(S=D.y,A=D.height)}m=this._boundingRect=new Ve(_,S,w,A)}if(d){var L=gX(d,m);s.scaleX=s.scaleY=L.scale,s.x=L.x,s.y=L.y}u.setClipPath(new tr({shape:m.plain()}));var E=[];return j(r.named,function(R){lCt.get(R.svgNodeTagLower)!=null&&(E.push(R),fCt(R.el))}),{root:u,boundingRect:m,named:E}},n.prototype.useGraphic=function(i){var r=this._usedGraphicMap,s=r.get(i);return s||(s=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(i,s),s)},n.prototype.freeGraphic=function(i){var r=this._usedGraphicMap,s=r.get(i);s&&(r.removeKey(i),this._freedGraphics.push(s))},n}();function fCt(n){n.silent=!1,n.isGroup&&n.traverse(function(i){i.silent=!1})}function cCt(n){var i=[],r=le();return j(n,function(s){if(s.namedFrom==null){var u=new j1t(s.name,s.el);i.push(u),r.set(s.name,u)}}),{regions:i,regionsMap:r}}for(var kR=[126,25],mX="\u5357\u6D77\u8BF8\u5C9B",Kh=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],jh=0;jh<Kh.length;jh++)for(var Gd=0;Gd<Kh[jh].length;Gd++)Kh[jh][Gd][0]/=10.5,Kh[jh][Gd][1]/=-10.5/.75,Kh[jh][Gd][0]+=kR[0],Kh[jh][Gd][1]+=kR[1];function hCt(n,i){if(n==="china"){for(var r=0;r<i.length;r++)if(i[r].name===mX)return;i.push(new o7(mX,Tt(Kh,function(s){return{type:"polygon",exterior:s}}),kR))}}var pCt={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function vCt(n,i){if(n==="china"){var r=pCt[i.name];if(r){var s=i.getCenter();s[0]+=r[0]/10.5,s[1]+=-r[1]/(10.5/.75),i.setCenter(s)}}}var dCt=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function gCt(n,i){n==="china"&&i.name==="\u53F0\u6E7E"&&i.geometries.push({type:"polygon",exterior:dCt[0]})}var mCt="name",yCt=function(){function n(i,r,s){this.type="geoJSON",this._parsedMap=le(),this._mapName=i,this._specialAreas=s,this._geoJSON=xCt(r)}return n.prototype.load=function(i,r){r=r||mCt;var s=this._parsedMap.get(r);if(!s){var u=this._parseToRegions(r);s=this._parsedMap.set(r,{regions:u,boundingRect:_Ct(u)})}var c=le(),p=[];return j(s.regions,function(d){var m=d.name;i&&Jt(i,m)&&(d=d.cloneShallow(m=i[m])),p.push(d),c.set(m,d)}),{regions:p,boundingRect:s.boundingRect||new Ve(0,0,0,0),regionsMap:c}},n.prototype._parseToRegions=function(i){var r=this._mapName,s=this._geoJSON,u;try{u=s?q2(s,i):[]}catch(c){throw new Error(`Invalid geoJson format
`+c.message)}return hCt(r,u),j(u,function(c){var p=c.name;vCt(r,c),gCt(r,c);var d=this._specialAreas&&this._specialAreas[p];d&&c.transformTo(d.left,d.top,d.width,d.height)},this),u},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function _Ct(n){for(var i,r=0;r<n.length;r++){var s=n[r].getBoundingRect();i=i||s.clone(),i.union(s)}return i}function xCt(n){return kt(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var i_=le(),ou={registerMap:function(n,i,r){if(i.svg){var s=new uCt(n,i.svg);i_.set(n,s)}else{var u=i.geoJson||i.geoJSON;u&&!i.features?r=i.specialAreas:u=i;var s=new yCt(n,u,r);i_.set(n,s)}},getGeoResource:function(n){return i_.get(n)},getMapForUser:function(n){var i=i_.get(n);return i&&i.type==="geoJSON"&&i.getMapForUser()},load:function(n,i,r){var s=i_.get(n);if(!s){console.error("Map "+n+" not exists. The GeoJSON of the map must be provided.");return}return s.load(i,r)}},NR=["rect","circle","line","ellipse","polygon","polyline","path"],SCt=le(NR),bCt=le(NR.concat(["g"])),wCt=le(NR.concat(["g"])),yX=rr();function Jw(n){var i=n.getItemStyle(),r=n.get("areaColor");return r!=null&&(i.fill=r),i}function _X(n){var i=n.style;i&&(i.stroke=i.stroke||i.fill,i.fill=null)}var xX=function(){function n(i){var r=new Te;this.uid=gd("ec_map_draw"),this._controller=new r_(i.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Te),r.add(this._svgGroup=new Te)}return n.prototype.draw=function(i,r,s,u,c){var p=i.mainType==="geo",d=i.getData&&i.getData();p&&r.eachComponent({mainType:"series",subType:"map"},function(k){!d&&k.getHostGeoModel()===i&&(d=k.getData())});var m=i.coordinateSystem,_=this._regionsGroup,S=this.group,w=m.getTransformInfo(),A=w.raw,D=w.roam,L=!_.childAt(0)||c;L?(S.x=D.x,S.y=D.y,S.scaleX=D.scaleX,S.scaleY=D.scaleY,S.dirty()):ir(S,D,i);var E=d&&d.getVisual("visualMeta")&&d.getVisual("visualMeta").length>0,R={api:s,geo:m,mapOrGeoModel:i,data:d,isVisualEncodedByVisualMap:E,isGeo:p,transformInfoRaw:A};m.resourceType==="geoJSON"?this._buildGeoJSON(R):m.resourceType==="geoSVG"&&this._buildSVG(R),this._updateController(i,r,s),this._updateMapSelectHandler(i,_,s,u)},n.prototype._buildGeoJSON=function(i){var r=this._regionsGroupByName=le(),s=le(),u=this._regionsGroup,c=i.transformInfoRaw,p=i.mapOrGeoModel,d=i.data,m=i.geo.projection,_=m&&m.stream;function S(D,L){return L&&(D=L(D)),D&&[D[0]*c.scaleX+c.x,D[1]*c.scaleY+c.y]}function w(D){for(var L=[],E=!_&&m&&m.project,R=0;R<D.length;++R){var k=S(D[R],E);k&&L.push(k)}return L}function A(D){return{shape:{points:w(D)}}}u.removeAll(),j(i.geo.regions,function(D){var L=D.name,E=r.get(L),R=s.get(L)||{},k=R.dataIdx,z=R.regionModel;if(!E){E=r.set(L,new Te),u.add(E),k=d?d.indexOfName(L):null,z=i.isGeo?p.getRegionModel(L):d?d.getItemModel(k):null;var B=z.get("silent",!0);B!=null&&(E.silent=B),s.set(L,{dataIdx:k,regionModel:z})}var G=[],W=[];j(D.geometries,function(J){if(J.type==="polygon"){var tt=[J.exterior].concat(J.interiors||[]);_&&(tt=CX(tt,_)),j(tt,function(it){G.push(new ma(A(it)))})}else{var et=J.points;_&&(et=CX(et,_,!0)),j(et,function(it){W.push(new ya(A(it)))})}});var Y=S(D.getCenter(),m&&m.project);function q(J,tt){if(J.length){var et=new I1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:J}});E.add(et),SX(i,et,k,z),bX(i,et,L,z,p,k,Y),tt&&(_X(et),j(et.states,_X))}}q(G),q(W,!0)}),r.each(function(D,L){var E=s.get(L),R=E.dataIdx,k=E.regionModel;wX(i,D,L,k,p,R),TX(i,D,L,k,p),AX(i,D,L,k,p)},this)},n.prototype._buildSVG=function(i){var r=i.geo.map,s=i.transformInfoRaw;this._svgGroup.x=s.x,this._svgGroup.y=s.y,this._svgGroup.scaleX=s.scaleX,this._svgGroup.scaleY=s.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var u=this._svgDispatcherMap=le(),c=!1;j(this._svgGraphicRecord.named,function(p){var d=p.name,m=i.mapOrGeoModel,_=i.data,S=p.svgNodeTagLower,w=p.el,A=_?_.indexOfName(d):null,D=m.getRegionModel(d);SCt.get(S)!=null&&w instanceof co&&SX(i,w,A,D),w instanceof co&&(w.culling=!0);var L=D.get("silent",!0);if(L!=null&&(w.silent=L),w.z2EmphasisLift=0,!p.namedFrom&&(wCt.get(S)!=null&&bX(i,w,d,D,m,A,null),wX(i,w,d,D,m,A),TX(i,w,d,D,m),bCt.get(S)!=null)){var E=AX(i,w,d,D,m);E==="self"&&(c=!0);var R=u.get(d)||u.set(d,[]);R.push(w)}},this),this._enableBlurEntireSVG(c,i)},n.prototype._enableBlurEntireSVG=function(i,r){if(i&&r.isGeo){var s=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),u=s.opacity;this._svgGraphicRecord.root.traverse(function(c){if(!c.isGroup){yh(c);var p=c.ensureState("blur").style||{};p.opacity==null&&u!=null&&(p.opacity=u),c.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(i,r){if(i==null)return[];var s=r.coordinateSystem;if(s.resourceType==="geoJSON"){var u=this._regionsGroupByName;if(u){var c=u.get(i);return c?[c]:[]}}else if(s.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(i)||[]},n.prototype._svgResourceChanged=function(i){return this._svgMapName!==i},n.prototype._useSVG=function(i){var r=ou.getGeoResource(i);if(r&&r.type==="geoSVG"){var s=r.useGraphic(this.uid);this._svgGroup.add(s.root),this._svgGraphicRecord=s,this._svgMapName=i}},n.prototype._freeSVG=function(){var i=this._svgMapName;if(i!=null){var r=ou.getGeoResource(i);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(i,r,s){var u=i.coordinateSystem,c=this._controller,p=this._controllerHost;p.zoomLimit=i.get("scaleLimit"),p.zoom=u.getZoom(),c.enable(i.get("roam")||!1);var d=i.mainType;function m(){var _={type:"geoRoam",componentType:d};return _[d+"Id"]=i.id,_}c.off("pan").on("pan",function(_){this._mouseDownFlag=!1,ER(p,_.dx,_.dy),s.dispatchAction(st(m(),{dx:_.dx,dy:_.dy,animation:{duration:0}}))},this),c.off("zoom").on("zoom",function(_){this._mouseDownFlag=!1,PR(p,_.scale,_.originX,_.originY),s.dispatchAction(st(m(),{totalZoom:p.zoom,zoom:_.scale,originX:_.originX,originY:_.originY,animation:{duration:0}}))},this),c.setPointerChecker(function(_,S,w){return u.containPoint([S,w])&&!qw(_,s,i)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(i){var r=i.getTextContent();r&&(r.ignore=yX(r).ignore)})},n.prototype._updateMapSelectHandler=function(i,r,s,u){var c=this;r.off("mousedown"),r.off("click"),i.get("selectedMode")&&(r.on("mousedown",function(){c._mouseDownFlag=!0}),r.on("click",function(p){c._mouseDownFlag&&(c._mouseDownFlag=!1)}))},n}();function SX(n,i,r,s){var u=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),p=s.getModel(["blur","itemStyle"]),d=s.getModel(["select","itemStyle"]),m=Jw(u),_=Jw(c),S=Jw(d),w=Jw(p),A=n.data;if(A){var D=A.getItemVisual(r,"style"),L=A.getItemVisual(r,"decal");n.isVisualEncodedByVisualMap&&D.fill&&(m.fill=D.fill),L&&(m.decal=Ed(L,n.api))}i.setStyle(m),i.style.strokeNoScale=!0,i.ensureState("emphasis").style=_,i.ensureState("select").style=S,i.ensureState("blur").style=w,yh(i)}function bX(n,i,r,s,u,c,p){var d=n.data,m=n.isGeo,_=d&&isNaN(d.get(d.mapDimension("value"),c)),S=d&&d.getItemLayout(c);if(m||_||S&&S.showLabel){var w=m?r:c,A=void 0;(!d||c>=0)&&(A=u);var D=p?{normal:{align:"center",verticalAlign:"middle"}}:null;ia(i,zi(s),{labelFetcher:A,labelDataIndex:w,defaultText:r},D);var L=i.getTextContent();if(L&&(yX(L).ignore=L.ignore,i.textConfig&&p)){var E=i.getBoundingRect().clone();i.textConfig.layoutRect=E,i.textConfig.position=[(p[0]-E.x)/E.width*100+"%",(p[1]-E.y)/E.height*100+"%"]}i.disableLabelAnimation=!0}else i.removeTextContent(),i.removeTextConfig(),i.disableLabelAnimation=null}function wX(n,i,r,s,u,c){n.data?n.data.setItemGraphicEl(c,i):Me(i).eventData={componentType:"geo",componentIndex:u.componentIndex,geoIndex:u.componentIndex,name:r,region:s&&s.option||{}}}function TX(n,i,r,s,u){n.data||wh({el:i,componentModel:u,itemName:r,itemTooltipOption:s.get("tooltip")})}function AX(n,i,r,s,u){i.highDownSilentOnTouch=!!u.get("selectedMode");var c=s.getModel("emphasis"),p=c.get("focus");return Zr(i,p,c.get("blurScope"),c.get("disabled")),n.isGeo&&i_t(i,u,r),p}function CX(n,i,r){var s=[],u;function c(){u=[]}function p(){u.length&&(s.push(u),u=[])}var d=i({polygonStart:c,polygonEnd:p,lineStart:c,lineEnd:p,point:function(m,_){isFinite(m)&&isFinite(_)&&u.push([m,_])},sphere:function(){}});return!r&&d.polygonStart(),j(n,function(m){d.lineStart();for(var _=0;_<m.length;_++)d.point(m[_][0],m[_][1]);d.lineEnd()}),!r&&d.polygonEnd(),s}var TCt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u,c){if(!(c&&c.type==="mapToggleSelect"&&c.from===this.uid)){var p=this.group;if(p.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&c&&c.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),c&&c.type==="geoRoam"&&c.componentType==="series"&&c.seriesId===r.id){var d=this._mapDraw;d&&p.add(d.group)}else if(r.needsDrawMap){var d=this._mapDraw||new xX(u);p.add(d.group),d.draw(r,s,u,this,c),this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&s.getComponent("legend")&&this._renderSymbols(r,s,u)}}},i.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},i.prototype._renderSymbols=function(r,s,u){var c=r.originalData,p=this.group;c.each(c.mapDimension("value"),function(d,m){if(!isNaN(d)){var _=c.getItemLayout(m);if(!(!_||!_.point)){var S=_.point,w=_.offset,A=new rl({style:{fill:r.getData().getVisual("style").fill},shape:{cx:S[0]+w*9,cy:S[1],r:3},silent:!0,z2:8+(w?0:ad+1)});if(!w){var D=r.mainSeries.getData(),L=c.getName(m),E=D.indexOfName(L),R=c.getItemModel(m),k=R.getModel("label"),z=D.getItemGraphicEl(E);ia(A,zi(R),{labelFetcher:{getFormattedLabel:function(B,G){return r.getFormattedLabel(E,G)}},defaultText:L}),A.disableLabelAnimation=!0,k.get("position")||A.setTextConfig({position:"bottom"}),z.onHoverStateChange=function(B){C1(A,B)}}p.add(A)}}})},i.type="map",i}(vr),ACt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(s){if(s!=null){var u=this.getData().getName(s),c=this.coordinateSystem,p=c.getRegion(u);return p&&c.dataToPoint(p.getCenter())}},r}return i.prototype.getInitialData=function(r){for(var s=Fd(this,{coordDimensions:["value"],encodeDefaulter:ee(VP,this)}),u=le(),c=[],p=0,d=s.count();p<d;p++){var m=s.getName(p);u.set(m,p)}var _=ou.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return j(_.regions,function(S){var w=S.name,A=u.get(w),D=S.properties&&S.properties.echartsStyle,L;A==null?(L={name:w},c.push(L)):L=s.getRawDataItem(A),D&&pt(L,D)}),s.appendData(c),s},i.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},i.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},i.prototype.getRawValue=function(r){var s=this.getData();return s.get(s.mapDimension("value"),r)},i.prototype.getRegionModel=function(r){var s=this.getData();return s.getItemModel(s.indexOfName(r))},i.prototype.formatTooltip=function(r,s,u){for(var c=this.getData(),p=this.getRawValue(r),d=c.getName(r),m=this.seriesGroup,_=[],S=0;S<m.length;S++){var w=m[S].originalData.indexOfName(d),A=c.mapDimension("value");isNaN(m[S].originalData.get(A,w))||_.push(m[S].name)}return Vi("section",{header:_.join(", "),noHeader:!_.length,blocks:[Vi("nameValue",{name:d,value:p})]})},i.prototype.setZoom=function(r){this.option.zoom=r},i.prototype.setCenter=function(r){this.option.center=r},i.prototype.getLegendIcon=function(r){var s=r.icon||"roundRect",u=li(s,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return u.setStyle(r.itemStyle),u.style.stroke="none",s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),u},i.type="series.map",i.dependencies=["geo"],i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},i}(Sr);function CCt(n,i){var r={};return j(n,function(s){s.each(s.mapDimension("value"),function(u,c){var p="ec-"+s.getName(c);r[p]=r[p]||[],isNaN(u)||r[p].push(u)})}),n[0].map(n[0].mapDimension("value"),function(s,u){for(var c="ec-"+n[0].getName(u),p=0,d=1/0,m=-1/0,_=r[c].length,S=0;S<_;S++)d=Math.min(d,r[c][S]),m=Math.max(m,r[c][S]),p+=r[c][S];var w;return i==="min"?w=d:i==="max"?w=m:i==="average"?w=p/_:w=p,_===0?NaN:w})}function DCt(n){var i={};n.eachSeriesByType("map",function(r){var s=r.getHostGeoModel(),u=s?"o"+s.id:"i"+r.getMapType();(i[u]=i[u]||[]).push(r)}),j(i,function(r,s){for(var u=CCt(Tt(r,function(p){return p.getData()}),r[0].get("mapValueCalculation")),c=0;c<r.length;c++)r[c].originalData=r[c].getData();for(var c=0;c<r.length;c++)r[c].seriesGroup=r,r[c].needsDrawMap=c===0&&!r[c].getHostGeoModel(),r[c].setData(u.cloneShallow()),r[c].mainSeries=r[0]})}function MCt(n){var i={};n.eachSeriesByType("map",function(r){var s=r.getMapType();if(!(r.getHostGeoModel()||i[s])){var u={};j(r.seriesGroup,function(p){var d=p.coordinateSystem,m=p.originalData;p.get("showLegendSymbol")&&n.getComponent("legend")&&m.each(m.mapDimension("value"),function(_,S){var w=m.getName(S),A=d.getRegion(w);if(!(!A||isNaN(_))){var D=u[w]||0,L=d.dataToPoint(A.getCenter());u[w]=D+1,m.setItemLayout(S,{point:L,offset:D})}})});var c=r.getData();c.each(function(p){var d=c.getName(p),m=c.getItemLayout(p)||{};m.showLabel=!u[d],c.setItemLayout(p,m)}),i[s]=!0}})}var DX=Xi,a_=function(n){e(i,n);function i(r){var s=n.call(this)||this;return s.type="view",s.dimensions=["x","y"],s._roamTransformable=new $l,s._rawTransformable=new $l,s.name=r,s}return i.prototype.setBoundingRect=function(r,s,u,c){return this._rect=new Ve(r,s,u,c),this._rect},i.prototype.getBoundingRect=function(){return this._rect},i.prototype.setViewRect=function(r,s,u,c){this._transformTo(r,s,u,c),this._viewRect=new Ve(r,s,u,c)},i.prototype._transformTo=function(r,s,u,c){var p=this.getBoundingRect(),d=this._rawTransformable;d.transform=p.calculateTransform(new Ve(r,s,u,c));var m=d.parent;d.parent=null,d.decomposeTransform(),d.parent=m,this._updateTransform()},i.prototype.setCenter=function(r,s){r&&(this._center=[Wt(r[0],s.getWidth()),Wt(r[1],s.getHeight())],this._updateCenterAndZoom())},i.prototype.setZoom=function(r){r=r||1;var s=this.zoomLimit;s&&(s.max!=null&&(r=Math.min(s.max,r)),s.min!=null&&(r=Math.max(s.min,r))),this._zoom=r,this._updateCenterAndZoom()},i.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),s=r.x+r.width/2,u=r.y+r.height/2;return[s,u]},i.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},i.prototype.getZoom=function(){return this._zoom||1},i.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},i.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),s=this._roamTransformable,u=this.getDefaultCenter(),c=this.getCenter(),p=this.getZoom();c=Xi([],c,r),u=Xi([],u,r),s.originX=c[0],s.originY=c[1],s.x=u[0]-c[0],s.y=u[1]-c[1],s.scaleX=s.scaleY=p,this._updateTransform()},i.prototype._updateTransform=function(){var r=this._roamTransformable,s=this._rawTransformable;s.parent=r,r.updateTransform(),s.updateTransform(),Bb(this.transform||(this.transform=[]),s.transform||Qa()),this._rawTransform=s.getLocalTransform(),this.invTransform=this.invTransform||[],Kc(this.invTransform,this.transform),this.decomposeTransform()},i.prototype.getTransformInfo=function(){var r=this._rawTransformable,s=this._roamTransformable,u=new $l;return u.transform=s.transform,u.decomposeTransform(),{roam:{x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},i.prototype.getViewRect=function(){return this._viewRect},i.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},i.prototype.dataToPoint=function(r,s,u){var c=s?this._rawTransform:this.transform;return u=u||[],c?DX(u,r,c):va(u,r)},i.prototype.pointToData=function(r){var s=this.invTransform;return s?DX([],r,s):[r[0],r[1]]},i.prototype.convertToPixel=function(r,s,u){var c=MX(s);return c===this?c.dataToPoint(u):null},i.prototype.convertFromPixel=function(r,s,u){var c=MX(s);return c===this?c.pointToData(u):null},i.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},i.dimensions=["x","y"],i}($l);function MX(n){var i=n.seriesModel;return i?i.coordinateSystem:null}var LCt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},LX=["lng","lat"],zR=function(n){e(i,n);function i(r,s,u){var c=n.call(this,r)||this;c.dimensions=LX,c.type="geo",c._nameCoordMap=le(),c.map=s;var p=u.projection,d=ou.load(s,u.nameMap,u.nameProperty),m=ou.getGeoResource(s),_=c.resourceType=m?m.type:null,S=c.regions=d.regions,w=LCt[m.type];c._regionsMap=d.regionsMap,c.regions=d.regions,p&&(_==="geoSVG"&&(Yr("Map "+s+" with SVG source can't use projection. Only GeoJSON source supports projection."),p=null),p.project&&p.unproject||(Yr("project and unproject must be both provided in the projeciton."),p=null)),c.projection=p;var A;if(p)for(var D=0;D<S.length;D++){var L=S[D].getBoundingRect(p);A=A||L.clone(),A.union(L)}else A=d.boundingRect;return c.setBoundingRect(A.x,A.y,A.width,A.height),c.aspectScale=p?1:De(u.aspectScale,w.aspectScale),c._invertLongitute=p?!1:w.invertLongitute,c}return i.prototype._transformTo=function(r,s,u,c){var p=this.getBoundingRect(),d=this._invertLongitute;p=p.clone(),d&&(p.y=-p.y-p.height);var m=this._rawTransformable;m.transform=p.calculateTransform(new Ve(r,s,u,c));var _=m.parent;m.parent=null,m.decomposeTransform(),m.parent=_,d&&(m.scaleY=-m.scaleY),this._updateTransform()},i.prototype.getRegion=function(r){return this._regionsMap.get(r)},i.prototype.getRegionByCoord=function(r){for(var s=this.regions,u=0;u<s.length;u++){var c=s[u];if(c.type==="geoJSON"&&c.contain(r))return s[u]}},i.prototype.addGeoCoord=function(r,s){this._nameCoordMap.set(r,s)},i.prototype.getGeoCoord=function(r){var s=this._regionsMap.get(r);return this._nameCoordMap.get(r)||s&&s.getCenter()},i.prototype.dataToPoint=function(r,s,u){if(kt(r)&&(r=this.getGeoCoord(r)),r){var c=this.projection;return c&&(r=c.project(r)),r&&this.projectedToPoint(r,s,u)}},i.prototype.pointToData=function(r){var s=this.projection;return s&&(r=s.unproject(r)),r&&this.pointToProjected(r)},i.prototype.pointToProjected=function(r){return n.prototype.pointToData.call(this,r)},i.prototype.projectedToPoint=function(r,s,u){return n.prototype.dataToPoint.call(this,r,s,u)},i.prototype.convertToPixel=function(r,s,u){var c=IX(s);return c===this?c.dataToPoint(u):null},i.prototype.convertFromPixel=function(r,s,u){var c=IX(s);return c===this?c.pointToData(u):null},i}(a_);qt(zR,a_);function IX(n){var i=n.geoModel,r=n.seriesModel;return i?i.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",mi).models[0]||{}).coordinateSystem:null}function EX(n,i){var r=n.get("boundingCoords");if(r!=null){var s=r[0],u=r[1];if(!(isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))console.error("Invalid boundingCoords");else{var c=this.projection;if(c){var p=s[0],d=s[1],m=u[0],_=u[1];s=[1/0,1/0],u=[-1/0,-1/0];var S=function(Y,q,J,tt){for(var et=J-Y,it=tt-q,ut=0;ut<=100;ut++){var ct=ut/100,ht=c.project([Y+et*ct,q+it*ct]);Yl(s,s,ht),Zl(u,u,ht)}};S(p,d,m,d),S(m,d,m,_),S(m,_,p,_),S(p,_,m,d)}this.setBoundingRect(s[0],s[1],u[0]-s[0],u[1]-s[1])}}var w=this.getBoundingRect(),A=n.get("layoutCenter"),D=n.get("layoutSize"),L=i.getWidth(),E=i.getHeight(),R=w.width/w.height*this.aspectScale,k=!1,z,B;A&&D&&(z=[Wt(A[0],L),Wt(A[1],E)],B=Wt(D,Math.min(L,E)),!isNaN(z[0])&&!isNaN(z[1])&&!isNaN(B)?k=!0:console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."));var G;if(k)G={},R>1?(G.width=B,G.height=B/R):(G.height=B,G.width=B*R),G.y=z[1]-G.height/2,G.x=z[0]-G.width/2;else{var W=n.getBoxLayoutParams();W.aspect=R,G=yi(W,{width:L,height:E})}this.setViewRect(G.x,G.y,G.width,G.height),this.setCenter(n.get("center"),i),this.setZoom(n.get("zoom"))}function ICt(n,i){j(i.get("geoCoord"),function(r,s){n.addGeoCoord(s,r)})}var ECt=function(){function n(){this.dimensions=LX}return n.prototype.create=function(i,r){var s=[];function u(p){return{nameProperty:p.get("nameProperty"),aspectScale:p.get("aspectScale"),projection:p.get("projection")}}i.eachComponent("geo",function(p,d){var m=p.get("map"),_=new zR(m+d,m,st({nameMap:p.get("nameMap")},u(p)));_.zoomLimit=p.get("scaleLimit"),s.push(_),p.coordinateSystem=_,_.model=p,_.resize=EX,_.resize(p,r)}),i.eachSeries(function(p){var d=p.get("coordinateSystem");if(d==="geo"){var m=p.get("geoIndex")||0;p.coordinateSystem=s[m]}});var c={};return i.eachSeriesByType("map",function(p){if(!p.getHostGeoModel()){var d=p.getMapType();c[d]=c[d]||[],c[d].push(p)}}),j(c,function(p,d){var m=Tt(p,function(S){return S.get("nameMap")}),_=new zR(d,d,st({nameMap:xt(m)},u(p[0])));_.zoomLimit=oi.apply(null,Tt(p,function(S){return S.get("scaleLimit")})),s.push(_),_.resize=EX,_.resize(p[0],r),j(p,function(S){S.coordinateSystem=_,ICt(_,S)})}),s},n.prototype.getFilledRegions=function(i,r,s,u){for(var c=(i||[]).slice(),p=le(),d=0;d<c.length;d++)p.set(c[d].name,c[d]);var m=ou.load(r,s,u);return j(m.regions,function(_){var S=_.name,w=p.get(S),A=_.properties&&_.properties.echartsStyle;w||(w={name:S},c.push(w)),A&&pt(w,A)}),c},n}(),PX=new ECt,PCt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s,u){var c=ou.getGeoResource(r.map);if(c&&c.type==="geoJSON"){var p=r.itemStyle=r.itemStyle||{};"color"in p||(p.color="#eee")}this.mergeDefaultAndTheme(r,u),nh(r,"label",["show"])},i.prototype.optionUpdated=function(){var r=this,s=this.option;s.regions=PX.getFilledRegions(s.regions,s.map,s.nameMap,s.nameProperty);var u={};this._optionModelMap=lr(s.regions||[],function(c,p){var d=p.name;return d&&(c.set(d,new sr(p,r,r.ecModel)),p.selected&&(u[d]=!0)),c},le()),s.selectedMap||(s.selectedMap=u)},i.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new sr(null,this,this.ecModel)},i.prototype.getFormattedLabel=function(r,s){var u=this.getRegionModel(r),c=s==="normal"?u.get(["label","formatter"]):u.get(["emphasis","label","formatter"]),p={name:r};if(Gt(c))return p.status=s,c(p);if(kt(c))return c.replace("{a}",r??"")},i.prototype.setZoom=function(r){this.option.zoom=r},i.prototype.setCenter=function(r){this.option.center=r},i.prototype.select=function(r){var s=this.option,u=s.selectedMode;if(u){u!=="multiple"&&(s.selectedMap=null);var c=s.selectedMap||(s.selectedMap={});c[r]=!0}},i.prototype.unSelect=function(r){var s=this.option.selectedMap;s&&(s[r]=!1)},i.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},i.prototype.isSelected=function(r){var s=this.option.selectedMap;return!!(s&&s[r])},i.type="geo",i.layoutMode="box",i.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},i}(We);function RX(n,i){return n.pointToProjected?n.pointToProjected(i):n.pointToData(i)}function VR(n,i,r,s){var u=n.getZoom(),c=n.getCenter(),p=i.zoom,d=n.projectedToPoint?n.projectedToPoint(c):n.dataToPoint(c);if(i.dx!=null&&i.dy!=null&&(d[0]-=i.dx,d[1]-=i.dy,n.setCenter(RX(n,d),s)),p!=null){if(r){var m=r.min||0,_=r.max||1/0;p=Math.max(Math.min(u*p,_),m)/u}n.scaleX*=p,n.scaleY*=p;var S=(i.originX-n.x)*(p-1),w=(i.originY-n.y)*(p-1);n.x-=S,n.y-=w,n.updateTransform(),n.setCenter(RX(n,d),s),n.setZoom(p*u)}return{center:n.getCenter(),zoom:n.getZoom()}}var RCt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.focusBlurEnabled=!0,r}return i.prototype.init=function(r,s){this._api=s},i.prototype.render=function(r,s,u,c){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new xX(u));var p=this._mapDraw;p.draw(r,s,u,this,c),p.group.on("click",this._handleRegionClick,this),p.group.silent=r.get("silent"),this.group.add(p.group),this.updateSelectStatus(r,s,u)},i.prototype._handleRegionClick=function(r){var s;Rh(r.target,function(u){return(s=Me(u).eventData)!=null},!0),s&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:s.name})},i.prototype.updateSelectStatus=function(r,s,u){var c=this;this._mapDraw.group.traverse(function(p){var d=Me(p).eventData;if(d)return c._model.isSelected(d.name)?u.enterSelect(p):u.leaveSelect(p),!0})},i.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},i.type="geo",i}(Pr);function OCt(n,i,r){ou.registerMap(n,i,r)}function OX(n){n.registerCoordinateSystem("geo",PX),n.registerComponentModel(PCt),n.registerComponentView(RCt),n.registerImpl("registerMap",OCt),n.registerImpl("getMap",function(r){return ou.getMapForUser(r)});function i(r,s){s.update="geo:updateSelectStatus",n.registerAction(s,function(u,c){var p={},d=[];return c.eachComponent({mainType:"geo",query:u},function(m){m[r](u.name);var _=m.coordinateSystem;j(_.regions,function(w){p[w.name]=m.isSelected(w.name)||!1});var S=[];j(p,function(w,A){p[A]&&S.push(A)}),d.push({geoIndex:m.componentIndex,name:S})}),{selected:p,allSelected:d,name:u.name}})}i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,s,u){var c=r.componentType||"series";s.eachComponent({mainType:c,query:r},function(p){var d=p.coordinateSystem;if(d.type==="geo"){var m=VR(d,r,p.get("scaleLimit"),u);p.setCenter&&p.setCenter(m.center),p.setZoom&&p.setZoom(m.zoom),c==="series"&&j(p.seriesGroup,function(_){_.setCenter(m.center),_.setZoom(m.zoom)})}})})}function kCt(n){Ye(OX),n.registerChartView(TCt),n.registerSeriesModel(ACt),n.registerLayout(MCt),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,DCt),V8("map",n.registerAction)}function NCt(n){var i=n;i.hierNode={defaultAncestor:null,ancestor:i,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[i],s,u;s=r.pop();)if(u=s.children,s.isExpand&&u.length)for(var c=u.length,p=c-1;p>=0;p--){var d=u[p];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:p,thread:null},r.push(d)}}function zCt(n,i){var r=n.isExpand?n.children:[],s=n.parentNode.children,u=n.hierNode.i?s[n.hierNode.i-1]:null;if(r.length){FCt(n);var c=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;u?(n.hierNode.prelim=u.hierNode.prelim+i(n,u),n.hierNode.modifier=n.hierNode.prelim-c):n.hierNode.prelim=c}else u&&(n.hierNode.prelim=u.hierNode.prelim+i(n,u));n.parentNode.hierNode.defaultAncestor=UCt(n,u,n.parentNode.hierNode.defaultAncestor||s[0],i)}function VCt(n){var i=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:i},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function kX(n){return arguments.length?n:WCt}function n_(n,i){return n-=Math.PI/2,{x:i*Math.cos(n),y:i*Math.sin(n)}}function BCt(n,i){return yi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function FCt(n){for(var i=n.children,r=i.length,s=0,u=0;--r>=0;){var c=i[r];c.hierNode.prelim+=s,c.hierNode.modifier+=s,u+=c.hierNode.change,s+=c.hierNode.shift+u}}function UCt(n,i,r,s){if(i){for(var u=n,c=n,p=c.parentNode.children[0],d=i,m=u.hierNode.modifier,_=c.hierNode.modifier,S=p.hierNode.modifier,w=d.hierNode.modifier;d=BR(d),c=FR(c),d&&c;){u=BR(u),p=FR(p),u.hierNode.ancestor=n;var A=d.hierNode.prelim+w-c.hierNode.prelim-_+s(d,c);A>0&&(HCt(GCt(d,n,r),n,A),_+=A,m+=A),w+=d.hierNode.modifier,_+=c.hierNode.modifier,m+=u.hierNode.modifier,S+=p.hierNode.modifier}d&&!BR(u)&&(u.hierNode.thread=d,u.hierNode.modifier+=w-m),c&&!FR(p)&&(p.hierNode.thread=c,p.hierNode.modifier+=_-S,r=n)}return r}function BR(n){var i=n.children;return i.length&&n.isExpand?i[i.length-1]:n.hierNode.thread}function FR(n){var i=n.children;return i.length&&n.isExpand?i[0]:n.hierNode.thread}function GCt(n,i,r){return n.hierNode.ancestor.parentNode===i.parentNode?n.hierNode.ancestor:r}function HCt(n,i,r){var s=r/(i.hierNode.i-n.hierNode.i);i.hierNode.change-=s,i.hierNode.shift+=r,i.hierNode.modifier+=r,i.hierNode.prelim+=r,n.hierNode.change+=s}function WCt(n,i){return n.parentNode===i.parentNode?1:2}var YCt=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),ZCt=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new YCt},i.prototype.buildPath=function(r,s){var u=s.childPoints,c=u.length,p=s.parentPoint,d=u[0],m=u[c-1];if(c===1){r.moveTo(p[0],p[1]),r.lineTo(d[0],d[1]);return}var _=s.orient,S=_==="TB"||_==="BT"?0:1,w=1-S,A=Wt(s.forkPosition,1),D=[];D[S]=p[S],D[w]=p[w]+(m[w]-p[w])*A,r.moveTo(p[0],p[1]),r.lineTo(D[0],D[1]),r.moveTo(d[0],d[1]),D[S]=d[S],r.lineTo(D[0],D[1]),D[S]=m[S],r.lineTo(D[0],D[1]),r.lineTo(m[0],m[1]);for(var L=1;L<c-1;L++){var E=u[L];r.moveTo(E[0],E[1]),D[S]=E[S],r.lineTo(D[0],D[1])}},i}(Xe),XCt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._mainGroup=new Te,r}return i.prototype.init=function(r,s){this._controller=new r_(s.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},i.prototype.render=function(r,s,u){var c=r.getData(),p=r.layoutInfo,d=this._mainGroup,m=r.get("layout");m==="radial"?(d.x=p.x+p.width/2,d.y=p.y+p.height/2):(d.x=p.x,d.y=p.y),this._updateViewCoordSys(r,u),this._updateController(r,s,u);var _=this._data;c.diff(_).add(function(S){NX(c,S)&&zX(c,S,null,d,r)}).update(function(S,w){var A=_.getItemGraphicEl(w);if(!NX(c,S)){A&&FX(_,w,A,d,r);return}zX(c,S,A,d,r)}).remove(function(S){var w=_.getItemGraphicEl(S);w&&FX(_,S,w,d,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&c.eachItemGraphicEl(function(S,w){S.off("click").on("click",function(){u.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:w})})}),this._data=c},i.prototype._updateViewCoordSys=function(r,s){var u=r.getData(),c=[];u.each(function(w){var A=u.getItemLayout(w);A&&!isNaN(A.x)&&!isNaN(A.y)&&c.push([+A.x,+A.y])});var p=[],d=[];x1(c,p,d);var m=this._min,_=this._max;d[0]-p[0]===0&&(p[0]=m?m[0]:p[0]-1,d[0]=_?_[0]:d[0]+1),d[1]-p[1]===0&&(p[1]=m?m[1]:p[1]-1,d[1]=_?_[1]:d[1]+1);var S=r.coordinateSystem=new a_;S.zoomLimit=r.get("scaleLimit"),S.setBoundingRect(p[0],p[1],d[0]-p[0],d[1]-p[1]),S.setCenter(r.get("center"),s),S.setZoom(r.get("zoom")),this.group.attr({x:S.x,y:S.y,scaleX:S.scaleX,scaleY:S.scaleY}),this._min=p,this._max=d},i.prototype._updateController=function(r,s,u){var c=this,p=this._controller,d=this._controllerHost,m=this.group;p.setPointerChecker(function(_,S,w){var A=m.getBoundingRect();return A.applyTransform(m.transform),A.contain(S,w)&&!qw(_,u,r)}),p.enable(r.get("roam")),d.zoomLimit=r.get("scaleLimit"),d.zoom=r.coordinateSystem.getZoom(),p.off("pan").off("zoom").on("pan",function(_){ER(d,_.dx,_.dy),u.dispatchAction({seriesId:r.id,type:"treeRoam",dx:_.dx,dy:_.dy})}).on("zoom",function(_){PR(d,_.scale,_.originX,_.originY),u.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:_.scale,originX:_.originX,originY:_.originY}),c._updateNodeAndLinkScale(r),u.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(r){var s=r.getData(),u=this._getNodeGlobalScale(r);s.eachItemGraphicEl(function(c,p){c.setSymbolScale(u)})},i.prototype._getNodeGlobalScale=function(r){var s=r.coordinateSystem;if(s.type!=="view")return 1;var u=this._nodeScaleRatio,c=s.scaleX||1,p=s.getZoom(),d=(p-1)*u+1;return d/c},i.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},i.type="tree",i}(vr);function NX(n,i){var r=n.getItemLayout(i);return r&&!isNaN(r.x)&&!isNaN(r.y)}function zX(n,i,r,s,u){var c=!r,p=n.tree.getNodeByDataIndex(i),d=p.getModel(),m=p.getVisual("style").fill,_=p.isExpand===!1&&p.children.length!==0?m:"#fff",S=n.tree.root,w=p.parentNode===S?p:p.parentNode||p,A=n.getItemGraphicEl(w.dataIndex),D=w.getLayout(),L=A?{x:A.__oldX,y:A.__oldY,rawX:A.__radialOldRawX,rawY:A.__radialOldRawY}:D,E=p.getLayout();c?(r=new X0(n,i,null,{symbolInnerColor:_,useNameLabel:!0}),r.x=L.x,r.y=L.y):r.updateData(n,i,null,{symbolInnerColor:_,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=E.rawX,r.__radialRawY=E.rawY,s.add(r),n.setItemGraphicEl(i,r),r.__oldX=r.x,r.__oldY=r.y,ir(r,{x:E.x,y:E.y},u);var R=r.getSymbolPath();if(u.get("layout")==="radial"){var k=S.children[0],z=k.getLayout(),B=k.children.length,G=void 0,W=void 0;if(E.x===z.x&&p.isExpand===!0&&k.children.length){var Y={x:(k.children[0].getLayout().x+k.children[B-1].getLayout().x)/2,y:(k.children[0].getLayout().y+k.children[B-1].getLayout().y)/2};G=Math.atan2(Y.y-z.y,Y.x-z.x),G<0&&(G=Math.PI*2+G),W=Y.x<z.x,W&&(G=G-Math.PI)}else G=Math.atan2(E.y-z.y,E.x-z.x),G<0&&(G=Math.PI*2+G),p.children.length===0||p.children.length!==0&&p.isExpand===!1?(W=E.x<z.x,W&&(G=G-Math.PI)):(W=E.x>z.x,W||(G=G-Math.PI));var q=W?"left":"right",J=d.getModel("label"),tt=J.get("rotate"),et=tt*(Math.PI/180),it=R.getTextContent();it&&(R.setTextConfig({position:J.get("position")||q,rotation:tt==null?-G:et,origin:"center"}),it.setStyle("verticalAlign","middle"))}var ut=d.get(["emphasis","focus"]),ct=ut==="relative"?Hv(p.getAncestorsIndices(),p.getDescendantIndices()):ut==="ancestor"?p.getAncestorsIndices():ut==="descendant"?p.getDescendantIndices():null;ct&&(Me(r).focus=ct),qCt(u,p,S,r,L,D,E,s),r.__edge&&(r.onHoverStateChange=function(ht){if(ht!=="blur"){var vt=p.parentNode&&n.getItemGraphicEl(p.parentNode.dataIndex);vt&&vt.hoverState===i0||C1(r.__edge,ht)}})}function qCt(n,i,r,s,u,c,p,d){var m=i.getModel(),_=n.get("edgeShape"),S=n.get("layout"),w=n.getOrient(),A=n.get(["lineStyle","curveness"]),D=n.get("edgeForkPosition"),L=m.getModel("lineStyle").getLineStyle(),E=s.__edge;if(_==="curve")i.parentNode&&i.parentNode!==r&&(E||(E=s.__edge=new ud({shape:UR(S,w,A,u,u)})),ir(E,{shape:UR(S,w,A,c,p)},n));else if(_==="polyline")if(S==="orthogonal"){if(i!==r&&i.children&&i.children.length!==0&&i.isExpand===!0){for(var R=i.children,k=[],z=0;z<R.length;z++){var B=R[z].getLayout();k.push([B.x,B.y])}E||(E=s.__edge=new ZCt({shape:{parentPoint:[p.x,p.y],childPoints:[[p.x,p.y]],orient:w,forkPosition:D}})),ir(E,{shape:{parentPoint:[p.x,p.y],childPoints:k}},n)}}else throw new Error("The polyline edgeShape can only be used in orthogonal layout");E&&!(_==="polyline"&&!i.isExpand)&&(E.useStyle(dt({strokeNoScale:!0,fill:null},L)),ra(E,m,"lineStyle"),yh(E),d.add(E))}function VX(n,i,r,s,u){var c=i.tree.root,p=BX(c,n),d=p.source,m=p.sourceLayout,_=i.getItemGraphicEl(n.dataIndex);if(_){var S=i.getItemGraphicEl(d.dataIndex),w=S.__edge,A=_.__edge||(d.isExpand===!1||d.children.length===1?w:void 0),D=s.get("edgeShape"),L=s.get("layout"),E=s.get("orient"),R=s.get(["lineStyle","curveness"]);A&&(D==="curve"?mf(A,{shape:UR(L,E,R,m,m),style:{opacity:0}},s,{cb:function(){r.remove(A)},removeOpt:u}):D==="polyline"&&s.get("layout")==="orthogonal"&&mf(A,{shape:{parentPoint:[m.x,m.y],childPoints:[[m.x,m.y]]},style:{opacity:0}},s,{cb:function(){r.remove(A)},removeOpt:u}))}}function BX(n,i){for(var r=i.parentNode===n?i:i.parentNode||i,s;s=r.getLayout(),s==null;)r=r.parentNode===n?r:r.parentNode||r;return{source:r,sourceLayout:s}}function FX(n,i,r,s,u){var c=n.tree.getNodeByDataIndex(i),p=n.tree.root,d=BX(p,c).sourceLayout,m={duration:u.get("animationDurationUpdate"),easing:u.get("animationEasingUpdate")};mf(r,{x:d.x+1,y:d.y+1},u,{cb:function(){s.remove(r),n.setItemGraphicEl(i,null)},removeOpt:m}),r.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:m}),c.children.forEach(function(_){VX(_,n,s,u,m)}),VX(c,n,s,u,m)}function UR(n,i,r,s,u){var c,p,d,m,_,S,w,A;if(n==="radial"){_=s.rawX,w=s.rawY,S=u.rawX,A=u.rawY;var D=n_(_,w),L=n_(_,w+(A-w)*r),E=n_(S,A+(w-A)*r),R=n_(S,A);return{x1:D.x||0,y1:D.y||0,x2:R.x||0,y2:R.y||0,cpx1:L.x||0,cpy1:L.y||0,cpx2:E.x||0,cpy2:E.y||0}}else _=s.x,w=s.y,S=u.x,A=u.y,(i==="LR"||i==="RL")&&(c=_+(S-_)*r,p=w,d=S+(_-S)*r,m=A),(i==="TB"||i==="BT")&&(c=_,p=w+(A-w)*r,d=S,m=A+(w-A)*r);return{x1:_,y1:w,x2:S,y2:A,cpx1:c,cpy1:p,cpx2:d,cpy2:m}}var To=rr();function UX(n){var i=n.mainData,r=n.datas;r||(r={main:i},n.datasAttr={main:"data"}),n.datas=n.mainData=null,GX(i,r,n),j(r,function(s){j(i.TRANSFERABLE_METHODS,function(u){s.wrapMethod(u,ee($Ct,n))})}),i.wrapMethod("cloneShallow",ee(jCt,n)),j(i.CHANGABLE_METHODS,function(s){i.wrapMethod(s,ee(KCt,n))}),de(r[i.dataType]===i)}function $Ct(n,i){if(tDt(this)){var r=st({},To(this).datas);r[this.dataType]=i,GX(i,r,n)}else GR(i,this.dataType,To(this).mainData,n);return i}function KCt(n,i){return n.struct&&n.struct.update(),i}function jCt(n,i){return j(To(i).datas,function(r,s){r!==i&&GR(r.cloneShallow(),s,i,n)}),i}function JCt(n){var i=To(this).mainData;return n==null||i==null?i:To(i).datas[n]}function QCt(){var n=To(this).mainData;return n==null?[{data:n}]:Tt(Xt(To(n).datas),function(i){return{type:i,data:To(n).datas[i]}})}function tDt(n){return To(n).mainData===n}function GX(n,i,r){To(n).datas={},j(i,function(s,u){GR(s,u,n,r)})}function GR(n,i,r,s){To(r).datas[i]=n,To(n).mainData=r,n.dataType=i,s.struct&&(n[s.structAttr]=s.struct,s.struct[s.datasAttr[i]]=n),n.getLinkedData=JCt,n.getLinkedDataAll=QCt}var eDt=function(){function n(i,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=i||"",this.hostTree=r}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(i,r,s){Gt(i)&&(s=r,r=i,i=null),i=i||{},kt(i)&&(i={order:i});var u=i.order||"preorder",c=this[i.attr||"children"],p;u==="preorder"&&(p=r.call(s,this));for(var d=0;!p&&d<c.length;d++)c[d].eachNode(i,r,s);u==="postorder"&&r.call(s,this)},n.prototype.updateDepthAndHeight=function(i){var r=0;this.depth=i;for(var s=0;s<this.children.length;s++){var u=this.children[s];u.updateDepthAndHeight(i+1),u.height>r&&(r=u.height)}this.height=r+1},n.prototype.getNodeById=function(i){if(this.getId()===i)return this;for(var r=0,s=this.children,u=s.length;r<u;r++){var c=s[r].getNodeById(i);if(c)return c}},n.prototype.contains=function(i){if(i===this)return!0;for(var r=0,s=this.children,u=s.length;r<u;r++){var c=s[r].contains(i);if(c)return c}},n.prototype.getAncestors=function(i){for(var r=[],s=i?this:this.parentNode;s;)r.push(s),s=s.parentNode;return r.reverse(),r},n.prototype.getAncestorsIndices=function(){for(var i=[],r=this;r;)i.push(r.dataIndex),r=r.parentNode;return i.reverse(),i},n.prototype.getDescendantIndices=function(){var i=[];return this.eachNode(function(r){i.push(r.dataIndex)}),i},n.prototype.getValue=function(i){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(i||"value"),this.dataIndex)},n.prototype.setLayout=function(i,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,r)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(i){if(!(this.dataIndex<0)){var r=this.hostTree,s=r.data.getItemModel(this.dataIndex);return s.getModel(i)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(i,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,i,r)},n.prototype.getVisual=function(i){return this.hostTree.data.getItemVisual(this.dataIndex,i)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var i=this.parentNode.children,r=0;r<i.length;++r)if(i[r]===this)return r;return-1}return-1},n.prototype.isAncestorOf=function(i){for(var r=i.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},n.prototype.isDescendantOf=function(i){return i!==this&&i.isAncestorOf(this)},n}(),HR=function(){function n(i){this.type="tree",this._nodes=[],this.hostModel=i}return n.prototype.eachNode=function(i,r,s){this.root.eachNode(i,r,s)},n.prototype.getNodeByDataIndex=function(i){var r=this.data.getRawIndex(i);return this._nodes[r]},n.prototype.getNodeById=function(i){return this.root.getNodeById(i)},n.prototype.update=function(){for(var i=this.data,r=this._nodes,s=0,u=r.length;s<u;s++)r[s].dataIndex=-1;for(var s=0,u=i.count();s<u;s++)r[i.getRawIndex(s)].dataIndex=s},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(i,r,s){var u=new n(r),c=[],p=1;d(i);function d(S,w){var A=S.value;p=Math.max(p,wt(A)?A.length:1),c.push(S);var D=new eDt(wi(S.name,""),u);w?rDt(D,w):u.root=D,u._nodes.push(D);var L=S.children;if(L)for(var E=0;E<L.length;E++)d(L[E],D)}u.root.updateDepthAndHeight(0);var m=Od(c,{coordDimensions:["value"],dimensionsCount:p}).dimensions,_=new wa(m,r);return _.initData(c),s&&s(_),UX({mainData:_,struct:u,structAttr:"tree"}),u.update(),u},n}();function rDt(n,i){var r=i.children;n.parentNode!==i&&(r.push(n),n.parentNode=i)}function o_(n,i,r){if(n&&At(i,n.type)>=0){var s=r.getData().tree.root,u=n.targetNode;if(kt(u)&&(u=s.getNodeById(u)),u&&s.contains(u))return{node:u};var c=n.targetNodeId;if(c!=null&&(u=s.getNodeById(c)))return{node:u}}}function HX(n){for(var i=[];n;)n=n.parentNode,n&&i.push(n);return i.reverse()}function WR(n,i){var r=HX(n);return At(r,i)>=0}function Qw(n,i){for(var r=[];n;){var s=n.dataIndex;r.push({name:n.name,dataIndex:s,value:i.getRawValue(s)}),n=n.parentNode}return r.reverse(),r}var iDt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return i.prototype.getInitialData=function(r){var s={name:r.name,children:r.data},u=r.leaves||{},c=new sr(u,this,this.ecModel),p=HR.createTree(s,this,d);function d(w){w.wrapMethod("getItemModel",function(A,D){var L=p.getNodeByDataIndex(D);return L&&L.children.length&&L.isExpand||(A.parentModel=c),A})}var m=0;p.eachNode("preorder",function(w){w.depth>m&&(m=w.depth)});var _=r.expandAndCollapse,S=_&&r.initialTreeDepth>=0?r.initialTreeDepth:m;return p.root.eachNode("preorder",function(w){var A=w.hostTree.data.getRawDataItem(w.dataIndex);w.isExpand=A&&A.collapsed!=null?!A.collapsed:w.depth<=S}),p.data},i.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},i.prototype.setZoom=function(r){this.option.zoom=r},i.prototype.setCenter=function(r){this.option.center=r},i.prototype.formatTooltip=function(r,s,u){for(var c=this.getData().tree,p=c.root.children[0],d=c.getNodeByDataIndex(r),m=d.getValue(),_=d.name;d&&d!==p;)_=d.parentNode.name+"."+_,d=d.parentNode;return Vi("nameValue",{name:_,value:m,noValue:isNaN(m)||m==null})},i.prototype.getDataParams=function(r){var s=n.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(r);return s.treeAncestors=Qw(u,this),s.collapsed=!u.isExpand,s},i.type="series.tree",i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},i}(Sr);function aDt(n,i,r){for(var s=[n],u=[],c;c=s.pop();)if(u.push(c),c.isExpand){var p=c.children;if(p.length)for(var d=0;d<p.length;d++)s.push(p[d])}for(;c=u.pop();)i(c,r)}function s_(n,i){for(var r=[n],s;s=r.pop();)if(i(s),s.isExpand){var u=s.children;if(u.length)for(var c=u.length-1;c>=0;c--)r.push(u[c])}}function nDt(n,i){n.eachSeriesByType("tree",function(r){oDt(r,i)})}function oDt(n,i){var r=BCt(n,i);n.layoutInfo=r;var s=n.get("layout"),u=0,c=0,p=null;s==="radial"?(u=2*Math.PI,c=Math.min(r.height,r.width)/2,p=kX(function(B,G){return(B.parentNode===G.parentNode?1:2)/B.depth})):(u=r.width,c=r.height,p=kX());var d=n.getData().tree.root,m=d.children[0];if(m){NCt(d),aDt(m,zCt,p),d.hierNode.modifier=-m.hierNode.prelim,s_(m,VCt);var _=m,S=m,w=m;s_(m,function(B){var G=B.getLayout().x;G<_.getLayout().x&&(_=B),G>S.getLayout().x&&(S=B),B.depth>w.depth&&(w=B)});var A=_===S?1:p(_,S)/2,D=A-_.getLayout().x,L=0,E=0,R=0,k=0;if(s==="radial")L=u/(S.getLayout().x+A+D),E=c/(w.depth-1||1),s_(m,function(B){R=(B.getLayout().x+D)*L,k=(B.depth-1)*E;var G=n_(R,k);B.setLayout({x:G.x,y:G.y,rawX:R,rawY:k},!0)});else{var z=n.getOrient();z==="RL"||z==="LR"?(E=c/(S.getLayout().x+A+D),L=u/(w.depth-1||1),s_(m,function(B){k=(B.getLayout().x+D)*E,R=z==="LR"?(B.depth-1)*L:u-(B.depth-1)*L,B.setLayout({x:R,y:k},!0)})):(z==="TB"||z==="BT")&&(L=u/(S.getLayout().x+A+D),E=c/(w.depth-1||1),s_(m,function(B){R=(B.getLayout().x+D)*L,k=z==="TB"?(B.depth-1)*E:c-(B.depth-1)*E,B.setLayout({x:R,y:k},!0)}))}}}function sDt(n){n.eachSeriesByType("tree",function(i){var r=i.getData(),s=r.tree;s.eachNode(function(u){var c=u.getModel(),p=c.getModel("itemStyle").getItemStyle(),d=r.ensureUniqueItemVisual(u.dataIndex,"style");st(d,p)})})}function lDt(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,r){r.eachComponent({mainType:"series",subType:"tree",query:i},function(s){var u=i.dataIndex,c=s.getData().tree,p=c.getNodeByDataIndex(u);p.isExpand=!p.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(i,r,s){r.eachComponent({mainType:"series",subType:"tree",query:i},function(u){var c=u.coordinateSystem,p=VR(c,i,void 0,s);u.setCenter&&u.setCenter(p.center),u.setZoom&&u.setZoom(p.zoom)})})}function uDt(n){n.registerChartView(XCt),n.registerSeriesModel(iDt),n.registerLayout(nDt),n.registerVisual(sDt),lDt(n)}var WX=["treemapZoomToNode","treemapRender","treemapMove"];function fDt(n){for(var i=0;i<WX.length;i++)n.registerAction({type:WX[i],update:"updateView"},Qr);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,s){s.eachComponent({mainType:"series",subType:"treemap",query:r},u);function u(c,p){var d=["treemapZoomToNode","treemapRootToNode"],m=o_(r,d,c);if(m){var _=c.getViewRoot();_&&(r.direction=WR(_,m.node)?"rollUp":"drillDown"),c.resetViewRoot(m.node)}}})}function YX(n){var i=n.getData(),r=i.tree,s={};r.eachNode(function(u){for(var c=u;c&&c.depth>1;)c=c.parentNode;var p=GP(n.ecModel,c.name||c.dataIndex+"",s);u.setVisual("decal",p)})}var cDt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.preventUsingHoverLayer=!0,r}return i.prototype.getInitialData=function(r,s){var u={name:r.name,children:r.data};ZX(u);var c=r.levels||[],p=this.designatedVisualItemStyle={},d=new sr({itemStyle:p},this,s);c=r.levels=hDt(c,s);var m=Tt(c||[],function(w){return new sr(w,d,s)},this),_=HR.createTree(u,this,S);function S(w){w.wrapMethod("getItemModel",function(A,D){var L=_.getNodeByDataIndex(D),E=L?m[L.depth]:null;return A.parentModel=E||d,A})}return _.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.formatTooltip=function(r,s,u){var c=this.getData(),p=this.getRawValue(r),d=c.getName(r);return Vi("nameValue",{name:d,value:p})},i.prototype.getDataParams=function(r){var s=n.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(r);return s.treeAncestors=Qw(u,this),s.treePathInfo=s.treeAncestors,s},i.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},st(this.layoutInfo,r)},i.prototype.mapIdToIndex=function(r){var s=this._idIndexMap;s||(s=this._idIndexMap=le(),this._idIndexMapCount=0);var u=s.get(r);return u==null&&s.set(r,u=this._idIndexMapCount++),u},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var s=this.getRawData().tree.root;(!r||r!==s&&!s.contains(r))&&(this._viewRoot=s)},i.prototype.enableAriaDecal=function(){YX(this)},i.type="series.treemap",i.layoutMode="box",i.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},i}(Sr);function ZX(n){var i=0;j(n.children,function(s){ZX(s);var u=s.value;wt(u)&&(u=u[0]),i+=u});var r=n.value;wt(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=i),r<0&&(r=0),wt(n.value)?n.value[0]=r:n.value=r}function hDt(n,i){var r=xr(i.get("color")),s=xr(i.get(["aria","decal","decals"]));if(r){n=n||[];var u,c;j(n,function(d){var m=new sr(d),_=m.get("color"),S=m.get("decal");(m.get(["itemStyle","color"])||_&&_!=="none")&&(u=!0),(m.get(["itemStyle","decal"])||S&&S!=="none")&&(c=!0)});var p=n[0]||(n[0]={});return u||(p.color=r.slice()),!c&&s&&(p.decal=s.slice()),n}}var pDt=8,XX=8,YR=5,vDt=function(){function n(i){this.group=new Te,i.add(this.group)}return n.prototype.render=function(i,r,s,u){var c=i.getModel("breadcrumb"),p=this.group;if(p.removeAll(),!(!c.get("show")||!s)){var d=c.getModel("itemStyle"),m=c.getModel("emphasis"),_=d.getModel("textStyle"),S=m.getModel(["itemStyle","textStyle"]),w={pos:{left:c.get("left"),right:c.get("right"),top:c.get("top"),bottom:c.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:c.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(s,w,_),this._renderContent(i,w,d,m,_,S,u),K1(p,w.pos,w.box)}},n.prototype._prepare=function(i,r,s){for(var u=i;u;u=u.parentNode){var c=wi(u.getModel().get("name"),""),p=s.getTextRect(c),d=Math.max(p.width+pDt*2,r.emptyItemWidth);r.totalWidth+=d+XX,r.renderList.push({node:u,text:c,width:d})}},n.prototype._renderContent=function(i,r,s,u,c,p,d){for(var m=0,_=r.emptyItemWidth,S=i.get(["breadcrumb","height"]),w=ixt(r.pos,r.box),A=r.totalWidth,D=r.renderList,L=u.getModel("itemStyle").getItemStyle(),E=D.length-1;E>=0;E--){var R=D[E],k=R.node,z=R.width,B=R.text;A>w.width&&(A-=z-_,z=_,B=null);var G=new ma({shape:{points:dDt(m,0,z,S,E===D.length-1,E===0)},style:dt(s.getItemStyle(),{lineJoin:"bevel"}),textContent:new er({style:Dr(c,{text:B})}),textConfig:{position:"inside"},z2:ad*1e4,onclick:ee(d,k)});G.disableLabelAnimation=!0,G.getTextContent().ensureState("emphasis").style=Dr(p,{text:B}),G.ensureState("emphasis").style=L,Zr(G,u.get("focus"),u.get("blurScope"),u.get("disabled")),this.group.add(G),gDt(G,i,k),m+=z+XX}},n.prototype.remove=function(){this.group.removeAll()},n}();function dDt(n,i,r,s,u,c){var p=[[u?n:n-YR,i],[n+r,i],[n+r,i+s],[u?n:n-YR,i+s]];return!c&&p.splice(2,0,[n+r+YR,i+s/2]),!u&&p.push([n,i+s/2]),p}function gDt(n,i,r){Me(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:i.componentIndex,seriesIndex:i.seriesIndex,seriesName:i.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&Qw(r,i)}}var mDt=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(i,r,s,u,c){return this._elExistsMap[i.id]?!1:(this._elExistsMap[i.id]=!0,this._storage.push({el:i,target:r,duration:s,delay:u,easing:c}),!0)},n.prototype.finished=function(i){return this._finishedCallback=i,this},n.prototype.start=function(){for(var i=this,r=this._storage.length,s=function(){r--,r<=0&&(i._storage.length=0,i._elExistsMap={},i._finishedCallback&&i._finishedCallback())},u=0,c=this._storage.length;u<c;u++){var p=this._storage[u];p.el.animateTo(p.target,{duration:p.duration,delay:p.delay,easing:p.easing,setToFinal:!0,done:s,aborted:s})}return this},n}();function yDt(){return new mDt}var ZR=Te,qX=tr,$X=3,KX="label",jX="upperLabel",_Dt=ad*10,xDt=ad*2,SDt=ad*3,Jh=lh([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),JX=function(n){var i=Jh(n);return i.stroke=i.fill=i.lineWidth=null,i},tT=rr(),bDt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._state="ready",r._storage=l_(),r}return i.prototype.render=function(r,s,u,c){var p=s.findComponents({mainType:"series",subType:"treemap",query:c});if(!(At(p,r)<0)){this.seriesModel=r,this.api=u,this.ecModel=s;var d=["treemapZoomToNode","treemapRootToNode"],m=o_(c,d,r),_=c&&c.type,S=r.layoutInfo,w=!this._oldTree,A=this._storage,D=_==="treemapRootToNode"&&m&&A?{rootNodeGroup:A.nodeGroup[m.node.getRawIndex()],direction:c.direction}:null,L=this._giveContainerGroup(S),E=r.get("animation"),R=this._doRender(L,r,D);E&&!w&&(!_||_==="treemapZoomToNode"||_==="treemapRootToNode")?this._doAnimation(L,R,r,D):R.renderFinally(),this._resetController(u),this._renderBreadcrumb(r,u,m)}},i.prototype._giveContainerGroup=function(r){var s=this._containerGroup;return s||(s=this._containerGroup=new ZR,this._initEvents(s),this.group.add(s)),s.x=r.x,s.y=r.y,s},i.prototype._doRender=function(r,s,u){var c=s.getData().tree,p=this._oldTree,d=l_(),m=l_(),_=this._storage,S=[];function w(z,B,G,W){return wDt(s,m,_,u,d,S,z,B,G,W)}E(c.root?[c.root]:[],p&&p.root?[p.root]:[],r,c===p||!p,0);var A=R(_);if(this._oldTree=c,this._storage=m,this._controllerHost){var D=this.seriesModel.layoutInfo,L=c.root.getLayout();L.width===D.width&&L.height===D.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:A,renderFinally:k};function E(z,B,G,W,Y){W?(B=z,j(z,function(tt,et){!tt.isRemoved()&&J(et,et)})):new iu(B,z,q,q).add(J).update(J).remove(ee(J,null)).execute();function q(tt){return tt.getId()}function J(tt,et){var it=tt!=null?z[tt]:null,ut=et!=null?B[et]:null,ct=w(it,ut,G,Y);ct&&E(it&&it.viewChildren||[],ut&&ut.viewChildren||[],ct,W,Y+1)}}function R(z){var B=l_();return z&&j(z,function(G,W){var Y=B[W];j(G,function(q){q&&(Y.push(q),tT(q).willDelete=!0)})}),B}function k(){j(A,function(z){j(z,function(B){B.parent&&B.parent.remove(B)})}),j(S,function(z){z.invisible=!0,z.dirty()})}},i.prototype._doAnimation=function(r,s,u,c){var p=u.get("animationDurationUpdate"),d=u.get("animationEasing"),m=(Gt(p)?0:p)||0,_=(Gt(d)?null:d)||"cubicOut",S=yDt();j(s.willDeleteEls,function(w,A){j(w,function(D,L){if(!D.invisible){var E=D.parent,R,k=tT(E);if(c&&c.direction==="drillDown")R=E===c.rootNodeGroup?{shape:{x:0,y:0,width:k.nodeWidth,height:k.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var z=0,B=0;k.willDelete||(z=k.nodeWidth/2,B=k.nodeHeight/2),R=A==="nodeGroup"?{x:z,y:B,style:{opacity:0}}:{shape:{x:z,y:B,width:0,height:0},style:{opacity:0}}}R&&S.add(D,R,m,0,_)}})}),j(this._storage,function(w,A){j(w,function(D,L){var E=s.lastsForAnimation[A][L],R={};E&&(D instanceof Te?E.oldX!=null&&(R.x=D.x,R.y=D.y,D.x=E.oldX,D.y=E.oldY):(E.oldShape&&(R.shape=st({},D.shape),D.setShape(E.oldShape)),E.fadein?(D.setStyle("opacity",0),R.style={opacity:1}):D.style.opacity!==1&&(R.style={opacity:1})),S.add(D,R,m,0,_))})},this),this._state="animating",S.finished(Mt(function(){this._state="ready",s.renderFinally()},this)).start()},i.prototype._resetController=function(r){var s=this._controller,u=this._controllerHost;u||(this._controllerHost={target:this.group},u=this._controllerHost),s||(s=this._controller=new r_(r.getZr()),s.enable(this.seriesModel.get("roam")),u.zoomLimit=this.seriesModel.get("scaleLimit"),u.zoom=this.seriesModel.get("zoom"),s.on("pan",Mt(this._onPan,this)),s.on("zoom",Mt(this._onZoom,this)));var c=new Ve(0,0,r.getWidth(),r.getHeight());s.setPointerChecker(function(p,d,m){return c.contain(d,m)})},i.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},i.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>$X||Math.abs(r.dy)>$X)){var s=this.seriesModel.getData().tree.root;if(!s)return;var u=s.getLayout();if(!u)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x+r.dx,y:u.y+r.dy,width:u.width,height:u.height}})}},i.prototype._onZoom=function(r){var s=r.originX,u=r.originY,c=r.scale;if(this._state!=="animating"){var p=this.seriesModel.getData().tree.root;if(!p)return;var d=p.getLayout();if(!d)return;var m=new Ve(d.x,d.y,d.width,d.height),_=null,S=this._controllerHost;_=S.zoomLimit;var w=S.zoom=S.zoom||1;if(w*=c,_){var A=_.min||0,D=_.max||1/0;w=Math.max(Math.min(D,w),A)}var L=w/S.zoom;S.zoom=w;var E=this.seriesModel.layoutInfo;s-=E.x,u-=E.y;var R=Qa();ls(R,R,[-s,-u]),Fb(R,R,[L,L]),ls(R,R,[s,u]),m.applyTransform(R),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:m.x,y:m.y,width:m.width,height:m.height}})}},i.prototype._initEvents=function(r){var s=this;r.on("click",function(u){if(s._state==="ready"){var c=s.seriesModel.get("nodeClick",!0);if(c){var p=s.findTarget(u.offsetX,u.offsetY);if(p){var d=p.node;if(d.getLayout().isLeafRoot)s._rootToNode(p);else if(c==="zoomToNode")s._zoomToNode(p);else if(c==="link"){var m=d.hostTree.data.getItemModel(d.dataIndex),_=m.get("link",!0),S=m.get("target",!0)||"blank";_&&q1(_,S)}}}}},this)},i.prototype._renderBreadcrumb=function(r,s,u){var c=this;u||(u=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(s.getWidth()/2,s.getHeight()/2),u||(u={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new vDt(this.group))).render(r,s,u.node,function(p){c._state!=="animating"&&(WR(r.getViewRoot(),p)?c._rootToNode({node:p}):c._zoomToNode({node:p}))})},i.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=l_(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},i.prototype.dispose=function(){this._clearController()},i.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},i.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},i.prototype.findTarget=function(r,s){var u,c=this.seriesModel.getViewRoot();return c.eachNode({attr:"viewChildren",order:"preorder"},function(p){var d=this._storage.background[p.getRawIndex()];if(d){var m=d.transformCoordToLocal(r,s),_=d.shape;if(_.x<=m[0]&&m[0]<=_.x+_.width&&_.y<=m[1]&&m[1]<=_.y+_.height)u={node:p,offsetX:m[0],offsetY:m[1]};else return!1}},this),u},i.type="treemap",i}(vr);function l_(){return{nodeGroup:[],background:[],content:[]}}function wDt(n,i,r,s,u,c,p,d,m,_){if(!p)return;var S=p.getLayout(),w=n.getData(),A=p.getModel();if(w.setItemGraphicEl(p.dataIndex,null),!S||!S.isInView)return;var D=S.width,L=S.height,E=S.borderWidth,R=S.invisible,k=p.getRawIndex(),z=d&&d.getRawIndex(),B=p.viewChildren,G=S.upperHeight,W=B&&B.length,Y=A.getModel("itemStyle"),q=A.getModel(["emphasis","itemStyle"]),J=A.getModel(["blur","itemStyle"]),tt=A.getModel(["select","itemStyle"]),et=Y.get("borderRadius")||0,it=Pe("nodeGroup",ZR);if(!it)return;if(m.add(it),it.x=S.x||0,it.y=S.y||0,it.markRedraw(),tT(it).nodeWidth=D,tT(it).nodeHeight=L,S.isAboveViewRoot)return it;var ut=Pe("background",qX,_,xDt);ut&&Ot(it,ut,W&&S.upperLabelHeight);var ct=A.getModel("emphasis"),ht=ct.get("focus"),vt=ct.get("blurScope"),gt=ct.get("disabled"),bt=ht==="ancestor"?p.getAncestorsIndices():ht==="descendant"?p.getDescendantIndices():ht;if(W)gf(it)&&_h(it,!1),ut&&(_h(ut,!gt),w.setItemGraphicEl(p.dataIndex,ut),oP(ut,bt,vt));else{var St=Pe("content",qX,_,SDt);St&&Vt(it,St),ut.disableMorphing=!0,ut&&gf(ut)&&_h(ut,!1),_h(it,!gt),w.setItemGraphicEl(p.dataIndex,it);var Ct=A.getShallow("cursor");Ct&&St.attr("cursor",Ct),oP(it,bt,vt)}return it;function Ot(Ge,Se,Ze){var ce=Me(Se);if(ce.dataIndex=p.dataIndex,ce.seriesIndex=n.seriesIndex,Se.setShape({x:0,y:0,width:D,height:L,r:et}),R)$t(Se);else{Se.invisible=!1;var Re=p.getVisual("style"),Or=Re.stroke,dr=JX(Y);dr.fill=Or;var Mr=Jh(q);Mr.fill=q.get("borderColor");var Ur=Jh(J);Ur.fill=J.get("borderColor");var Ui=Jh(tt);if(Ui.fill=tt.get("borderColor"),Ze){var Fn=D-2*E;pe(Se,Or,Re.opacity,{x:E,y:0,width:Fn,height:G})}else Se.removeTextContent();Se.setStyle(dr),Se.ensureState("emphasis").style=Mr,Se.ensureState("blur").style=Ur,Se.ensureState("select").style=Ui,yh(Se)}Ge.add(Se)}function Vt(Ge,Se){var Ze=Me(Se);Ze.dataIndex=p.dataIndex,Ze.seriesIndex=n.seriesIndex;var ce=Math.max(D-2*E,0),Re=Math.max(L-2*E,0);if(Se.culling=!0,Se.setShape({x:E,y:E,width:ce,height:Re,r:et}),R)$t(Se);else{Se.invisible=!1;var Or=p.getVisual("style"),dr=Or.fill,Mr=JX(Y);Mr.fill=dr,Mr.decal=Or.decal;var Ur=Jh(q),Ui=Jh(J),Fn=Jh(tt);pe(Se,dr,Or.opacity,null),Se.setStyle(Mr),Se.ensureState("emphasis").style=Ur,Se.ensureState("blur").style=Ui,Se.ensureState("select").style=Fn,yh(Se)}Ge.add(Se)}function $t(Ge){!Ge.invisible&&c.push(Ge)}function pe(Ge,Se,Ze,ce){var Re=A.getModel(ce?jX:KX),Or=wi(A.get("name"),null),dr=Re.getShallow("show");ia(Ge,zi(A,ce?jX:KX),{defaultText:dr?Or:null,inheritColor:Se,defaultOpacity:Ze,labelFetcher:n,labelDataIndex:p.dataIndex});var Mr=Ge.getTextContent();if(Mr){var Ur=Mr.style,Ui=Nb(Ur.padding||0);ce&&(Ge.setTextConfig({layoutRect:ce}),Mr.disableLabelLayout=!0),Mr.beforeUpdate=function(){var on=Math.max((ce?ce.width:Ge.shape.width)-Ui[1]-Ui[3],0),lp=Math.max((ce?ce.height:Ge.shape.height)-Ui[0]-Ui[2],0);(Ur.width!==on||Ur.height!==lp)&&Mr.setStyle({width:on,height:lp})},Ur.truncateMinChar=2,Ur.lineOverflow="truncate",me(Ur,ce,S);var Fn=Mr.getState("emphasis");me(Fn?Fn.style:null,ce,S)}}function me(Ge,Se,Ze){var ce=Ge?Ge.text:null;if(!Se&&Ze.isLeafRoot&&ce!=null){var Re=n.get("drillDownIcon",!0);Ge.text=Re?Re+" "+ce:ce}}function Pe(Ge,Se,Ze,ce){var Re=z!=null&&r[Ge][z],Or=u[Ge];return Re?(r[Ge][z]=null,br(Or,Re)):R||(Re=new Se,Re instanceof co&&(Re.z2=TDt(Ze,ce)),ti(Or,Re)),i[Ge][k]=Re}function br(Ge,Se){var Ze=Ge[k]={};Se instanceof ZR?(Ze.oldX=Se.x,Ze.oldY=Se.y):Ze.oldShape=st({},Se.shape)}function ti(Ge,Se){var Ze=Ge[k]={},ce=p.parentNode,Re=Se instanceof Te;if(ce&&(!s||s.direction==="drillDown")){var Or=0,dr=0,Mr=u.background[ce.getRawIndex()];!s&&Mr&&Mr.oldShape&&(Or=Mr.oldShape.width,dr=Mr.oldShape.height),Re?(Ze.oldX=0,Ze.oldY=dr):Ze.oldShape={x:Or,y:dr,width:0,height:0}}Ze.fadein=!Re}}function TDt(n,i){return n*_Dt+i}var u_=j,ADt=re,eT=-1,Fi=function(){function n(i){var r=i.mappingMethod,s=i.type,u=this.option=lt(i);this.type=s,this.mappingMethod=r,this._normalizeData=MDt[r];var c=n.visualHandlers[s];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._normalizedToVisual=c._normalizedToVisual[r],r==="piecewise"?(XR(u),CDt(u)):r==="category"?u.categories?DDt(u):XR(u,!0):(de(r!=="linear"||u.dataExtent),XR(u))}return n.prototype.mapValueToVisual=function(i){var r=this._normalizeData(i);return this._normalizedToVisual(r,i)},n.prototype.getNormalizer=function(){return Mt(this._normalizeData,this)},n.listVisualTypes=function(){return Xt(n.visualHandlers)},n.isValidType=function(i){return n.visualHandlers.hasOwnProperty(i)},n.eachVisual=function(i,r,s){re(i)?j(i,r,s):r.call(s,i)},n.mapVisual=function(i,r,s){var u,c=wt(i)?[]:re(i)?{}:(u=!0,null);return n.eachVisual(i,function(p,d){var m=r.call(s,p,d);u?c=m:c[d]=m}),c},n.retrieveVisuals=function(i){var r={},s;return i&&u_(n.visualHandlers,function(u,c){i.hasOwnProperty(c)&&(r[c]=i[c],s=!0)}),s?r:null},n.prepareVisualTypes=function(i){if(wt(i))i=i.slice();else if(ADt(i)){var r=[];u_(i,function(s,u){r.push(u)}),i=r}else return[];return i.sort(function(s,u){return u==="color"&&s!=="color"&&s.indexOf("color")===0?1:-1}),i},n.dependsOn=function(i,r){return r==="color"?!!(i&&i.indexOf(r)===0):i===r},n.findPieceIndex=function(i,r,s){for(var u,c=1/0,p=0,d=r.length;p<d;p++){var m=r[p].value;if(m!=null){if(m===i||kt(m)&&m===i+"")return p;s&&A(m,p)}}for(var p=0,d=r.length;p<d;p++){var _=r[p],S=_.interval,w=_.close;if(S){if(S[0]===-1/0){if(iT(w[1],i,S[1]))return p}else if(S[1]===1/0){if(iT(w[0],S[0],i))return p}else if(iT(w[0],S[0],i)&&iT(w[1],i,S[1]))return p;s&&A(S[0],p),s&&A(S[1],p)}}if(s)return i===1/0?r.length-1:i===-1/0?0:u;function A(D,L){var E=Math.abs(D-i);E<c&&(c=E,u=L)}},n.visualHandlers={color:{applyVisual:f_("color"),getColorMapper:function(){var i=this.option;return Mt(i.mappingMethod==="category"?function(r,s){return!s&&(r=this._normalizeData(r)),c_.call(this,r)}:function(r,s,u){var c=!!u;return!s&&(r=this._normalizeData(r)),u=Uy(r,i.parsedVisual,u),c?u:fs(u,"rgba")},this)},_normalizedToVisual:{linear:function(i){return fs(Uy(i,this.option.parsedVisual),"rgba")},category:c_,piecewise:function(i,r){var s=$R.call(this,r);return s==null&&(s=fs(Uy(i,this.option.parsedVisual),"rgba")),s},fixed:Qh}},colorHue:rT(function(i,r){return qv(i,r)}),colorSaturation:rT(function(i,r){return qv(i,null,r)}),colorLightness:rT(function(i,r){return qv(i,null,null,r)}),colorAlpha:rT(function(i,r){return Gy(i,r)}),decal:{applyVisual:f_("decal"),_normalizedToVisual:{linear:null,category:c_,piecewise:null,fixed:null}},opacity:{applyVisual:f_("opacity"),_normalizedToVisual:qR([0,1])},liftZ:{applyVisual:f_("liftZ"),_normalizedToVisual:{linear:Qh,category:Qh,piecewise:Qh,fixed:Qh}},symbol:{applyVisual:function(i,r,s){var u=this.mapValueToVisual(i);s("symbol",u)},_normalizedToVisual:{linear:QX,category:c_,piecewise:function(i,r){var s=$R.call(this,r);return s==null&&(s=QX.call(this,i)),s},fixed:Qh}},symbolSize:{applyVisual:f_("symbolSize"),_normalizedToVisual:qR([0,1])}},n}();function CDt(n){var i=n.pieceList;n.hasSpecialVisual=!1,j(i,function(r,s){r.originIndex=s,r.visual!=null&&(n.hasSpecialVisual=!0)})}function DDt(n){var i=n.categories,r=n.categoryMap={},s=n.visual;if(u_(i,function(p,d){r[p]=d}),!wt(s)){var u=[];re(s)?u_(s,function(p,d){var m=r[d];u[m??eT]=p}):u[eT]=s,s=tq(n,u)}for(var c=i.length-1;c>=0;c--)s[c]==null&&(delete r[i[c]],i.pop())}function XR(n,i){var r=n.visual,s=[];re(r)?u_(r,function(c){s.push(c)}):r!=null&&s.push(r);var u={color:1,symbol:1};!i&&s.length===1&&!u.hasOwnProperty(n.type)&&(s[1]=s[0]),tq(n,s)}function rT(n){return{applyVisual:function(i,r,s){var u=this.mapValueToVisual(i);s("color",n(r("color"),u))},_normalizedToVisual:qR([0,1])}}function QX(n){var i=this.option.visual;return i[Math.round(ur(n,[0,1],[0,i.length-1],!0))]||{}}function f_(n){return function(i,r,s){s(n,this.mapValueToVisual(i))}}function c_(n){var i=this.option.visual;return i[this.option.loop&&n!==eT?n%i.length:n]}function Qh(){return this.option.visual[0]}function qR(n){return{linear:function(i){return ur(i,n,this.option.visual,!0)},category:c_,piecewise:function(i,r){var s=$R.call(this,r);return s==null&&(s=ur(i,n,this.option.visual,!0)),s},fixed:Qh}}function $R(n){var i=this.option,r=i.pieceList;if(i.hasSpecialVisual){var s=Fi.findPieceIndex(n,r),u=r[s];if(u&&u.visual)return u.visual[this.type]}}function tq(n,i){return n.visual=i,n.type==="color"&&(n.parsedVisual=Tt(i,function(r){var s=Oa(r);return s||Yr("'"+r+"' is an illegal color, fallback to '#000000'",!0),s||[0,0,0,1]})),i}var MDt={linear:function(n){return ur(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var i=this.option.pieceList,r=Fi.findPieceIndex(n,i,!0);if(r!=null)return ur(r,[0,i.length-1],[0,1],!0)},category:function(n){var i=this.option.categories?this.option.categoryMap[n]:n;return i??eT},fixed:Qr};function iT(n,i,r){return n?i<=r:i<r}var LDt="itemStyle",eq=rr(),IDt={seriesType:"treemap",reset:function(n){var i=n.getData().tree,r=i.root;r.isRemoved()||rq(r,{},n.getViewRoot().getAncestors(),n)}};function rq(n,i,r,s){var u=n.getModel(),c=n.getLayout(),p=n.hostTree.data;if(!(!c||c.invisible||!c.isInView)){var d=u.getModel(LDt),m=EDt(d,i,s),_=p.ensureUniqueItemVisual(n.dataIndex,"style"),S=d.get("borderColor"),w=d.get("borderColorSaturation"),A;w!=null&&(A=iq(m),S=PDt(w,A)),_.stroke=S;var D=n.viewChildren;if(!D||!D.length)A=iq(m),_.fill=A;else{var L=RDt(n,u,c,d,m,D);j(D,function(E,R){if(E.depth>=r.length||E===r[E.depth]){var k=ODt(u,m,E,R,L,s);rq(E,k,r,s)}})}}}function EDt(n,i,r){var s=st({},i),u=r.designatedVisualItemStyle;return j(["color","colorAlpha","colorSaturation"],function(c){u[c]=i[c];var p=n.get(c);u[c]=null,p!=null&&(s[c]=p)}),s}function iq(n){var i=KR(n,"color");if(i){var r=KR(n,"colorAlpha"),s=KR(n,"colorSaturation");return s&&(i=qv(i,null,null,s)),r&&(i=Gy(i,r)),i}}function PDt(n,i){return i!=null?qv(i,null,null,n):null}function KR(n,i){var r=n[i];if(r!=null&&r!=="none")return r}function RDt(n,i,r,s,u,c){if(!(!c||!c.length)){var p=jR(i,"color")||u.color!=null&&u.color!=="none"&&(jR(i,"colorAlpha")||jR(i,"colorSaturation"));if(p){var d=i.get("visualMin"),m=i.get("visualMax"),_=r.dataExtent.slice();d!=null&&d<_[0]&&(_[0]=d),m!=null&&m>_[1]&&(_[1]=m);var S=i.get("colorMappingBy"),w={type:p.name,dataExtent:_,visual:p.range};w.type==="color"&&(S==="index"||S==="id")?(w.mappingMethod="category",w.loop=!0):w.mappingMethod="linear";var A=new Fi(w);return eq(A).drColorMappingBy=S,A}}}function jR(n,i){var r=n.get(i);return wt(r)&&r.length?{name:i,range:r}:null}function ODt(n,i,r,s,u,c){var p=st({},i);if(u){var d=u.type,m=d==="color"&&eq(u).drColorMappingBy,_=m==="index"?s:m==="id"?c.mapIdToIndex(r.getId()):r.getValue(n.get("visualDimension"));p[d]=u.mapValueToVisual(_)}return p}var h_=Math.max,aT=Math.min,aq=oi,JR=j,nq=["itemStyle","borderWidth"],kDt=["itemStyle","gapWidth"],NDt=["upperLabel","show"],zDt=["upperLabel","height"],VDt={seriesType:"treemap",reset:function(n,i,r,s){var u=r.getWidth(),c=r.getHeight(),p=n.option,d=yi(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),m=p.size||[],_=Wt(aq(d.width,m[0]),u),S=Wt(aq(d.height,m[1]),c),w=s&&s.type,A=["treemapZoomToNode","treemapRootToNode"],D=o_(s,A,n),L=w==="treemapRender"||w==="treemapMove"?s.rootRect:null,E=n.getViewRoot(),R=HX(E);if(w!=="treemapMove"){var k=w==="treemapZoomToNode"?WDt(n,D,E,_,S):L?[L.width,L.height]:[_,S],z=p.sort;z&&z!=="asc"&&z!=="desc"&&(z="desc");var B={squareRatio:p.squareRatio,sort:z,leafDepth:p.leafDepth};E.hostTree.clearLayouts();var G={x:0,y:0,width:k[0],height:k[1],area:k[0]*k[1]};E.setLayout(G),oq(E,B,!1,0),G=E.getLayout(),JR(R,function(Y,q){var J=(R[q+1]||E).getValue();Y.setLayout(st({dataExtent:[J,J],borderWidth:0,upperHeight:0},G))})}var W=n.getData().tree.root;W.setLayout(YDt(d,L,D),!0),n.setLayoutInfo(d),lq(W,new Ve(-d.x,-d.y,u,c),R,E,0)}};function oq(n,i,r,s){var u,c;if(!n.isRemoved()){var p=n.getLayout();u=p.width,c=p.height;var d=n.getModel(),m=d.get(nq),_=d.get(kDt)/2,S=uq(d),w=Math.max(m,S),A=m-_,D=w-_;n.setLayout({borderWidth:m,upperHeight:w,upperLabelHeight:S},!0),u=h_(u-2*A,0),c=h_(c-A-D,0);var L=u*c,E=BDt(n,d,L,i,r,s);if(E.length){var R={x:A,y:D,width:u,height:c},k=aT(u,c),z=1/0,B=[];B.area=0;for(var G=0,W=E.length;G<W;){var Y=E[G];B.push(Y),B.area+=Y.getLayout().area;var q=HDt(B,k,i.squareRatio);q<=z?(G++,z=q):(B.area-=B.pop().getLayout().area,sq(B,k,R,_,!1),k=aT(R.width,R.height),B.length=B.area=0,z=1/0)}if(B.length&&sq(B,k,R,_,!0),!r){var J=d.get("childrenVisibleMin");J!=null&&L<J&&(r=!0)}for(var G=0,W=E.length;G<W;G++)oq(E[G],i,r,s+1)}}}function BDt(n,i,r,s,u,c){var p=n.children||[],d=s.sort;d!=="asc"&&d!=="desc"&&(d=null);var m=s.leafDepth!=null&&s.leafDepth<=c;if(u&&!m)return n.viewChildren=[];p=jt(p,function(D){return!D.isRemoved()}),UDt(p,d);var _=GDt(i,p,d);if(_.sum===0)return n.viewChildren=[];if(_.sum=FDt(i,r,_.sum,d,p),_.sum===0)return n.viewChildren=[];for(var S=0,w=p.length;S<w;S++){var A=p[S].getValue()/_.sum*r;p[S].setLayout({area:A})}return m&&(p.length&&n.setLayout({isLeafRoot:!0},!0),p.length=0),n.viewChildren=p,n.setLayout({dataExtent:_.dataExtent},!0),p}function FDt(n,i,r,s,u){if(!s)return r;for(var c=n.get("visibleMin"),p=u.length,d=p,m=p-1;m>=0;m--){var _=u[s==="asc"?p-m-1:m].getValue();_/r*i<c&&(d=m,r-=_)}return s==="asc"?u.splice(0,p-d):u.splice(d,p-d),r}function UDt(n,i){return i&&n.sort(function(r,s){var u=i==="asc"?r.getValue()-s.getValue():s.getValue()-r.getValue();return u===0?i==="asc"?r.dataIndex-s.dataIndex:s.dataIndex-r.dataIndex:u}),n}function GDt(n,i,r){for(var s=0,u=0,c=i.length;u<c;u++)s+=i[u].getValue();var p=n.get("visualDimension"),d;return!i||!i.length?d=[NaN,NaN]:p==="value"&&r?(d=[i[i.length-1].getValue(),i[0].getValue()],r==="asc"&&d.reverse()):(d=[1/0,-1/0],JR(i,function(m){var _=m.getValue(p);_<d[0]&&(d[0]=_),_>d[1]&&(d[1]=_)})),{sum:s,dataExtent:d}}function HDt(n,i,r){for(var s=0,u=1/0,c=0,p=void 0,d=n.length;c<d;c++)p=n[c].getLayout().area,p&&(p<u&&(u=p),p>s&&(s=p));var m=n.area*n.area,_=i*i*r;return m?h_(_*s/m,m/(_*u)):1/0}function sq(n,i,r,s,u){var c=i===r.width?0:1,p=1-c,d=["x","y"],m=["width","height"],_=r[d[c]],S=i?n.area/i:0;(u||S>r[m[p]])&&(S=r[m[p]]);for(var w=0,A=n.length;w<A;w++){var D=n[w],L={},E=S?D.getLayout().area/S:0,R=L[m[p]]=h_(S-2*s,0),k=r[d[c]]+r[m[c]]-_,z=w===A-1||k<E?k:E,B=L[m[c]]=h_(z-2*s,0);L[d[p]]=r[d[p]]+aT(s,R/2),L[d[c]]=_+aT(s,B/2),_+=z,D.setLayout(L,!0)}r[d[p]]+=S,r[m[p]]-=S}function WDt(n,i,r,s,u){var c=(i||{}).node,p=[s,u];if(!c||c===r)return p;for(var d,m=s*u,_=m*n.option.zoomToNodeRatio;d=c.parentNode;){for(var S=0,w=d.children,A=0,D=w.length;A<D;A++)S+=w[A].getValue();var L=c.getValue();if(L===0)return p;_*=S/L;var E=d.getModel(),R=E.get(nq),k=Math.max(R,uq(E));_+=4*R*R+(3*R+k)*Math.pow(_,.5),_>CE&&(_=CE),c=d}_<m&&(_=m);var z=Math.pow(_/m,.5);return[s*z,u*z]}function YDt(n,i,r){if(i)return{x:i.x,y:i.y};var s={x:0,y:0};if(!r)return s;var u=r.node,c=u.getLayout();if(!c)return s;for(var p=[c.width/2,c.height/2],d=u;d;){var m=d.getLayout();p[0]+=m.x,p[1]+=m.y,d=d.parentNode}return{x:n.width/2-p[0],y:n.height/2-p[1]}}function lq(n,i,r,s,u){var c=n.getLayout(),p=r[u],d=p&&p===n;if(!(p&&!d||u===r.length&&n!==s)){n.setLayout({isInView:!0,invisible:!d&&!i.intersect(c),isAboveViewRoot:d},!0);var m=new Ve(i.x-c.x,i.y-c.y,i.width,i.height);JR(n.viewChildren||[],function(_){lq(_,m,r,s,u+1)})}}function uq(n){return n.get(NDt)?n.get(zDt):0}function ZDt(n){n.registerSeriesModel(cDt),n.registerChartView(bDt),n.registerVisual(IDt),n.registerLayout(VDt),fDt(n)}function XDt(n){var i=n.findComponents({mainType:"legend"});!i||!i.length||n.eachSeriesByType("graph",function(r){var s=r.getCategoriesData(),u=r.getGraph(),c=u.data,p=s.mapArray(s.getName);c.filterSelf(function(d){var m=c.getItemModel(d),_=m.getShallow("category");if(_!=null){Ne(_)&&(_=p[_]);for(var S=0;S<i.length;S++)if(!i[S].isSelected(_))return!1}return!0})})}function qDt(n){var i={};n.eachSeriesByType("graph",function(r){var s=r.getCategoriesData(),u=r.getData(),c={};s.each(function(p){var d=s.getName(p);c["ec-"+d]=p;var m=s.getItemModel(p),_=m.getModel("itemStyle").getItemStyle();_.fill||(_.fill=r.getColorFromPalette(d,i)),s.setItemVisual(p,"style",_);for(var S=["symbol","symbolSize","symbolKeepAspect"],w=0;w<S.length;w++){var A=m.getShallow(S[w],!0);A!=null&&s.setItemVisual(p,S[w],A)}}),s.count()&&u.each(function(p){var d=u.getItemModel(p),m=d.getShallow("category");if(m!=null){kt(m)&&(m=c["ec-"+m]);var _=s.getItemVisual(m,"style"),S=u.ensureUniqueItemVisual(p,"style");st(S,_);for(var w=["symbol","symbolSize","symbolKeepAspect"],A=0;A<w.length;A++)u.setItemVisual(p,w[A],s.getItemVisual(m,w[A]))}})})}function nT(n){return n instanceof Array||(n=[n,n]),n}function $Dt(n){n.eachSeriesByType("graph",function(i){var r=i.getGraph(),s=i.getEdgeData(),u=nT(i.get("edgeSymbol")),c=nT(i.get("edgeSymbolSize"));s.setVisual("fromSymbol",u&&u[0]),s.setVisual("toSymbol",u&&u[1]),s.setVisual("fromSymbolSize",c&&c[0]),s.setVisual("toSymbolSize",c&&c[1]),s.setVisual("style",i.getModel("lineStyle").getLineStyle()),s.each(function(p){var d=s.getItemModel(p),m=r.getEdgeByIndex(p),_=nT(d.getShallow("symbol",!0)),S=nT(d.getShallow("symbolSize",!0)),w=d.getModel("lineStyle").getLineStyle(),A=s.ensureUniqueItemVisual(p,"style");switch(st(A,w),A.stroke){case"source":{var D=m.node1.getVisual("style");A.stroke=D&&D.fill;break}case"target":{var D=m.node2.getVisual("style");A.stroke=D&&D.fill;break}}_[0]&&m.setVisual("fromSymbol",_[0]),_[1]&&m.setVisual("toSymbol",_[1]),S[0]&&m.setVisual("fromSymbolSize",S[0]),S[1]&&m.setVisual("toSymbolSize",S[1])})})}var QR="-->",oT=function(n){return n.get("autoCurveness")||null},fq=function(n,i){var r=oT(n),s=20,u=[];if(Ne(r))s=r;else if(wt(r)){n.__curvenessList=r;return}i>s&&(s=i);var c=s%2?s+2:s+3;u=[];for(var p=0;p<c;p++)u.push((p%2?p+1:p)/10*(p%2?-1:1));n.__curvenessList=u},p_=function(n,i,r){var s=[n.id,n.dataIndex].join("."),u=[i.id,i.dataIndex].join(".");return[r.uid,s,u].join(QR)},cq=function(n){var i=n.split(QR);return[i[0],i[2],i[1]].join(QR)},KDt=function(n,i){var r=p_(n.node1,n.node2,i);return i.__edgeMap[r]},jDt=function(n,i){var r=tO(p_(n.node1,n.node2,i),i),s=tO(p_(n.node2,n.node1,i),i);return r+s},tO=function(n,i){var r=i.__edgeMap;return r[n]?r[n].length:0};function JDt(n){oT(n)&&(n.__curvenessList=[],n.__edgeMap={},fq(n))}function QDt(n,i,r,s){if(oT(r)){var u=p_(n,i,r),c=r.__edgeMap,p=c[cq(u)];c[u]&&!p?c[u].isForward=!0:p&&c[u]&&(p.isForward=!0,c[u].isForward=!1),c[u]=c[u]||[],c[u].push(s)}}function eO(n,i,r,s){var u=oT(i),c=wt(u);if(!u)return null;var p=KDt(n,i);if(!p)return null;for(var d=-1,m=0;m<p.length;m++)if(p[m]===r){d=m;break}var _=jDt(n,i);fq(i,_),n.lineStyle=n.lineStyle||{};var S=p_(n.node1,n.node2,i),w=i.__curvenessList,A=c||_%2?0:1;if(p.isForward)return w[A+d];var D=cq(S),L=tO(D,i),E=w[d+L+A];return s?c?u&&u[0]===0?(L+A)%2?E:-E:((L%2?0:1)+A)%2?E:-E:(L+A)%2?E:-E:w[d+L+A]}function hq(n){var i=n.coordinateSystem;if(!(i&&i.type!=="view")){var r=n.getGraph();r.eachNode(function(s){var u=s.getModel();s.setLayout([+u.get("x"),+u.get("y")])}),rO(r,n)}}function rO(n,i){n.eachEdge(function(r,s){var u=En(r.getModel().get(["lineStyle","curveness"]),-eO(r,i,s,!0),0),c=Zs(r.node1.getLayout()),p=Zs(r.node2.getLayout()),d=[c,p];+u&&d.push([(c[0]+p[0])/2-(c[1]-p[1])*u,(c[1]+p[1])/2-(p[0]-c[0])*u]),r.setLayout(d)})}function tMt(n,i){n.eachSeriesByType("graph",function(r){var s=r.get("layout"),u=r.coordinateSystem;if(u&&u.type!=="view"){var c=r.getData(),p=[];j(u.dimensions,function(A){p=p.concat(c.mapDimensionsAll(A))});for(var d=0;d<c.count();d++){for(var m=[],_=!1,S=0;S<p.length;S++){var w=c.get(p[S],d);isNaN(w)||(_=!0),m.push(w)}_?c.setItemLayout(d,u.dataToPoint(m)):c.setItemLayout(d,[NaN,NaN])}rO(c.graph,r)}else(!s||s==="none")&&hq(r)})}function v_(n){var i=n.coordinateSystem;if(i.type!=="view")return 1;var r=n.option.nodeScaleRatio,s=i.scaleX,u=i.getZoom(),c=(u-1)*r+1;return c/s}function d_(n){var i=n.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),+i}var pq=Math.PI,iO=[];function aO(n,i,r,s){var u=n.coordinateSystem;if(!(u&&u.type!=="view")){var c=u.getBoundingRect(),p=n.getData(),d=p.graph,m=c.width/2+c.x,_=c.height/2+c.y,S=Math.min(c.width,c.height)/2,w=p.count();if(p.setLayout({cx:m,cy:_}),!!w){if(r){var A=u.pointToData(s),D=A[0],L=A[1],E=[D-m,L-_];$c(E,E),Ly(E,E,S),r.setLayout([m+E[0],_+E[1]],!0);var R=n.get(["circular","rotateLabel"]);vq(r,R,m,_)}eMt[i](n,d,p,S,m,_,w),d.eachEdge(function(k,z){var B=En(k.getModel().get(["lineStyle","curveness"]),eO(k,n,z),0),G=Zs(k.node1.getLayout()),W=Zs(k.node2.getLayout()),Y,q=(G[0]+W[0])/2,J=(G[1]+W[1])/2;+B&&(B*=3,Y=[m*B+q*(1-B),_*B+J*(1-B)]),k.setLayout([G,W,Y])})}}}var eMt={value:function(n,i,r,s,u,c,p){var d=0,m=r.getSum("value"),_=Math.PI*2/(m||p);i.eachNode(function(S){var w=S.getValue("value"),A=_*(m?w:1)/2;d+=A,S.setLayout([s*Math.cos(d)+u,s*Math.sin(d)+c]),d+=A})},symbolSize:function(n,i,r,s,u,c,p){var d=0;iO.length=p;var m=v_(n);i.eachNode(function(w){var A=d_(w);isNaN(A)&&(A=2),A<0&&(A=0),A*=m;var D=Math.asin(A/2/s);isNaN(D)&&(D=pq/2),iO[w.dataIndex]=D,d+=D*2});var _=(2*pq-d)/p/2,S=0;i.eachNode(function(w){var A=_+iO[w.dataIndex];S+=A,(!w.getLayout()||!w.getLayout().fixed)&&w.setLayout([s*Math.cos(S)+u,s*Math.sin(S)+c]),S+=A})}};function vq(n,i,r,s){var u=n.getGraphicEl();if(u){var c=n.getModel(),p=c.get(["label","rotate"])||0,d=u.getSymbolPath();if(i){var m=n.getLayout(),_=Math.atan2(m[1]-s,m[0]-r);_<0&&(_=Math.PI*2+_);var S=m[0]<r;S&&(_=_-Math.PI);var w=S?"left":"right";d.setTextConfig({rotation:-_,position:w,origin:"center"});var A=d.ensureState("emphasis");st(A.textConfig||(A.textConfig={}),{position:w})}else d.setTextConfig({rotation:p*=Math.PI/180})}}function rMt(n){n.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&aO(i,"symbolSize")})}var Hd=zb;function iMt(n,i,r){for(var s=n,u=i,c=r.rect,p=c.width,d=c.height,m=[c.x+p/2,c.y+d/2],_=r.gravity==null?.1:r.gravity,S=0;S<s.length;S++){var w=s[S];w.p||(w.p=ef(p*(Math.random()-.5)+m[0],d*(Math.random()-.5)+m[1])),w.pp=Zs(w.p),w.edges=null}var A=r.friction==null?.6:r.friction,D=A,L,E;return{warmUp:function(){D=A*.8},setFixed:function(R){s[R].fixed=!0},setUnfixed:function(R){s[R].fixed=!1},beforeStep:function(R){L=R},afterStep:function(R){E=R},step:function(R){L&&L(s,u);for(var k=[],z=s.length,B=0;B<u.length;B++){var G=u[B];if(!G.ignoreForceLayout){var W=G.n1,Y=G.n2;rf(k,Y.p,W.p);var q=My(k)-G.d,J=Y.w/(W.w+Y.w);isNaN(J)&&(J=0),$c(k,k),!W.fixed&&Hd(W.p,W.p,k,J*q*D),!Y.fixed&&Hd(Y.p,Y.p,k,-(1-J)*q*D)}}for(var B=0;B<z;B++){var tt=s[B];tt.fixed||(rf(k,m,tt.p),Hd(tt.p,tt.p,k,_*D))}for(var B=0;B<z;B++)for(var W=s[B],et=B+1;et<z;et++){var Y=s[et];rf(k,Y.p,W.p);var q=My(k);q===0&&(fW(k,Math.random()-.5,Math.random()-.5),q=1);var it=(W.rep+Y.rep)/q/q;!W.fixed&&Hd(W.pp,W.pp,k,it),!Y.fixed&&Hd(Y.pp,Y.pp,k,-it)}for(var ut=[],B=0;B<z;B++){var tt=s[B];tt.fixed||(rf(ut,tt.p,tt.pp),Hd(tt.p,tt.p,ut,D),va(tt.pp,tt.p))}D=D*.992;var ct=D<.01;E&&E(s,u,ct),R&&R(ct)}}}function aMt(n){n.eachSeriesByType("graph",function(i){var r=i.coordinateSystem;if(!(r&&r.type!=="view"))if(i.get("layout")==="force"){var s=i.preservedPoints||{},u=i.getGraph(),c=u.data,p=u.edgeData,d=i.getModel("force"),m=d.get("initLayout");i.preservedPoints?c.each(function(B){var G=c.getId(B);c.setItemLayout(B,s[G]||[NaN,NaN])}):!m||m==="none"?hq(i):m==="circular"&&aO(i,"value");var _=c.getDataExtent("value"),S=p.getDataExtent("value"),w=d.get("repulsion"),A=d.get("edgeLength"),D=wt(w)?w:[w,w],L=wt(A)?A:[A,A];L=[L[1],L[0]];var E=c.mapArray("value",function(B,G){var W=c.getItemLayout(G),Y=ur(B,_,D);return isNaN(Y)&&(Y=(D[0]+D[1])/2),{w:Y,rep:Y,fixed:c.getItemModel(G).get("fixed"),p:!W||isNaN(W[0])||isNaN(W[1])?null:W}}),R=p.mapArray("value",function(B,G){var W=u.getEdgeByIndex(G),Y=ur(B,S,L);isNaN(Y)&&(Y=(L[0]+L[1])/2);var q=W.getModel(),J=En(W.getModel().get(["lineStyle","curveness"]),-eO(W,i,G,!0),0);return{n1:E[W.node1.dataIndex],n2:E[W.node2.dataIndex],d:Y,curveness:J,ignoreForceLayout:q.get("ignoreForceLayout")}}),k=r.getBoundingRect(),z=iMt(E,R,{rect:k,gravity:d.get("gravity"),friction:d.get("friction")});z.beforeStep(function(B,G){for(var W=0,Y=B.length;W<Y;W++)B[W].fixed&&va(B[W].p,u.getNodeByIndex(W).getLayout())}),z.afterStep(function(B,G,W){for(var Y=0,q=B.length;Y<q;Y++)B[Y].fixed||u.getNodeByIndex(Y).setLayout(B[Y].p),s[c.getId(Y)]=B[Y].p;for(var Y=0,q=G.length;Y<q;Y++){var J=G[Y],tt=u.getEdgeByIndex(Y),et=J.n1.p,it=J.n2.p,ut=tt.getLayout();ut=ut?ut.slice():[],ut[0]=ut[0]||[],ut[1]=ut[1]||[],va(ut[0],et),va(ut[1],it),+J.curveness&&(ut[2]=[(et[0]+it[0])/2-(et[1]-it[1])*J.curveness,(et[1]+it[1])/2-(it[0]-et[0])*J.curveness]),tt.setLayout(ut)}}),i.forceLayout=z,i.preservedPoints=s,z.step()}else i.forceLayout=null})}function nMt(n,i,r){var s=st(n.getBoxLayoutParams(),{aspect:r});return yi(s,{width:i.getWidth(),height:i.getHeight()})}function oMt(n,i){var r=[];return n.eachSeriesByType("graph",function(s){var u=s.get("coordinateSystem");if(!u||u==="view"){var c=s.getData(),p=c.mapArray(function(R){var k=c.getItemModel(R);return[+k.get("x"),+k.get("y")]}),d=[],m=[];x1(p,d,m),m[0]-d[0]===0&&(m[0]+=1,d[0]-=1),m[1]-d[1]===0&&(m[1]+=1,d[1]-=1);var _=(m[0]-d[0])/(m[1]-d[1]),S=nMt(s,i,_);isNaN(_)&&(d=[S.x,S.y],m=[S.x+S.width,S.y+S.height]);var w=m[0]-d[0],A=m[1]-d[1],D=S.width,L=S.height,E=s.coordinateSystem=new a_;E.zoomLimit=s.get("scaleLimit"),E.setBoundingRect(d[0],d[1],w,A),E.setViewRect(S.x,S.y,D,L),E.setCenter(s.get("center"),i),E.setZoom(s.get("zoom")),r.push(E)}}),r}var dq=Ti.prototype,nO=ud.prototype,gq=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),gKt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i}(gq);function oO(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var sMt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="ec-line",s}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new gq},i.prototype.buildPath=function(r,s){oO(s)?dq.buildPath.call(this,r,s):nO.buildPath.call(this,r,s)},i.prototype.pointAt=function(r){return oO(this.shape)?dq.pointAt.call(this,r):nO.pointAt.call(this,r)},i.prototype.tangentAt=function(r){var s=this.shape,u=oO(s)?[s.x2-s.x1,s.y2-s.y1]:nO.tangentAt.call(this,r);return $c(u,u)},i}(Xe),sO=["fromSymbol","toSymbol"];function mq(n){return"_"+n+"Type"}function yq(n,i,r){var s=i.getItemVisual(r,n);if(!s||s==="none")return s;var u=i.getItemVisual(r,n+"Size"),c=i.getItemVisual(r,n+"Rotate"),p=i.getItemVisual(r,n+"Offset"),d=i.getItemVisual(r,n+"KeepAspect"),m=Ld(u),_=Oh(p||0,m);return s+m+_+(c||"")+(d||"")}function _q(n,i,r){var s=i.getItemVisual(r,n);if(!(!s||s==="none")){var u=i.getItemVisual(r,n+"Size"),c=i.getItemVisual(r,n+"Rotate"),p=i.getItemVisual(r,n+"Offset"),d=i.getItemVisual(r,n+"KeepAspect"),m=Ld(u),_=Oh(p||0,m),S=li(s,-m[0]/2+_[0],-m[1]/2+_[1],m[0],m[1],null,d);return S.__specifiedRotation=c==null||isNaN(c)?void 0:+c*Math.PI/180||0,S.name=n,S}}function lMt(n){var i=new sMt({name:"line",subPixelOptimize:!0});return lO(i.shape,n),i}function lO(n,i){n.x1=i[0][0],n.y1=i[0][1],n.x2=i[1][0],n.y2=i[1][1],n.percent=1;var r=i[2];r?(n.cpx1=r[0],n.cpy1=r[1]):(n.cpx1=NaN,n.cpy1=NaN)}var uO=function(n){e(i,n);function i(r,s,u){var c=n.call(this)||this;return c._createLine(r,s,u),c}return i.prototype._createLine=function(r,s,u){var c=r.hostModel,p=r.getItemLayout(s),d=lMt(p);d.shape.percent=0,Vr(d,{shape:{percent:1}},c,s),this.add(d),j(sO,function(m){var _=_q(m,r,s);this.add(_),this[mq(m)]=yq(m,r,s)},this),this._updateCommonStl(r,s,u)},i.prototype.updateData=function(r,s,u){var c=r.hostModel,p=this.childOfName("line"),d=r.getItemLayout(s),m={shape:{}};lO(m.shape,d),ir(p,m,c,s),j(sO,function(_){var S=yq(_,r,s),w=mq(_);if(this[w]!==S){this.remove(this.childOfName(_));var A=_q(_,r,s);this.add(A)}this[w]=S},this),this._updateCommonStl(r,s,u)},i.prototype.getLinePath=function(){return this.childAt(0)},i.prototype._updateCommonStl=function(r,s,u){var c=r.hostModel,p=this.childOfName("line"),d=u&&u.emphasisLineStyle,m=u&&u.blurLineStyle,_=u&&u.selectLineStyle,S=u&&u.labelStatesModels,w=u&&u.emphasisDisabled,A=u&&u.focus,D=u&&u.blurScope;if(!u||r.hasItemOption){var L=r.getItemModel(s),E=L.getModel("emphasis");d=E.getModel("lineStyle").getLineStyle(),m=L.getModel(["blur","lineStyle"]).getLineStyle(),_=L.getModel(["select","lineStyle"]).getLineStyle(),w=E.get("disabled"),A=E.get("focus"),D=E.get("blurScope"),S=zi(L)}var R=r.getItemVisual(s,"style"),k=R.stroke;p.useStyle(R),p.style.fill=null,p.style.strokeNoScale=!0,p.ensureState("emphasis").style=d,p.ensureState("blur").style=m,p.ensureState("select").style=_,j(sO,function(Y){var q=this.childOfName(Y);if(q){q.setColor(k),q.style.opacity=R.opacity;for(var J=0;J<za.length;J++){var tt=za[J],et=p.getState(tt);if(et){var it=et.style||{},ut=q.ensureState(tt),ct=ut.style||(ut.style={});it.stroke!=null&&(ct[q.__isEmptyBrush?"stroke":"fill"]=it.stroke),it.opacity!=null&&(ct.opacity=it.opacity)}}q.markRedraw()}},this);var z=c.getRawValue(s);ia(this,S,{labelDataIndex:s,labelFetcher:{getFormattedLabel:function(Y,q){return c.getFormattedLabel(Y,q,r.dataType)}},inheritColor:k||"#000",defaultOpacity:R.opacity,defaultText:(z==null?r.getName(s):isFinite(z)?Kr(z):z)+""});var B=this.getTextContent();if(B){var G=S.normal;B.__align=B.style.align,B.__verticalAlign=B.style.verticalAlign,B.__position=G.get("position")||"middle";var W=G.get("distance");wt(W)||(W=[W,W]),B.__labelDistance=W}this.setTextConfig({position:null,local:!0,inside:!1}),Zr(this,A,D,w)},i.prototype.highlight=function(){Ql(this)},i.prototype.downplay=function(){tu(this)},i.prototype.updateLayout=function(r,s){this.setLinePoints(r.getItemLayout(s))},i.prototype.setLinePoints=function(r){var s=this.childOfName("line");lO(s.shape,r),s.dirty()},i.prototype.beforeUpdate=function(){var r=this,s=r.childOfName("fromSymbol"),u=r.childOfName("toSymbol"),c=r.getTextContent();if(!s&&!u&&(!c||c.ignore))return;for(var p=1,d=this.parent;d;)d.scaleX&&(p/=d.scaleX),d=d.parent;var m=r.childOfName("line");if(!this.__dirty&&!m.__dirty)return;var _=m.shape.percent,S=m.pointAt(0),w=m.pointAt(_),A=rf([],w,S);$c(A,A);function D(et,it){var ut=et.__specifiedRotation;if(ut==null){var ct=m.tangentAt(it);et.attr("rotation",(it===1?-1:1)*Math.PI/2-Math.atan2(ct[1],ct[0]))}else et.attr("rotation",ut)}if(s&&(s.setPosition(S),D(s,0),s.scaleX=s.scaleY=p*_,s.markRedraw()),u&&(u.setPosition(w),D(u,1),u.scaleX=u.scaleY=p*_,u.markRedraw()),c&&!c.ignore){c.x=c.y=0,c.originX=c.originY=0;var L=void 0,E=void 0,R=c.__labelDistance,k=R[0]*p,z=R[1]*p,B=_/2,G=m.tangentAt(B),W=[G[1],-G[0]],Y=m.pointAt(B);W[1]>0&&(W[0]=-W[0],W[1]=-W[1]);var q=G[0]<0?-1:1;if(c.__position!=="start"&&c.__position!=="end"){var J=-Math.atan2(G[1],G[0]);w[0]<S[0]&&(J=Math.PI+J),c.rotation=J}var tt=void 0;switch(c.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":tt=-z,E="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":tt=z,E="top";break;default:tt=0,E="middle"}switch(c.__position){case"end":c.x=A[0]*k+w[0],c.y=A[1]*z+w[1],L=A[0]>.8?"left":A[0]<-.8?"right":"center",E=A[1]>.8?"top":A[1]<-.8?"bottom":"middle";break;case"start":c.x=-A[0]*k+S[0],c.y=-A[1]*z+S[1],L=A[0]>.8?"right":A[0]<-.8?"left":"center",E=A[1]>.8?"bottom":A[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c.x=k*q+S[0],c.y=S[1]+tt,L=G[0]<0?"right":"left",c.originX=-k*q,c.originY=-tt;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c.x=Y[0],c.y=Y[1]+tt,L="center",c.originY=-tt;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c.x=-k*q+w[0],c.y=w[1]+tt,L=G[0]>=0?"right":"left",c.originX=k*q,c.originY=-tt;break}c.scaleX=c.scaleY=p,c.setStyle({verticalAlign:c.__verticalAlign||E,align:c.__align||L})}},i}(Te),fO=function(){function n(i){this.group=new Te,this._LineCtor=i||uO}return n.prototype.updateData=function(i){var r=this;this._progressiveEls=null;var s=this,u=s.group,c=s._lineData;s._lineData=i,c||u.removeAll();var p=xq(i);i.diff(c).add(function(d){r._doAdd(i,d,p)}).update(function(d,m){r._doUpdate(c,i,m,d,p)}).remove(function(d){u.remove(c.getItemGraphicEl(d))}).execute()},n.prototype.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(r,s){r.updateLayout(i,s)},this)},n.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=xq(i),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(i,r){this._progressiveEls=[];function s(d){!d.isGroup&&!uMt(d)&&(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var u=i.start;u<i.end;u++){var c=r.getItemLayout(u);if(cO(c)){var p=new this._LineCtor(r,u,this._seriesScope);p.traverse(s),this.group.add(p),r.setItemGraphicEl(u,p),this._progressiveEls.push(p)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(i){_f(this._progressiveEls||this.group,i)},n.prototype._doAdd=function(i,r,s){var u=i.getItemLayout(r);if(cO(u)){var c=new this._LineCtor(i,r,s);i.setItemGraphicEl(r,c),this.group.add(c)}},n.prototype._doUpdate=function(i,r,s,u,c){var p=i.getItemGraphicEl(s);if(!cO(r.getItemLayout(u))){this.group.remove(p);return}p?p.updateData(r,u,c):p=new this._LineCtor(r,u,c),r.setItemGraphicEl(u,p),this.group.add(p)},n}();function uMt(n){return n.animators&&n.animators.length>0}function xq(n){var i=n.hostModel,r=i.getModel("emphasis");return{lineStyle:i.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:i.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:i.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:zi(i)}}function Sq(n){return isNaN(n[0])||isNaN(n[1])}function cO(n){return n&&!Sq(n[0])&&!Sq(n[1])}var hO=[],pO=[],vO=[],Wd=qi,dO=af,bq=Math.abs;function wq(n,i,r){for(var s=n[0],u=n[1],c=n[2],p=1/0,d,m=r*r,_=.1,S=.1;S<=.9;S+=.1){hO[0]=Wd(s[0],u[0],c[0],S),hO[1]=Wd(s[1],u[1],c[1],S);var w=bq(dO(hO,i)-m);w<p&&(p=w,d=S)}for(var A=0;A<32;A++){var D=d+_;pO[0]=Wd(s[0],u[0],c[0],d),pO[1]=Wd(s[1],u[1],c[1],d),vO[0]=Wd(s[0],u[0],c[0],D),vO[1]=Wd(s[1],u[1],c[1],D);var w=dO(pO,i)-m;if(bq(w)<.01)break;var L=dO(vO,i)-m;_/=2,w<0?L>=0?d=d+_:d=d-_:L>=0?d=d-_:d=d+_}return d}function gO(n,i){var r=[],s=Vy,u=[[],[],[]],c=[[],[]],p=[];i/=2,n.eachEdge(function(d,m){var _=d.getLayout(),S=d.getVisual("fromSymbol"),w=d.getVisual("toSymbol");_.__original||(_.__original=[Zs(_[0]),Zs(_[1])],_[2]&&_.__original.push(Zs(_[2])));var A=_.__original;if(_[2]!=null){if(va(u[0],A[0]),va(u[1],A[2]),va(u[2],A[1]),S&&S!=="none"){var D=d_(d.node1),L=wq(u,A[0],D*i);s(u[0][0],u[1][0],u[2][0],L,r),u[0][0]=r[3],u[1][0]=r[4],s(u[0][1],u[1][1],u[2][1],L,r),u[0][1]=r[3],u[1][1]=r[4]}if(w&&w!=="none"){var D=d_(d.node2),L=wq(u,A[1],D*i);s(u[0][0],u[1][0],u[2][0],L,r),u[1][0]=r[1],u[2][0]=r[2],s(u[0][1],u[1][1],u[2][1],L,r),u[1][1]=r[1],u[2][1]=r[2]}va(_[0],u[0]),va(_[1],u[2]),va(_[2],u[1])}else{if(va(c[0],A[0]),va(c[1],A[1]),rf(p,c[1],c[0]),$c(p,p),S&&S!=="none"){var D=d_(d.node1);zb(c[0],c[0],p,D*i)}if(w&&w!=="none"){var D=d_(d.node2);zb(c[1],c[1],p,-D*i)}va(_[0],c[0]),va(_[1],c[1])}})}function Tq(n){return n.type==="view"}var fMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s){var u=new q0,c=new fO,p=this.group;this._controller=new r_(s.getZr()),this._controllerHost={target:p},p.add(u.group),p.add(c.group),this._symbolDraw=u,this._lineDraw=c,this._firstRender=!0},i.prototype.render=function(r,s,u){var c=this,p=r.coordinateSystem;this._model=r;var d=this._symbolDraw,m=this._lineDraw,_=this.group;if(Tq(p)){var S={x:p.x,y:p.y,scaleX:p.scaleX,scaleY:p.scaleY};this._firstRender?_.attr(S):ir(_,S,r)}gO(r.getGraph(),v_(r));var w=r.getData();d.updateData(w);var A=r.getEdgeData();m.updateData(A),this._updateNodeAndLinkScale(),this._updateController(r,s,u),clearTimeout(this._layoutTimeout);var D=r.forceLayout,L=r.get(["force","layoutAnimation"]);D&&this._startForceLayoutIteration(D,L);var E=r.get("layout");w.graph.eachNode(function(B){var G=B.dataIndex,W=B.getGraphicEl(),Y=B.getModel();if(W){W.off("drag").off("dragend");var q=Y.get("draggable");q&&W.on("drag",function(tt){switch(E){case"force":D.warmUp(),!c._layouting&&c._startForceLayoutIteration(D,L),D.setFixed(G),w.setItemLayout(G,[W.x,W.y]);break;case"circular":w.setItemLayout(G,[W.x,W.y]),B.setLayout({fixed:!0},!0),aO(r,"symbolSize",B,[tt.offsetX,tt.offsetY]),c.updateLayout(r);break;case"none":default:w.setItemLayout(G,[W.x,W.y]),rO(r.getGraph(),r),c.updateLayout(r);break}}).on("dragend",function(){D&&D.setUnfixed(G)}),W.setDraggable(q,!!Y.get("cursor"));var J=Y.get(["emphasis","focus"]);J==="adjacency"&&(Me(W).focus=B.getAdjacentDataIndices())}}),w.graph.eachEdge(function(B){var G=B.getGraphicEl(),W=B.getModel().get(["emphasis","focus"]);G&&W==="adjacency"&&(Me(G).focus={edge:[B.dataIndex],node:[B.node1.dataIndex,B.node2.dataIndex]})});var R=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),k=w.getLayout("cx"),z=w.getLayout("cy");w.graph.eachNode(function(B){vq(B,R,k,z)}),this._firstRender=!1},i.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype._startForceLayoutIteration=function(r,s){var u=this;(function c(){r.step(function(p){u.updateLayout(u._model),(u._layouting=!p)&&(s?u._layoutTimeout=setTimeout(c,16):c())})})()},i.prototype._updateController=function(r,s,u){var c=this,p=this._controller,d=this._controllerHost,m=this.group;if(p.setPointerChecker(function(_,S,w){var A=m.getBoundingRect();return A.applyTransform(m.transform),A.contain(S,w)&&!qw(_,u,r)}),!Tq(r.coordinateSystem)){p.disable();return}p.enable(r.get("roam")),d.zoomLimit=r.get("scaleLimit"),d.zoom=r.coordinateSystem.getZoom(),p.off("pan").off("zoom").on("pan",function(_){ER(d,_.dx,_.dy),u.dispatchAction({seriesId:r.id,type:"graphRoam",dx:_.dx,dy:_.dy})}).on("zoom",function(_){PR(d,_.scale,_.originX,_.originY),u.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:_.scale,originX:_.originX,originY:_.originY}),c._updateNodeAndLinkScale(),gO(r.getGraph(),v_(r)),c._lineDraw.updateLayout(),u.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(){var r=this._model,s=r.getData(),u=v_(r);s.eachItemGraphicEl(function(c,p){c&&c.setSymbolScale(u)})},i.prototype.updateLayout=function(r){gO(r.getGraph(),v_(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},i.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},i.type="graph",i}(vr);function Yd(n){return"_EC_"+n}var cMt=function(){function n(i){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=i||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(i,r){i=i==null?""+r:""+i;var s=this._nodesMap;if(s[Yd(i)]){console.error("Graph nodes have duplicate name or id");return}var u=new tp(i,r);return u.hostGraph=this,this.nodes.push(u),s[Yd(i)]=u,u},n.prototype.getNodeByIndex=function(i){var r=this.data.getRawIndex(i);return this.nodes[r]},n.prototype.getNodeById=function(i){return this._nodesMap[Yd(i)]},n.prototype.addEdge=function(i,r,s){var u=this._nodesMap,c=this._edgesMap;if(Ne(i)&&(i=this.nodes[i]),Ne(r)&&(r=this.nodes[r]),i instanceof tp||(i=u[Yd(i)]),r instanceof tp||(r=u[Yd(r)]),!(!i||!r)){var p=i.id+"-"+r.id,d=new Aq(i,r,s);return d.hostGraph=this,this._directed&&(i.outEdges.push(d),r.inEdges.push(d)),i.edges.push(d),i!==r&&r.edges.push(d),this.edges.push(d),c[p]=d,d}},n.prototype.getEdgeByIndex=function(i){var r=this.edgeData.getRawIndex(i);return this.edges[r]},n.prototype.getEdge=function(i,r){i instanceof tp&&(i=i.id),r instanceof tp&&(r=r.id);var s=this._edgesMap;return this._directed?s[i+"-"+r]:s[i+"-"+r]||s[r+"-"+i]},n.prototype.eachNode=function(i,r){for(var s=this.nodes,u=s.length,c=0;c<u;c++)s[c].dataIndex>=0&&i.call(r,s[c],c)},n.prototype.eachEdge=function(i,r){for(var s=this.edges,u=s.length,c=0;c<u;c++)s[c].dataIndex>=0&&s[c].node1.dataIndex>=0&&s[c].node2.dataIndex>=0&&i.call(r,s[c],c)},n.prototype.breadthFirstTraverse=function(i,r,s,u){if(r instanceof tp||(r=this._nodesMap[Yd(r)]),!!r){for(var c=s==="out"?"outEdges":s==="in"?"inEdges":"edges",p=0;p<this.nodes.length;p++)this.nodes[p].__visited=!1;if(!i.call(u,r,null))for(var d=[r];d.length;)for(var m=d.shift(),_=m[c],p=0;p<_.length;p++){var S=_[p],w=S.node1===m?S.node2:S.node1;if(!w.__visited){if(i.call(u,w,m))return;d.push(w),w.__visited=!0}}}},n.prototype.update=function(){for(var i=this.data,r=this.edgeData,s=this.nodes,u=this.edges,c=0,p=s.length;c<p;c++)s[c].dataIndex=-1;for(var c=0,p=i.count();c<p;c++)s[i.getRawIndex(c)].dataIndex=c;r.filterSelf(function(d){var m=u[r.getRawIndex(d)];return m.node1.dataIndex>=0&&m.node2.dataIndex>=0});for(var c=0,p=u.length;c<p;c++)u[c].dataIndex=-1;for(var c=0,p=r.count();c<p;c++)u[r.getRawIndex(c)].dataIndex=c},n.prototype.clone=function(){for(var i=new n(this._directed),r=this.nodes,s=this.edges,u=0;u<r.length;u++)i.addNode(r[u].id,r[u].dataIndex);for(var u=0;u<s.length;u++){var c=s[u];i.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return i},n}(),tp=function(){function n(i,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=i??"",this.dataIndex=r??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(i){if(!(this.dataIndex<0)){var r=this.hostGraph,s=r.data.getItemModel(this.dataIndex);return s.getModel(i)}},n.prototype.getAdjacentDataIndices=function(){for(var i={edge:[],node:[]},r=0;r<this.edges.length;r++){var s=this.edges[r];s.dataIndex<0||(i.edge.push(s.dataIndex),i.node.push(s.node1.dataIndex,s.node2.dataIndex))}return i},n.prototype.getTrajectoryDataIndices=function(){for(var i=le(),r=le(),s=0;s<this.edges.length;s++){var u=this.edges[s];if(!(u.dataIndex<0)){i.set(u.dataIndex,!0);for(var c=[u.node1],p=[u.node2],d=0;d<c.length;){var m=c[d];d++,r.set(m.dataIndex,!0);for(var _=0;_<m.inEdges.length;_++)i.set(m.inEdges[_].dataIndex,!0),c.push(m.inEdges[_].node1)}for(d=0;d<p.length;){var S=p[d];d++,r.set(S.dataIndex,!0);for(var _=0;_<S.outEdges.length;_++)i.set(S.outEdges[_].dataIndex,!0),p.push(S.outEdges[_].node2)}}}return{edge:i.keys(),node:r.keys()}},n}(),Aq=function(){function n(i,r,s){this.dataIndex=-1,this.node1=i,this.node2=r,this.dataIndex=s??-1}return n.prototype.getModel=function(i){if(!(this.dataIndex<0)){var r=this.hostGraph,s=r.edgeData.getItemModel(this.dataIndex);return s.getModel(i)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var i=le(),r=le();i.set(this.dataIndex,!0);for(var s=[this.node1],u=[this.node2],c=0;c<s.length;){var p=s[c];c++,r.set(p.dataIndex,!0);for(var d=0;d<p.inEdges.length;d++)i.set(p.inEdges[d].dataIndex,!0),s.push(p.inEdges[d].node1)}for(c=0;c<u.length;){var m=u[c];c++,r.set(m.dataIndex,!0);for(var d=0;d<m.outEdges.length;d++)i.set(m.outEdges[d].dataIndex,!0),u.push(m.outEdges[d].node2)}return{edge:i.keys(),node:r.keys()}},n}();function Cq(n,i){return{getValue:function(r){var s=this[n][i];return s.getStore().get(s.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,s){this.dataIndex>=0&&this[n][i].setItemVisual(this.dataIndex,r,s)},getVisual:function(r){return this[n][i].getItemVisual(this.dataIndex,r)},setLayout:function(r,s){this.dataIndex>=0&&this[n][i].setItemLayout(this.dataIndex,r,s)},getLayout:function(){return this[n][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][i].getRawIndex(this.dataIndex)}}}qt(tp,Cq("hostGraph","data")),qt(Aq,Cq("hostGraph","edgeData"));function Dq(n,i,r,s,u){for(var c=new cMt(s),p=0;p<n.length;p++)c.addNode(oi(n[p].id,n[p].name,p),p);for(var d=[],m=[],_=0,p=0;p<i.length;p++){var S=i[p],w=S.source,A=S.target;c.addEdge(w,A,_)&&(m.push(S),d.push(oi(wi(S.id,null),w+" > "+A)),_++)}var D=r.get("coordinateSystem"),L;if(D==="cartesian2d"||D==="polar")L=ol(n,r);else{var E=Lh.get(D),R=E?E.dimensions||[]:[];At(R,"value")<0&&R.concat(["value"]);var k=Od(n,{coordDimensions:R,encodeDefine:r.getEncode()}).dimensions;L=new wa(k,r),L.initData(n)}var z=new wa(["value"],r);return z.initData(m,d),u&&u(L,z),UX({mainData:L,struct:c,structAttr:"graph",datas:{node:L,edge:z},datasAttr:{node:"data",edge:"edgeData"}}),c.update(),c}var hMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r}return i.prototype.init=function(r){n.prototype.init.apply(this,arguments);var s=this;function u(){return s._categoriesData}this.legendVisualProvider=new Q0(u,u),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},i.prototype.mergeOption=function(r){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},i.prototype.mergeDefaultAndTheme=function(r){n.prototype.mergeDefaultAndTheme.apply(this,arguments),nh(r,"edgeLabel",["show"])},i.prototype.getInitialData=function(r,s){var u=r.edges||r.links||[],c=r.data||r.nodes||[],p=this;if(c&&u){JDt(this);var d=Dq(c,u,this,!0,m);return j(d.edges,function(_){QDt(_.node1,_.node2,this,_.dataIndex)},this),d.data}function m(_,S){_.wrapMethod("getItemModel",function(L){var E=p._categoriesModels,R=L.getShallow("category"),k=E[R];return k&&(k.parentModel=L.parentModel,L.parentModel=k),L});var w=sr.prototype.getModel;function A(L,E){var R=w.call(this,L,E);return R.resolveParentPath=D,R}S.wrapMethod("getItemModel",function(L){return L.resolveParentPath=D,L.getModel=A,L});function D(L){if(L&&(L[0]==="label"||L[1]==="label")){var E=L.slice();return L[0]==="label"?E[0]="edgeLabel":L[1]==="label"&&(E[1]="edgeLabel"),E}return L}}},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.getCategoriesData=function(){return this._categoriesData},i.prototype.formatTooltip=function(r,s,u){if(u==="edge"){var c=this.getData(),p=this.getDataParams(r,u),d=c.graph.getEdgeByIndex(r),m=c.getName(d.node1.dataIndex),_=c.getName(d.node2.dataIndex),S=[];return m!=null&&S.push(m),_!=null&&S.push(_),Vi("nameValue",{name:S.join(" > "),value:p.value,noValue:p.value==null})}var w=g8({series:this,dataIndex:r,multipleSeries:s});return w},i.prototype._updateCategoriesData=function(){var r=Tt(this.option.categories||[],function(u){return u.value!=null?u:st({value:0},u)}),s=new wa(["value"],this);s.initData(r),this._categoriesData=s,this._categoriesModels=s.mapArray(function(u){return s.getItemModel(u)})},i.prototype.setZoom=function(r){this.option.zoom=r},i.prototype.setCenter=function(r){this.option.center=r},i.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},i.type="series.graph",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(Sr),pMt={type:"graphRoam",event:"graphRoam",update:"none"};function vMt(n){n.registerChartView(fMt),n.registerSeriesModel(hMt),n.registerProcessor(XDt),n.registerVisual(qDt),n.registerVisual($Dt),n.registerLayout(tMt),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,rMt),n.registerLayout(aMt),n.registerCoordinateSystem("graphView",{dimensions:a_.dimensions,create:oMt}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Qr),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Qr),n.registerAction(pMt,function(i,r,s){r.eachComponent({mainType:"series",query:i},function(u){var c=u.coordinateSystem,p=VR(c,i,void 0,s);u.setCenter&&u.setCenter(p.center),u.setZoom&&u.setZoom(p.zoom)})})}var dMt=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),gMt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="pointer",s}return i.prototype.getDefaultShape=function(){return new dMt},i.prototype.buildPath=function(r,s){var u=Math.cos,c=Math.sin,p=s.r,d=s.width,m=s.angle,_=s.x-u(m)*d*(d>=p/3?1:2),S=s.y-c(m)*d*(d>=p/3?1:2);m=s.angle-Math.PI/2,r.moveTo(_,S),r.lineTo(s.x+u(m)*d,s.y+c(m)*d),r.lineTo(s.x+u(s.angle)*p,s.y+c(s.angle)*p),r.lineTo(s.x-u(m)*d,s.y-c(m)*d),r.lineTo(_,S)},i}(Xe);function mMt(n,i){var r=n.get("center"),s=i.getWidth(),u=i.getHeight(),c=Math.min(s,u),p=Wt(r[0],i.getWidth()),d=Wt(r[1],i.getHeight()),m=Wt(n.get("radius"),c/2);return{cx:p,cy:d,r:m}}function sT(n,i){var r=n==null?"":n+"";return i&&(kt(i)?r=i.replace("{value}",r):Gt(i)&&(r=i(n))),r}var yMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){this.group.removeAll();var c=r.get(["axisLine","lineStyle","color"]),p=mMt(r,u);this._renderMain(r,s,u,c,p),this._data=r.getData()},i.prototype.dispose=function(){},i.prototype._renderMain=function(r,s,u,c,p){var d=this.group,m=r.get("clockwise"),_=-r.get("startAngle")/180*Math.PI,S=-r.get("endAngle")/180*Math.PI,w=r.getModel("axisLine"),A=w.get("roundCap"),D=A?Uw:ga,L=w.get("show"),E=w.getModel("lineStyle"),R=E.get("width"),k=[_,S];qE(k,!m),_=k[0],S=k[1];for(var z=S-_,B=_,G=[],W=0;L&&W<c.length;W++){var Y=Math.min(Math.max(c[W][0],0),1);S=_+z*Y;var q=new D({shape:{startAngle:B,endAngle:S,cx:p.cx,cy:p.cy,clockwise:m,r0:p.r-R,r:p.r},silent:!0});q.setStyle({fill:c[W][1]}),q.setStyle(E.getLineStyle(["color","width"])),G.push(q),B=S}G.reverse(),j(G,function(tt){return d.add(tt)});var J=function(tt){if(tt<=0)return c[0][1];var et;for(et=0;et<c.length;et++)if(c[et][0]>=tt&&(et===0?0:c[et-1][0])<tt)return c[et][1];return c[et-1][1]};this._renderTicks(r,s,u,J,p,_,S,m,R),this._renderTitleAndDetail(r,s,u,J,p),this._renderAnchor(r,p),this._renderPointer(r,s,u,J,p,_,S,m,R)},i.prototype._renderTicks=function(r,s,u,c,p,d,m,_,S){for(var w=this.group,A=p.cx,D=p.cy,L=p.r,E=+r.get("min"),R=+r.get("max"),k=r.getModel("splitLine"),z=r.getModel("axisTick"),B=r.getModel("axisLabel"),G=r.get("splitNumber"),W=z.get("splitNumber"),Y=Wt(k.get("length"),L),q=Wt(z.get("length"),L),J=d,tt=(m-d)/G,et=tt/W,it=k.getModel("lineStyle").getLineStyle(),ut=z.getModel("lineStyle").getLineStyle(),ct=k.get("distance"),ht,vt,gt=0;gt<=G;gt++){if(ht=Math.cos(J),vt=Math.sin(J),k.get("show")){var bt=ct?ct+S:S,St=new Ti({shape:{x1:ht*(L-bt)+A,y1:vt*(L-bt)+D,x2:ht*(L-Y-bt)+A,y2:vt*(L-Y-bt)+D},style:it,silent:!0});it.stroke==="auto"&&St.setStyle({stroke:c(gt/G)}),w.add(St)}if(B.get("show")){var bt=B.get("distance")+ct,Ct=sT(Kr(gt/G*(R-E)+E),B.get("formatter")),Ot=c(gt/G),Vt=ht*(L-Y-bt)+A,$t=vt*(L-Y-bt)+D,pe=B.get("rotate"),me=0;pe==="radial"?(me=-J+2*Math.PI,me>Math.PI/2&&(me+=Math.PI)):pe==="tangential"?me=-J-Math.PI/2:Ne(pe)&&(me=pe*Math.PI/180),me===0?w.add(new er({style:Dr(B,{text:Ct,x:Vt,y:$t,verticalAlign:vt<-.8?"top":vt>.8?"bottom":"middle",align:ht<-.4?"left":ht>.4?"right":"center"},{inheritColor:Ot}),silent:!0})):w.add(new er({style:Dr(B,{text:Ct,x:Vt,y:$t,verticalAlign:"middle",align:"center"},{inheritColor:Ot}),silent:!0,originX:Vt,originY:$t,rotation:me}))}if(z.get("show")&&gt!==G){var bt=z.get("distance");bt=bt?bt+S:S;for(var Pe=0;Pe<=W;Pe++){ht=Math.cos(J),vt=Math.sin(J);var br=new Ti({shape:{x1:ht*(L-bt)+A,y1:vt*(L-bt)+D,x2:ht*(L-q-bt)+A,y2:vt*(L-q-bt)+D},silent:!0,style:ut});ut.stroke==="auto"&&br.setStyle({stroke:c((gt+Pe/W)/G)}),w.add(br),J+=et}J-=et}else J+=tt}},i.prototype._renderPointer=function(r,s,u,c,p,d,m,_,S){var w=this.group,A=this._data,D=this._progressEls,L=[],E=r.get(["pointer","show"]),R=r.getModel("progress"),k=R.get("show"),z=r.getData(),B=z.mapDimension("value"),G=+r.get("min"),W=+r.get("max"),Y=[G,W],q=[d,m];function J(et,it){var ut=z.getItemModel(et),ct=ut.getModel("pointer"),ht=Wt(ct.get("width"),p.r),vt=Wt(ct.get("length"),p.r),gt=r.get(["pointer","icon"]),bt=ct.get("offsetCenter"),St=Wt(bt[0],p.r),Ct=Wt(bt[1],p.r),Ot=ct.get("keepAspect"),Vt;return gt?Vt=li(gt,St-ht/2,Ct-vt,ht,vt,null,Ot):Vt=new gMt({shape:{angle:-Math.PI/2,width:ht,r:vt,x:St,y:Ct}}),Vt.rotation=-(it+Math.PI/2),Vt.x=p.cx,Vt.y=p.cy,Vt}function tt(et,it){var ut=R.get("roundCap"),ct=ut?Uw:ga,ht=R.get("overlap"),vt=ht?R.get("width"):S/z.count(),gt=ht?p.r-vt:p.r-(et+1)*vt,bt=ht?p.r:p.r-et*vt,St=new ct({shape:{startAngle:d,endAngle:it,cx:p.cx,cy:p.cy,clockwise:_,r0:gt,r:bt}});return ht&&(St.z2=ur(z.get(B,et),[G,W],[100,0],!0)),St}(k||E)&&(z.diff(A).add(function(et){var it=z.get(B,et);if(E){var ut=J(et,d);Vr(ut,{rotation:-((isNaN(+it)?q[0]:ur(it,Y,q,!0))+Math.PI/2)},r),w.add(ut),z.setItemGraphicEl(et,ut)}if(k){var ct=tt(et,d),ht=R.get("clip");Vr(ct,{shape:{endAngle:ur(it,Y,q,ht)}},r),w.add(ct),jE(r.seriesIndex,z.dataType,et,ct),L[et]=ct}}).update(function(et,it){var ut=z.get(B,et);if(E){var ct=A.getItemGraphicEl(it),ht=ct?ct.rotation:d,vt=J(et,ht);vt.rotation=ht,ir(vt,{rotation:-((isNaN(+ut)?q[0]:ur(ut,Y,q,!0))+Math.PI/2)},r),w.add(vt),z.setItemGraphicEl(et,vt)}if(k){var gt=D[it],bt=gt?gt.shape.endAngle:d,St=tt(et,bt),Ct=R.get("clip");ir(St,{shape:{endAngle:ur(ut,Y,q,Ct)}},r),w.add(St),jE(r.seriesIndex,z.dataType,et,St),L[et]=St}}).execute(),z.each(function(et){var it=z.getItemModel(et),ut=it.getModel("emphasis"),ct=ut.get("focus"),ht=ut.get("blurScope"),vt=ut.get("disabled");if(E){var gt=z.getItemGraphicEl(et),bt=z.getItemVisual(et,"style"),St=bt.fill;if(gt instanceof Ni){var Ct=gt.style;gt.useStyle(st({image:Ct.image,x:Ct.x,y:Ct.y,width:Ct.width,height:Ct.height},bt))}else gt.useStyle(bt),gt.type!=="pointer"&&gt.setColor(St);gt.setStyle(it.getModel(["pointer","itemStyle"]).getItemStyle()),gt.style.fill==="auto"&&gt.setStyle("fill",c(ur(z.get(B,et),Y,[0,1],!0))),gt.z2EmphasisLift=0,ra(gt,it),Zr(gt,ct,ht,vt)}if(k){var Ot=L[et];Ot.useStyle(z.getItemVisual(et,"style")),Ot.setStyle(it.getModel(["progress","itemStyle"]).getItemStyle()),Ot.z2EmphasisLift=0,ra(Ot,it),Zr(Ot,ct,ht,vt)}}),this._progressEls=L)},i.prototype._renderAnchor=function(r,s){var u=r.getModel("anchor"),c=u.get("show");if(c){var p=u.get("size"),d=u.get("icon"),m=u.get("offsetCenter"),_=u.get("keepAspect"),S=li(d,s.cx-p/2+Wt(m[0],s.r),s.cy-p/2+Wt(m[1],s.r),p,p,null,_);S.z2=u.get("showAbove")?1:0,S.setStyle(u.getModel("itemStyle").getItemStyle()),this.group.add(S)}},i.prototype._renderTitleAndDetail=function(r,s,u,c,p){var d=this,m=r.getData(),_=m.mapDimension("value"),S=+r.get("min"),w=+r.get("max"),A=new Te,D=[],L=[],E=r.isAnimationEnabled(),R=r.get(["pointer","showAbove"]);m.diff(this._data).add(function(k){D[k]=new er({silent:!0}),L[k]=new er({silent:!0})}).update(function(k,z){D[k]=d._titleEls[z],L[k]=d._detailEls[z]}).execute(),m.each(function(k){var z=m.getItemModel(k),B=m.get(_,k),G=new Te,W=c(ur(B,[S,w],[0,1],!0)),Y=z.getModel("title");if(Y.get("show")){var q=Y.get("offsetCenter"),J=p.cx+Wt(q[0],p.r),tt=p.cy+Wt(q[1],p.r),et=D[k];et.attr({z2:R?0:2,style:Dr(Y,{x:J,y:tt,text:m.getName(k),align:"center",verticalAlign:"middle"},{inheritColor:W})}),G.add(et)}var it=z.getModel("detail");if(it.get("show")){var ut=it.get("offsetCenter"),ct=p.cx+Wt(ut[0],p.r),ht=p.cy+Wt(ut[1],p.r),vt=Wt(it.get("width"),p.r),gt=Wt(it.get("height"),p.r),bt=r.get(["progress","show"])?m.getItemVisual(k,"style").fill:W,et=L[k],St=it.get("formatter");et.attr({z2:R?0:2,style:Dr(it,{x:ct,y:ht,text:sT(B,St),width:isNaN(vt)?null:vt,height:isNaN(gt)?null:gt,align:"center",verticalAlign:"middle"},{inheritColor:bt})}),K6(et,{normal:it},B,function(Ot){return sT(Ot,St)}),E&&j6(et,k,m,r,{getFormattedLabel:function(Ot,Vt,$t,pe,me,Pe){return sT(Pe?Pe.interpolatedValue:B,St)}}),G.add(et)}A.add(G)}),this.group.add(A),this._titleEls=D,this._detailEls=L},i.type="gauge",i}(vr),_Mt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.visualStyleAccessPath="itemStyle",r}return i.prototype.getInitialData=function(r,s){return Fd(this,["value"])},i.type="series.gauge",i.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},i}(Sr);function xMt(n){n.registerChartView(yMt),n.registerSeriesModel(_Mt)}var SMt=["itemStyle","opacity"],bMt=function(n){e(i,n);function i(r,s){var u=n.call(this)||this,c=u,p=new ya,d=new er;return c.setTextContent(d),u.setTextGuideLine(p),u.updateData(r,s,!0),u}return i.prototype.updateData=function(r,s,u){var c=this,p=r.hostModel,d=r.getItemModel(s),m=r.getItemLayout(s),_=d.getModel("emphasis"),S=d.get(SMt);S=S??1,u||ds(c),c.useStyle(r.getItemVisual(s,"style")),c.style.lineJoin="round",u?(c.setShape({points:m.points}),c.style.opacity=0,Vr(c,{style:{opacity:S}},p,s)):ir(c,{style:{opacity:S},shape:{points:m.points}},p,s),ra(c,d),this._updateLabel(r,s),Zr(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},i.prototype._updateLabel=function(r,s){var u=this,c=this.getTextGuideLine(),p=u.getTextContent(),d=r.hostModel,m=r.getItemModel(s),_=r.getItemLayout(s),S=_.label,w=r.getItemVisual(s,"style"),A=w.fill;ia(p,zi(m),{labelFetcher:r.hostModel,labelDataIndex:s,defaultOpacity:w.opacity,defaultText:r.getName(s)},{normal:{align:S.textAlign,verticalAlign:S.verticalAlign}}),u.setTextConfig({local:!0,inside:!!S.inside,insideStroke:A,outsideFill:A});var D=S.linePoints;c.setShape({points:D}),u.textGuideLineConfig={anchor:D?new ze(D[0][0],D[0][1]):null},ir(p,{style:{x:S.x,y:S.y}},d,s),p.attr({rotation:S.rotation,originX:S.x,originY:S.y,z2:10}),K2(u,j2(m),{stroke:A})},i}(ma),wMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.ignoreLabelLineUpdate=!0,r}return i.prototype.render=function(r,s,u){var c=r.getData(),p=this._data,d=this.group;c.diff(p).add(function(m){var _=new bMt(c,m);c.setItemGraphicEl(m,_),d.add(_)}).update(function(m,_){var S=p.getItemGraphicEl(_);S.updateData(c,m),d.add(S),c.setItemGraphicEl(m,S)}).remove(function(m){var _=p.getItemGraphicEl(m);h0(_,r,m)}).execute(),this._data=c},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.prototype.dispose=function(){},i.type="funnel",i}(vr),TMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q0(Mt(this.getData,this),Mt(this.getRawData,this)),this._defaultLabelLine(r)},i.prototype.getInitialData=function(r,s){return Fd(this,{coordDimensions:["value"],encodeDefaulter:ee(VP,this)})},i.prototype._defaultLabelLine=function(r){nh(r,"labelLine",["show"]);var s=r.labelLine,u=r.emphasis.labelLine;s.show=s.show&&r.label.show,u.show=u.show&&r.emphasis.label.show},i.prototype.getDataParams=function(r){var s=this.getData(),u=n.prototype.getDataParams.call(this,r),c=s.mapDimension("value"),p=s.getSum(c);return u.percent=p?+(s.get(c,r)/p*100).toFixed(2):0,u.$vars.push("percent"),u},i.type="series.funnel",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(Sr);function AMt(n,i){return yi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function CMt(n,i){for(var r=n.mapDimension("value"),s=n.mapArray(r,function(m){return m}),u=[],c=i==="ascending",p=0,d=n.count();p<d;p++)u[p]=p;return Gt(i)?u.sort(i):i!=="none"&&u.sort(function(m,_){return c?s[m]-s[_]:s[_]-s[m]}),u}function DMt(n){var i=n.hostModel,r=i.get("orient");n.each(function(s){var u=n.getItemModel(s),c=u.getModel("label"),p=c.get("position"),d=u.getModel("labelLine"),m=n.getItemLayout(s),_=m.points,S=p==="inner"||p==="inside"||p==="center"||p==="insideLeft"||p==="insideRight",w,A,D,L;if(S)p==="insideLeft"?(A=(_[0][0]+_[3][0])/2+5,D=(_[0][1]+_[3][1])/2,w="left"):p==="insideRight"?(A=(_[1][0]+_[2][0])/2-5,D=(_[1][1]+_[2][1])/2,w="right"):(A=(_[0][0]+_[1][0]+_[2][0]+_[3][0])/4,D=(_[0][1]+_[1][1]+_[2][1]+_[3][1])/4,w="center"),L=[[A,D],[A,D]];else{var E=void 0,R=void 0,k=void 0,z=void 0,B=d.get("length");r==="vertical"&&["top","bottom"].indexOf(p)>-1&&(p="left",console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")),r==="horizontal"&&["left","right"].indexOf(p)>-1&&(p="bottom",console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")),p==="left"?(E=(_[3][0]+_[0][0])/2,R=(_[3][1]+_[0][1])/2,k=E-B,A=k-5,w="right"):p==="right"?(E=(_[1][0]+_[2][0])/2,R=(_[1][1]+_[2][1])/2,k=E+B,A=k+5,w="left"):p==="top"?(E=(_[3][0]+_[0][0])/2,R=(_[3][1]+_[0][1])/2,z=R-B,D=z-5,w="center"):p==="bottom"?(E=(_[1][0]+_[2][0])/2,R=(_[1][1]+_[2][1])/2,z=R+B,D=z+5,w="center"):p==="rightTop"?(E=r==="horizontal"?_[3][0]:_[1][0],R=r==="horizontal"?_[3][1]:_[1][1],r==="horizontal"?(z=R-B,D=z-5,w="center"):(k=E+B,A=k+5,w="top")):p==="rightBottom"?(E=_[2][0],R=_[2][1],r==="horizontal"?(z=R+B,D=z+5,w="center"):(k=E+B,A=k+5,w="bottom")):p==="leftTop"?(E=_[0][0],R=r==="horizontal"?_[0][1]:_[1][1],r==="horizontal"?(z=R-B,D=z-5,w="center"):(k=E-B,A=k-5,w="right")):p==="leftBottom"?(E=r==="horizontal"?_[1][0]:_[3][0],R=r==="horizontal"?_[1][1]:_[2][1],r==="horizontal"?(z=R+B,D=z+5,w="center"):(k=E-B,A=k-5,w="right")):(E=(_[1][0]+_[2][0])/2,R=(_[1][1]+_[2][1])/2,r==="horizontal"?(z=R+B,D=z+5,w="center"):(k=E+B,A=k+5,w="left")),r==="horizontal"?(k=E,A=k):(z=R,D=z),L=[[E,R],[k,z]]}m.label={linePoints:L,x:A,y:D,verticalAlign:"middle",textAlign:w,inside:S}})}function MMt(n,i){n.eachSeriesByType("funnel",function(r){var s=r.getData(),u=s.mapDimension("value"),c=r.get("sort"),p=AMt(r,i),d=r.get("orient"),m=p.width,_=p.height,S=CMt(s,c),w=p.x,A=p.y,D=d==="horizontal"?[Wt(r.get("minSize"),_),Wt(r.get("maxSize"),_)]:[Wt(r.get("minSize"),m),Wt(r.get("maxSize"),m)],L=s.getDataExtent(u),E=r.get("min"),R=r.get("max");E==null&&(E=Math.min(L[0],0)),R==null&&(R=L[1]);var k=r.get("funnelAlign"),z=r.get("gap"),B=d==="horizontal"?m:_,G=(B-z*(s.count()-1))/s.count(),W=function(ht,vt){if(d==="horizontal"){var gt=s.get(u,ht)||0,bt=ur(gt,[E,R],D,!0),St=void 0;switch(k){case"top":St=A;break;case"center":St=A+(_-bt)/2;break;case"bottom":St=A+(_-bt);break}return[[vt,St],[vt,St+bt]]}var Ct=s.get(u,ht)||0,Ot=ur(Ct,[E,R],D,!0),Vt;switch(k){case"left":Vt=w;break;case"center":Vt=w+(m-Ot)/2;break;case"right":Vt=w+m-Ot;break}return[[Vt,vt],[Vt+Ot,vt]]};c==="ascending"&&(G=-G,z=-z,d==="horizontal"?w+=m:A+=_,S=S.reverse());for(var Y=0;Y<S.length;Y++){var q=S[Y],J=S[Y+1],tt=s.getItemModel(q);if(d==="horizontal"){var et=tt.get(["itemStyle","width"]);et==null?et=G:(et=Wt(et,m),c==="ascending"&&(et=-et));var it=W(q,w),ut=W(J,w+et);w+=et+z,s.setItemLayout(q,{points:it.concat(ut.slice().reverse())})}else{var ct=tt.get(["itemStyle","height"]);ct==null?ct=G:(ct=Wt(ct,_),c==="ascending"&&(ct=-ct));var it=W(q,A),ut=W(J,A+ct);A+=ct+z,s.setItemLayout(q,{points:it.concat(ut.slice().reverse())})}}DMt(s)})}function LMt(n){n.registerChartView(wMt),n.registerSeriesModel(TMt),n.registerLayout(MMt),n.registerProcessor(J0("funnel"))}var IMt=.3,EMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._dataGroup=new Te,r._initialized=!1,r}return i.prototype.init=function(){this.group.add(this._dataGroup)},i.prototype.render=function(r,s,u,c){this._progressiveEls=null;var p=this._dataGroup,d=r.getData(),m=this._data,_=r.coordinateSystem,S=_.dimensions,w=Iq(r);d.diff(m).add(A).update(D).remove(L).execute();function A(R){var k=Lq(d,p,R,S,_);mO(k,d,R,w)}function D(R,k){var z=m.getItemGraphicEl(k),B=Mq(d,R,S,_);d.setItemGraphicEl(R,z),ir(z,{shape:{points:B}},r,R),ds(z),mO(z,d,R,w)}function L(R){var k=m.getItemGraphicEl(R);p.remove(k)}if(!this._initialized){this._initialized=!0;var E=PMt(_,r,function(){setTimeout(function(){p.removeClipPath()})});p.setClipPath(E)}this._data=d},i.prototype.incrementalPrepareRender=function(r,s,u){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},i.prototype.incrementalRender=function(r,s,u){for(var c=s.getData(),p=s.coordinateSystem,d=p.dimensions,m=Iq(s),_=this._progressiveEls=[],S=r.start;S<r.end;S++){var w=Lq(c,this._dataGroup,S,d,p);w.incremental=!0,mO(w,c,S,m),_.push(w)}},i.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},i.type="parallel",i}(vr);function PMt(n,i,r){var s=n.model,u=n.getRect(),c=new tr({shape:{x:u.x,y:u.y,width:u.width,height:u.height}}),p=s.get("layout")==="horizontal"?"width":"height";return c.setShape(p,0),Vr(c,{shape:{width:u.width,height:u.height}},i,r),c}function Mq(n,i,r,s){for(var u=[],c=0;c<r.length;c++){var p=r[c],d=n.get(n.mapDimension(p),i);RMt(d,s.getAxis(p).type)||u.push(s.dataToPoint(d,p))}return u}function Lq(n,i,r,s,u){var c=Mq(n,r,s,u),p=new ya({shape:{points:c},z2:10});return i.add(p),n.setItemGraphicEl(r,p),p}function Iq(n){var i=n.get("smooth",!0);return i===!0&&(i=IMt),i=Ks(i),tf(i)&&(i=0),{smooth:i}}function mO(n,i,r,s){n.useStyle(i.getItemVisual(r,"style")),n.style.fill=null,n.setShape("smooth",s.smooth);var u=i.getItemModel(r),c=u.getModel("emphasis");ra(n,u,"lineStyle"),Zr(n,c.get("focus"),c.get("blurScope"),c.get("disabled"))}function RMt(n,i){return i==="category"?n==null:n==null||isNaN(n)}var OMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return i.prototype.getInitialData=function(r,s){return ol(null,this,{useEncodeDefaulter:Mt(kMt,null,this)})},i.prototype.getRawIndicesByActiveState=function(r){var s=this.coordinateSystem,u=this.getData(),c=[];return s.eachActiveState(u,function(p,d){r===p&&c.push(u.getRawIndex(d))}),c},i.type="series.parallel",i.dependencies=["parallel"],i.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},i}(Sr);function kMt(n){var i=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(i){var r={};return j(i.dimensions,function(s){var u=NMt(s);r[s]=u}),r}}function NMt(n){return+n.replace("dim","")}var zMt=["lineStyle","opacity"],VMt={seriesType:"parallel",reset:function(n,i){var r=n.coordinateSystem,s={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(u,c){r.eachActiveState(c,function(p,d){var m=s[p];if(p==="normal"&&c.hasItemOption){var _=c.getItemModel(d).get(zMt,!0);_!=null&&(m=_)}var S=c.ensureUniqueItemVisual(d,"style");S.opacity=m},u.start,u.end)}}}};function BMt(n){FMt(n),UMt(n)}function FMt(n){if(!n.parallel){var i=!1;j(n.series,function(r){r&&r.type==="parallel"&&(i=!0)}),i&&(n.parallel=[{}])}}function UMt(n){var i=xr(n.parallelAxis);j(i,function(r){if(re(r)){var s=r.parallelIndex||0,u=xr(n.parallel)[s];u&&u.parallelAxisDefault&&pt(r,u.parallelAxisDefault,!1)}})}var GMt=5,HMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){this._model=r,this._api=u,this._handlers||(this._handlers={},j(WMt,function(c,p){u.getZr().on(p,this._handlers[p]=Mt(c,this))},this)),Dd(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},i.prototype.dispose=function(r,s){D0(this,"_throttledDispatchExpand"),j(this._handlers,function(u,c){s.getZr().off(c,u)}),this._handlers=null},i.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},i.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(st({type:"parallelAxisExpand"},r))},i.type="parallel",i}(Pr),WMt={mousedown:function(n){yO(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var i=this._mouseDownPoint;if(yO(this,"click")&&i){var r=[n.offsetX,n.offsetY],s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2);if(s>GMt)return;var u=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);u.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:u.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!yO(this,"mousemove"))){var i=this._model,r=i.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),s=r.behavior;s==="jump"&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce")),this._throttledDispatchExpand(s==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:s==="jump"?null:{duration:0}})}}};function yO(n,i){var r=n._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===i}var YMt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},i.prototype.mergeOption=function(r){var s=this.option;r&&pt(s,r,!0),this._initDimensions()},i.prototype.contains=function(r,s){var u=r.get("parallelIndex");return u!=null&&s.getComponent("parallel",u)===this},i.prototype.setAxisExpand=function(r){j(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(s){r.hasOwnProperty(s)&&(this.option[s]=r[s])},this)},i.prototype._initDimensions=function(){var r=this.dimensions=[],s=this.parallelAxisIndex=[],u=jt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(c){return(c.get("parallelIndex")||0)===this.componentIndex},this);j(u,function(c){r.push("dim"+c.get("dim")),s.push(c.componentIndex)})},i.type="parallel",i.dependencies=["parallelAxis"],i.layoutMode="box",i.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},i}(We),ZMt=function(n){e(i,n);function i(r,s,u,c,p){var d=n.call(this,r,s,u)||this;return d.type=c||"value",d.axisIndex=p,d}return i.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},i}(So);function ep(n,i,r,s,u,c){n=n||0;var p=r[1]-r[0];if(u!=null&&(u=Zd(u,[0,p])),c!=null&&(c=Math.max(c,u??0)),s==="all"){var d=Math.abs(i[1]-i[0]);d=Zd(d,[0,p]),u=c=Zd(d,[u,c]),s=0}i[0]=Zd(i[0],r),i[1]=Zd(i[1],r);var m=_O(i,s);i[s]+=n;var _=u||0,S=r.slice();m.sign<0?S[0]+=_:S[1]-=_,i[s]=Zd(i[s],S);var w;return w=_O(i,s),u!=null&&(w.sign!==m.sign||w.span<u)&&(i[1-s]=i[s]+m.sign*u),w=_O(i,s),c!=null&&w.span>c&&(i[1-s]=i[s]+w.sign*c),i}function _O(n,i){var r=n[i]-n[1-i];return{span:Math.abs(r),sign:r>0?-1:r<0?1:i?-1:1}}function Zd(n,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,n))}var xO=j,Eq=Math.min,Pq=Math.max,Rq=Math.floor,XMt=Math.ceil,Oq=Kr,qMt=Math.PI,$Mt=function(){function n(i,r,s){this.type="parallel",this._axesMap=le(),this._axesLayout={},this.dimensions=i.dimensions,this._model=i,this._init(i,r,s)}return n.prototype._init=function(i,r,s){var u=i.dimensions,c=i.parallelAxisIndex;xO(u,function(p,d){var m=c[d],_=r.getComponent("parallelAxis",m),S=this._axesMap.set(p,new ZMt(p,F0(_),[0,0],_.get("type"),m)),w=S.type==="category";S.onBand=w&&_.get("boundaryGap"),S.inverse=_.get("inverse"),_.axis=S,S.model=_,S.coordinateSystem=_.coordinateSystem=this},this)},n.prototype.update=function(i,r){this._updateAxesFromSeries(this._model,i)},n.prototype.containPoint=function(i){var r=this._makeLayoutInfo(),s=r.axisBase,u=r.layoutBase,c=r.pixelDimIndex,p=i[1-c],d=i[c];return p>=s&&p<=s+r.axisLength&&d>=u&&d<=u+r.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(i,r){r.eachSeries(function(s){if(i.contains(s,r)){var u=s.getData();xO(this.dimensions,function(c){var p=this._axesMap.get(c);p.scale.unionExtentFromData(u,u.mapDimension(c)),Bh(p.scale,p.model)},this)}},this)},n.prototype.resize=function(i,r){this._rect=yi(i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var i=this._model,r=this._rect,s=["x","y"],u=["width","height"],c=i.get("layout"),p=c==="horizontal"?0:1,d=r[u[p]],m=[0,d],_=this.dimensions.length,S=lT(i.get("axisExpandWidth"),m),w=lT(i.get("axisExpandCount")||0,[0,_]),A=i.get("axisExpandable")&&_>3&&_>w&&w>1&&S>0&&d>0,D=i.get("axisExpandWindow"),L;if(D)L=lT(D[1]-D[0],m),D[1]=D[0]+L;else{L=lT(S*(w-1),m);var E=i.get("axisExpandCenter")||Rq(_/2);D=[S*E-L/2],D[1]=D[0]+L}var R=(d-L)/(_-w);R<3&&(R=0);var k=[Rq(Oq(D[0]/S,1))+1,XMt(Oq(D[1]/S,1))-1],z=R/S*D[0];return{layout:c,pixelDimIndex:p,layoutBase:r[s[p]],layoutLength:d,axisBase:r[s[1-p]],axisLength:r[u[1-p]],axisExpandable:A,axisExpandWidth:S,axisCollapseWidth:R,axisExpandWindow:D,axisCount:_,winInnerIndices:k,axisExpandWindow0Pos:z}},n.prototype._layoutAxes=function(){var i=this._rect,r=this._axesMap,s=this.dimensions,u=this._makeLayoutInfo(),c=u.layout;r.each(function(p){var d=[0,u.axisLength],m=p.inverse?1:0;p.setExtent(d[m],d[1-m])}),xO(s,function(p,d){var m=(u.axisExpandable?jMt:KMt)(d,u),_={horizontal:{x:m.position,y:u.axisLength},vertical:{x:0,y:m.position}},S={horizontal:qMt/2,vertical:0},w=[_[c].x+i.x,_[c].y+i.y],A=S[c],D=Qa();nf(D,D,A),ls(D,D,w),this._axesLayout[p]={position:w,rotation:A,transform:D,axisNameAvailableWidth:m.axisNameAvailableWidth,axisLabelShow:m.axisLabelShow,nameTruncateMaxWidth:m.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(i){return this._axesMap.get(i)},n.prototype.dataToPoint=function(i,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(i),r)},n.prototype.eachActiveState=function(i,r,s,u){s==null&&(s=0),u==null&&(u=i.count());var c=this._axesMap,p=this.dimensions,d=[],m=[];j(p,function(R){d.push(i.mapDimension(R)),m.push(c.get(R).model)});for(var _=this.hasAxisBrushed(),S=s;S<u;S++){var w=void 0;if(!_)w="normal";else{w="active";for(var A=i.getValues(d,S),D=0,L=p.length;D<L;D++){var E=m[D].getActiveState(A[D]);if(E==="inactive"){w="inactive";break}}}r(w,S)}},n.prototype.hasAxisBrushed=function(){for(var i=this.dimensions,r=this._axesMap,s=!1,u=0,c=i.length;u<c;u++)r.get(i[u]).model.getActiveState()!=="normal"&&(s=!0);return s},n.prototype.axisCoordToPoint=function(i,r){var s=this._axesLayout[r];return gs([i,0],s.transform)},n.prototype.getAxisLayout=function(i){return lt(this._axesLayout[i])},n.prototype.getSlidedAxisExpandWindow=function(i){var r=this._makeLayoutInfo(),s=r.pixelDimIndex,u=r.axisExpandWindow.slice(),c=u[1]-u[0],p=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(i))return{behavior:"none",axisExpandWindow:u};var d=i[s]-r.layoutBase-r.axisExpandWindow0Pos,m,_="slide",S=r.axisCollapseWidth,w=this._model.get("axisExpandSlideTriggerArea"),A=w[0]!=null;if(S)A&&S&&d<c*w[0]?(_="jump",m=d-c*w[2]):A&&S&&d>c*(1-w[0])?(_="jump",m=d-c*(1-w[2])):(m=d-c*w[1])>=0&&(m=d-c*(1-w[1]))<=0&&(m=0),m*=r.axisExpandWidth/S,m?ep(m,u,p,"all"):_="none";else{var D=u[1]-u[0],L=p[1]*d/D;u=[Pq(0,L-D/2)],u[1]=Eq(p[1],u[0]+D),u[0]=u[1]-D}return{axisExpandWindow:u,behavior:_}},n}();function lT(n,i){return Eq(Pq(n,i[0]),i[1])}function KMt(n,i){var r=i.layoutLength/(i.axisCount-1);return{position:r*n,axisNameAvailableWidth:r,axisLabelShow:!0}}function jMt(n,i){var r=i.layoutLength,s=i.axisExpandWidth,u=i.axisCount,c=i.axisCollapseWidth,p=i.winInnerIndices,d,m=c,_=!1,S;return n<p[0]?(d=n*c,S=c):n<=p[1]?(d=i.axisExpandWindow0Pos+n*s-i.axisExpandWindow[0],m=s,_=!0):(d=r-(u-1-n)*c,S=c),{position:d,axisNameAvailableWidth:m,axisLabelShow:_,nameTruncateMaxWidth:S}}function JMt(n,i){var r=[];return n.eachComponent("parallel",function(s,u){var c=new $Mt(s,n,i);c.name="parallel_"+u,c.resize(s,i),s.coordinateSystem=c,c.model=s,r.push(c)}),n.eachSeries(function(s){if(s.get("coordinateSystem")==="parallel"){var u=s.getReferringComponents("parallel",mi).models[0];s.coordinateSystem=u.coordinateSystem}}),r}var QMt={create:JMt},SO=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.activeIntervals=[],r}return i.prototype.getAreaSelectStyle=function(){return lh([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},i.prototype.setActiveIntervals=function(r){var s=this.activeIntervals=lt(r);if(s)for(var u=s.length-1;u>=0;u--)On(s[u])},i.prototype.getActiveState=function(r){var s=this.activeIntervals;if(!s.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(s.length===1){var u=s[0];if(u[0]<=r&&r<=u[1])return"active"}else for(var c=0,p=s.length;c<p;c++)if(s[c][0]<=r&&r<=s[c][1])return"active";return"inactive"},i}(We);qt(SO,zd);var rp=!0,g_=Math.min,Xd=Math.max,tLt=Math.pow,eLt=1e4,rLt=6,iLt=6,kq="globalPan",aLt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},nLt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Nq={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},oLt=0,bO=function(n){e(i,n);function i(r){var s=n.call(this)||this;return s._track=[],s._covers=[],s._handlers={},de(r),s._zr=r,s.group=new Te,s._uid="brushController_"+oLt++,j(pLt,function(u,c){this._handlers[c]=Mt(u,this)},s),s}return i.prototype.enableBrush=function(r){return de(this._mounted),this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},i.prototype._doEnableBrush=function(r){var s=this._zr;this._enableGlobalPan||KAt(s,kq,this._uid),j(this._handlers,function(u,c){s.on(c,u)}),this._brushType=r.brushType,this._brushOption=pt(lt(Nq),r,!0)},i.prototype._doDisableBrush=function(){var r=this._zr;jAt(r,kq,this._uid),j(this._handlers,function(s,u){r.off(u,s)}),this._brushType=this._brushOption=null},i.prototype.setPanels=function(r){if(r&&r.length){var s=this._panels={};j(r,function(u){s[u.panelId]=lt(u)})}else this._panels=null;return this},i.prototype.mount=function(r){r=r||{},this._mounted=!0,this._enableGlobalPan=r.enableGlobalPan;var s=this.group;return this._zr.add(s),s.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=s.getLocalTransform(),this},i.prototype.updateCovers=function(r){de(this._mounted),r=Tt(r,function(A){return pt(lt(Nq),A,!0)});var s="\0-brush-index-",u=this._covers,c=this._covers=[],p=this,d=this._creatingCover;return new iu(u,r,_,m).add(S).update(S).remove(w).execute(),this;function m(A,D){return(A.id!=null?A.id:s+D)+"-"+A.brushType}function _(A,D){return m(A.__brushOption,D)}function S(A,D){var L=r[A];if(D!=null&&u[D]===d)c[A]=u[D];else{var E=c[A]=D!=null?(u[D].__brushOption=L,u[D]):Vq(p,zq(p,L));wO(p,E)}}function w(A){u[A]!==d&&p.group.remove(u[A])}},i.prototype.unmount=function(){if(this._mounted)return this.enableBrush(!1),CO(this),this._zr.remove(this.group),this._mounted=!1,this},i.prototype.dispose=function(){this.unmount(),this.off()},i}(oo);function zq(n,i){var r=uT[i.brushType].createCover(n,i);return r.__brushOption=i,Fq(r,i),n.group.add(r),r}function Vq(n,i){var r=TO(i);return r.endCreating&&(r.endCreating(n,i),Fq(i,i.__brushOption)),i}function Bq(n,i){var r=i.__brushOption;TO(i).updateCoverShape(n,i,r.range,r)}function Fq(n,i){var r=i.z;r==null&&(r=eLt),n.traverse(function(s){s.z=r,s.z2=r})}function wO(n,i){TO(i).updateCommon(n,i),Bq(n,i)}function TO(n){return uT[n.__brushOption.brushType]}function AO(n,i,r){var s=n._panels;if(!s)return rp;var u,c=n._transform;return j(s,function(p){p.isTargetByCursor(i,r,c)&&(u=p)}),u}function Uq(n,i){var r=n._panels;if(!r)return rp;var s=i.__brushOption.panelId;return s!=null?r[s]:rp}function CO(n){var i=n._covers,r=i.length;return j(i,function(s){n.group.remove(s)},n),i.length=0,!!r}function ip(n,i){var r=Tt(n._covers,function(s){var u=s.__brushOption,c=lt(u.range);return{brushType:u.brushType,panelId:u.panelId,range:c}});n.trigger("brush",{areas:r,isEnd:!!i.isEnd,removeOnClick:!!i.removeOnClick})}function sLt(n){var i=n._track;if(!i.length)return!1;var r=i[i.length-1],s=i[0],u=r[0]-s[0],c=r[1]-s[1],p=tLt(u*u+c*c,.5);return p>rLt}function Gq(n){var i=n.length-1;return i<0&&(i=0),[n[0],n[i]]}function Hq(n,i,r,s){var u=new Te;return u.add(new tr({name:"main",style:MO(r),silent:!0,draggable:!0,cursor:"move",drift:ee(Zq,n,i,u,["n","s","w","e"]),ondragend:ee(ip,i,{isEnd:!0})})),j(s,function(c){u.add(new tr({name:c.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ee(Zq,n,i,u,c),ondragend:ee(ip,i,{isEnd:!0})}))}),u}function Wq(n,i,r,s){var u=s.brushStyle.lineWidth||0,c=Xd(u,iLt),p=r[0][0],d=r[1][0],m=p-u/2,_=d-u/2,S=r[0][1],w=r[1][1],A=S-c+u/2,D=w-c+u/2,L=S-p,E=w-d,R=L+u,k=E+u;su(n,i,"main",p,d,L,E),s.transformable&&(su(n,i,"w",m,_,c,k),su(n,i,"e",A,_,c,k),su(n,i,"n",m,_,R,c),su(n,i,"s",m,D,R,c),su(n,i,"nw",m,_,c,c),su(n,i,"ne",A,_,c,c),su(n,i,"sw",m,D,c,c),su(n,i,"se",A,D,c,c))}function DO(n,i){var r=i.__brushOption,s=r.transformable,u=i.childAt(0);u.useStyle(MO(r)),u.attr({silent:!s,cursor:s?"move":"default"}),j([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(c){var p=i.childOfName(c.join("")),d=c.length===1?LO(n,c[0]):uLt(n,c);p&&p.attr({silent:!s,invisible:!s,cursor:s?nLt[d]+"-resize":null})})}function su(n,i,r,s,u,c,p){var d=i.childOfName(r);d&&d.setShape(cLt(IO(n,i,[[s,u],[s+c,u+p]])))}function MO(n){return dt({strokeNoScale:!0},n.brushStyle)}function Yq(n,i,r,s){var u=[g_(n,r),g_(i,s)],c=[Xd(n,r),Xd(i,s)];return[[u[0],c[0]],[u[1],c[1]]]}function lLt(n){return yf(n.group)}function LO(n,i){var r={w:"left",e:"right",n:"top",s:"bottom"},s={left:"w",right:"e",top:"n",bottom:"s"},u=V1(r[i],lLt(n));return s[u]}function uLt(n,i){var r=[LO(n,i[0]),LO(n,i[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function Zq(n,i,r,s,u,c){var p=r.__brushOption,d=n.toRectRange(p.range),m=Xq(i,u,c);j(s,function(_){var S=aLt[_];d[S[0]][S[1]]+=m[S[0]]}),p.range=n.fromRectRange(Yq(d[0][0],d[1][0],d[0][1],d[1][1])),wO(i,r),ip(i,{isEnd:!1})}function fLt(n,i,r,s){var u=i.__brushOption.range,c=Xq(n,r,s);j(u,function(p){p[0]+=c[0],p[1]+=c[1]}),wO(n,i),ip(n,{isEnd:!1})}function Xq(n,i,r){var s=n.group,u=s.transformCoordToLocal(i,r),c=s.transformCoordToLocal(0,0);return[u[0]-c[0],u[1]-c[1]]}function IO(n,i,r){var s=Uq(n,i);return s&&s!==rp?s.clipPath(r,n._transform):lt(r)}function cLt(n){var i=g_(n[0][0],n[1][0]),r=g_(n[0][1],n[1][1]),s=Xd(n[0][0],n[1][0]),u=Xd(n[0][1],n[1][1]);return{x:i,y:r,width:s-i,height:u-r}}function hLt(n,i,r){if(!(!n._brushType||vLt(n,i.offsetX,i.offsetY))){var s=n._zr,u=n._covers,c=AO(n,i,r);if(!n._dragging)for(var p=0;p<u.length;p++){var d=u[p].__brushOption;if(c&&(c===rp||d.panelId===c.panelId)&&uT[d.brushType].contain(u[p],r[0],r[1]))return}c&&s.setCursorStyle("crosshair")}}function EO(n){var i=n.event;i.preventDefault&&i.preventDefault()}function PO(n,i,r){return n.childOfName("main").contain(i,r)}function qq(n,i,r,s){var u=n._creatingCover,c=n._creatingPanel,p=n._brushOption,d;if(n._track.push(r.slice()),sLt(n)||u){if(c&&!u){p.brushMode==="single"&&CO(n);var m=lt(p);m.brushType=$q(m.brushType,c),m.panelId=c===rp?null:c.panelId,u=n._creatingCover=zq(n,m),n._covers.push(u)}if(u){var _=uT[$q(n._brushType,c)],S=u.__brushOption;S.range=_.getCreatingRange(IO(n,u,n._track)),s&&(Vq(n,u),_.updateCommon(n,u)),Bq(n,u),d={isEnd:s}}}else s&&p.brushMode==="single"&&p.removeOnClick&&AO(n,i,r)&&CO(n)&&(d={isEnd:s,removeOnClick:!0});return d}function $q(n,i){return n==="auto"?(de(i&&i.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),i.defaultBrushType):n}var pLt={mousedown:function(n){if(this._dragging)Kq(this,n);else if(!n.target||!n.target.draggable){EO(n);var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var r=this._creatingPanel=AO(this,n,i);r&&(this._dragging=!0,this._track=[i.slice()])}},mousemove:function(n){var i=n.offsetX,r=n.offsetY,s=this.group.transformCoordToLocal(i,r);if(hLt(this,n,s),this._dragging){EO(n);var u=qq(this,n,s,!1);u&&ip(this,u)}},mouseup:function(n){Kq(this,n)}};function Kq(n,i){if(n._dragging){EO(i);var r=i.offsetX,s=i.offsetY,u=n.group.transformCoordToLocal(r,s),c=qq(n,i,u,!0);n._dragging=!1,n._track=[],n._creatingCover=null,c&&ip(n,c)}}function vLt(n,i,r){var s=n._zr;return i<0||i>s.getWidth()||r<0||r>s.getHeight()}var uT={lineX:jq(0),lineY:jq(1),rect:{createCover:function(n,i){function r(s){return s}return Hq({toRectRange:r,fromRectRange:r},n,i,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var i=Gq(n);return Yq(i[1][0],i[1][1],i[0][0],i[0][1])},updateCoverShape:function(n,i,r,s){Wq(n,i,r,s)},updateCommon:DO,contain:PO},polygon:{createCover:function(n,i){var r=new Te;return r.add(new ya({name:"main",style:MO(i),silent:!0})),r},getCreatingRange:function(n){return n},endCreating:function(n,i){i.remove(i.childAt(0)),i.add(new ma({name:"main",draggable:!0,drift:ee(fLt,n,i),ondragend:ee(ip,n,{isEnd:!0})}))},updateCoverShape:function(n,i,r,s){i.childAt(0).setShape({points:IO(n,i,r)})},updateCommon:DO,contain:PO}};function jq(n){return{createCover:function(i,r){return Hq({toRectRange:function(s){var u=[s,[0,100]];return n&&u.reverse(),u},fromRectRange:function(s){return s[n]}},i,r,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(i){var r=Gq(i),s=g_(r[0][n],r[1][n]),u=Xd(r[0][n],r[1][n]);return[s,u]},updateCoverShape:function(i,r,s,u){var c,p=Uq(i,r);if(p!==rp&&p.getLinearBrushOtherExtent)c=p.getLinearBrushOtherExtent(n);else{var d=i._zr;c=[0,[d.getWidth(),d.getHeight()][1-n]]}var m=[s,c];n&&m.reverse(),Wq(i,r,m,u)},updateCommon:DO,contain:PO}}function Jq(n){return n=RO(n),function(i){return mP(i,n)}}function Qq(n,i){return n=RO(n),function(r){var s=i??r,u=s?n.width:n.height,c=s?n.x:n.y;return[c,c+(u||0)]}}function t$(n,i,r){var s=RO(n);return function(u,c){return s.contain(c[0],c[1])&&!qw(u,i,r)}}function RO(n){return Ve.create(n)}var dLt=["axisLine","axisTickLabel","axisName"],gLt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s){n.prototype.init.apply(this,arguments),(this._brushController=new bO(s.getZr())).on("brush",Mt(this._onBrush,this))},i.prototype.render=function(r,s,u,c){if(!mLt(r,s,c)){this.axisModel=r,this.api=u,this.group.removeAll();var p=this._axisGroup;if(this._axisGroup=new Te,this.group.add(this._axisGroup),!!r.get("show")){var d=_Lt(r,s),m=d.coordinateSystem,_=r.getAreaSelectStyle(),S=_.width,w=r.axis.dim,A=m.getAxisLayout(w),D=st({strokeContainThreshold:S},A),L=new Ua(r,D);j(dLt,L.add,L),this._axisGroup.add(L.getGroup()),this._refreshBrushController(D,_,r,d,S,u),v0(p,this._axisGroup,r)}}},i.prototype._refreshBrushController=function(r,s,u,c,p,d){var m=u.axis.getExtent(),_=m[1]-m[0],S=Math.min(30,Math.abs(_)*.1),w=Ve.create({x:m[0],y:-p/2,width:_,height:p});w.x-=S,w.width+=2*S,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:Jq(w),isTargetByCursor:t$(w,d,c),getLinearBrushOtherExtent:Qq(w,0)}]).enableBrush({brushType:"lineX",brushStyle:s,removeOnClick:!0}).updateCovers(yLt(u))},i.prototype._onBrush=function(r){var s=r.areas,u=this.axisModel,c=u.axis,p=Tt(s,function(d){return[c.coordToData(d.range[0],!0),c.coordToData(d.range[1],!0)]});(!u.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:u.id,intervals:p})},i.prototype.dispose=function(){this._brushController.dispose()},i.type="parallelAxis",i}(Pr);function mLt(n,i,r){return r&&r.type==="axisAreaSelect"&&i.findComponents({mainType:"parallelAxis",query:r})[0]===n}function yLt(n){var i=n.axis;return Tt(n.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(r[0],!0),i.dataToCoord(r[1],!0)]}})}function _Lt(n,i){return i.getComponent("parallel",n.get("parallelIndex"))}var xLt={type:"axisAreaSelect",event:"axisAreaSelected"};function SLt(n){n.registerAction(xLt,function(i,r){r.eachComponent({mainType:"parallelAxis",query:i},function(s){s.axis.model.setActiveIntervals(i.intervals)})}),n.registerAction("parallelAxisExpand",function(i,r){r.eachComponent({mainType:"parallel",query:i},function(s){s.setAxisExpand(i)})})}var bLt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function e$(n){n.registerComponentView(HMt),n.registerComponentModel(YMt),n.registerCoordinateSystem("parallel",QMt),n.registerPreprocessor(BMt),n.registerComponentModel(SO),n.registerComponentView(gLt),Ud(n,"parallel",SO,bLt),SLt(n)}function wLt(n){Ye(e$),n.registerChartView(EMt),n.registerSeriesModel(OMt),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,VMt)}var TLt=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),ALt=function(n){e(i,n);function i(r){return n.call(this,r)||this}return i.prototype.getDefaultShape=function(){return new TLt},i.prototype.buildPath=function(r,s){var u=s.extent;r.moveTo(s.x1,s.y1),r.bezierCurveTo(s.cpx1,s.cpy1,s.cpx2,s.cpy2,s.x2,s.y2),s.orient==="vertical"?(r.lineTo(s.x2+u,s.y2),r.bezierCurveTo(s.cpx2+u,s.cpy2,s.cpx1+u,s.cpy1,s.x1+u,s.y1)):(r.lineTo(s.x2,s.y2+u),r.bezierCurveTo(s.cpx2,s.cpy2+u,s.cpx1,s.cpy1+u,s.x1,s.y1+u)),r.closePath()},i.prototype.highlight=function(){Ql(this)},i.prototype.downplay=function(){tu(this)},i}(Xe),CLt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._focusAdjacencyDisabled=!1,r}return i.prototype.render=function(r,s,u){var c=this,p=r.getGraph(),d=this.group,m=r.layoutInfo,_=m.width,S=m.height,w=r.getData(),A=r.getData("edge"),D=r.get("orient");this._model=r,d.removeAll(),d.x=m.x,d.y=m.y,p.eachEdge(function(L){var E=new ALt,R=Me(E);R.dataIndex=L.dataIndex,R.seriesIndex=r.seriesIndex,R.dataType="edge";var k=L.getModel(),z=k.getModel("lineStyle"),B=z.get("curveness"),G=L.node1.getLayout(),W=L.node1.getModel(),Y=W.get("localX"),q=W.get("localY"),J=L.node2.getLayout(),tt=L.node2.getModel(),et=tt.get("localX"),it=tt.get("localY"),ut=L.getLayout(),ct,ht,vt,gt,bt,St,Ct,Ot;E.shape.extent=Math.max(1,ut.dy),E.shape.orient=D,D==="vertical"?(ct=(Y!=null?Y*_:G.x)+ut.sy,ht=(q!=null?q*S:G.y)+G.dy,vt=(et!=null?et*_:J.x)+ut.ty,gt=it!=null?it*S:J.y,bt=ct,St=ht*(1-B)+gt*B,Ct=vt,Ot=ht*B+gt*(1-B)):(ct=(Y!=null?Y*_:G.x)+G.dx,ht=(q!=null?q*S:G.y)+ut.sy,vt=et!=null?et*_:J.x,gt=(it!=null?it*S:J.y)+ut.ty,bt=ct*(1-B)+vt*B,St=ht,Ct=ct*B+vt*(1-B),Ot=gt),E.setShape({x1:ct,y1:ht,x2:vt,y2:gt,cpx1:bt,cpy1:St,cpx2:Ct,cpy2:Ot}),E.useStyle(z.getItemStyle()),r$(E.style,D,L);var Vt=""+k.get("value"),$t=zi(k,"edgeLabel");ia(E,$t,{labelFetcher:{getFormattedLabel:function(Pe,br,ti,Ge,Se,Ze){return r.getFormattedLabel(Pe,br,"edge",Ge,En(Se,$t.normal&&$t.normal.get("formatter"),Vt),Ze)}},labelDataIndex:L.dataIndex,defaultText:Vt}),E.setTextConfig({position:"inside"});var pe=k.getModel("emphasis");ra(E,k,"lineStyle",function(Pe){var br=Pe.getItemStyle();return r$(br,D,L),br}),d.add(E),A.setItemGraphicEl(L.dataIndex,E);var me=pe.get("focus");Zr(E,me==="adjacency"?L.getAdjacentDataIndices():me==="trajectory"?L.getTrajectoryDataIndices():me,pe.get("blurScope"),pe.get("disabled"))}),p.eachNode(function(L){var E=L.getLayout(),R=L.getModel(),k=R.get("localX"),z=R.get("localY"),B=R.getModel("emphasis"),G=R.get(["itemStyle","borderRadius"])||0,W=new tr({shape:{x:k!=null?k*_:E.x,y:z!=null?z*S:E.y,width:E.dx,height:E.dy,r:G},style:R.getModel("itemStyle").getItemStyle(),z2:10});ia(W,zi(R),{labelFetcher:{getFormattedLabel:function(q,J){return r.getFormattedLabel(q,J,"node")}},labelDataIndex:L.dataIndex,defaultText:L.id}),W.disableLabelAnimation=!0,W.setStyle("fill",L.getVisual("color")),W.setStyle("decal",L.getVisual("style").decal),ra(W,R),d.add(W),w.setItemGraphicEl(L.dataIndex,W),Me(W).dataType="node";var Y=B.get("focus");Zr(W,Y==="adjacency"?L.getAdjacentDataIndices():Y==="trajectory"?L.getTrajectoryDataIndices():Y,B.get("blurScope"),B.get("disabled"))}),w.eachItemGraphicEl(function(L,E){var R=w.getItemModel(E);R.get("draggable")&&(L.drift=function(k,z){c._focusAdjacencyDisabled=!0,this.shape.x+=k,this.shape.y+=z,this.dirty(),u.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:w.getRawIndex(E),localX:this.shape.x/_,localY:this.shape.y/S})},L.ondragend=function(){c._focusAdjacencyDisabled=!1},L.draggable=!0,L.cursor="move")}),!this._data&&r.isAnimationEnabled()&&d.setClipPath(DLt(d.getBoundingRect(),r,function(){d.removeClipPath()})),this._data=r.getData()},i.prototype.dispose=function(){},i.type="sankey",i}(vr);function r$(n,i,r){switch(n.fill){case"source":n.fill=r.node1.getVisual("color"),n.decal=r.node1.getVisual("style").decal;break;case"target":n.fill=r.node2.getVisual("color"),n.decal=r.node2.getVisual("style").decal;break;case"gradient":var s=r.node1.getVisual("color"),u=r.node2.getVisual("color");kt(s)&&kt(u)&&(n.fill=new fd(0,0,+(i==="horizontal"),+(i==="vertical"),[{color:s,offset:0},{color:u,offset:1}]))}}function DLt(n,i,r){var s=new tr({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Vr(s,{shape:{width:n.width+20}},i,r),s}var MLt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.getInitialData=function(r,s){var u=r.edges||r.links||[],c=r.data||r.nodes||[],p=r.levels||[];this.levelModels=[];for(var d=this.levelModels,m=0;m<p.length;m++)if(p[m].depth!=null&&p[m].depth>=0)d[p[m].depth]=new sr(p[m],this,s);else throw new Error("levels[i].depth is mandatory and should be natural number");var _=Dq(c,u,this,!0,S);return _.data;function S(w,A){w.wrapMethod("getItemModel",function(D,L){var E=D.parentModel,R=E.getData().getItemLayout(L);if(R){var k=R.depth,z=E.levelModels[k];z&&(D.parentModel=z)}return D}),A.wrapMethod("getItemModel",function(D,L){var E=D.parentModel,R=E.getGraph().getEdgeByIndex(L),k=R.node1.getLayout();if(k){var z=k.depth,B=E.levelModels[z];B&&(D.parentModel=B)}return D})}},i.prototype.setNodePosition=function(r,s){var u=this.option.data||this.option.nodes,c=u[r];c.localX=s[0],c.localY=s[1]},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.formatTooltip=function(r,s,u){function c(D){return isNaN(D)||D==null}if(u==="edge"){var p=this.getDataParams(r,u),d=p.data,m=p.value,_=d.source+" -- "+d.target;return Vi("nameValue",{name:_,value:m,noValue:c(m)})}else{var S=this.getGraph().getNodeByIndex(r),w=S.getLayout().value,A=this.getDataParams(r,u).data.name;return Vi("nameValue",{name:A!=null?A+"":null,value:w,noValue:c(w)})}},i.prototype.optionUpdated=function(){},i.prototype.getDataParams=function(r,s){var u=n.prototype.getDataParams.call(this,r,s);if(u.value==null&&s==="node"){var c=this.getGraph().getNodeByIndex(r),p=c.getLayout().value;u.value=p}return u},i.type="series.sankey",i.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},i}(Sr);function LLt(n,i){n.eachSeriesByType("sankey",function(r){var s=r.get("nodeWidth"),u=r.get("nodeGap"),c=ILt(r,i);r.layoutInfo=c;var p=c.width,d=c.height,m=r.getGraph(),_=m.nodes,S=m.edges;PLt(_);var w=jt(_,function(E){return E.getLayout().value===0}),A=w.length!==0?0:r.get("layoutIterations"),D=r.get("orient"),L=r.get("nodeAlign");ELt(_,S,s,u,p,d,A,D,L)})}function ILt(n,i){return yi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function ELt(n,i,r,s,u,c,p,d,m){RLt(n,i,r,u,c,d,m),zLt(n,i,c,u,s,p,d),ZLt(n,d)}function PLt(n){j(n,function(i){var r=Pf(i.outEdges,fT),s=Pf(i.inEdges,fT),u=i.getValue()||0,c=Math.max(r,s,u);i.setLayout({value:c},!0)})}function RLt(n,i,r,s,u,c,p){for(var d=[],m=[],_=[],S=[],w=0,A=0;A<i.length;A++)d[A]=1;for(var A=0;A<n.length;A++)m[A]=n[A].inEdges.length,m[A]===0&&_.push(n[A]);for(var D=-1;_.length;){for(var L=0;L<_.length;L++){var E=_[L],R=E.hostGraph.data.getRawDataItem(E.dataIndex),k=R.depth!=null&&R.depth>=0;k&&R.depth>D&&(D=R.depth),E.setLayout({depth:k?R.depth:w},!0),c==="vertical"?E.setLayout({dy:r},!0):E.setLayout({dx:r},!0);for(var z=0;z<E.outEdges.length;z++){var B=E.outEdges[z],G=i.indexOf(B);d[G]=0;var W=B.node2,Y=n.indexOf(W);--m[Y]===0&&S.indexOf(W)<0&&S.push(W)}}++w,_=S,S=[]}for(var A=0;A<d.length;A++)if(d[A]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var q=D>w-1?D:w-1;p&&p!=="left"&&OLt(n,p,c,q);var J=c==="vertical"?(u-r)/q:(s-r)/q;NLt(n,J,c)}function i$(n){var i=n.hostGraph.data.getRawDataItem(n.dataIndex);return i.depth!=null&&i.depth>=0}function OLt(n,i,r,s){if(i==="right"){for(var u=[],c=n,p=0;c.length;){for(var d=0;d<c.length;d++){var m=c[d];m.setLayout({skNodeHeight:p},!0);for(var _=0;_<m.inEdges.length;_++){var S=m.inEdges[_];u.indexOf(S.node1)<0&&u.push(S.node1)}}c=u,u=[],++p}j(n,function(w){i$(w)||w.setLayout({depth:Math.max(0,s-w.getLayout().skNodeHeight)},!0)})}else i==="justify"&&kLt(n,s)}function kLt(n,i){j(n,function(r){!i$(r)&&!r.outEdges.length&&r.setLayout({depth:i},!0)})}function NLt(n,i,r){j(n,function(s){var u=s.getLayout().depth*i;r==="vertical"?s.setLayout({y:u},!0):s.setLayout({x:u},!0)})}function zLt(n,i,r,s,u,c,p){var d=VLt(n,p);BLt(d,i,r,s,u,p),OO(d,u,r,s,p);for(var m=1;c>0;c--)m*=.99,FLt(d,m,p),OO(d,u,r,s,p),YLt(d,m,p),OO(d,u,r,s,p)}function VLt(n,i){var r=[],s=i==="vertical"?"y":"x",u=PE(n,function(c){return c.getLayout()[s]});return u.keys.sort(function(c,p){return c-p}),j(u.keys,function(c){r.push(u.buckets.get(c))}),r}function BLt(n,i,r,s,u,c){var p=1/0;j(n,function(d){var m=d.length,_=0;j(d,function(w){_+=w.getLayout().value});var S=c==="vertical"?(s-(m-1)*u)/_:(r-(m-1)*u)/_;S<p&&(p=S)}),j(n,function(d){j(d,function(m,_){var S=m.getLayout().value*p;c==="vertical"?(m.setLayout({x:_},!0),m.setLayout({dx:S},!0)):(m.setLayout({y:_},!0),m.setLayout({dy:S},!0))})}),j(i,function(d){var m=+d.getValue()*p;d.setLayout({dy:m},!0)})}function OO(n,i,r,s,u){var c=u==="vertical"?"x":"y";j(n,function(p){p.sort(function(E,R){return E.getLayout()[c]-R.getLayout()[c]});for(var d,m,_,S=0,w=p.length,A=u==="vertical"?"dx":"dy",D=0;D<w;D++)m=p[D],_=S-m.getLayout()[c],_>0&&(d=m.getLayout()[c]+_,u==="vertical"?m.setLayout({x:d},!0):m.setLayout({y:d},!0)),S=m.getLayout()[c]+m.getLayout()[A]+i;var L=u==="vertical"?s:r;if(_=S-i-L,_>0){d=m.getLayout()[c]-_,u==="vertical"?m.setLayout({x:d},!0):m.setLayout({y:d},!0),S=d;for(var D=w-2;D>=0;--D)m=p[D],_=m.getLayout()[c]+m.getLayout()[A]+i-S,_>0&&(d=m.getLayout()[c]-_,u==="vertical"?m.setLayout({x:d},!0):m.setLayout({y:d},!0)),S=m.getLayout()[c]}})}function FLt(n,i,r){j(n.slice().reverse(),function(s){j(s,function(u){if(u.outEdges.length){var c=Pf(u.outEdges,ULt,r)/Pf(u.outEdges,fT);if(isNaN(c)){var p=u.outEdges.length;c=p?Pf(u.outEdges,GLt,r)/p:0}if(r==="vertical"){var d=u.getLayout().x+(c-Ef(u,r))*i;u.setLayout({x:d},!0)}else{var m=u.getLayout().y+(c-Ef(u,r))*i;u.setLayout({y:m},!0)}}})})}function ULt(n,i){return Ef(n.node2,i)*n.getValue()}function GLt(n,i){return Ef(n.node2,i)}function HLt(n,i){return Ef(n.node1,i)*n.getValue()}function WLt(n,i){return Ef(n.node1,i)}function Ef(n,i){return i==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function fT(n){return n.getValue()}function Pf(n,i,r){for(var s=0,u=n.length,c=-1;++c<u;){var p=+i(n[c],r);isNaN(p)||(s+=p)}return s}function YLt(n,i,r){j(n,function(s){j(s,function(u){if(u.inEdges.length){var c=Pf(u.inEdges,HLt,r)/Pf(u.inEdges,fT);if(isNaN(c)){var p=u.inEdges.length;c=p?Pf(u.inEdges,WLt,r)/p:0}if(r==="vertical"){var d=u.getLayout().x+(c-Ef(u,r))*i;u.setLayout({x:d},!0)}else{var m=u.getLayout().y+(c-Ef(u,r))*i;u.setLayout({y:m},!0)}}})})}function ZLt(n,i){var r=i==="vertical"?"x":"y";j(n,function(s){s.outEdges.sort(function(u,c){return u.node2.getLayout()[r]-c.node2.getLayout()[r]}),s.inEdges.sort(function(u,c){return u.node1.getLayout()[r]-c.node1.getLayout()[r]})}),j(n,function(s){var u=0,c=0;j(s.outEdges,function(p){p.setLayout({sy:u},!0),u+=p.getLayout().dy}),j(s.inEdges,function(p){p.setLayout({ty:c},!0),c+=p.getLayout().dy})})}function XLt(n){n.eachSeriesByType("sankey",function(i){var r=i.getGraph(),s=r.nodes,u=r.edges;if(s.length){var c=1/0,p=-1/0;j(s,function(d){var m=d.getLayout().value;m<c&&(c=m),m>p&&(p=m)}),j(s,function(d){var m=new Fi({type:"color",mappingMethod:"linear",dataExtent:[c,p],visual:i.get("color")}),_=m.mapValueToVisual(d.getLayout().value),S=d.getModel().get(["itemStyle","color"]);S!=null?(d.setVisual("color",S),d.setVisual("style",{fill:S})):(d.setVisual("color",_),d.setVisual("style",{fill:_}))})}u.length&&j(u,function(d){var m=d.getModel().get("lineStyle");d.setVisual("style",m)})})}function qLt(n){n.registerChartView(CLt),n.registerSeriesModel(MLt),n.registerLayout(LLt),n.registerVisual(XLt),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(i,r){r.eachComponent({mainType:"series",subType:"sankey",query:i},function(s){s.setNodePosition(i.dataIndex,[i.localX,i.localY])})})}var a$=function(){function n(){}return n.prototype._hasEncodeRule=function(i){var r=this.getEncode();return r&&r.get(i)!=null},n.prototype.getInitialData=function(i,r){var s,u=r.getComponent("xAxis",this.get("xAxisIndex")),c=r.getComponent("yAxis",this.get("yAxisIndex")),p=u.get("type"),d=c.get("type"),m;p==="category"?(i.layout="horizontal",s=u.getOrdinalMeta(),m=!this._hasEncodeRule("x")):d==="category"?(i.layout="vertical",s=c.getOrdinalMeta(),m=!this._hasEncodeRule("y")):i.layout=i.layout||"horizontal";var _=["x","y"],S=i.layout==="horizontal"?0:1,w=this._baseAxisDim=_[S],A=_[1-S],D=[u,c],L=D[S].get("type"),E=D[1-S].get("type"),R=i.data;if(R&&m){var k=[];j(R,function(G,W){var Y;wt(G)?(Y=G.slice(),G.unshift(W)):wt(G.value)?(Y=st({},G),Y.value=Y.value.slice(),G.value.unshift(W)):Y=G,k.push(Y)}),i.data=k}var z=this.defaultValueDimensions,B=[{name:w,type:bw(L),ordinalMeta:s,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:A,type:bw(E),dimsDef:z.slice()}];return Fd(this,{coordDimensions:B,dimensionsCount:z.length+1,encodeDefaulter:ee(_Y,B,this)})},n.prototype.getBaseAxis=function(){var i=this._baseAxisDim;return this.ecModel.getComponent(i+"Axis",this.get(i+"AxisIndex")).axis},n}(),n$=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return i.type="series.boxplot",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},i}(Sr);qt(n$,a$,!0);var $Lt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=r.getData(),p=this.group,d=this._data;this._data||p.removeAll();var m=r.get("layout")==="horizontal"?1:0;c.diff(d).add(function(_){if(c.hasValue(_)){var S=c.getItemLayout(_),w=o$(S,c,_,m,!0);c.setItemGraphicEl(_,w),p.add(w)}}).update(function(_,S){var w=d.getItemGraphicEl(S);if(!c.hasValue(_)){p.remove(w);return}var A=c.getItemLayout(_);w?(ds(w),s$(A,w,c,_)):w=o$(A,c,_,m),p.add(w),c.setItemGraphicEl(_,w)}).remove(function(_){var S=d.getItemGraphicEl(_);S&&p.remove(S)}).execute(),this._data=c},i.prototype.remove=function(r){var s=this.group,u=this._data;this._data=null,u&&u.eachItemGraphicEl(function(c){c&&s.remove(c)})},i.type="boxplot",i}(vr),KLt=function(){function n(){}return n}(),jLt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="boxplotBoxPath",s}return i.prototype.getDefaultShape=function(){return new KLt},i.prototype.buildPath=function(r,s){var u=s.points,c=0;for(r.moveTo(u[c][0],u[c][1]),c++;c<4;c++)r.lineTo(u[c][0],u[c][1]);for(r.closePath();c<u.length;c++)r.moveTo(u[c][0],u[c][1]),c++,r.lineTo(u[c][0],u[c][1])},i}(Xe);function o$(n,i,r,s,u){var c=n.ends,p=new jLt({shape:{points:u?JLt(c,s,n):c}});return s$(n,p,i,r,u),p}function s$(n,i,r,s,u){var c=r.hostModel,p=Th[u?"initProps":"updateProps"];p(i,{shape:{points:n.ends}},c,s),i.useStyle(r.getItemVisual(s,"style")),i.style.strokeNoScale=!0,i.z2=100;var d=r.getItemModel(s),m=d.getModel("emphasis");ra(i,d),Zr(i,m.get("focus"),m.get("blurScope"),m.get("disabled"))}function JLt(n,i,r){return Tt(n,function(s){return s=s.slice(),s[i]=r.initBaseline,s})}var m_=j;function QLt(n){var i=tIt(n);m_(i,function(r){var s=r.seriesModels;s.length&&(eIt(r),m_(s,function(u,c){rIt(u,r.boxOffsetList[c],r.boxWidthList[c])}))})}function tIt(n){var i=[],r=[];return n.eachSeriesByType("boxplot",function(s){var u=s.getBaseAxis(),c=At(r,u);c<0&&(c=r.length,r[c]=u,i[c]={axis:u,seriesModels:[]}),i[c].seriesModels.push(s)}),i}function eIt(n){var i=n.axis,r=n.seriesModels,s=r.length,u=n.boxWidthList=[],c=n.boxOffsetList=[],p=[],d;if(i.type==="category")d=i.getBandWidth();else{var m=0;m_(r,function(L){m=Math.max(m,L.getData().count())});var _=i.getExtent();d=Math.abs(_[1]-_[0])/m}m_(r,function(L){var E=L.get("boxWidth");wt(E)||(E=[E,E]),p.push([Wt(E[0],d)||0,Wt(E[1],d)||0])});var S=d*.8-2,w=S/s*.3,A=(S-w*(s-1))/s,D=A/2-S/2;m_(r,function(L,E){c.push(D),D+=w+A,u.push(Math.min(Math.max(A,p[E][0]),p[E][1]))})}function rIt(n,i,r){var s=n.coordinateSystem,u=n.getData(),c=r/2,p=n.get("layout")==="horizontal"?0:1,d=1-p,m=["x","y"],_=u.mapDimension(m[p]),S=u.mapDimensionsAll(m[d]);if(_==null||S.length<5)return;for(var w=0;w<u.count();w++){var A=u.get(_,w),D=B(A,S[2],w),L=B(A,S[0],w),E=B(A,S[1],w),R=B(A,S[3],w),k=B(A,S[4],w),z=[];G(z,E,!1),G(z,R,!0),z.push(L,E,k,R),W(z,L),W(z,k),W(z,D),u.setItemLayout(w,{initBaseline:D[d],ends:z})}function B(Y,q,J){var tt=u.get(q,J),et=[];et[p]=Y,et[d]=tt;var it;return isNaN(Y)||isNaN(tt)?it=[NaN,NaN]:(it=s.dataToPoint(et),it[p]+=i),it}function G(Y,q,J){var tt=q.slice(),et=q.slice();tt[p]+=c,et[p]-=c,J?Y.push(tt,et):Y.push(et,tt)}function W(Y,q){var J=q.slice(),tt=q.slice();J[p]-=c,tt[p]+=c,Y.push(J,tt)}}function iIt(n,i){i=i||{};for(var r=[],s=[],u=i.boundIQR,c=u==="none"||u===0,p=0;p<n.length;p++){var d=On(n[p].slice()),m=c1(d,.25),_=c1(d,.5),S=c1(d,.75),w=d[0],A=d[d.length-1],D=(u??1.5)*(S-m),L=c?w:Math.max(w,m-D),E=c?A:Math.min(A,S+D),R=i.itemNameFormatter,k=Gt(R)?R({value:p}):kt(R)?R.replace("{value}",p+""):p+"";r.push([k,L,m,_,S,E]);for(var z=0;z<d.length;z++){var B=d[z];if(B<L||B>E){var G=[k,B];s.push(G)}}}return{boxData:r,outliers:s}}var aIt={type:"echarts:boxplot",transform:function(i){var r=i.upstream;if(r.sourceFormat!==_a){var s="";s=ka("source data is not applicable for this boxplot transform. Expect number[][]."),fr(s)}var u=iIt(r.getRawData(),i.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:u.boxData},{data:u.outliers}]}};function nIt(n){n.registerSeriesModel(n$),n.registerChartView($Lt),n.registerLayout(QLt),n.registerTransform(aIt)}var oIt=["itemStyle","borderColor"],sIt=["itemStyle","borderColor0"],lIt=["itemStyle","borderColorDoji"],uIt=["itemStyle","color"],fIt=["itemStyle","color0"];function kO(n,i){return i.get(n>0?uIt:fIt)}function NO(n,i){return i.get(n===0?lIt:n>0?oIt:sIt)}var cIt={seriesType:"candlestick",plan:Cd(),performRawSeries:!0,reset:function(n,i){if(!i.isSeriesFiltered(n)){var r=n.pipelineContext.large;return!r&&{progress:function(s,u){for(var c;(c=s.next())!=null;){var p=u.getItemModel(c),d=u.getItemLayout(c).sign,m=p.getItemStyle();m.fill=kO(d,p),m.stroke=NO(d,p)||m.fill;var _=u.ensureUniqueItemVisual(c,"style");st(_,m)}}}}}},hIt=["color","borderColor"],pIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},i.prototype.incrementalPrepareRender=function(r,s,u){this._clear(),this._updateDrawMode(r)},i.prototype.incrementalRender=function(r,s,u,c){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,s):this._incrementalRenderNormal(r,s)},i.prototype.eachRendered=function(r){_f(this._progressiveEls||this.group,r)},i.prototype._updateDrawMode=function(r){var s=r.pipelineContext.large;(this._isLargeDraw==null||s!==this._isLargeDraw)&&(this._isLargeDraw=s,this._clear())},i.prototype._renderNormal=function(r){var s=r.getData(),u=this._data,c=this.group,p=s.getLayout("isSimpleBox"),d=r.get("clip",!0),m=r.coordinateSystem,_=m.getArea&&m.getArea();this._data||c.removeAll(),s.diff(u).add(function(S){if(s.hasValue(S)){var w=s.getItemLayout(S);if(d&&l$(_,w))return;var A=zO(w,S,!0);Vr(A,{shape:{points:w.ends}},r,S),VO(A,s,S,p),c.add(A),s.setItemGraphicEl(S,A)}}).update(function(S,w){var A=u.getItemGraphicEl(w);if(!s.hasValue(S)){c.remove(A);return}var D=s.getItemLayout(S);if(d&&l$(_,D)){c.remove(A);return}A?(ir(A,{shape:{points:D.ends}},r,S),ds(A)):A=zO(D),VO(A,s,S,p),c.add(A),s.setItemGraphicEl(S,A)}).remove(function(S){var w=u.getItemGraphicEl(S);w&&c.remove(w)}).execute(),this._data=s},i.prototype._renderLarge=function(r){this._clear(),u$(r,this.group);var s=r.get("clip",!0)?$0(r.coordinateSystem,!1,r):null;s?this.group.setClipPath(s):this.group.removeClipPath()},i.prototype._incrementalRenderNormal=function(r,s){for(var u=s.getData(),c=u.getLayout("isSimpleBox"),p;(p=r.next())!=null;){var d=u.getItemLayout(p),m=zO(d);VO(m,u,p,c),m.incremental=!0,this.group.add(m),this._progressiveEls.push(m)}},i.prototype._incrementalRenderLarge=function(r,s){u$(s,this.group,this._progressiveEls,!0)},i.prototype.remove=function(r){this._clear()},i.prototype._clear=function(){this.group.removeAll(),this._data=null},i.type="candlestick",i}(vr),vIt=function(){function n(){}return n}(),dIt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="normalCandlestickBox",s}return i.prototype.getDefaultShape=function(){return new vIt},i.prototype.buildPath=function(r,s){var u=s.points;this.__simpleBox?(r.moveTo(u[4][0],u[4][1]),r.lineTo(u[6][0],u[6][1])):(r.moveTo(u[0][0],u[0][1]),r.lineTo(u[1][0],u[1][1]),r.lineTo(u[2][0],u[2][1]),r.lineTo(u[3][0],u[3][1]),r.closePath(),r.moveTo(u[4][0],u[4][1]),r.lineTo(u[5][0],u[5][1]),r.moveTo(u[6][0],u[6][1]),r.lineTo(u[7][0],u[7][1]))},i}(Xe);function zO(n,i,r){var s=n.ends;return new dIt({shape:{points:r?gIt(s,n):s},z2:100})}function l$(n,i){for(var r=!0,s=0;s<i.ends.length;s++)if(n.contain(i.ends[s][0],i.ends[s][1])){r=!1;break}return r}function VO(n,i,r,s){var u=i.getItemModel(r);n.useStyle(i.getItemVisual(r,"style")),n.style.strokeNoScale=!0,n.__simpleBox=s,ra(n,u);var c=i.getItemLayout(r).sign;j(n.states,function(d,m){var _=u.getModel(m),S=kO(c,_),w=NO(c,_)||S,A=d.style||(d.style={});S&&(A.fill=S),w&&(A.stroke=w)});var p=u.getModel("emphasis");Zr(n,p.get("focus"),p.get("blurScope"),p.get("disabled"))}function gIt(n,i){return Tt(n,function(r){return r=r.slice(),r[1]=i.initBaseline,r})}var mIt=function(){function n(){}return n}(),BO=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s.type="largeCandlestickBox",s}return i.prototype.getDefaultShape=function(){return new mIt},i.prototype.buildPath=function(r,s){for(var u=s.points,c=0;c<u.length;)if(this.__sign===u[c++]){var p=u[c++];r.moveTo(p,u[c++]),r.lineTo(p,u[c++])}else c+=3},i}(Xe);function u$(n,i,r,s){var u=n.getData(),c=u.getLayout("largePoints"),p=new BO({shape:{points:c},__sign:1,ignoreCoarsePointer:!0});i.add(p);var d=new BO({shape:{points:c},__sign:-1,ignoreCoarsePointer:!0});i.add(d);var m=new BO({shape:{points:c},__sign:0,ignoreCoarsePointer:!0});i.add(m),FO(1,p,n),FO(-1,d,n),FO(0,m,n),s&&(p.incremental=!0,d.incremental=!0),r&&r.push(p,d)}function FO(n,i,r,s){var u=NO(n,r)||kO(n,r),c=r.getModel("itemStyle").getItemStyle(hIt);i.useStyle(c),i.style.fill=null,i.style.stroke=u}var f$=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return i.prototype.getShadowDim=function(){return"open"},i.prototype.brushSelector=function(r,s,u){var c=s.getItemLayout(r);return c&&u.rect(c.brushRect)},i.type="series.candlestick",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},i}(Sr);qt(f$,a$,!0);function yIt(n){!n||!wt(n.series)||j(n.series,function(i){re(i)&&i.type==="k"&&(i.type="candlestick")})}var _It={seriesType:"candlestick",plan:Cd(),reset:function(n){var i=n.coordinateSystem,r=n.getData(),s=xIt(n,r),u=0,c=1,p=["x","y"],d=r.getDimensionIndex(r.mapDimension(p[u])),m=Tt(r.mapDimensionsAll(p[c]),r.getDimensionIndex,r),_=m[0],S=m[1],w=m[2],A=m[3];if(r.setLayout({candleWidth:s,isSimpleBox:s<=1.3}),d<0||m.length<4)return;return{progress:n.pipelineContext.large?L:D};function D(E,R){for(var k,z=R.getStore();(k=E.next())!=null;){var B=z.get(d,k),G=z.get(_,k),W=z.get(S,k),Y=z.get(w,k),q=z.get(A,k),J=Math.min(G,W),tt=Math.max(G,W),et=bt(J,B),it=bt(tt,B),ut=bt(Y,B),ct=bt(q,B),ht=[];St(ht,it,0),St(ht,et,1),ht.push(Ot(ct),Ot(it),Ot(ut),Ot(et));var vt=R.getItemModel(k),gt=!!vt.get(["itemStyle","borderColorDoji"]);R.setItemLayout(k,{sign:c$(z,k,G,W,S,gt),initBaseline:G>W?it[c]:et[c],ends:ht,brushRect:Ct(Y,q,B)})}function bt(Vt,$t){var pe=[];return pe[u]=$t,pe[c]=Vt,isNaN($t)||isNaN(Vt)?[NaN,NaN]:i.dataToPoint(pe)}function St(Vt,$t,pe){var me=$t.slice(),Pe=$t.slice();me[u]=z1(me[u]+s/2,1,!1),Pe[u]=z1(Pe[u]-s/2,1,!0),pe?Vt.push(me,Pe):Vt.push(Pe,me)}function Ct(Vt,$t,pe){var me=bt(Vt,pe),Pe=bt($t,pe);return me[u]-=s/2,Pe[u]-=s/2,{x:me[0],y:me[1],width:s,height:Pe[1]-me[1]}}function Ot(Vt){return Vt[u]=z1(Vt[u],1),Vt}}function L(E,R){for(var k=ll(E.count*4),z=0,B,G=[],W=[],Y,q=R.getStore(),J=!!n.get(["itemStyle","borderColorDoji"]);(Y=E.next())!=null;){var tt=q.get(d,Y),et=q.get(_,Y),it=q.get(S,Y),ut=q.get(w,Y),ct=q.get(A,Y);if(isNaN(tt)||isNaN(ut)||isNaN(ct)){k[z++]=NaN,z+=3;continue}k[z++]=c$(q,Y,et,it,S,J),G[u]=tt,G[c]=ut,B=i.dataToPoint(G,null,W),k[z++]=B?B[0]:NaN,k[z++]=B?B[1]:NaN,G[c]=ct,B=i.dataToPoint(G,null,W),k[z++]=B?B[1]:NaN}R.setLayout("largePoints",k)}}};function c$(n,i,r,s,u,c){var p;return r>s?p=-1:r<s?p=1:p=c?0:i>0?n.get(u,i-1)<=s?1:-1:1,p}function xIt(n,i){var r=n.getBaseAxis(),s,u=r.type==="category"?r.getBandWidth():(s=r.getExtent(),Math.abs(s[1]-s[0])/i.count()),c=Wt(De(n.get("barMaxWidth"),u),u),p=Wt(De(n.get("barMinWidth"),1),u),d=n.get("barWidth");return d!=null?Wt(d,u):Math.max(Math.min(u/2,c),p)}function SIt(n){n.registerChartView(pIt),n.registerSeriesModel(f$),n.registerPreprocessor(yIt),n.registerVisual(cIt),n.registerLayout(_It)}function h$(n,i){var r=i.rippleEffectColor||i.color;n.eachChild(function(s){s.attr({z:i.z,zlevel:i.zlevel,style:{stroke:i.brushType==="stroke"?r:null,fill:i.brushType==="fill"?r:null}})})}var bIt=function(n){e(i,n);function i(r,s){var u=n.call(this)||this,c=new X0(r,s),p=new Te;return u.add(c),u.add(p),u.updateData(r,s),u}return i.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},i.prototype.startEffectAnimation=function(r){for(var s=r.symbolType,u=r.color,c=r.rippleNumber,p=this.childAt(1),d=0;d<c;d++){var m=li(s,-1,-1,2,2,u);m.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var _=-d/c*r.period+r.effectOffset;m.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(_).start(),m.animateStyle(!0).when(r.period,{opacity:0}).delay(_).start(),p.add(m)}h$(p,r)},i.prototype.updateEffectAnimation=function(r){for(var s=this._effectCfg,u=this.childAt(1),c=["symbolType","period","rippleScale","rippleNumber"],p=0;p<c.length;p++){var d=c[p];if(s[d]!==r[d]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}h$(u,r)},i.prototype.highlight=function(){Ql(this)},i.prototype.downplay=function(){tu(this)},i.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},i.prototype.updateData=function(r,s){var u=this,c=r.hostModel;this.childAt(0).updateData(r,s);var p=this.childAt(1),d=r.getItemModel(s),m=r.getItemVisual(s,"symbol"),_=Ld(r.getItemVisual(s,"symbolSize")),S=r.getItemVisual(s,"style"),w=S&&S.fill,A=d.getModel("emphasis");p.setScale(_),p.traverse(function(R){R.setStyle("fill",w)});var D=Oh(r.getItemVisual(s,"symbolOffset"),_);D&&(p.x=D[0],p.y=D[1]);var L=r.getItemVisual(s,"symbolRotate");p.rotation=(L||0)*Math.PI/180||0;var E={};E.showEffectOn=c.get("showEffectOn"),E.rippleScale=d.get(["rippleEffect","scale"]),E.brushType=d.get(["rippleEffect","brushType"]),E.period=d.get(["rippleEffect","period"])*1e3,E.effectOffset=s/r.count(),E.z=c.getShallow("z")||0,E.zlevel=c.getShallow("zlevel")||0,E.symbolType=m,E.color=w,E.rippleEffectColor=d.get(["rippleEffect","color"]),E.rippleNumber=d.get(["rippleEffect","number"]),E.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(E):this.startEffectAnimation(E),this._effectCfg=E):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(R){R==="emphasis"?E.showEffectOn!=="render"&&u.startEffectAnimation(E):R==="normal"&&E.showEffectOn!=="render"&&u.stopEffectAnimation()}),this._effectCfg=E,Zr(this,A.get("focus"),A.get("blurScope"),A.get("disabled"))},i.prototype.fadeOut=function(r){r&&r()},i}(Te),wIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(){this._symbolDraw=new q0(bIt)},i.prototype.render=function(r,s,u){var c=r.getData(),p=this._symbolDraw;p.updateData(c,{clipShape:this._getClipShape(r)}),this.group.add(p.group)},i.prototype._getClipShape=function(r){var s=r.coordinateSystem,u=s&&s.getArea&&s.getArea();return r.get("clip",!0)?u:null},i.prototype.updateTransform=function(r,s,u){var c=r.getData();this.group.dirty();var p=K0("").reset(r,s,u);p.progress&&p.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout()},i.prototype._updateGroupTransform=function(r){var s=r.coordinateSystem;s&&s.getRoamTransform&&(this.group.transform=yW(s.getRoamTransform()),this.group.decomposeTransform())},i.prototype.remove=function(r,s){this._symbolDraw&&this._symbolDraw.remove(!0)},i.type="effectScatter",i}(vr),TIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r}return i.prototype.getInitialData=function(r,s){return ol(null,this,{useEncodeDefaulter:!0})},i.prototype.brushSelector=function(r,s,u){return u.point(s.getItemLayout(r))},i.type="series.effectScatter",i.dependencies=["grid","polar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},i}(Sr);function AIt(n){n.registerChartView(wIt),n.registerSeriesModel(TIt),n.registerLayout(K0("effectScatter"))}var p$=function(n){e(i,n);function i(r,s,u){var c=n.call(this)||this;return c.add(c.createLine(r,s,u)),c._updateEffectSymbol(r,s),c}return i.prototype.createLine=function(r,s,u){return new uO(r,s,u)},i.prototype._updateEffectSymbol=function(r,s){var u=r.getItemModel(s),c=u.getModel("effect"),p=c.get("symbolSize"),d=c.get("symbol");wt(p)||(p=[p,p]);var m=r.getItemVisual(s,"style"),_=c.get("color")||m&&m.stroke,S=this.childAt(1);this._symbolType!==d&&(this.remove(S),S=li(d,-.5,-.5,1,1,_),S.z2=100,S.culling=!0,this.add(S)),S&&(S.setStyle("shadowColor",_),S.setStyle(c.getItemStyle(["color"])),S.scaleX=p[0],S.scaleY=p[1],S.setColor(_),this._symbolType=d,this._symbolScale=p,this._updateEffectAnimation(r,c,s))},i.prototype._updateEffectAnimation=function(r,s,u){var c=this.childAt(1);if(c){var p=r.getItemLayout(u),d=s.get("period")*1e3,m=s.get("loop"),_=s.get("roundTrip"),S=s.get("constantSpeed"),w=oi(s.get("delay"),function(D){return D/r.count()*d/3});if(c.ignore=!0,this._updateAnimationPoints(c,p),S>0&&(d=this._getLineLength(c)/S*1e3),d!==this._period||m!==this._loop||_!==this._roundTrip){c.stopAnimation();var A=void 0;Gt(w)?A=w(u):A=w,c.__t>0&&(A=-d*c.__t),this._animateSymbol(c,d,A,m,_)}this._period=d,this._loop=m,this._roundTrip=_}},i.prototype._animateSymbol=function(r,s,u,c,p){if(s>0){r.__t=0;var d=this,m=r.animate("",c).when(p?s*2:s,{__t:p?2:1}).delay(u).during(function(){d._updateSymbolPosition(r)});c||m.done(function(){d.remove(r)}),m.start()}},i.prototype._getLineLength=function(r){return Wl(r.__p1,r.__cp1)+Wl(r.__cp1,r.__p2)},i.prototype._updateAnimationPoints=function(r,s){r.__p1=s[0],r.__p2=s[1],r.__cp1=s[2]||[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]},i.prototype.updateData=function(r,s,u){this.childAt(0).updateData(r,s,u),this._updateEffectSymbol(r,s)},i.prototype._updateSymbolPosition=function(r){var s=r.__p1,u=r.__p2,c=r.__cp1,p=r.__t<1?r.__t:2-r.__t,d=[r.x,r.y],m=d.slice(),_=qi,S=qI;d[0]=_(s[0],c[0],u[0],p),d[1]=_(s[1],c[1],u[1],p);var w=r.__t<1?S(s[0],c[0],u[0],p):S(u[0],c[0],s[0],1-p),A=r.__t<1?S(s[1],c[1],u[1],p):S(u[1],c[1],s[1],1-p);r.rotation=-Math.atan2(A,w)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=Wl(m,d)*1.05,p===1&&(d[0]=m[0]+(d[0]-m[0])/2,d[1]=m[1]+(d[1]-m[1])/2)):r.__lastT===1?r.scaleY=2*Wl(s,d):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=d[0],r.y=d[1]},i.prototype.updateLayout=function(r,s){this.childAt(0).updateLayout(r,s);var u=r.getItemModel(s).getModel("effect");this._updateEffectAnimation(r,u,s)},i}(Te),v$=function(n){e(i,n);function i(r,s,u){var c=n.call(this)||this;return c._createPolyline(r,s,u),c}return i.prototype._createPolyline=function(r,s,u){var c=r.getItemLayout(s),p=new ya({shape:{points:c}});this.add(p),this._updateCommonStl(r,s,u)},i.prototype.updateData=function(r,s,u){var c=r.hostModel,p=this.childAt(0),d={shape:{points:r.getItemLayout(s)}};ir(p,d,c,s),this._updateCommonStl(r,s,u)},i.prototype._updateCommonStl=function(r,s,u){var c=this.childAt(0),p=r.getItemModel(s),d=u&&u.emphasisLineStyle,m=u&&u.focus,_=u&&u.blurScope,S=u&&u.emphasisDisabled;if(!u||r.hasItemOption){var w=p.getModel("emphasis");d=w.getModel("lineStyle").getLineStyle(),S=w.get("disabled"),m=w.get("focus"),_=w.get("blurScope")}c.useStyle(r.getItemVisual(s,"style")),c.style.fill=null,c.style.strokeNoScale=!0;var A=c.ensureState("emphasis");A.style=d,Zr(this,m,_,S)},i.prototype.updateLayout=function(r,s){var u=this.childAt(0);u.setShape("points",r.getItemLayout(s))},i}(Te),CIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return i.prototype.createLine=function(r,s,u){return new v$(r,s,u)},i.prototype._updateAnimationPoints=function(r,s){this._points=s;for(var u=[0],c=0,p=1;p<s.length;p++){var d=s[p-1],m=s[p];c+=Wl(d,m),u.push(c)}if(c===0){this._length=0;return}for(var p=0;p<u.length;p++)u[p]/=c;this._offsets=u,this._length=c},i.prototype._getLineLength=function(){return this._length},i.prototype._updateSymbolPosition=function(r){var s=r.__t<1?r.__t:2-r.__t,u=this._points,c=this._offsets,p=u.length;if(c){var d=this._lastFrame,m;if(s<this._lastFramePercent){var _=Math.min(d+1,p-1);for(m=_;m>=0&&!(c[m]<=s);m--);m=Math.min(m,p-2)}else{for(m=d;m<p&&!(c[m]>s);m++);m=Math.min(m-1,p-2)}var S=(s-c[m])/(c[m+1]-c[m]),w=u[m],A=u[m+1];r.x=w[0]*(1-S)+S*A[0],r.y=w[1]*(1-S)+S*A[1];var D=r.__t<1?A[0]-w[0]:w[0]-A[0],L=r.__t<1?A[1]-w[1]:w[1]-A[1];r.rotation=-Math.atan2(L,D)-Math.PI/2,this._lastFrame=m,this._lastFramePercent=s,r.ignore=!1}},i}(p$),DIt=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),MIt=function(n){e(i,n);function i(r){var s=n.call(this,r)||this;return s._off=0,s.hoverDataIdx=-1,s}return i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new DIt},i.prototype.buildPath=function(r,s){var u=s.segs,c=s.curveness,p;if(s.polyline)for(p=this._off;p<u.length;){var d=u[p++];if(d>0){r.moveTo(u[p++],u[p++]);for(var m=1;m<d;m++)r.lineTo(u[p++],u[p++])}}else for(p=this._off;p<u.length;){var _=u[p++],S=u[p++],w=u[p++],A=u[p++];if(r.moveTo(_,S),c>0){var D=(_+w)/2-(S-A)*c,L=(S+A)/2-(w-_)*c;r.quadraticCurveTo(D,L,w,A)}else r.lineTo(w,A)}this.incremental&&(this._off=p,this.notClear=!0)},i.prototype.findDataIndex=function(r,s){var u=this.shape,c=u.segs,p=u.curveness,d=this.style.lineWidth;if(u.polyline)for(var m=0,_=0;_<c.length;){var S=c[_++];if(S>0)for(var w=c[_++],A=c[_++],D=1;D<S;D++){var L=c[_++],E=c[_++];if(pf(w,A,L,E,d,r,s))return m}m++}else for(var m=0,_=0;_<c.length;){var w=c[_++],A=c[_++],L=c[_++],E=c[_++];if(p>0){var R=(w+L)/2-(A-E)*p,k=(A+E)/2-(L-w)*p;if(G4(w,A,R,k,L,E,d,r,s))return m}else if(pf(w,A,L,E,d,r,s))return m;m++}return-1},i.prototype.contain=function(r,s){var u=this.transformCoordToLocal(r,s),c=this.getBoundingRect();if(r=u[0],s=u[1],c.contain(r,s)){var p=this.hoverDataIdx=this.findDataIndex(r,s);return p>=0}return this.hoverDataIdx=-1,!1},i.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var s=this.shape,u=s.segs,c=1/0,p=1/0,d=-1/0,m=-1/0,_=0;_<u.length;){var S=u[_++],w=u[_++];c=Math.min(S,c),d=Math.max(S,d),p=Math.min(w,p),m=Math.max(w,m)}r=this._rect=new Ve(c,p,d,m)}return r},i}(Xe),LIt=function(){function n(){this.group=new Te}return n.prototype.updateData=function(i){this._clear();var r=this._create();r.setShape({segs:i.getLayout("linesPoints")}),this._setCommon(r,i)},n.prototype.incrementalPrepareUpdate=function(i){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(i,r){var s=this._newAdded[0],u=r.getLayout("linesPoints"),c=s&&s.shape.segs;if(c&&c.length<2e4){var p=c.length,d=new Float32Array(p+u.length);d.set(c),d.set(u,p),s.setShape({segs:d})}else{this._newAdded=[];var m=this._create();m.incremental=!0,m.setShape({segs:u}),this._setCommon(m,r),m.__startIndex=i.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},n.prototype._create=function(){var i=new MIt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(i),this.group.add(i),i},n.prototype._setCommon=function(i,r,s){var u=r.hostModel;i.setShape({polyline:u.get("polyline"),curveness:u.get(["lineStyle","curveness"])}),i.useStyle(u.getModel("lineStyle").getLineStyle()),i.style.strokeNoScale=!0;var c=r.getVisual("style");c&&c.stroke&&i.setStyle("stroke",c.stroke),i.setStyle("fill",null);var p=Me(i);p.seriesIndex=u.seriesIndex,i.on("mousemove",function(d){p.dataIndex=null;var m=i.hoverDataIdx;m>0&&(p.dataIndex=m+i.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),d$={seriesType:"lines",plan:Cd(),reset:function(n){var i=n.coordinateSystem;if(!i){ea("The lines series must have a coordinate system.");return}var r=n.get("polyline"),s=n.pipelineContext.large;return{progress:function(u,c){var p=[];if(s){var d=void 0,m=u.end-u.start;if(r){for(var _=0,S=u.start;S<u.end;S++)_+=n.getLineCoordsCount(S);d=new Float32Array(m+_*2)}else d=new Float32Array(m*4);for(var w=0,A=[],S=u.start;S<u.end;S++){var D=n.getLineCoords(S,p);r&&(d[w++]=D);for(var L=0;L<D;L++)A=i.dataToPoint(p[L],!1,A),d[w++]=A[0],d[w++]=A[1]}c.setLayout("linesPoints",d)}else for(var S=u.start;S<u.end;S++){var E=c.getItemModel(S),D=n.getLineCoords(S,p),R=[];if(r)for(var k=0;k<D;k++)R.push(i.dataToPoint(p[k]));else{R[0]=i.dataToPoint(p[0]),R[1]=i.dataToPoint(p[1]);var z=E.get(["lineStyle","curveness"]);+z&&(R[2]=[(R[0][0]+R[1][0])/2-(R[0][1]-R[1][1])*z,(R[0][1]+R[1][1])/2-(R[1][0]-R[0][0])*z])}c.setItemLayout(S,R)}}}}},IIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=r.getData(),p=this._updateLineDraw(c,r),d=r.get("zlevel"),m=r.get(["effect","trailLength"]),_=u.getZr(),S=_.painter.getType()==="svg";S||_.painter.getLayer(d).clear(!0),this._lastZlevel!=null&&!S&&_.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&m>0&&(S?console.warn("SVG render mode doesn't support lines with trail effect"):_.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(m/10+.9,1),0)})),p.updateData(c);var w=r.get("clip",!0)&&$0(r.coordinateSystem,!1,r);w?this.group.setClipPath(w):this.group.removeClipPath(),this._lastZlevel=d,this._finished=!0},i.prototype.incrementalPrepareRender=function(r,s,u){var c=r.getData(),p=this._updateLineDraw(c,r);p.incrementalPrepareUpdate(c),this._clearLayer(u),this._finished=!1},i.prototype.incrementalRender=function(r,s,u){this._lineDraw.incrementalUpdate(r,s.getData()),this._finished=r.end===s.getData().count()},i.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},i.prototype.updateTransform=function(r,s,u){var c=r.getData(),p=r.pipelineContext;if(!this._finished||p.large||p.progressiveRender)return{update:!0};var d=d$.reset(r,s,u);d.progress&&d.progress({start:0,end:c.count(),count:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(u)},i.prototype._updateLineDraw=function(r,s){var u=this._lineDraw,c=this._showEffect(s),p=!!s.get("polyline"),d=s.pipelineContext,m=d.large;return c&&m&&console.warn("Large lines not support effect"),(!u||c!==this._hasEffet||p!==this._isPolyline||m!==this._isLargeDraw)&&(u&&u.remove(),u=this._lineDraw=m?new LIt:new fO(p?c?CIt:v$:c?p$:uO),this._hasEffet=c,this._isPolyline=p,this._isLargeDraw=m),this.group.add(u.group),u},i.prototype._showEffect=function(r){return!!r.get(["effect","show"])},i.prototype._clearLayer=function(r){var s=r.getZr(),u=s.painter.getType()==="svg";!u&&this._lastZlevel!=null&&s.painter.getLayer(this._lastZlevel).clear(!0)},i.prototype.remove=function(r,s){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(s)},i.prototype.dispose=function(r,s){this.remove(r,s)},i.type="lines",i}(vr),EIt=typeof Uint32Array>"u"?Array:Uint32Array,PIt=typeof Float64Array>"u"?Array:Float64Array;function g$(n){var i=n.data;i&&i[0]&&i[0][0]&&i[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),n.data=Tt(i,function(r){var s=[r[0].coord,r[1].coord],u={coords:s};return r[0].name&&(u.fromName=r[0].name),r[1].name&&(u.toName=r[1].name),xt([u,r[0],r[1]])}))}var RIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return i.prototype.init=function(r){r.data=r.data||[],g$(r);var s=this._processFlatCoordsArray(r.data);this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset,s.flatCoords&&(r.data=new Float32Array(s.count)),n.prototype.init.apply(this,arguments)},i.prototype.mergeOption=function(r){if(g$(r),r.data){var s=this._processFlatCoordsArray(r.data);this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset,s.flatCoords&&(r.data=new Float32Array(s.count))}n.prototype.mergeOption.apply(this,arguments)},i.prototype.appendData=function(r){var s=this._processFlatCoordsArray(r.data);s.flatCoords&&(this._flatCoords?(this._flatCoords=Hv(this._flatCoords,s.flatCoords),this._flatCoordsOffset=Hv(this._flatCoordsOffset,s.flatCoordsOffset)):(this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset),r.data=new Float32Array(s.count)),this.getRawData().appendData(r.data)},i.prototype._getCoordsFromItemModel=function(r){var s=this.getData().getItemModel(r),u=s.option instanceof Array?s.option:s.getShallow("coords");if(!(u instanceof Array&&u.length>0&&u[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(u)+". Lines must have 2d coords array in data item.");return u},i.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},i.prototype.getLineCoords=function(r,s){if(this._flatCoordsOffset){for(var u=this._flatCoordsOffset[r*2],c=this._flatCoordsOffset[r*2+1],p=0;p<c;p++)s[p]=s[p]||[],s[p][0]=this._flatCoords[u+p*2],s[p][1]=this._flatCoords[u+p*2+1];return c}else{for(var d=this._getCoordsFromItemModel(r),p=0;p<d.length;p++)s[p]=s[p]||[],s[p][0]=d[p][0],s[p][1]=d[p][1];return d.length}},i.prototype._processFlatCoordsArray=function(r){var s=0;if(this._flatCoords&&(s=this._flatCoords.length),Ne(r[0])){for(var u=r.length,c=new EIt(u),p=new PIt(u),d=0,m=0,_=0,S=0;S<u;){_++;var w=r[S++];c[m++]=d+s,c[m++]=w;for(var A=0;A<w;A++){var D=r[S++],L=r[S++];if(p[d++]=D,p[d++]=L,S>u)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(c.buffer,0,m),flatCoords:p,count:_}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},i.prototype.getInitialData=function(r,s){var u=Lh.get(r.coordinateSystem);if(!u)throw new Error("Unknown coordinate system "+r.coordinateSystem);var c=new wa(["value"],this);return c.hasItemOption=!1,c.initData(r.data,[],function(p,d,m,_){if(p instanceof Array)return NaN;c.hasItemOption=!0;var S=p.value;if(S!=null)return S instanceof Array?S[_]:S}),c},i.prototype.formatTooltip=function(r,s,u){var c=this.getData(),p=c.getItemModel(r),d=p.get("name");if(d)return d;var m=p.get("fromName"),_=p.get("toName"),S=[];return m!=null&&S.push(m),_!=null&&S.push(_),Vi("nameValue",{name:S.join(" > ")})},i.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},i.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},i.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},i.prototype.getZLevelKey=function(){var r=this.getModel("effect"),s=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&s>0?s+"":""},i.type="series.lines",i.dependencies=["grid","polar","geo","calendar"],i.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},i}(Sr);function cT(n){return n instanceof Array||(n=[n,n]),n}var OIt={seriesType:"lines",reset:function(n){var i=cT(n.get("symbol")),r=cT(n.get("symbolSize")),s=n.getData();s.setVisual("fromSymbol",i&&i[0]),s.setVisual("toSymbol",i&&i[1]),s.setVisual("fromSymbolSize",r&&r[0]),s.setVisual("toSymbolSize",r&&r[1]);function u(c,p){var d=c.getItemModel(p),m=cT(d.getShallow("symbol",!0)),_=cT(d.getShallow("symbolSize",!0));m[0]&&c.setItemVisual(p,"fromSymbol",m[0]),m[1]&&c.setItemVisual(p,"toSymbol",m[1]),_[0]&&c.setItemVisual(p,"fromSymbolSize",_[0]),_[1]&&c.setItemVisual(p,"toSymbolSize",_[1])}return{dataEach:s.hasItemOption?u:null}}};function kIt(n){n.registerChartView(IIt),n.registerSeriesModel(RIt),n.registerLayout(d$),n.registerVisual(OIt)}var NIt=256,zIt=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var i=I.createCanvas();this.canvas=i}return n.prototype.update=function(i,r,s,u,c,p){var d=this._getBrush(),m=this._getGradient(c,"inRange"),_=this._getGradient(c,"outOfRange"),S=this.pointSize+this.blurSize,w=this.canvas,A=w.getContext("2d"),D=i.length;w.width=r,w.height=s;for(var L=0;L<D;++L){var E=i[L],R=E[0],k=E[1],z=E[2],B=u(z);A.globalAlpha=B,A.drawImage(d,R-S,k-S)}if(!w.width||!w.height)return w;for(var G=A.getImageData(0,0,w.width,w.height),W=G.data,Y=0,q=W.length,J=this.minOpacity,tt=this.maxOpacity,et=tt-J;Y<q;){var B=W[Y+3]/256,it=Math.floor(B*(NIt-1))*4;if(B>0){var ut=p(B)?m:_;B>0&&(B=B*et+J),W[Y++]=ut[it],W[Y++]=ut[it+1],W[Y++]=ut[it+2],W[Y++]=ut[it+3]*B*256}else Y+=4}return A.putImageData(G,0,0),w},n.prototype._getBrush=function(){var i=this._brushCanvas||(this._brushCanvas=I.createCanvas()),r=this.pointSize+this.blurSize,s=r*2;i.width=s,i.height=s;var u=i.getContext("2d");return u.clearRect(0,0,s,s),u.shadowOffsetX=s,u.shadowBlur=this.blurSize,u.shadowColor="#000",u.beginPath(),u.arc(-r,r,this.pointSize,0,Math.PI*2,!0),u.closePath(),u.fill(),i},n.prototype._getGradient=function(i,r){for(var s=this._gradientPixels,u=s[r]||(s[r]=new Uint8ClampedArray(256*4)),c=[0,0,0,0],p=0,d=0;d<256;d++)i[r](d/255,!0,c),u[p++]=c[0],u[p++]=c[1],u[p++]=c[2],u[p++]=c[3];return u},n}();function VIt(n,i,r){var s=n[1]-n[0];i=Tt(i,function(p){return{interval:[(p.interval[0]-n[0])/s,(p.interval[1]-n[0])/s]}});var u=i.length,c=0;return function(p){var d;for(d=c;d<u;d++){var m=i[d].interval;if(m[0]<=p&&p<=m[1]){c=d;break}}if(d===u)for(d=c-1;d>=0;d--){var m=i[d].interval;if(m[0]<=p&&p<=m[1]){c=d;break}}return d>=0&&d<u&&r[d]}}function BIt(n,i){var r=n[1]-n[0];return i=[(i[0]-n[0])/r,(i[1]-n[0])/r],function(s){return s>=i[0]&&s<=i[1]}}function m$(n){var i=n.dimensions;return i[0]==="lng"&&i[1]==="lat"}var FIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c;if(s.eachComponent("visualMap",function(d){d.eachTargetSeries(function(m){m===r&&(c=d)})}),!c)throw new Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var p=r.coordinateSystem;p.type==="cartesian2d"||p.type==="calendar"?this._renderOnCartesianAndCalendar(r,u,0,r.getData().count()):m$(p)&&this._renderOnGeo(p,r,c,u)},i.prototype.incrementalPrepareRender=function(r,s,u){this.group.removeAll()},i.prototype.incrementalRender=function(r,s,u,c){var p=s.coordinateSystem;p&&(m$(p)?this.render(s,u,c):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(s,c,r.start,r.end,!0)))},i.prototype.eachRendered=function(r){_f(this._progressiveEls||this.group,r)},i.prototype._renderOnCartesianAndCalendar=function(r,s,u,c,p){var d=r.coordinateSystem,m=Xh(d,"cartesian2d"),_,S,w,A;if(m){var D=d.getAxis("x"),L=d.getAxis("y");if(!(D.type==="category"&&L.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(D.onBand&&L.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");_=D.getBandWidth()+.5,S=L.getBandWidth()+.5,w=D.scale.getExtent(),A=L.scale.getExtent()}for(var E=this.group,R=r.getData(),k=r.getModel(["emphasis","itemStyle"]).getItemStyle(),z=r.getModel(["blur","itemStyle"]).getItemStyle(),B=r.getModel(["select","itemStyle"]).getItemStyle(),G=r.get(["itemStyle","borderRadius"]),W=zi(r),Y=r.getModel("emphasis"),q=Y.get("focus"),J=Y.get("blurScope"),tt=Y.get("disabled"),et=m?[R.mapDimension("x"),R.mapDimension("y"),R.mapDimension("value")]:[R.mapDimension("time"),R.mapDimension("value")],it=u;it<c;it++){var ut=void 0,ct=R.getItemVisual(it,"style");if(m){var ht=R.get(et[0],it),vt=R.get(et[1],it);if(isNaN(R.get(et[2],it))||isNaN(ht)||isNaN(vt)||ht<w[0]||ht>w[1]||vt<A[0]||vt>A[1])continue;var gt=d.dataToPoint([ht,vt]);ut=new tr({shape:{x:gt[0]-_/2,y:gt[1]-S/2,width:_,height:S},style:ct})}else{if(isNaN(R.get(et[1],it)))continue;ut=new tr({z2:1,shape:d.dataToRect([R.get(et[0],it)]).contentShape,style:ct})}if(R.hasItemOption){var bt=R.getItemModel(it),St=bt.getModel("emphasis");k=St.getModel("itemStyle").getItemStyle(),z=bt.getModel(["blur","itemStyle"]).getItemStyle(),B=bt.getModel(["select","itemStyle"]).getItemStyle(),G=bt.get(["itemStyle","borderRadius"]),q=St.get("focus"),J=St.get("blurScope"),tt=St.get("disabled"),W=zi(bt)}ut.shape.r=G;var Ct=r.getRawValue(it),Ot="-";Ct&&Ct[2]!=null&&(Ot=Ct[2]+""),ia(ut,W,{labelFetcher:r,labelDataIndex:it,defaultOpacity:ct.opacity,defaultText:Ot}),ut.ensureState("emphasis").style=k,ut.ensureState("blur").style=z,ut.ensureState("select").style=B,Zr(ut,q,J,tt),ut.incremental=p,p&&(ut.states.emphasis.hoverLayer=!0),E.add(ut),R.setItemGraphicEl(it,ut),this._progressiveEls&&this._progressiveEls.push(ut)}},i.prototype._renderOnGeo=function(r,s,u,c){var p=u.targetVisuals.inRange,d=u.targetVisuals.outOfRange,m=s.getData(),_=this._hmLayer||this._hmLayer||new zIt;_.blurSize=s.get("blurSize"),_.pointSize=s.get("pointSize"),_.minOpacity=s.get("minOpacity"),_.maxOpacity=s.get("maxOpacity");var S=r.getViewRect().clone(),w=r.getRoamTransform();S.applyTransform(w);var A=Math.max(S.x,0),D=Math.max(S.y,0),L=Math.min(S.width+S.x,c.getWidth()),E=Math.min(S.height+S.y,c.getHeight()),R=L-A,k=E-D,z=[m.mapDimension("lng"),m.mapDimension("lat"),m.mapDimension("value")],B=m.mapArray(z,function(q,J,tt){var et=r.dataToPoint([q,J]);return et[0]-=A,et[1]-=D,et.push(tt),et}),G=u.getExtent(),W=u.type==="visualMap.continuous"?BIt(G,u.option.range):VIt(G,u.getPieceList(),u.option.selected);_.update(B,R,k,p.color.getNormalizer(),{inRange:p.color.getColorMapper(),outOfRange:d.color.getColorMapper()},W);var Y=new Ni({style:{width:R,height:k,x:A,y:D,image:_.canvas},silent:!0});this.group.add(Y)},i.type="heatmap",i}(vr),UIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.getInitialData=function(r,s){return ol(null,this,{generateCoord:"value"})},i.prototype.preventIncremental=function(){var r=Lh.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},i.type="series.heatmap",i.dependencies=["grid","geo","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},i}(Sr);function GIt(n){n.registerChartView(FIt),n.registerSeriesModel(UIt)}var HIt=["itemStyle","borderWidth"],y$=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],UO=new rl,WIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=this.group,p=r.getData(),d=this._data,m=r.coordinateSystem,_=m.getBaseAxis(),S=_.isHorizontal(),w=m.master.getRect(),A={ecSize:{width:u.getWidth(),height:u.getHeight()},seriesModel:r,coordSys:m,coordSysExtent:[[w.x,w.x+w.width],[w.y,w.y+w.height]],isHorizontal:S,valueDim:y$[+S],categoryDim:y$[1-+S]};p.diff(d).add(function(L){if(p.hasValue(L)){var E=A$(p,L),R=_$(p,L,E,A),k=C$(p,A,R);p.setItemGraphicEl(L,k),c.add(k),L$(k,A,R)}}).update(function(L,E){var R=d.getItemGraphicEl(E);if(!p.hasValue(L)){c.remove(R);return}var k=A$(p,L),z=_$(p,L,k,A),B=M$(p,z);R&&B!==R.__pictorialShapeStr&&(c.remove(R),p.setItemGraphicEl(L,null),R=null),R?jIt(R,A,z):R=C$(p,A,z,!0),p.setItemGraphicEl(L,R),R.__pictorialSymbolMeta=z,c.add(R),L$(R,A,z)}).remove(function(L){var E=d.getItemGraphicEl(L);E&&D$(d,L,E.__pictorialSymbolMeta.animationModel,E)}).execute();var D=r.get("clip",!0)?$0(r.coordinateSystem,!1,r):null;return D?c.setClipPath(D):c.removeClipPath(),this._data=p,this.group},i.prototype.remove=function(r,s){var u=this.group,c=this._data;r.get("animation")?c&&c.eachItemGraphicEl(function(p){D$(c,Me(p).dataIndex,r,p)}):u.removeAll()},i.type="pictorialBar",i}(vr);function _$(n,i,r,s){var u=n.getItemLayout(i),c=r.get("symbolRepeat"),p=r.get("symbolClip"),d=r.get("symbolPosition")||"start",m=r.get("symbolRotate"),_=(m||0)*Math.PI/180||0,S=r.get("symbolPatternSize")||2,w=r.isAnimationEnabled(),A={dataIndex:i,layout:u,itemModel:r,symbolType:n.getItemVisual(i,"symbol")||"circle",style:n.getItemVisual(i,"style"),symbolClip:p,symbolRepeat:c,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:S,rotation:_,animationModel:w?r:null,hoverScale:w&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};YIt(r,c,u,s,A),ZIt(n,i,u,c,p,A.boundingLength,A.pxSign,S,s,A),XIt(r,A.symbolScale,_,s,A);var D=A.symbolSize,L=Oh(r.get("symbolOffset"),D);return qIt(r,D,u,c,p,L,d,A.valueLineWidth,A.boundingLength,A.repeatCutLength,s,A),A}function YIt(n,i,r,s,u){var c=s.valueDim,p=n.get("symbolBoundingData"),d=s.coordSys.getOtherAxis(s.coordSys.getBaseAxis()),m=d.toGlobalCoord(d.dataToCoord(0)),_=1-+(r[c.wh]<=0),S;if(wt(p)){var w=[GO(d,p[0])-m,GO(d,p[1])-m];w[1]<w[0]&&w.reverse(),S=w[_]}else p!=null?S=GO(d,p)-m:i?S=s.coordSysExtent[c.index][_]-m:S=r[c.wh];u.boundingLength=S,i&&(u.repeatCutLength=r[c.wh]);var A=c.xy==="x",D=d.inverse;u.pxSign=A&&!D||!A&&D?S>=0?1:-1:S>0?1:-1}function GO(n,i){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(i)))}function ZIt(n,i,r,s,u,c,p,d,m,_){var S=m.valueDim,w=m.categoryDim,A=Math.abs(r[w.wh]),D=n.getItemVisual(i,"symbolSize"),L;wt(D)?L=D.slice():D==null?L=["100%","100%"]:L=[D,D],L[w.index]=Wt(L[w.index],A),L[S.index]=Wt(L[S.index],s?A:Math.abs(c)),_.symbolSize=L;var E=_.symbolScale=[L[0]/d,L[1]/d];E[S.index]*=(m.isHorizontal?-1:1)*p}function XIt(n,i,r,s,u){var c=n.get(HIt)||0;c&&(UO.attr({scaleX:i[0],scaleY:i[1],rotation:r}),UO.updateTransform(),c/=UO.getLineScale(),c*=i[s.valueDim.index]),u.valueLineWidth=c||0}function qIt(n,i,r,s,u,c,p,d,m,_,S,w){var A=S.categoryDim,D=S.valueDim,L=w.pxSign,E=Math.max(i[D.index]+d,0),R=E;if(s){var k=Math.abs(m),z=oi(n.get("symbolMargin"),"15%")+"",B=!1;z.lastIndexOf("!")===z.length-1&&(B=!0,z=z.slice(0,z.length-1));var G=Wt(z,i[D.index]),W=Math.max(E+G*2,0),Y=B?0:G*2,q=h1(s),J=q?s:I$((k+Y)/W),tt=k-J*E;G=tt/2/(B?J:Math.max(J-1,1)),W=E+G*2,Y=B?0:G*2,!q&&s!=="fixed"&&(J=_?I$((Math.abs(_)+Y)/W):0),R=J*W-Y,w.repeatTimes=J,w.symbolMargin=G}var et=L*(R/2),it=w.pathPosition=[];it[A.index]=r[A.wh]/2,it[D.index]=p==="start"?et:p==="end"?m-et:m/2,c&&(it[0]+=c[0],it[1]+=c[1]);var ut=w.bundlePosition=[];ut[A.index]=r[A.xy],ut[D.index]=r[D.xy];var ct=w.barRectShape=st({},r);ct[D.wh]=L*Math.max(Math.abs(r[D.wh]),Math.abs(it[D.index]+et)),ct[A.wh]=r[A.wh];var ht=w.clipShape={};ht[A.xy]=-r[A.xy],ht[A.wh]=S.ecSize[A.wh],ht[D.xy]=0,ht[D.wh]=r[D.wh]}function x$(n){var i=n.symbolPatternSize,r=li(n.symbolType,-i/2,-i/2,i,i);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function S$(n,i,r,s){var u=n.__pictorialBundle,c=r.symbolSize,p=r.valueLineWidth,d=r.pathPosition,m=i.valueDim,_=r.repeatTimes||0,S=0,w=c[i.valueDim.index]+p+r.symbolMargin*2;for(HO(n,function(E){E.__pictorialAnimationIndex=S,E.__pictorialRepeatTimes=_,S<_?qd(E,null,L(S),r,s):qd(E,null,{scaleX:0,scaleY:0},r,s,function(){u.remove(E)}),S++});S<_;S++){var A=x$(r);A.__pictorialAnimationIndex=S,A.__pictorialRepeatTimes=_,u.add(A);var D=L(S);qd(A,{x:D.x,y:D.y,scaleX:0,scaleY:0},{scaleX:D.scaleX,scaleY:D.scaleY,rotation:D.rotation},r,s)}function L(E){var R=d.slice(),k=r.pxSign,z=E;return(r.symbolRepeatDirection==="start"?k>0:k<0)&&(z=_-1-E),R[m.index]=w*(z-_/2+.5)+d[m.index],{x:R[0],y:R[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function b$(n,i,r,s){var u=n.__pictorialBundle,c=n.__pictorialMainPath;c?qd(c,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,s):(c=n.__pictorialMainPath=x$(r),u.add(c),qd(c,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,s))}function w$(n,i,r){var s=st({},i.barRectShape),u=n.__pictorialBarRect;u?qd(u,null,{shape:s},i,r):(u=n.__pictorialBarRect=new tr({z2:2,shape:s,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),u.disableMorphing=!0,n.add(u))}function T$(n,i,r,s){if(r.symbolClip){var u=n.__pictorialClipPath,c=st({},r.clipShape),p=i.valueDim,d=r.animationModel,m=r.dataIndex;if(u)ir(u,{shape:c},d,m);else{c[p.wh]=0,u=new tr({shape:c}),n.__pictorialBundle.setClipPath(u),n.__pictorialClipPath=u;var _={};_[p.wh]=r.clipShape[p.wh],Th[s?"updateProps":"initProps"](u,{shape:_},d,m)}}}function A$(n,i){var r=n.getItemModel(i);return r.getAnimationDelayParams=$It,r.isAnimationEnabled=KIt,r}function $It(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function KIt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function C$(n,i,r,s){var u=new Te,c=new Te;return u.add(c),u.__pictorialBundle=c,c.x=r.bundlePosition[0],c.y=r.bundlePosition[1],r.symbolRepeat?S$(u,i,r):b$(u,i,r),w$(u,r,s),T$(u,i,r,s),u.__pictorialShapeStr=M$(n,r),u.__pictorialSymbolMeta=r,u}function jIt(n,i,r){var s=r.animationModel,u=r.dataIndex,c=n.__pictorialBundle;ir(c,{x:r.bundlePosition[0],y:r.bundlePosition[1]},s,u),r.symbolRepeat?S$(n,i,r,!0):b$(n,i,r,!0),w$(n,r,!0),T$(n,i,r,!0)}function D$(n,i,r,s){var u=s.__pictorialBarRect;u&&u.removeTextContent();var c=[];HO(s,function(p){c.push(p)}),s.__pictorialMainPath&&c.push(s.__pictorialMainPath),s.__pictorialClipPath&&(r=null),j(c,function(p){mf(p,{scaleX:0,scaleY:0},r,i,function(){s.parent&&s.parent.remove(s)})}),n.setItemGraphicEl(i,null)}function M$(n,i){return[n.getItemVisual(i.dataIndex,"symbol")||"none",!!i.symbolRepeat,!!i.symbolClip].join(":")}function HO(n,i,r){j(n.__pictorialBundle.children(),function(s){s!==n.__pictorialBarRect&&i.call(r,s)})}function qd(n,i,r,s,u,c){i&&n.attr(i),s.symbolClip&&!u?r&&n.attr(r):r&&Th[u?"updateProps":"initProps"](n,r,s.animationModel,s.dataIndex,c)}function L$(n,i,r){var s=r.dataIndex,u=r.itemModel,c=u.getModel("emphasis"),p=c.getModel("itemStyle").getItemStyle(),d=u.getModel(["blur","itemStyle"]).getItemStyle(),m=u.getModel(["select","itemStyle"]).getItemStyle(),_=u.getShallow("cursor"),S=c.get("focus"),w=c.get("blurScope"),A=c.get("scale");HO(n,function(E){if(E instanceof Ni){var R=E.style;E.useStyle(st({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},r.style))}else E.useStyle(r.style);var k=E.ensureState("emphasis");k.style=p,A&&(k.scaleX=E.scaleX*1.1,k.scaleY=E.scaleY*1.1),E.ensureState("blur").style=d,E.ensureState("select").style=m,_&&(E.cursor=_),E.z2=r.z2});var D=i.valueDim.posDesc[+(r.boundingLength>0)],L=n.__pictorialBarRect;L.ignoreClip=!0,ia(L,zi(u),{labelFetcher:i.seriesModel,labelDataIndex:s,defaultText:Bd(i.seriesModel.getData(),s),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:D}),Zr(n,S,w,c.get("disabled"))}function I$(n){var i=Math.round(n);return Math.abs(n-i)<1e-4?i:Math.ceil(n)}var JIt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return i.prototype.getInitialData=function(r){return r.stack=null,n.prototype.getInitialData.apply(this,arguments)},i.type="series.pictorialBar",i.dependencies=["grid"],i.defaultOption=xf(j0.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),i}(j0);function QIt(n){n.registerChartView(WIt),n.registerSeriesModel(JIt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ee(Y9,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Z9("pictorialBar"))}var tEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._layers=[],r}return i.prototype.render=function(r,s,u){var c=r.getData(),p=this,d=this.group,m=r.getLayerSeries(),_=c.getLayout("layoutInfo"),S=_.rect,w=_.boundaryGap;d.x=0,d.y=S.y+w[0];function A(R){return R.name}var D=new iu(this._layersSeries||[],m,A,A),L=[];D.add(Mt(E,this,"add")).update(Mt(E,this,"update")).remove(Mt(E,this,"remove")).execute();function E(R,k,z){var B=p._layers;if(R==="remove"){d.remove(B[k]);return}for(var G=[],W=[],Y,q=m[k].indices,J=0;J<q.length;J++){var tt=c.getItemLayout(q[J]),et=tt.x,it=tt.y0,ut=tt.y;G.push(et,it),W.push(et,it+ut),Y=c.getItemVisual(q[J],"style")}var ct,ht=c.getItemLayout(q[0]),vt=r.getModel("label"),gt=vt.get("margin"),bt=r.getModel("emphasis");if(R==="add"){var St=L[k]=new Te;ct=new lZ({shape:{points:G,stackedOnPoints:W,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),St.add(ct),d.add(St),r.isAnimationEnabled()&&ct.setClipPath(eEt(ct.getBoundingRect(),r,function(){ct.removeClipPath()}))}else{var St=B[z];ct=St.childAt(0),d.add(St),L[k]=St,ir(ct,{shape:{points:G,stackedOnPoints:W}},r),ds(ct)}ia(ct,zi(r),{labelDataIndex:q[J-1],defaultText:c.getName(q[J-1]),inheritColor:Y.fill},{normal:{verticalAlign:"middle"}}),ct.setTextConfig({position:null,local:!0});var Ct=ct.getTextContent();Ct&&(Ct.x=ht.x-gt,Ct.y=ht.y0+ht.y/2),ct.useStyle(Y),c.setItemGraphicEl(k,ct),ra(ct,r),Zr(ct,bt.get("focus"),bt.get("blurScope"),bt.get("disabled"))}this._layersSeries=m,this._layers=L},i.type="themeRiver",i}(vr);function eEt(n,i,r){var s=new tr({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Vr(s,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},i,r),s}var WO=2,rEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q0(Mt(this.getData,this),Mt(this.getRawData,this))},i.prototype.fixData=function(r){var s=r.length,u={},c=PE(r,function(A){return u.hasOwnProperty(A[0]+"")||(u[A[0]+""]=-1),A[2]}),p=[];c.buckets.each(function(A,D){p.push({name:D,dataList:A})});for(var d=p.length,m=0;m<d;++m){for(var _=p[m].name,S=0;S<p[m].dataList.length;++S){var w=p[m].dataList[S][0]+"";u[w]=m}for(var w in u)u.hasOwnProperty(w)&&u[w]!==m&&(u[w]=m,r[s]=[w,0,_],s++)}return r},i.prototype.getInitialData=function(r,s){for(var u=this.getReferringComponents("singleAxis",mi).models[0],c=u.get("type"),p=jt(r.data,function(L){return L[2]!==void 0}),d=this.fixData(p||[]),m=[],_=this.nameMap=le(),S=0,w=0;w<d.length;++w)m.push(d[w][WO]),_.get(d[w][WO])||(_.set(d[w][WO],S),S++);var A=Od(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:bw(c)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,D=new wa(A,this);return D.initData(d),D},i.prototype.getLayerSeries=function(){for(var r=this.getData(),s=r.count(),u=[],c=0;c<s;++c)u[c]=c;var p=r.mapDimension("single"),d=PE(u,function(_){return r.get("name",_)}),m=[];return d.buckets.each(function(_,S){_.sort(function(w,A){return r.get(p,w)-r.get(p,A)}),m.push({name:S,indices:_})}),m},i.prototype.getAxisTooltipData=function(r,s,u){wt(r)||(r=r?[r]:[]);for(var c=this.getData(),p=this.getLayerSeries(),d=[],m=p.length,_,S=0;S<m;++S){for(var w=Number.MAX_VALUE,A=-1,D=p[S].indices.length,L=0;L<D;++L){var E=c.get(r[0],p[S].indices[L]),R=Math.abs(E-s);R<=w&&(_=E,w=R,A=p[S].indices[L])}d.push(A)}return{dataIndices:d,nestestValue:_}},i.prototype.formatTooltip=function(r,s,u){var c=this.getData(),p=c.getName(r),d=c.get(c.mapDimension("value"),r);return Vi("nameValue",{name:p,value:d})},i.type="series.themeRiver",i.dependencies=["singleAxis"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},i}(Sr);function iEt(n,i){n.eachSeriesByType("themeRiver",function(r){var s=r.getData(),u=r.coordinateSystem,c={},p=u.getRect();c.rect=p;var d=r.get("boundaryGap"),m=u.getAxis();if(c.boundaryGap=d,m.orient==="horizontal"){d[0]=Wt(d[0],p.height),d[1]=Wt(d[1],p.height);var _=p.height-d[0]-d[1];E$(s,r,_)}else{d[0]=Wt(d[0],p.width),d[1]=Wt(d[1],p.width);var S=p.width-d[0]-d[1];E$(s,r,S)}s.setLayout("layoutInfo",c)})}function E$(n,i,r){if(n.count())for(var s=i.coordinateSystem,u=i.getLayerSeries(),c=n.mapDimension("single"),p=n.mapDimension("value"),d=Tt(u,function(R){return Tt(R.indices,function(k){var z=s.dataToPoint(n.get(c,k));return z[1]=n.get(p,k),z})}),m=aEt(d),_=m.y0,S=r/m.max,w=u.length,A=u[0].indices.length,D,L=0;L<A;++L){D=_[L]*S,n.setItemLayout(u[0].indices[L],{layerIndex:0,x:d[0][L][0],y0:D,y:d[0][L][1]*S});for(var E=1;E<w;++E)D+=d[E-1][L][1]*S,n.setItemLayout(u[E].indices[L],{layerIndex:E,x:d[E][L][0],y0:D,y:d[E][L][1]*S})}}function aEt(n){for(var i=n.length,r=n[0].length,s=[],u=[],c=0,p=0;p<r;++p){for(var d=0,m=0;m<i;++m)d+=n[m][p][1];d>c&&(c=d),s.push(d)}for(var _=0;_<r;++_)u[_]=(c-s[_])/2;c=0;for(var S=0;S<r;++S){var w=s[S]+u[S];w>c&&(c=w)}return{y0:u,max:c}}function nEt(n){n.registerChartView(tEt),n.registerSeriesModel(rEt),n.registerLayout(iEt),n.registerProcessor(J0("themeRiver"))}var oEt=2,sEt=4,P$=function(n){e(i,n);function i(r,s,u,c){var p=n.call(this)||this;p.z2=oEt,p.textConfig={inside:!0},Me(p).seriesIndex=s.seriesIndex;var d=new er({z2:sEt,silent:r.getModel().get(["label","silent"])});return p.setTextContent(d),p.updateData(!0,r,s,u,c),p}return i.prototype.updateData=function(r,s,u,c,p){this.node=s,s.piece=this,u=u||this._seriesModel,c=c||this._ecModel;var d=this;Me(d).dataIndex=s.dataIndex;var m=s.getModel(),_=m.getModel("emphasis"),S=s.getLayout(),w=st({},S);w.label=null;var A=s.getVisual("style");A.lineJoin="bevel";var D=s.getVisual("decal");D&&(A.decal=Ed(D,p));var L=qh(m.getModel("itemStyle"),w,!0);st(w,L),j(za,function(z){var B=d.ensureState(z),G=m.getModel([z,"itemStyle"]);B.style=G.getItemStyle();var W=qh(G,w);W&&(B.shape=W)}),r?(d.setShape(w),d.shape.r=S.r0,Vr(d,{shape:{r:S.r}},u,s.dataIndex)):(ir(d,{shape:w},u),ds(d)),d.useStyle(A),this._updateLabel(u);var E=m.getShallow("cursor");E&&d.attr("cursor",E),this._seriesModel=u||this._seriesModel,this._ecModel=c||this._ecModel;var R=_.get("focus"),k=R==="relative"?Hv(s.getAncestorsIndices(),s.getDescendantIndices()):R==="ancestor"?s.getAncestorsIndices():R==="descendant"?s.getDescendantIndices():R;Zr(this,k,_.get("blurScope"),_.get("disabled"))},i.prototype._updateLabel=function(r){var s=this,u=this.node.getModel(),c=u.getModel("label"),p=this.node.getLayout(),d=p.endAngle-p.startAngle,m=(p.startAngle+p.endAngle)/2,_=Math.cos(m),S=Math.sin(m),w=this,A=w.getTextContent(),D=this.node.dataIndex,L=c.get("minAngle")/180*Math.PI,E=c.get("show")&&!(L!=null&&Math.abs(d)<L);A.ignore=!E,j(a0,function(k){var z=k==="normal"?u.getModel("label"):u.getModel([k,"label"]),B=k==="normal",G=B?A:A.ensureState(k),W=r.getFormattedLabel(D,k);B&&(W=W||s.node.name),G.style=Dr(z,{},null,k!=="normal",!0),W&&(G.style.text=W);var Y=z.get("show");Y!=null&&!B&&(G.ignore=!Y);var q=R(z,"position"),J=B?w:w.states[k],tt=J.style.fill;J.textConfig={outsideFill:z.get("color")==="inherit"?tt:null,inside:q!=="outside"};var et,it=R(z,"distance")||0,ut=R(z,"align"),ct=R(z,"rotate"),ht=Math.PI*.5,vt=Math.PI*1.5,gt=Nn(ct==="tangential"?Math.PI/2-m:m),bt=gt>ht&&!Qv(gt-ht)&&gt<vt;q==="outside"?(et=p.r+it,ut=bt?"right":"left"):!ut||ut==="center"?(d===2*Math.PI&&p.r0===0?et=0:et=(p.r+p.r0)/2,ut="center"):ut==="left"?(et=p.r0+it,ut=bt?"right":"left"):ut==="right"&&(et=p.r-it,ut=bt?"left":"right"),G.style.align=ut,G.style.verticalAlign=R(z,"verticalAlign")||"middle",G.x=et*_+p.cx,G.y=et*S+p.cy;var St=0;ct==="radial"?St=Nn(-m)+(bt?Math.PI:0):ct==="tangential"?St=Nn(Math.PI/2-m)+(bt?Math.PI:0):Ne(ct)&&(St=ct*Math.PI/180),G.rotation=Nn(St)});function R(k,z){var B=k.get(z);return B??c.get(z)}A.dirtyStyle()},i}(ga),YO="sunburstRootToNode",R$="sunburstHighlight",lEt="sunburstUnhighlight";function uEt(n){n.registerAction({type:YO,update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"sunburst",query:i},s);function s(u,c){var p=o_(i,[YO],u);if(p){var d=u.getViewRoot();d&&(i.direction=WR(d,p.node)?"rollUp":"drillDown"),u.resetViewRoot(p.node)}}}),n.registerAction({type:R$,update:"none"},function(i,r,s){i=st({},i),r.eachComponent({mainType:"series",subType:"sunburst",query:i},u);function u(c){var p=o_(i,[R$],c);p&&(i.dataIndex=p.node.dataIndex)}si("sunburstHighlight","highlight"),s.dispatchAction(st(i,{type:"highlight"}))}),n.registerAction({type:lEt,update:"updateView"},function(i,r,s){i=st({},i),si("sunburstUnhighlight","downplay"),s.dispatchAction(st(i,{type:"downplay"}))})}var fEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u,c){var p=this;this.seriesModel=r,this.api=u,this.ecModel=s;var d=r.getData(),m=d.tree.root,_=r.getViewRoot(),S=this.group,w=r.get("renderLabelForZeroData"),A=[];_.eachNode(function(z){A.push(z)});var D=this._oldChildren||[];L(A,D),k(m,_),this._initEvents(),this._oldChildren=A;function L(z,B){if(z.length===0&&B.length===0)return;new iu(B,z,G,G).add(W).update(W).remove(ee(W,null)).execute();function G(Y){return Y.getId()}function W(Y,q){var J=Y==null?null:z[Y],tt=q==null?null:B[q];E(J,tt)}}function E(z,B){if(!w&&z&&!z.getValue()&&(z=null),z!==m&&B!==m){if(B&&B.piece)z?(B.piece.updateData(!1,z,r,s,u),d.setItemGraphicEl(z.dataIndex,B.piece)):R(B);else if(z){var G=new P$(z,r,s,u);S.add(G),d.setItemGraphicEl(z.dataIndex,G)}}}function R(z){z&&z.piece&&(S.remove(z.piece),z.piece=null)}function k(z,B){B.depth>0?(p.virtualPiece?p.virtualPiece.updateData(!1,z,r,s,u):(p.virtualPiece=new P$(z,r,s,u),S.add(p.virtualPiece)),B.piece.off("click"),p.virtualPiece.on("click",function(G){p._rootToNode(B.parentNode)})):p.virtualPiece&&(S.remove(p.virtualPiece),p.virtualPiece=null)}},i.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(s){var u=!1,c=r.seriesModel.getViewRoot();c.eachNode(function(p){if(!u&&p.piece&&p.piece===s.target){var d=p.getModel().get("nodeClick");if(d==="rootToNode")r._rootToNode(p);else if(d==="link"){var m=p.getModel(),_=m.get("link");if(_){var S=m.get("target",!0)||"_blank";q1(_,S)}}u=!0}})})},i.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:YO,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},i.prototype.containPoint=function(r,s){var u=s.getData(),c=u.getItemLayout(0);if(c){var p=r[0]-c.cx,d=r[1]-c.cy,m=Math.sqrt(p*p+d*d);return m<=c.r&&m>=c.r0}},i.type="sunburst",i}(vr),cEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.ignoreStyleOnData=!0,r}return i.prototype.getInitialData=function(r,s){var u={name:r.name,children:r.data};O$(u);var c=this._levelModels=Tt(r.levels||[],function(m){return new sr(m,this,s)},this),p=HR.createTree(u,this,d);function d(m){m.wrapMethod("getItemModel",function(_,S){var w=p.getNodeByDataIndex(S),A=c[w.depth];return A&&(_.parentModel=A),_})}return p.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.getDataParams=function(r){var s=n.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(r);return s.treePathInfo=Qw(u,this),s},i.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var s=this.getRawData().tree.root;(!r||r!==s&&!s.contains(r))&&(this._viewRoot=s)},i.prototype.enableAriaDecal=function(){YX(this)},i.type="series.sunburst",i.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},i}(Sr);function O$(n){var i=0;j(n.children,function(s){O$(s);var u=s.value;wt(u)&&(u=u[0]),i+=u});var r=n.value;wt(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=i),r<0&&(r=0),wt(n.value)?n.value[0]=r:n.value=r}var k$=Math.PI/180;function hEt(n,i,r){i.eachSeriesByType(n,function(s){var u=s.get("center"),c=s.get("radius");wt(c)||(c=[0,c]),wt(u)||(u=[u,u]);var p=r.getWidth(),d=r.getHeight(),m=Math.min(p,d),_=Wt(u[0],p),S=Wt(u[1],d),w=Wt(c[0],m/2),A=Wt(c[1],m/2),D=-s.get("startAngle")*k$,L=s.get("minAngle")*k$,E=s.getData().tree.root,R=s.getViewRoot(),k=R.depth,z=s.get("sort");z!=null&&N$(R,z);var B=0;j(R.children,function(gt){!isNaN(gt.getValue())&&B++});var G=R.getValue(),W=Math.PI/(G||B)*2,Y=R.depth>0,q=R.height-(Y?-1:1),J=(A-w)/(q||1),tt=s.get("clockwise"),et=s.get("stillShowZeroSum"),it=tt?1:-1,ut=function(gt,bt){if(gt){var St=bt;if(gt!==E){var Ct=gt.getValue(),Ot=G===0&&et?W:Ct*W;Ot<L&&(Ot=L),St=bt+it*Ot;var Vt=gt.depth-k-(Y?-1:1),$t=w+J*Vt,pe=w+J*(Vt+1),me=s.getLevelModel(gt);if(me){var Pe=me.get("r0",!0),br=me.get("r",!0),ti=me.get("radius",!0);ti!=null&&(Pe=ti[0],br=ti[1]),Pe!=null&&($t=Wt(Pe,m/2)),br!=null&&(pe=Wt(br,m/2))}gt.setLayout({angle:Ot,startAngle:bt,endAngle:St,clockwise:tt,cx:_,cy:S,r0:$t,r:pe})}if(gt.children&&gt.children.length){var Ge=0;j(gt.children,function(Se){Ge+=ut(Se,bt+Ge)})}return St-bt}};if(Y){var ct=w,ht=w+J,vt=Math.PI*2;E.setLayout({angle:vt,startAngle:D,endAngle:D+vt,clockwise:tt,cx:_,cy:S,r0:ct,r:ht})}ut(R,D)})}function N$(n,i){var r=n.children||[];n.children=pEt(r,i),r.length&&j(n.children,function(s){N$(s,i)})}function pEt(n,i){if(Gt(i)){var r=Tt(n,function(u,c){var p=u.getValue();return{params:{depth:u.depth,height:u.height,dataIndex:u.dataIndex,getValue:function(){return p}},index:c}});return r.sort(function(u,c){return i(u.params,c.params)}),Tt(r,function(u){return n[u.index]})}else{var s=i==="asc";return n.sort(function(u,c){var p=(u.getValue()-c.getValue())*(s?1:-1);return p===0?(u.dataIndex-c.dataIndex)*(s?-1:1):p})}}function vEt(n){var i={};function r(s,u,c){for(var p=s;p&&p.depth>1;)p=p.parentNode;var d=u.getColorFromPalette(p.name||p.dataIndex+"",i);return s.depth>1&&kt(d)&&(d=$b(d,(s.depth-1)/(c-1)*.5)),d}n.eachSeriesByType("sunburst",function(s){var u=s.getData(),c=u.tree;c.eachNode(function(p){var d=p.getModel(),m=d.getModel("itemStyle").getItemStyle();m.fill||(m.fill=r(p,s,c.root.height));var _=u.ensureUniqueItemVisual(p.dataIndex,"style");st(_,m)})})}function dEt(n){n.registerChartView(fEt),n.registerSeriesModel(cEt),n.registerLayout(ee(hEt,"sunburst")),n.registerProcessor(ee(J0,"sunburst")),n.registerVisual(vEt),uEt(n)}var z$={color:"fill",borderColor:"stroke"},gEt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},lu=rr(),mEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},i.prototype.getInitialData=function(r,s){return ol(null,this)},i.prototype.getDataParams=function(r,s,u){var c=n.prototype.getDataParams.call(this,r,s);return u&&(c.info=lu(u).info),c},i.type="series.custom",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},i}(Sr);function yEt(n,i){return i=i||[0,0],Tt(["x","y"],function(r,s){var u=this.getAxis(r),c=i[s],p=n[s]/2;return u.type==="category"?u.getBandWidth():Math.abs(u.dataToCoord(c-p)-u.dataToCoord(c+p))},this)}function _Et(n){var i=n.master.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(r){return n.dataToPoint(r)},size:Mt(yEt,n)}}}function xEt(n,i){return i=i||[0,0],Tt([0,1],function(r){var s=i[r],u=n[r]/2,c=[],p=[];return c[r]=s-u,p[r]=s+u,c[1-r]=p[1-r]=i[1-r],Math.abs(this.dataToPoint(c)[r]-this.dataToPoint(p)[r])},this)}function SEt(n){var i=n.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:n.getZoom()},api:{coord:function(r){return n.dataToPoint(r)},size:Mt(xEt,n)}}}function bEt(n,i){var r=this.getAxis(),s=i instanceof Array?i[0]:i,u=(n instanceof Array?n[0]:n)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(s-u)-r.dataToCoord(s+u))}function wEt(n){var i=n.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(r){return n.dataToPoint(r)},size:Mt(bEt,n)}}}function TEt(n,i){return i=i||[0,0],Tt(["Radius","Angle"],function(r,s){var u="get"+r+"Axis",c=this[u](),p=i[s],d=n[s]/2,m=c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(p-d)-c.dataToCoord(p+d));return r==="Angle"&&(m=m*Math.PI/180),m},this)}function AEt(n){var i=n.getRadiusAxis(),r=n.getAngleAxis(),s=i.getExtent();return s[0]>s[1]&&s.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:s[1],r0:s[0]},api:{coord:function(u){var c=i.dataToRadius(u[0]),p=r.dataToAngle(u[1]),d=n.coordToPoint([c,p]);return d.push(c,p*Math.PI/180),d},size:Mt(TEt,n)}}}function CEt(n){var i=n.getRect(),r=n.getRangeInfo();return{coordSys:{type:"calendar",x:i.x,y:i.y,width:i.width,height:i.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(s,u){return n.dataToPoint(s,u)}}}}var V$={};function B$(n,i,r,s){return n&&(n.legacy||n.legacy!==!1&&!r&&!s&&i!=="tspan"&&(i==="text"||Jt(n,"text")))}function F$(n,i,r){var s=n,u,c,p;if(i==="text")p=s;else{p={},Jt(s,"text")&&(p.text=s.text),Jt(s,"rich")&&(p.rich=s.rich),Jt(s,"textFill")&&(p.fill=s.textFill),Jt(s,"textStroke")&&(p.stroke=s.textStroke),Jt(s,"fontFamily")&&(p.fontFamily=s.fontFamily),Jt(s,"fontSize")&&(p.fontSize=s.fontSize),Jt(s,"fontStyle")&&(p.fontStyle=s.fontStyle),Jt(s,"fontWeight")&&(p.fontWeight=s.fontWeight),c={type:"text",style:p,silent:!0},u={};var d=Jt(s,"textPosition");r?u.position=d?s.textPosition:"inside":d&&(u.position=s.textPosition),Jt(s,"textPosition")&&(u.position=s.textPosition),Jt(s,"textOffset")&&(u.offset=s.textOffset),Jt(s,"textRotation")&&(u.rotation=s.textRotation),Jt(s,"textDistance")&&(u.distance=s.textDistance)}return U$(p,n),j(p.rich,function(m){U$(m,m)}),{textConfig:u,textContent:c}}function U$(n,i){i&&(i.font=i.textFont||i.font,Jt(i,"textStrokeWidth")&&(n.lineWidth=i.textStrokeWidth),Jt(i,"textAlign")&&(n.align=i.textAlign),Jt(i,"textVerticalAlign")&&(n.verticalAlign=i.textVerticalAlign),Jt(i,"textLineHeight")&&(n.lineHeight=i.textLineHeight),Jt(i,"textWidth")&&(n.width=i.textWidth),Jt(i,"textHeight")&&(n.height=i.textHeight),Jt(i,"textBackgroundColor")&&(n.backgroundColor=i.textBackgroundColor),Jt(i,"textPadding")&&(n.padding=i.textPadding),Jt(i,"textBorderColor")&&(n.borderColor=i.textBorderColor),Jt(i,"textBorderWidth")&&(n.borderWidth=i.textBorderWidth),Jt(i,"textBorderRadius")&&(n.borderRadius=i.textBorderRadius),Jt(i,"textBoxShadowColor")&&(n.shadowColor=i.textBoxShadowColor),Jt(i,"textBoxShadowBlur")&&(n.shadowBlur=i.textBoxShadowBlur),Jt(i,"textBoxShadowOffsetX")&&(n.shadowOffsetX=i.textBoxShadowOffsetX),Jt(i,"textBoxShadowOffsetY")&&(n.shadowOffsetY=i.textBoxShadowOffsetY))}function G$(n,i,r){var s=n;s.textPosition=s.textPosition||r.position||"inside",r.offset!=null&&(s.textOffset=r.offset),r.rotation!=null&&(s.textRotation=r.rotation),r.distance!=null&&(s.textDistance=r.distance);var u=s.textPosition.indexOf("inside")>=0,c=n.fill||"#000";H$(s,i);var p=s.textFill==null;return u?p&&(s.textFill=r.insideFill||"#fff",!s.textStroke&&r.insideStroke&&(s.textStroke=r.insideStroke),!s.textStroke&&(s.textStroke=c),s.textStrokeWidth==null&&(s.textStrokeWidth=2)):(p&&(s.textFill=n.fill||r.outsideFill||"#000"),!s.textStroke&&r.outsideStroke&&(s.textStroke=r.outsideStroke)),s.text=i.text,s.rich=i.rich,j(i.rich,function(d){H$(d,d)}),s}function H$(n,i){i&&(Jt(i,"fill")&&(n.textFill=i.fill),Jt(i,"stroke")&&(n.textStroke=i.fill),Jt(i,"lineWidth")&&(n.textStrokeWidth=i.lineWidth),Jt(i,"font")&&(n.font=i.font),Jt(i,"fontStyle")&&(n.fontStyle=i.fontStyle),Jt(i,"fontWeight")&&(n.fontWeight=i.fontWeight),Jt(i,"fontSize")&&(n.fontSize=i.fontSize),Jt(i,"fontFamily")&&(n.fontFamily=i.fontFamily),Jt(i,"align")&&(n.textAlign=i.align),Jt(i,"verticalAlign")&&(n.textVerticalAlign=i.verticalAlign),Jt(i,"lineHeight")&&(n.textLineHeight=i.lineHeight),Jt(i,"width")&&(n.textWidth=i.width),Jt(i,"height")&&(n.textHeight=i.height),Jt(i,"backgroundColor")&&(n.textBackgroundColor=i.backgroundColor),Jt(i,"padding")&&(n.textPadding=i.padding),Jt(i,"borderColor")&&(n.textBorderColor=i.borderColor),Jt(i,"borderWidth")&&(n.textBorderWidth=i.borderWidth),Jt(i,"borderRadius")&&(n.textBorderRadius=i.borderRadius),Jt(i,"shadowColor")&&(n.textBoxShadowColor=i.shadowColor),Jt(i,"shadowBlur")&&(n.textBoxShadowBlur=i.shadowBlur),Jt(i,"shadowOffsetX")&&(n.textBoxShadowOffsetX=i.shadowOffsetX),Jt(i,"shadowOffsetY")&&(n.textBoxShadowOffsetY=i.shadowOffsetY),Jt(i,"textShadowColor")&&(n.textShadowColor=i.textShadowColor),Jt(i,"textShadowBlur")&&(n.textShadowBlur=i.textShadowBlur),Jt(i,"textShadowOffsetX")&&(n.textShadowOffsetX=i.textShadowOffsetX),Jt(i,"textShadowOffsetY")&&(n.textShadowOffsetY=i.textShadowOffsetY))}function W$(n,i){var r=n+"^_^"+i;V$[r]||(console.warn('[ECharts] DEPRECATED: "'+n+'" has been deprecated. '+i),V$[r]=!0)}var Y$={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Z$=Xt(Y$),hT=lr($s,function(n,i){return n[i]=1,n},{}),X$=$s.join(", "),pT=["","style","shape","extra"],$d=rr();function ZO(n,i,r,s,u){var c=n+"Animation",p=cd(n,s,u)||{},d=$d(i).userDuring;return p.duration>0&&(p.during=d?Mt(EEt,{el:i,userDuring:d}):null,p.setToFinal=!0,p.scope=n),st(p,r[c]),p}function vT(n,i,r,s){s=s||{};var u=s.dataIndex,c=s.isInit,p=s.clearStyle,d=r.isAnimationEnabled(),m=$d(n),_=i.style;m.userDuring=i.during;var S={},w={};if(REt(n,i,w),K$("shape",i,w),K$("extra",i,w),!c&&d&&(PEt(n,i,S),$$("shape",n,i,S),$$("extra",n,i,S),OEt(n,i,_,S)),w.style=_,DEt(n,w,p),LEt(n,i),d)if(c){var A={};j(pT,function(L){var E=L?i[L]:i;E&&E.enterFrom&&(L&&(A[L]=A[L]||{}),st(L?A[L]:A,E.enterFrom))});var D=ZO("enter",n,i,r,u);D.duration>0&&n.animateFrom(A,D)}else MEt(n,i,u||0,r,S);q$(n,i),_?n.dirty():n.markRedraw()}function q$(n,i){for(var r=$d(n).leaveToProps,s=0;s<pT.length;s++){var u=pT[s],c=u?i[u]:i;c&&c.leaveTo&&(r||(r=$d(n).leaveToProps={}),u&&(r[u]=r[u]||{}),st(u?r[u]:r,c.leaveTo))}}function dT(n,i,r,s){if(n){var u=n.parent,c=$d(n).leaveToProps;if(c){var p=ZO("update",n,i,r,0);p.done=function(){u.remove(n),s&&s()},n.animateTo(c,p)}else u.remove(n),s&&s()}}function ap(n){return n==="all"}function DEt(n,i,r){var s=i.style;if(!n.isGroup&&s){if(r){n.useStyle({});for(var u=n.animators,c=0;c<u.length;c++){var p=u[c];p.targetName==="style"&&p.changeTarget(n.style)}}n.setStyle(s)}i&&(i.style=null,i&&n.attr(i),i.style=s)}function MEt(n,i,r,s,u){if(u){var c=ZO("update",n,i,s,r);c.duration>0&&n.animateFrom(u,c)}}function LEt(n,i){Jt(i,"silent")&&(n.silent=i.silent),Jt(i,"ignore")&&(n.ignore=i.ignore),n instanceof co&&Jt(i,"invisible")&&(n.invisible=i.invisible),n instanceof Xe&&Jt(i,"autoBatch")&&(n.autoBatch=i.autoBatch)}var hl={},IEt={setTransform:function(n,i){return de(Jt(hT,n),"Only "+X$+" available in `setTransform`."),hl.el[n]=i,this},getTransform:function(n){return de(Jt(hT,n),"Only "+X$+" available in `getTransform`."),hl.el[n]},setShape:function(n,i){Kd(n);var r=hl.el,s=r.shape||(r.shape={});return s[n]=i,r.dirtyShape&&r.dirtyShape(),this},getShape:function(n){Kd(n);var i=hl.el.shape;if(i)return i[n]},setStyle:function(n,i){Kd(n);var r=hl.el,s=r.style;return s&&(tf(i)&&Yr("style."+n+" must not be assigned with NaN."),s[n]=i,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(n){Kd(n);var i=hl.el.style;if(i)return i[n]},setExtra:function(n,i){Kd(n);var r=hl.el.extra||(hl.el.extra={});return r[n]=i,this},getExtra:function(n){Kd(n);var i=hl.el.extra;if(i)return i[n]}};function Kd(n){if(n==="transition"||n==="enterFrom"||n==="leaveTo")throw new Error('key must not be "'+n+'"')}function EEt(){var n=this,i=n.el;if(i){var r=$d(i).userDuring,s=n.userDuring;if(r!==s){n.el=n.userDuring=null;return}hl.el=i,s(IEt)}}function $$(n,i,r,s){var u=r[n];if(u){var c=i[n],p;if(c){var d=r.transition,m=u.transition;if(m)if(!p&&(p=s[n]={}),ap(m))st(p,c);else for(var _=xr(m),S=0;S<_.length;S++){var w=_[S],A=c[w];p[w]=A}else if(ap(d)||At(d,n)>=0){!p&&(p=s[n]={});for(var D=Xt(c),S=0;S<D.length;S++){var w=D[S],A=c[w];kEt(u[w],A)&&(p[w]=A)}}}}}function K$(n,i,r){var s=i[n];if(s)for(var u=r[n]={},c=Xt(s),p=0;p<c.length;p++){var d=c[p];u[d]=Yy(s[d])}}function PEt(n,i,r){for(var s=i.transition,u=ap(s)?$s:xr(s||[]),c=0;c<u.length;c++){var p=u[c];if(!(p==="style"||p==="shape"||p==="extra")){var d=n[p];j$(p,"el.transition"),r[p]=d}}}function REt(n,i,r){for(var s=0;s<Z$.length;s++){var u=Z$[s],c=Y$[u],p=i[u];p&&(r[c[0]]=p[0],r[c[1]]=p[1])}for(var s=0;s<$s.length;s++){var d=$s[s];i[d]!=null&&(r[d]=i[d])}}function OEt(n,i,r,s){if(r){var u=n.style,c;if(u){var p=r.transition,d=i.transition;if(p&&!ap(p)){var m=xr(p);!c&&(c=s.style={});for(var _=0;_<m.length;_++){var S=m[_],w=u[S];c[S]=w}}else if(n.getAnimationStyleProps&&(ap(d)||ap(p)||At(d,"style")>=0)){var A=n.getAnimationStyleProps(),D=A?A.style:null;if(D){!c&&(c=s.style={});for(var L=Xt(r),_=0;_<L.length;_++){var S=L[_];if(D[S]){var w=u[S];c[S]=w}}}}}}}function kEt(n,i){return te(n)?n!==i:n!=null&&isFinite(n)}var j$;j$=function(n,i){Jt(hT,n)||Yr("Prop `"+n+"` is not a permitted in `"+i+"`. Only `"+Xt(hT).join("`, `")+"` are permitted.")};var J$=rr(),NEt=["percent","easing","shape","style","extra"];function Q$(n){n.stopAnimation("keyframe"),n.attr(J$(n))}function gT(n,i,r){if(!(!r.isAnimationEnabled()||!i)){if(wt(i)){j(i,function(d){gT(n,d,r)});return}var s=i.keyframes,u=i.duration;if(r&&u==null){var c=cd("enter",r,0);u=c&&c.duration}if(!(!s||!u)){var p=J$(n);j(pT,function(d){if(!(d&&!n[d])){var m,_=!1;s.sort(function(S,w){return S.percent-w.percent}),j(s,function(S){var w=n.animators,A=d?S[d]:S;if(S.percent>=1&&(_=!0),!!A){var D=Xt(A);if(d||(D=jt(D,function(R){return At(NEt,R)<0})),!!D.length){m||(m=n.animate(d,i.loop,!0),m.scope="keyframe");for(var L=0;L<w.length;L++)w[L]!==m&&w[L].targetName===m.targetName&&w[L].stopTracks(D);d&&(p[d]=p[d]||{});var E=d?p[d]:p;j(D,function(R){E[R]=((d?n[d]:n)||{})[R]}),m.whenWithKeys(u*S.percent,A,D,S.easing)}}}),m&&(_||Yr("End frame with percent: 1 is missing in the keyframeAnimation.",!0),m.delay(i.delay||0).duration(u).start(i.easing))}})}}}var uu="emphasis",Rf="normal",XO="blur",qO="select",Of=[Rf,uu,XO,qO],$O={normal:["itemStyle"],emphasis:[uu,"itemStyle"],blur:[XO,"itemStyle"],select:[qO,"itemStyle"]},KO={normal:["label"],emphasis:[uu,"label"],blur:[XO,"label"],select:[qO,"label"]},zEt=["x","y"],VEt="e\0\0",Ao={normal:{},emphasis:{},blur:{},select:{}},tK={cartesian2d:_Et,geo:SEt,single:wEt,polar:AEt,calendar:CEt};function mT(n){return n instanceof Xe}function jO(n){return n instanceof co}function BEt(n,i){i.copyTransform(n),jO(i)&&jO(n)&&(i.setStyle(n.style),i.z=n.z,i.z2=n.z2,i.zlevel=n.zlevel,i.invisible=n.invisible,i.ignore=n.ignore,mT(i)&&mT(n)&&i.setShape(n.shape))}var FEt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u,c){this._progressiveEls=null;var p=this._data,d=r.getData(),m=this.group,_=rK(r,d,s,u);p||m.removeAll(),d.diff(p).add(function(w){tk(u,null,w,_(w,c),r,m,d)}).remove(function(w){var A=p.getItemGraphicEl(w);A&&dT(A,lu(A).option,r)}).update(function(w,A){var D=p.getItemGraphicEl(A);tk(u,D,w,_(w,c),r,m,d)}).execute();var S=r.get("clip",!0)?$0(r.coordinateSystem,!1,r):null;S?m.setClipPath(S):m.removeClipPath(),this._data=d},i.prototype.incrementalPrepareRender=function(r,s,u){this.group.removeAll(),this._data=null},i.prototype.incrementalRender=function(r,s,u,c,p){var d=s.getData(),m=rK(s,d,u,c),_=this._progressiveEls=[];function S(D){D.isGroup||(D.incremental=!0,D.ensureState("emphasis").hoverLayer=!0)}for(var w=r.start;w<r.end;w++){var A=tk(null,null,w,m(w,p),s,this.group,d);A&&(A.traverse(S),_.push(A))}},i.prototype.eachRendered=function(r){_f(this._progressiveEls||this.group,r)},i.prototype.filterForExposedEvent=function(r,s,u,c){var p=s.element;if(p==null||u.name===p)return!0;for(;(u=u.__hostTarget||u.parent)&&u!==this.group;)if(u.name===p)return!0;return!1},i.type="custom",i}(vr);function JO(n){var i=n.type,r;if(i==="path"){var s=n.shape,u=s.width!=null&&s.height!=null?{x:s.x||0,y:s.y||0,width:s.width,height:s.height}:null,c=sK(s);r=p0(c,null,u,s.layout||"center"),lu(r).customPathData=c}else if(i==="image")r=new Ni({}),lu(r).customImagePath=n.style.image;else if(i==="text")r=new er({});else if(i==="group")r=new Te;else{if(i==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var p=N1(i);if(!p){var d="";d='graphic type "'+i+'" can not be found.',fr(d)}r=new p}return lu(r).customGraphicType=i,r.name=n.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function QO(n,i,r,s,u,c,p){Q$(i);var d=u&&u.normal.cfg;d&&i.setTextConfig(d),s&&s.transition==null&&(s.transition=zEt);var m=s&&s.style;if(m){if(i.type==="text"){var _=m;Jt(_,"textFill")&&(_.fill=_.textFill),Jt(_,"textStroke")&&(_.stroke=_.textStroke)}var S=void 0,w=mT(i)?m.decal:null;n&&w&&(w.dirty=!0,S=Ed(w,n)),m.__decalPattern=S}if(jO(i)&&m){var S=m.__decalPattern;S&&(m.decal=S)}vT(i,s,c,{dataIndex:r,isInit:p,clearStyle:!0}),gT(i,s.keyframeAnimation,c)}function eK(n,i,r,s,u){var c=i.isGroup?null:i,p=u&&u[n].cfg;if(c){var d=c.ensureState(n);if(s===!1){var m=c.getState(n);m&&(m.style=null)}else d.style=s||null;p&&(d.textConfig=p),yh(c)}}function UEt(n,i,r){if(!n.isGroup){var s=n,u=r.currentZ,c=r.currentZLevel;s.z=u,s.zlevel=c;var p=i.z2;p!=null&&(s.z2=p||0);for(var d=0;d<Of.length;d++)GEt(s,i,Of[d])}}function GEt(n,i,r){var s=r===Rf,u=s?i:yT(i,r),c=u?u.z2:null,p;c!=null&&(p=s?n:n.ensureState(r),p.z2=c||0)}function rK(n,i,r,s){var u=n.get("renderItem"),c=n.coordinateSystem,p={};c&&(de(u,"series.render is required."),de(c.prepareCustoms||tK[c.type],"This coordSys does not support custom series."),p=c.prepareCustoms?c.prepareCustoms(c):tK[c.type](c));for(var d=dt({getWidth:s.getWidth,getHeight:s.getHeight,getZr:s.getZr,getDevicePixelRatio:s.getDevicePixelRatio,value:G,style:Y,ordinalRawValue:W,styleEmphasis:q,visual:et,barLayout:it,currentSeriesIndices:ut,font:ct},p.api||{}),m={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:p.coordSys,dataInsideLength:i.count(),encode:HEt(n.getData())},_,S,w={},A={},D={},L={},E=0;E<Of.length;E++){var R=Of[E];D[R]=n.getModel($O[R]),L[R]=n.getModel(KO[R])}function k(ht){return ht===_?S||(S=i.getItemModel(ht)):i.getItemModel(ht)}function z(ht,vt){return i.hasItemOption?ht===_?w[vt]||(w[vt]=k(ht).getModel($O[vt])):k(ht).getModel($O[vt]):D[vt]}function B(ht,vt){return i.hasItemOption?ht===_?A[vt]||(A[vt]=k(ht).getModel(KO[vt])):k(ht).getModel(KO[vt]):L[vt]}return function(ht,vt){return _=ht,S=null,w={},A={},u&&u(dt({dataIndexInside:ht,dataIndex:i.getRawIndex(ht),actionType:vt?vt.type:null},m),d)};function G(ht,vt){return vt==null&&(vt=_),i.getStore().get(i.getDimensionIndex(ht||0),vt)}function W(ht,vt){vt==null&&(vt=_),ht=ht||0;var gt=i.getDimensionInfo(ht);if(!gt){var bt=i.getDimensionIndex(ht);return bt>=0?i.getStore().get(bt,vt):void 0}var St=i.get(gt.name,vt),Ct=gt&&gt.ordinalMeta;return Ct?Ct.categories[St]:St}function Y(ht,vt){W$("api.style","Please write literal style directly instead."),vt==null&&(vt=_);var gt=i.getItemVisual(vt,"style"),bt=gt&&gt.fill,St=gt&&gt.opacity,Ct=z(vt,Rf).getItemStyle();bt!=null&&(Ct.fill=bt),St!=null&&(Ct.opacity=St);var Ot={inheritColor:kt(bt)?bt:"#000"},Vt=B(vt,Rf),$t=Dr(Vt,null,Ot,!1,!0);$t.text=Vt.getShallow("show")?De(n.getFormattedLabel(vt,Rf),Bd(i,vt)):null;var pe=F1(Vt,Ot,!1);return tt(ht,Ct),Ct=G$(Ct,$t,pe),ht&&J(Ct,ht),Ct.legacy=!0,Ct}function q(ht,vt){W$("api.styleEmphasis","Please write literal style directly instead."),vt==null&&(vt=_);var gt=z(vt,uu).getItemStyle(),bt=B(vt,uu),St=Dr(bt,null,null,!0,!0);St.text=bt.getShallow("show")?En(n.getFormattedLabel(vt,uu),n.getFormattedLabel(vt,Rf),Bd(i,vt)):null;var Ct=F1(bt,null,!0);return tt(ht,gt),gt=G$(gt,St,Ct),ht&&J(gt,ht),gt.legacy=!0,gt}function J(ht,vt){for(var gt in vt)Jt(vt,gt)&&(ht[gt]=vt[gt])}function tt(ht,vt){ht&&(ht.textFill&&(vt.textFill=ht.textFill),ht.textPosition&&(vt.textPosition=ht.textPosition))}function et(ht,vt){if(vt==null&&(vt=_),Jt(z$,ht)){var gt=i.getItemVisual(vt,"style");return gt?gt[z$[ht]]:null}if(Jt(gEt,ht))return i.getItemVisual(vt,ht)}function it(ht){if(c.type==="cartesian2d"){var vt=c.getBaseAxis();return _1t(dt({axis:vt},ht))}}function ut(){return r.getCurrentSeriesIndices()}function ct(ht){return xP(ht,r)}}function HEt(n){var i={};return j(n.dimensions,function(r){var s=n.getDimensionInfo(r);if(!s.isExtraCoord){var u=s.coordDim,c=i[u]=i[u]||[];c[s.coordDimIndex]=n.getDimensionIndex(r)}}),i}function tk(n,i,r,s,u,c,p){if(!s){c.remove(i);return}var d=ek(n,i,r,s,u,c);return d&&p.setItemGraphicEl(r,d),d&&Zr(d,s.focus,s.blurScope,s.emphasisDisabled),d}function ek(n,i,r,s,u,c){de(s,"should not have an null/undefined element setting");var p=-1,d=i;i&&iK(i,s,u)&&(p=At(c.childrenRef(),i),i=null);var m=!i,_=i;_?_.clearStates():(_=JO(s),d&&BEt(d,_)),s.morph===!1?_.disableMorphing=!0:_.disableMorphing&&(_.disableMorphing=!1),Ao.normal.cfg=Ao.normal.conOpt=Ao.emphasis.cfg=Ao.emphasis.conOpt=Ao.blur.cfg=Ao.blur.conOpt=Ao.select.cfg=Ao.select.conOpt=null,Ao.isLegacy=!1,YEt(_,r,s,u,m,Ao),WEt(_,r,s,u,m),QO(n,_,r,s,Ao,u,m),Jt(s,"info")&&(lu(_).info=s.info);for(var S=0;S<Of.length;S++){var w=Of[S];if(w!==Rf){var A=yT(s,w),D=rk(s,A,w);eK(w,_,A,D,Ao)}}return UEt(_,s,u),s.type==="group"&&ZEt(n,_,r,s,u),p>=0?c.replaceAt(_,p):c.add(_),_}function iK(n,i,r){var s=lu(n),u=i.type,c=i.shape,p=i.style;return r.isUniversalTransitionEnabled()||u!=null&&u!==s.customGraphicType||u==="path"&&KEt(c)&&sK(c)!==s.customPathData||u==="image"&&Jt(p,"image")&&p.image!==s.customImagePath}function WEt(n,i,r,s,u){var c=r.clipPath;if(c===!1)n&&n.getClipPath()&&n.removeClipPath();else if(c){var p=n.getClipPath();p&&iK(p,c,s)&&(p=null),p||(p=JO(c),de(mT(p),"Only any type of `path` can be used in `clipPath`, rather than "+p.type+"."),n.setClipPath(p)),QO(null,p,i,c,null,s,u)}}function YEt(n,i,r,s,u,c){if(!n.isGroup){aK(r,null,c),aK(r,uu,c);var p=c.normal.conOpt,d=c.emphasis.conOpt,m=c.blur.conOpt,_=c.select.conOpt;if(p!=null||d!=null||_!=null||m!=null){var S=n.getTextContent();if(p===!1)S&&n.removeTextContent();else{p=c.normal.conOpt=p||{type:"text"},S?S.clearStates():(S=JO(p),n.setTextContent(S)),QO(null,S,i,p,null,s,u);for(var w=p&&p.style,A=0;A<Of.length;A++){var D=Of[A];if(D!==Rf){var L=c[D].conOpt;eK(D,S,L,rk(p,L,D),null)}}w?S.dirty():S.markRedraw()}}}}function aK(n,i,r){var s=i?yT(n,i):n,u=i?rk(n,s,uu):n.style,c=n.type,p=s?s.textConfig:null,d=n.textContent,m=d?i?yT(d,i):d:null;if(u&&(r.isLegacy||B$(u,c,!!p,!!m))){r.isLegacy=!0;var _=F$(u,c,!i);!p&&_.textConfig&&(p=_.textConfig),!m&&_.textContent&&(m=_.textContent)}if(!i&&m){var S=m;!S.type&&(S.type="text"),de(S.type==="text",'textContent.type must be "text"')}var w=i?r[i]:r.normal;w.cfg=p,w.conOpt=m}function yT(n,i){return i?n?n[i]:null:n}function rk(n,i,r){var s=i&&i.style;return s==null&&r===uu&&n&&(s=n.styleEmphasis),s}function ZEt(n,i,r,s,u){var c=s.children,p=c?c.length:0,d=s.$mergeChildren,m=d==="byName"||s.diffChildrenByName,_=d===!1;if(!(!p&&!m&&!_)){if(m){qEt({api:n,oldChildren:i.children()||[],newChildren:c||[],dataIndex:r,seriesModel:u,group:i});return}_&&i.removeAll();for(var S=0;S<p;S++){var w=c[S],A=i.childAt(S);w?(w.ignore==null&&(w.ignore=!1),ek(n,A,r,w,u,i)):(de(A,"renderItem should not return a group containing elements as null/undefined/{} if they do not exist before."),A.ignore=!0)}for(var D=i.childCount()-1;D>=S;D--){var L=i.childAt(D);XEt(i,L,u)}}}function XEt(n,i,r){i&&dT(i,lu(n).option,r)}function qEt(n){new iu(n.oldChildren,n.newChildren,nK,nK,n).add(oK).update(oK).remove($Et).execute()}function nK(n,i){var r=n&&n.name;return r??VEt+i}function oK(n,i){var r=this.context,s=n!=null?r.newChildren[n]:null,u=i!=null?r.oldChildren[i]:null;ek(r.api,u,r.dataIndex,s,r.seriesModel,r.group)}function $Et(n){var i=this.context,r=i.oldChildren[n];r&&dT(r,lu(r).option,i.seriesModel)}function sK(n){return n&&(n.pathData||n.d)}function KEt(n){return n&&(Jt(n,"pathData")||Jt(n,"d"))}function jEt(n){n.registerChartView(FEt),n.registerSeriesModel(mEt)}var np=rr(),lK=lt,ik=Mt,ak=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(i,r,s,u){var c=r.get("value"),p=r.get("status");if(this._axisModel=i,this._axisPointerModel=r,this._api=s,!(!u&&this._lastValue===c&&this._lastStatus===p)){this._lastValue=c,this._lastStatus=p;var d=this._group,m=this._handle;if(!p||p==="hide"){d&&d.hide(),m&&m.hide();return}d&&d.show(),m&&m.show();var _={};this.makeElOption(_,c,i,r,s);var S=_.graphicKey;S!==this._lastGraphicKey&&this.clear(s),this._lastGraphicKey=S;var w=this._moveAnimation=this.determineAnimation(i,r);if(!d)d=this._group=new Te,this.createPointerEl(d,_,i,r),this.createLabelEl(d,_,i,r),s.getZr().add(d);else{var A=ee(uK,r,w);this.updatePointerEl(d,_,A),this.updateLabelEl(d,_,A,r)}hK(d,r,!0),this._renderHandle(c)}},n.prototype.remove=function(i){this.clear(i)},n.prototype.dispose=function(i){this.clear(i)},n.prototype.determineAnimation=function(i,r){var s=r.get("animation"),u=i.axis,c=u.type==="category",p=r.get("snap");if(!p&&!c)return!1;if(s==="auto"||s==null){var d=this.animationThreshold;if(c&&u.getBandWidth()>d)return!0;if(p){var m=AR(i).seriesDataCount,_=u.getExtent();return Math.abs(_[0]-_[1])/m>d}return!1}return s===!0},n.prototype.makeElOption=function(i,r,s,u,c){},n.prototype.createPointerEl=function(i,r,s,u){var c=r.pointer;if(c){var p=np(i).pointerEl=new Th[c.type](lK(r.pointer));i.add(p)}},n.prototype.createLabelEl=function(i,r,s,u){if(r.label){var c=np(i).labelEl=new er(lK(r.label));i.add(c),cK(c,u)}},n.prototype.updatePointerEl=function(i,r,s){var u=np(i).pointerEl;u&&r.pointer&&(u.setStyle(r.pointer.style),s(u,{shape:r.pointer.shape}))},n.prototype.updateLabelEl=function(i,r,s,u){var c=np(i).labelEl;c&&(c.setStyle(r.label.style),s(c,{x:r.label.x,y:r.label.y}),cK(c,u))},n.prototype._renderHandle=function(i){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,s=this._api.getZr(),u=this._handle,c=r.getModel("handle"),p=r.get("status");if(!c.get("show")||!p||p==="hide"){u&&s.remove(u),this._handle=null;return}var d;this._handle||(d=!0,u=this._handle=vd(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(_){Xl(_.event)},onmousedown:ik(this._onHandleDragMove,this,0,0),drift:ik(this._onHandleDragMove,this),ondragend:ik(this._onHandleDragEnd,this)}),s.add(u)),hK(u,r,!1),u.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var m=c.get("size");wt(m)||(m=[m,m]),u.scaleX=m[0]/2,u.scaleY=m[1]/2,Dd(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(i,d)}},n.prototype._moveHandleToValue=function(i,r){uK(this._axisPointerModel,!r&&this._moveAnimation,this._handle,nk(this.getHandleTransform(i,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(i,r){var s=this._handle;if(s){this._dragging=!0;var u=this.updateHandleTransform(nk(s),[i,r],this._axisModel,this._axisPointerModel);this._payloadInfo=u,s.stopAnimation(),s.attr(nk(u)),np(s).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var i=this._handle;if(i){var r=this._payloadInfo,s=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:s.axis.dim,axisIndex:s.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var i=this._handle;if(i){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(i){this._lastValue=null,this._lastStatus=null;var r=i.getZr(),s=this._group,u=this._handle;r&&s&&(this._lastGraphicKey=null,s&&r.remove(s),u&&r.remove(u),this._group=null,this._handle=null,this._payloadInfo=null),D0(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(i,r,s){return s=s||0,{x:i[s],y:i[1-s],width:r[s],height:r[1-s]}},n}();function uK(n,i,r,s){fK(np(r).lastProp,s)||(np(r).lastProp=s,i?ir(r,s,n):(r.stopAnimation(),r.attr(s)))}function fK(n,i){if(re(n)&&re(i)){var r=!0;return j(i,function(s,u){r=r&&fK(n[u],s)}),!!r}else return n===i}function cK(n,i){n[i.get(["label","show"])?"show":"hide"]()}function nk(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function hK(n,i,r){var s=i.get("z"),u=i.get("zlevel");n&&n.traverse(function(c){c.type!=="group"&&(s!=null&&(c.z=s),u!=null&&(c.zlevel=u),c.silent=r)})}function ok(n){var i=n.get("type"),r=n.getModel(i+"Style"),s;return i==="line"?(s=r.getLineStyle(),s.fill=null):i==="shadow"&&(s=r.getAreaStyle(),s.stroke=null),s}function pK(n,i,r,s,u){var c=r.get("value"),p=vK(c,i.axis,i.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),d=r.getModel("label"),m=Ah(d.get("padding")||0),_=d.getFont(),S=qy(p,_),w=u.position,A=S.width+m[1]+m[3],D=S.height+m[0]+m[2],L=u.align;L==="right"&&(w[0]-=A),L==="center"&&(w[0]-=A/2);var E=u.verticalAlign;E==="bottom"&&(w[1]-=D),E==="middle"&&(w[1]-=D/2),JEt(w,A,D,s);var R=d.get("backgroundColor");(!R||R==="auto")&&(R=i.get(["axisLine","lineStyle","color"])),n.label={x:w[0],y:w[1],style:Dr(d,{text:p,font:_,fill:d.getTextColor(),padding:m,backgroundColor:R}),z2:10}}function JEt(n,i,r,s){var u=s.getWidth(),c=s.getHeight();n[0]=Math.min(n[0]+i,u)-i,n[1]=Math.min(n[1]+r,c)-r,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function vK(n,i,r,s,u){n=i.scale.parse(n);var c=i.scale.getLabel({value:n},{precision:u.precision}),p=u.formatter;if(p){var d={value:W2(i,{value:n}),axisDimension:i.dim,axisIndex:i.index,seriesData:[]};j(s,function(m){var _=r.getSeriesByIndex(m.seriesIndex),S=m.dataIndexInside,w=_&&_.getDataParams(S);w&&d.seriesData.push(w)}),kt(p)?c=p.replace("{value}",c):Gt(p)&&(c=p(d))}return c}function sk(n,i,r){var s=Qa();return nf(s,s,r.rotation),ls(s,s,r.position),gs([n.dataToCoord(i),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],s)}function dK(n,i,r,s,u,c){var p=Ua.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=u.get(["label","margin"]),pK(i,s,u,c,{position:sk(s.axis,n,r),align:p.textAlign,verticalAlign:p.textVerticalAlign})}function lk(n,i,r){return r=r||0,{x1:n[r],y1:n[1-r],x2:i[r],y2:i[1-r]}}function gK(n,i,r){return r=r||0,{x:n[r],y:n[1-r],width:i[r],height:i[1-r]}}function mK(n,i,r,s,u,c){return{cx:n,cy:i,r0:r,r:s,startAngle:u,endAngle:c,clockwise:!0}}var QEt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.makeElOption=function(r,s,u,c,p){var d=u.axis,m=d.grid,_=c.get("type"),S=yK(m,d).getOtherAxis(d).getGlobalExtent(),w=d.toGlobalCoord(d.dataToCoord(s,!0));if(_&&_!=="none"){var A=ok(c),D=tPt[_](d,w,S);D.style=A,r.graphicKey=D.type,r.pointer=D}var L=SR(m.model,u);dK(s,r,L,u,c,p)},i.prototype.getHandleTransform=function(r,s,u){var c=SR(s.axis.grid.model,s,{labelInside:!1});c.labelMargin=u.get(["handle","margin"]);var p=sk(s.axis,r,c);return{x:p[0],y:p[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(r,s,u,c){var p=u.axis,d=p.grid,m=p.getGlobalExtent(!0),_=yK(d,p).getOtherAxis(p).getGlobalExtent(),S=p.dim==="x"?0:1,w=[r.x,r.y];w[S]+=s[S],w[S]=Math.min(m[1],w[S]),w[S]=Math.max(m[0],w[S]);var A=(_[1]+_[0])/2,D=[A,A];D[S]=w[S];var L=[{verticalAlign:"middle"},{align:"center"}];return{x:w[0],y:w[1],rotation:r.rotation,cursorPoint:D,tooltipOption:L[S]}},i}(ak);function yK(n,i){var r={};return r[i.dim+"AxisIndex"]=i.index,n.getCartesian(r)}var tPt={line:function(n,i,r){var s=lk([i,r[0]],[i,r[1]],_K(n));return{type:"Line",subPixelOptimize:!0,shape:s}},shadow:function(n,i,r){var s=Math.max(1,n.getBandWidth()),u=r[1]-r[0];return{type:"Rect",shape:gK([i-s/2,r[0]],[s,u],_K(n))}}};function _K(n){return n.dim==="x"?0:1}var ePt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="axisPointer",i.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},i}(We),fu=rr(),rPt=j;function xK(n,i,r){if(!f.node){var s=i.getZr();fu(s).records||(fu(s).records={}),iPt(s,i);var u=fu(s).records[n]||(fu(s).records[n]={});u.handler=r}}function iPt(n,i){if(fu(n).initialized)return;fu(n).initialized=!0,r("click",ee(SK,"click")),r("mousemove",ee(SK,"mousemove")),r("globalout",nPt);function r(s,u){n.on(s,function(c){var p=oPt(i);rPt(fu(n).records,function(d){d&&u(d,c,p.dispatchAction)}),aPt(p.pendings,i)})}}function aPt(n,i){var r=n.showTip.length,s=n.hideTip.length,u;r?u=n.showTip[r-1]:s&&(u=n.hideTip[s-1]),u&&(u.dispatchAction=null,i.dispatchAction(u))}function nPt(n,i,r){n.handler("leave",null,r)}function SK(n,i,r,s){i.handler(n,r,s)}function oPt(n){var i={showTip:[],hideTip:[]},r=function(s){var u=i[s.type];u?u.push(s):(s.dispatchAction=r,n.dispatchAction(s))};return{dispatchAction:r,pendings:i}}function uk(n,i){if(!f.node){var r=i.getZr(),s=(fu(r).records||{})[n];s&&(fu(r).records[n]=null)}}var sPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=s.getComponent("tooltip"),p=r.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";xK("axisPointer",u,function(d,m,_){p!=="none"&&(d==="leave"||p.indexOf(d)>=0)&&_({type:"updateAxisPointer",currTrigger:d,x:m&&m.offsetX,y:m&&m.offsetY})})},i.prototype.remove=function(r,s){uk("axisPointer",s)},i.prototype.dispose=function(r,s){uk("axisPointer",s)},i.type="axisPointer",i}(Pr);function bK(n,i){var r=[],s=n.seriesIndex,u;if(s==null||!(u=i.getSeriesByIndex(s)))return{point:[]};var c=u.getData(),p=oh(c,n);if(p==null||p<0||wt(p))return{point:[]};var d=c.getItemGraphicEl(p),m=u.coordinateSystem;if(u.getTooltipPosition)r=u.getTooltipPosition(p)||[];else if(m&&m.dataToPoint)if(n.isStacked){var _=m.getBaseAxis(),S=m.getOtherAxis(_),w=S.dim,A=_.dim,D=w==="x"||w==="radius"?1:0,L=c.mapDimension(A),E=[];E[D]=c.get(L,p),E[1-D]=c.get(c.getCalculationInfo("stackResultDimension"),p),r=m.dataToPoint(E)||[]}else r=m.dataToPoint(c.getValues(Tt(m.dimensions,function(k){return c.mapDimension(k)}),p))||[];else if(d){var R=d.getBoundingRect().clone();R.applyTransform(d.transform),r=[R.x+R.width/2,R.y+R.height/2]}return{point:r,el:d}}var wK=rr();function lPt(n,i,r){var s=n.currTrigger,u=[n.x,n.y],c=n,p=n.dispatchAction||Mt(r.dispatchAction,r),d=i.getComponent("axisPointer").coordSysAxesInfo;if(d){_T(u)&&(u=bK({seriesIndex:c.seriesIndex,dataIndex:c.dataIndex},i).point);var m=_T(u),_=c.axesInfo,S=d.axesInfo,w=s==="leave"||_T(u),A={},D={},L={list:[],map:{}},E={showPointer:ee(fPt,D),showTooltip:ee(cPt,L)};j(d.coordSysMap,function(k,z){var B=m||k.containPoint(u);j(d.coordSysAxesInfo[z],function(G,W){var Y=G.axis,q=dPt(_,G);if(!w&&B&&(!_||q)){var J=q&&q.value;J==null&&!m&&(J=Y.pointToData(u)),J!=null&&TK(G,J,E,!1,A)}})});var R={};return j(S,function(k,z){var B=k.linkGroup;B&&!D[z]&&j(B.axesInfo,function(G,W){var Y=D[W];if(G!==k&&Y){var q=Y.value;B.mapper&&(q=k.axis.scale.parse(B.mapper(q,AK(G),AK(k)))),R[k.key]=q}})}),j(R,function(k,z){TK(S[z],k,E,!0,A)}),hPt(D,S,A),pPt(L,u,n,p),vPt(S,p,r),A}}function TK(n,i,r,s,u){var c=n.axis;if(!(c.scale.isBlank()||!c.containData(i))){if(!n.involveSeries){r.showPointer(n,i);return}var p=uPt(i,n),d=p.payloadBatch,m=p.snapToValue;d[0]&&u.seriesIndex==null&&st(u,d[0]),!s&&n.snap&&c.containData(m)&&m!=null&&(i=m),r.showPointer(n,i,d),r.showTooltip(n,p,m)}}function uPt(n,i){var r=i.axis,s=r.dim,u=n,c=[],p=Number.MAX_VALUE,d=-1;return j(i.seriesModels,function(m,_){var S=m.getData().mapDimensionsAll(s),w,A;if(m.getAxisTooltipData){var D=m.getAxisTooltipData(S,n,r);A=D.dataIndices,w=D.nestestValue}else{if(A=m.getData().indicesOfNearest(S[0],n,r.type==="category"?.5:null),!A.length)return;w=m.getData().get(S[0],A[0])}if(!(w==null||!isFinite(w))){var L=n-w,E=Math.abs(L);E<=p&&((E<p||L>=0&&d<0)&&(p=E,d=L,u=w,c.length=0),j(A,function(R){c.push({seriesIndex:m.seriesIndex,dataIndexInside:R,dataIndex:m.getData().getRawIndex(R)})}))}}),{payloadBatch:c,snapToValue:u}}function fPt(n,i,r,s){n[i.key]={value:r,payloadBatch:s}}function cPt(n,i,r,s){var u=r.payloadBatch,c=i.axis,p=c.model,d=i.axisPointerModel;if(!(!i.triggerTooltip||!u.length)){var m=i.coordSys.model,_=t_(m),S=n.map[_];S||(S=n.map[_]={coordSysId:m.id,coordSysIndex:m.componentIndex,coordSysType:m.type,coordSysMainType:m.mainType,dataByAxis:[]},n.list.push(S)),S.dataByAxis.push({axisDim:c.dim,axisIndex:p.componentIndex,axisType:p.type,axisId:p.id,value:s,valueLabelOpt:{precision:d.get(["label","precision"]),formatter:d.get(["label","formatter"])},seriesDataIndices:u.slice()})}}function hPt(n,i,r){var s=r.axesInfo=[];j(i,function(u,c){var p=u.axisPointerModel.option,d=n[c];d?(!u.useHandle&&(p.status="show"),p.value=d.value,p.seriesDataIndices=(d.payloadBatch||[]).slice()):!u.useHandle&&(p.status="hide"),p.status==="show"&&s.push({axisDim:u.axis.dim,axisIndex:u.axis.model.componentIndex,value:p.value})})}function pPt(n,i,r,s){if(_T(i)||!n.list.length){s({type:"hideTip"});return}var u=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};s({type:"showTip",escapeConnect:!0,x:i[0],y:i[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:n.list})}function vPt(n,i,r){var s=r.getZr(),u="axisPointerLastHighlights",c=wK(s)[u]||{},p=wK(s)[u]={};j(n,function(_,S){var w=_.axisPointerModel.option;w.status==="show"&&_.triggerEmphasis&&j(w.seriesDataIndices,function(A){var D=A.seriesIndex+" | "+A.dataIndex;p[D]=A})});var d=[],m=[];j(c,function(_,S){!p[S]&&m.push(_)}),j(p,function(_,S){!c[S]&&d.push(_)}),m.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:m}),d.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:d})}function dPt(n,i){for(var r=0;r<(n||[]).length;r++){var s=n[r];if(i.axis.dim===s.axisDim&&i.axis.model.componentIndex===s.axisIndex)return s}}function AK(n){var i=n.axis.model,r={},s=r.axisDim=n.axis.dim;return r.axisIndex=r[s+"AxisIndex"]=i.componentIndex,r.axisName=r[s+"AxisName"]=i.name,r.axisId=r[s+"AxisId"]=i.id,r}function _T(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function y_(n){$h.registerAxisPointerClass("CartesianAxisPointer",QEt),n.registerComponentModel(ePt),n.registerComponentView(sPt),n.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var r=i.axisPointer.link;r&&!wt(r)&&(i.axisPointer.link=[r])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(i,r){i.getComponent("axisPointer").coordSysAxesInfo=CAt(i,r)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},lPt)}function gPt(n){Ye(tX),Ye(y_)}var mPt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.makeElOption=function(r,s,u,c,p){var d=u.axis;d.dim==="angle"&&(this.animationThreshold=Math.PI/18);var m=d.polar,_=m.getOtherAxis(d),S=_.getExtent(),w=d.dataToCoord(s),A=c.get("type");if(A&&A!=="none"){var D=ok(c),L=_Pt[A](d,m,w,S);L.style=D,r.graphicKey=L.type,r.pointer=L}var E=c.get(["label","margin"]),R=yPt(s,u,c,m,E);pK(r,u,c,p,R)},i}(ak);function yPt(n,i,r,s,u){var c=i.axis,p=c.dataToCoord(n),d=s.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var m=s.getRadiusAxis().getExtent(),_,S,w;if(c.dim==="radius"){var A=Qa();nf(A,A,d),ls(A,A,[s.cx,s.cy]),_=gs([p,-u],A);var D=i.getModel("axisLabel").get("rotate")||0,L=Ua.innerTextLayout(d,D*Math.PI/180,-1);S=L.textAlign,w=L.textVerticalAlign}else{var E=m[1];_=s.coordToPoint([E+u,p]);var R=s.cx,k=s.cy;S=Math.abs(_[0]-R)/E<.3?"center":_[0]>R?"left":"right",w=Math.abs(_[1]-k)/E<.3?"middle":_[1]>k?"top":"bottom"}return{position:_,align:S,verticalAlign:w}}var _Pt={line:function(n,i,r,s){return n.dim==="angle"?{type:"Line",shape:lk(i.coordToPoint([s[0],r]),i.coordToPoint([s[1],r]))}:{type:"Circle",shape:{cx:i.cx,cy:i.cy,r}}},shadow:function(n,i,r,s){var u=Math.max(1,n.getBandWidth()),c=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:mK(i.cx,i.cy,s[0],s[1],(-r-u/2)*c,(-r+u/2)*c)}:{type:"Sector",shape:mK(i.cx,i.cy,r-u/2,r+u/2,0,Math.PI*2)}}},xPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.findAxisModel=function(r){var s,u=this.ecModel;return u.eachComponent(r,function(c){c.getCoordSysModel()===this&&(s=c)},this),s},i.type="polar",i.dependencies=["radiusAxis","angleAxis"],i.defaultOption={z:0,center:["50%","50%"],radius:"80%"},i}(We),fk=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mi).models[0]},i.type="polarAxis",i}(We);qt(fk,zd);var SPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="angleAxis",i}(fk),bPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="radiusAxis",i}(fk),ck=function(n){e(i,n);function i(r,s){return n.call(this,"radius",r,s)||this}return i.prototype.pointToData=function(r,s){return this.polar.pointToData(r,s)[this.dim==="radius"?0:1]},i}(So);ck.prototype.dataToRadius=So.prototype.dataToCoord,ck.prototype.radiusToData=So.prototype.coordToData;var wPt=rr(),hk=function(n){e(i,n);function i(r,s){return n.call(this,"angle",r,s||[0,360])||this}return i.prototype.pointToData=function(r,s){return this.polar.pointToData(r,s)[this.dim==="radius"?0:1]},i.prototype.calculateCategoryInterval=function(){var r=this,s=r.getLabelModel(),u=r.scale,c=u.getExtent(),p=u.count();if(c[1]-c[0]<1)return 0;var d=c[0],m=r.dataToCoord(d+1)-r.dataToCoord(d),_=Math.abs(m),S=qy(d==null?"":d+"",s.getFont(),"center","top"),w=Math.max(S.height,7),A=w/_;isNaN(A)&&(A=1/0);var D=Math.max(0,Math.floor(A)),L=wPt(r.model),E=L.lastAutoInterval,R=L.lastTickCount;return E!=null&&R!=null&&Math.abs(E-D)<=1&&Math.abs(R-p)<=1&&E>D?D=E:(L.lastTickCount=p,L.lastAutoInterval=D),D},i}(So);hk.prototype.dataToAngle=So.prototype.dataToCoord,hk.prototype.angleToData=So.prototype.coordToData;var CK=["radius","angle"],TPt=function(){function n(i){this.dimensions=CK,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ck,this._angleAxis=new hk,this.axisPointerEnabled=!0,this.name=i||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(i){var r=this.pointToCoord(i);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},n.prototype.containData=function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},n.prototype.getAxis=function(i){var r="_"+i+"Axis";return this[r]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(i){var r=[],s=this._angleAxis,u=this._radiusAxis;return s.scale.type===i&&r.push(s),u.scale.type===i&&r.push(u),r},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(i){var r=this._angleAxis;return i===r?this._radiusAxis:r},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(i){var r=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},n.prototype.dataToPoint=function(i,r){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],r),this._angleAxis.dataToAngle(i[1],r)])},n.prototype.pointToData=function(i,r){var s=this.pointToCoord(i);return[this._radiusAxis.radiusToData(s[0],r),this._angleAxis.angleToData(s[1],r)]},n.prototype.pointToCoord=function(i){var r=i[0]-this.cx,s=i[1]-this.cy,u=this.getAngleAxis(),c=u.getExtent(),p=Math.min(c[0],c[1]),d=Math.max(c[0],c[1]);u.inverse?p=d-360:d=p+360;var m=Math.sqrt(r*r+s*s);r/=m,s/=m;for(var _=Math.atan2(-s,r)/Math.PI*180,S=_<p?1:-1;_<p||_>d;)_+=S*360;return[m,_]},n.prototype.coordToPoint=function(i){var r=i[0],s=i[1]/180*Math.PI,u=Math.cos(s)*r+this.cx,c=-Math.sin(s)*r+this.cy;return[u,c]},n.prototype.getArea=function(){var i=this.getAngleAxis(),r=this.getRadiusAxis(),s=r.getExtent().slice();s[0]>s[1]&&s.reverse();var u=i.getExtent(),c=Math.PI/180,p=1e-4;return{cx:this.cx,cy:this.cy,r0:s[0],r:s[1],startAngle:-u[0]*c,endAngle:-u[1]*c,clockwise:i.inverse,contain:function(d,m){var _=d-this.cx,S=m-this.cy,w=_*_+S*S,A=this.r,D=this.r0;return A!==D&&w-p<=A*A&&w+p>=D*D}}},n.prototype.convertToPixel=function(i,r,s){var u=DK(r);return u===this?this.dataToPoint(s):null},n.prototype.convertFromPixel=function(i,r,s){var u=DK(r);return u===this?this.pointToData(s):null},n}();function DK(n){var i=n.seriesModel,r=n.polarModel;return r&&r.coordinateSystem||i&&i.coordinateSystem}function APt(n,i,r){var s=i.get("center"),u=r.getWidth(),c=r.getHeight();n.cx=Wt(s[0],u),n.cy=Wt(s[1],c);var p=n.getRadiusAxis(),d=Math.min(u,c)/2,m=i.get("radius");m==null?m=[0,"100%"]:wt(m)||(m=[0,m]);var _=[Wt(m[0],d),Wt(m[1],d)];p.inverse?p.setExtent(_[1],_[0]):p.setExtent(_[0],_[1])}function CPt(n,i){var r=this,s=r.getAngleAxis(),u=r.getRadiusAxis();if(s.scale.setExtent(1/0,-1/0),u.scale.setExtent(1/0,-1/0),n.eachSeries(function(d){if(d.coordinateSystem===r){var m=d.getData();j(Rw(m,"radius"),function(_){u.scale.unionExtentFromData(m,_)}),j(Rw(m,"angle"),function(_){s.scale.unionExtentFromData(m,_)})}}),Bh(s.scale,s.model),Bh(u.scale,u.model),s.type==="category"&&!s.onBand){var c=s.getExtent(),p=360/s.scale.count();s.inverse?c[1]+=p:c[1]-=p,s.setExtent(c[0],c[1])}}function DPt(n){return n.mainType==="angleAxis"}function MK(n,i){var r;if(n.type=i.get("type"),n.scale=F0(i),n.onBand=i.get("boundaryGap")&&n.type==="category",n.inverse=i.get("inverse"),DPt(i)){n.inverse=n.inverse!==i.get("clockwise");var s=i.get("startAngle"),u=(r=i.get("endAngle"))!==null&&r!==void 0?r:s+(n.inverse?-360:360);n.setExtent(s,u)}i.axis=n,n.model=i}var MPt={dimensions:CK,create:function(n,i){var r=[];return n.eachComponent("polar",function(s,u){var c=new TPt(u+"");c.update=CPt;var p=c.getRadiusAxis(),d=c.getAngleAxis(),m=s.findAxisModel("radiusAxis"),_=s.findAxisModel("angleAxis");MK(p,m),MK(d,_),APt(c,s,i),r.push(c),s.coordinateSystem=c,c.model=s}),n.eachSeries(function(s){if(s.get("coordinateSystem")==="polar"){var u=s.getReferringComponents("polar",mi).models[0];if(!u)throw new Error('Polar "'+oi(s.get("polarIndex"),s.get("polarId"),0)+'" not found');s.coordinateSystem=u.coordinateSystem}}),r}},LPt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function xT(n,i,r){i[1]>i[0]&&(i=i.slice().reverse());var s=n.coordToPoint([i[0],r]),u=n.coordToPoint([i[1],r]);return{x1:s[0],y1:s[1],x2:u[0],y2:u[1]}}function ST(n){var i=n.getRadiusAxis();return i.inverse?0:1}function LK(n){var i=n[0],r=n[n.length-1];i&&r&&Math.abs(Math.abs(i.coord-r.coord)-360)<1e-4&&n.pop()}var IPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.axisPointerClass="PolarAxisPointer",r}return i.prototype.render=function(r,s){if(this.group.removeAll(),!!r.get("show")){var u=r.axis,c=u.polar,p=c.getRadiusAxis().getExtent(),d=u.getTicksCoords(),m=u.getMinorTicksCoords(),_=Tt(u.getViewLabels(),function(S){S=lt(S);var w=u.scale,A=w.type==="ordinal"?w.getRawOrdinalNumber(S.tickValue):S.tickValue;return S.coord=u.dataToCoord(A),S});LK(_),LK(d),j(LPt,function(S){r.get([S,"show"])&&(!u.scale.isBlank()||S==="axisLine")&&EPt[S](this.group,r,c,d,m,p,_)},this)}},i.type="angleAxis",i}($h),EPt={axisLine:function(n,i,r,s,u,c){var p=i.getModel(["axisLine","lineStyle"]),d=r.getAngleAxis(),m=Math.PI/180,_=d.getExtent(),S=ST(r),w=S?0:1,A,D=Math.abs(_[1]-_[0])===360?"Circle":"Arc";c[w]===0?A=new Th[D]({shape:{cx:r.cx,cy:r.cy,r:c[S],startAngle:-_[0]*m,endAngle:-_[1]*m,clockwise:d.inverse},style:p.getLineStyle(),z2:1,silent:!0}):A=new ld({shape:{cx:r.cx,cy:r.cy,r:c[S],r0:c[w]},style:p.getLineStyle(),z2:1,silent:!0}),A.style.fill=null,n.add(A)},axisTick:function(n,i,r,s,u,c){var p=i.getModel("axisTick"),d=(p.get("inside")?-1:1)*p.get("length"),m=c[ST(r)],_=Tt(s,function(S){return new Ti({shape:xT(r,[m,m+d],S.coord)})});n.add(zn(_,{style:dt(p.getModel("lineStyle").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,i,r,s,u,c){if(u.length){for(var p=i.getModel("axisTick"),d=i.getModel("minorTick"),m=(p.get("inside")?-1:1)*d.get("length"),_=c[ST(r)],S=[],w=0;w<u.length;w++)for(var A=0;A<u[w].length;A++)S.push(new Ti({shape:xT(r,[_,_+m],u[w][A].coord)}));n.add(zn(S,{style:dt(d.getModel("lineStyle").getLineStyle(),dt(p.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,i,r,s,u,c,p){var d=i.getCategories(!0),m=i.getModel("axisLabel"),_=m.get("margin"),S=i.get("triggerEvent");j(p,function(w,A){var D=m,L=w.tickValue,E=c[ST(r)],R=r.coordToPoint([E+_,w.coord]),k=r.cx,z=r.cy,B=Math.abs(R[0]-k)/E<.3?"center":R[0]>k?"left":"right",G=Math.abs(R[1]-z)/E<.3?"middle":R[1]>z?"top":"bottom";if(d&&d[L]){var W=d[L];re(W)&&W.textStyle&&(D=new sr(W.textStyle,m,m.ecModel))}var Y=new er({silent:Ua.isLabelSilent(i),style:Dr(D,{x:R[0],y:R[1],fill:D.getTextColor()||i.get(["axisLine","lineStyle","color"]),text:w.formattedLabel,align:B,verticalAlign:G})});if(n.add(Y),S){var q=Ua.makeAxisEventDataBase(i);q.targetType="axisLabel",q.value=w.rawLabel,Me(Y).eventData=q}},this)},splitLine:function(n,i,r,s,u,c){var p=i.getModel("splitLine"),d=p.getModel("lineStyle"),m=d.get("color"),_=0;m=m instanceof Array?m:[m];for(var S=[],w=0;w<s.length;w++){var A=_++%m.length;S[A]=S[A]||[],S[A].push(new Ti({shape:xT(r,c,s[w].coord)}))}for(var w=0;w<S.length;w++)n.add(zn(S[w],{style:dt({stroke:m[w%m.length]},d.getLineStyle()),silent:!0,z:i.get("z")}))},minorSplitLine:function(n,i,r,s,u,c){if(u.length){for(var p=i.getModel("minorSplitLine"),d=p.getModel("lineStyle"),m=[],_=0;_<u.length;_++)for(var S=0;S<u[_].length;S++)m.push(new Ti({shape:xT(r,c,u[_][S].coord)}));n.add(zn(m,{style:d.getLineStyle(),silent:!0,z:i.get("z")}))}},splitArea:function(n,i,r,s,u,c){if(s.length){var p=i.getModel("splitArea"),d=p.getModel("areaStyle"),m=d.get("color"),_=0;m=m instanceof Array?m:[m];for(var S=[],w=Math.PI/180,A=-s[0].coord*w,D=Math.min(c[0],c[1]),L=Math.max(c[0],c[1]),E=i.get("clockwise"),R=1,k=s.length;R<=k;R++){var z=R===k?s[0].coord:s[R].coord,B=_++%m.length;S[B]=S[B]||[],S[B].push(new ga({shape:{cx:r.cx,cy:r.cy,r0:D,r:L,startAngle:A,endAngle:-z*w,clockwise:E},silent:!0})),A=-z*w}for(var R=0;R<S.length;R++)n.add(zn(S[R],{style:dt({fill:m[R%m.length]},d.getAreaStyle()),silent:!0}))}}},PPt=["axisLine","axisTickLabel","axisName"],RPt=["splitLine","splitArea","minorSplitLine"],OPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.axisPointerClass="PolarAxisPointer",r}return i.prototype.render=function(r,s){if(this.group.removeAll(),!!r.get("show")){var u=this._axisGroup,c=this._axisGroup=new Te;this.group.add(c);var p=r.axis,d=p.polar,m=d.getAngleAxis(),_=p.getTicksCoords(),S=p.getMinorTicksCoords(),w=m.getExtent()[0],A=p.getExtent(),D=NPt(d,r,w),L=new Ua(r,D);j(PPt,L.add,L),c.add(L.getGroup()),v0(u,c,r),j(RPt,function(E){r.get([E,"show"])&&!p.scale.isBlank()&&kPt[E](this.group,r,d,w,A,_,S)},this)}},i.type="radiusAxis",i}($h),kPt={splitLine:function(n,i,r,s,u,c){var p=i.getModel("splitLine"),d=p.getModel("lineStyle"),m=d.get("color"),_=0,S=r.getAngleAxis(),w=Math.PI/180,A=S.getExtent(),D=Math.abs(A[1]-A[0])===360?"Circle":"Arc";m=m instanceof Array?m:[m];for(var L=[],E=0;E<c.length;E++){var R=_++%m.length;L[R]=L[R]||[],L[R].push(new Th[D]({shape:{cx:r.cx,cy:r.cy,r:Math.max(c[E].coord,0),startAngle:-A[0]*w,endAngle:-A[1]*w,clockwise:S.inverse}}))}for(var E=0;E<L.length;E++)n.add(zn(L[E],{style:dt({stroke:m[E%m.length],fill:null},d.getLineStyle()),silent:!0}))},minorSplitLine:function(n,i,r,s,u,c,p){if(p.length){for(var d=i.getModel("minorSplitLine"),m=d.getModel("lineStyle"),_=[],S=0;S<p.length;S++)for(var w=0;w<p[S].length;w++)_.push(new rl({shape:{cx:r.cx,cy:r.cy,r:p[S][w].coord}}));n.add(zn(_,{style:dt({fill:null},m.getLineStyle()),silent:!0}))}},splitArea:function(n,i,r,s,u,c){if(c.length){var p=i.getModel("splitArea"),d=p.getModel("areaStyle"),m=d.get("color"),_=0;m=m instanceof Array?m:[m];for(var S=[],w=c[0].coord,A=1;A<c.length;A++){var D=_++%m.length;S[D]=S[D]||[],S[D].push(new ga({shape:{cx:r.cx,cy:r.cy,r0:w,r:c[A].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),w=c[A].coord}for(var A=0;A<S.length;A++)n.add(zn(S[A],{style:dt({fill:m[A%m.length]},d.getAreaStyle()),silent:!0}))}}};function NPt(n,i,r){return{position:[n.cx,n.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:i.getModel("axisLabel").get("rotate"),z2:1}}function IK(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function EK(n,i){return i.dim+n.model.componentIndex}function zPt(n,i,r){var s={},u=VPt(jt(i.getSeriesByType(n),function(c){return!i.isSeriesFiltered(c)&&c.coordinateSystem&&c.coordinateSystem.type==="polar"}));i.eachSeriesByType(n,function(c){if(c.coordinateSystem.type==="polar"){var p=c.getData(),d=c.coordinateSystem,m=d.getBaseAxis(),_=EK(d,m),S=IK(c),w=u[_][S],A=w.offset,D=w.width,L=d.getOtherAxis(m),E=c.coordinateSystem.cx,R=c.coordinateSystem.cy,k=c.get("barMinHeight")||0,z=c.get("barMinAngle")||0;s[S]=s[S]||[];for(var B=p.mapDimension(L.dim),G=p.mapDimension(m.dim),W=au(p,B),Y=m.dim!=="radius"||!c.get("roundCap",!0),q=L.model,J=q.get("startValue"),tt=L.dataToCoord(J||0),et=0,it=p.count();et<it;et++){var ut=p.get(B,et),ct=p.get(G,et),ht=ut>=0?"p":"n",vt=tt;W&&(s[S][ct]||(s[S][ct]={p:tt,n:tt}),vt=s[S][ct][ht]);var gt=void 0,bt=void 0,St=void 0,Ct=void 0;if(L.dim==="radius"){var Ot=L.dataToCoord(ut)-tt,Vt=m.dataToCoord(ct);Math.abs(Ot)<k&&(Ot=(Ot<0?-1:1)*k),gt=vt,bt=vt+Ot,St=Vt-A,Ct=St-D,W&&(s[S][ct][ht]=bt)}else{var $t=L.dataToCoord(ut,Y)-tt,pe=m.dataToCoord(ct);Math.abs($t)<z&&($t=($t<0?-1:1)*z),gt=pe+A,bt=gt+D,St=vt,Ct=vt+$t,W&&(s[S][ct][ht]=Ct)}p.setItemLayout(et,{cx:E,cy:R,r0:gt,r:bt,startAngle:-St*Math.PI/180,endAngle:-Ct*Math.PI/180,clockwise:St>=Ct})}}})}function VPt(n){var i={};j(n,function(s,u){var c=s.getData(),p=s.coordinateSystem,d=p.getBaseAxis(),m=EK(p,d),_=d.getExtent(),S=d.type==="category"?d.getBandWidth():Math.abs(_[1]-_[0])/c.count(),w=i[m]||{bandWidth:S,remainedWidth:S,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},A=w.stacks;i[m]=w;var D=IK(s);A[D]||w.autoWidthCount++,A[D]=A[D]||{width:0,maxWidth:0};var L=Wt(s.get("barWidth"),S),E=Wt(s.get("barMaxWidth"),S),R=s.get("barGap"),k=s.get("barCategoryGap");L&&!A[D].width&&(L=Math.min(w.remainedWidth,L),A[D].width=L,w.remainedWidth-=L),E&&(A[D].maxWidth=E),R!=null&&(w.gap=R),k!=null&&(w.categoryGap=k)});var r={};return j(i,function(s,u){r[u]={};var c=s.stacks,p=s.bandWidth,d=Wt(s.categoryGap,p),m=Wt(s.gap,1),_=s.remainedWidth,S=s.autoWidthCount,w=(_-d)/(S+(S-1)*m);w=Math.max(w,0),j(c,function(E,R){var k=E.maxWidth;k&&k<w&&(k=Math.min(k,_),E.width&&(k=Math.min(k,E.width)),_-=k,E.width=k,S--)}),w=(_-d)/(S+(S-1)*m),w=Math.max(w,0);var A=0,D;j(c,function(E,R){E.width||(E.width=w),D=E,A+=E.width*(1+m)}),D&&(A-=D.width*m);var L=-A/2;j(c,function(E,R){r[u][R]=r[u][R]||{offset:L,width:E.width},L+=E.width*(1+m)})}),r}var BPt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},FPt={splitNumber:5},UPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="polar",i}(Pr);function GPt(n){Ye(y_),$h.registerAxisPointerClass("PolarAxisPointer",mPt),n.registerCoordinateSystem("polar",MPt),n.registerComponentModel(xPt),n.registerComponentView(UPt),Ud(n,"angle",SPt,BPt),Ud(n,"radius",bPt,FPt),n.registerComponentView(IPt),n.registerComponentView(OPt),n.registerLayout(ee(zPt,"bar"))}function pk(n,i){i=i||{};var r=n.coordinateSystem,s=n.axis,u={},c=s.position,p=s.orient,d=r.getRect(),m=[d.x,d.x+d.width,d.y,d.y+d.height],_={horizontal:{top:m[2],bottom:m[3]},vertical:{left:m[0],right:m[1]}};u.position=[p==="vertical"?_.vertical[c]:m[0],p==="horizontal"?_.horizontal[c]:m[3]];var S={horizontal:0,vertical:1};u.rotation=Math.PI/2*S[p];var w={top:-1,bottom:1,right:1,left:-1};u.labelDirection=u.tickDirection=u.nameDirection=w[c],n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),oi(i.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var A=i.rotate;return A==null&&(A=n.get(["axisLabel","rotate"])),u.labelRotation=c==="top"?-A:A,u.z2=1,u}var HPt=["axisLine","axisTickLabel","axisName"],WPt=["splitArea","splitLine"],YPt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.axisPointerClass="SingleAxisPointer",r}return i.prototype.render=function(r,s,u,c){var p=this.group;p.removeAll();var d=this._axisGroup;this._axisGroup=new Te;var m=pk(r),_=new Ua(r,m);j(HPt,_.add,_),p.add(this._axisGroup),p.add(_.getGroup()),j(WPt,function(S){r.get([S,"show"])&&ZPt[S](this,this.group,this._axisGroup,r)},this),v0(d,this._axisGroup,r),n.prototype.render.call(this,r,s,u,c)},i.prototype.remove=function(){KZ(this)},i.type="singleAxis",i}($h),ZPt={splitLine:function(n,i,r,s){var u=s.axis;if(!u.scale.isBlank()){var c=s.getModel("splitLine"),p=c.getModel("lineStyle"),d=p.get("color");d=d instanceof Array?d:[d];for(var m=p.get("width"),_=s.coordinateSystem.getRect(),S=u.isHorizontal(),w=[],A=0,D=u.getTicksCoords({tickModel:c}),L=[],E=[],R=0;R<D.length;++R){var k=u.toGlobalCoord(D[R].coord);S?(L[0]=k,L[1]=_.y,E[0]=k,E[1]=_.y+_.height):(L[0]=_.x,L[1]=k,E[0]=_.x+_.width,E[1]=k);var z=new Ti({shape:{x1:L[0],y1:L[1],x2:E[0],y2:E[1]},silent:!0});pd(z.shape,m);var B=A++%d.length;w[B]=w[B]||[],w[B].push(z)}for(var G=p.getLineStyle(["color"]),R=0;R<w.length;++R)i.add(zn(w[R],{style:dt({stroke:d[R%d.length]},G),silent:!0}))}},splitArea:function(n,i,r,s){$Z(n,r,s,s)}},bT=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.getCoordSysModel=function(){return this},i.type="singleAxis",i.layoutMode="box",i.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},i}(We);qt(bT,zd.prototype);var XPt=function(n){e(i,n);function i(r,s,u,c,p){var d=n.call(this,r,s,u)||this;return d.type=c||"value",d.position=p||"bottom",d}return i.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},i.prototype.pointToData=function(r,s){return this.coordinateSystem.pointToData(r)[0]},i}(So),PK=["single"],qPt=function(){function n(i,r,s){this.type="single",this.dimension="single",this.dimensions=PK,this.axisPointerEnabled=!0,this.model=i,this._init(i,r,s)}return n.prototype._init=function(i,r,s){var u=this.dimension,c=new XPt(u,F0(i),[0,0],i.get("type"),i.get("position")),p=c.type==="category";c.onBand=p&&i.get("boundaryGap"),c.inverse=i.get("inverse"),c.orient=i.get("orient"),i.axis=c,c.model=i,c.coordinateSystem=this,this._axis=c},n.prototype.update=function(i,r){i.eachSeries(function(s){if(s.coordinateSystem===this){var u=s.getData();j(u.mapDimensionsAll(this.dimension),function(c){this._axis.scale.unionExtentFromData(u,c)},this),Bh(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(i,r){this._rect=yi({left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var i=this._rect,r=this._axis,s=r.isHorizontal(),u=s?[0,i.width]:[0,i.height],c=r.inverse?1:0;r.setExtent(u[c],u[1-c]),this._updateAxisTransform(r,s?i.x:i.y)},n.prototype._updateAxisTransform=function(i,r){var s=i.getExtent(),u=s[0]+s[1],c=i.isHorizontal();i.toGlobalCoord=c?function(p){return p+r}:function(p){return u-p+r},i.toLocalCoord=c?function(p){return p-r}:function(p){return u-p+r}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(i){var r=this.getRect(),s=this.getAxis(),u=s.orient;return u==="horizontal"?s.contain(s.toLocalCoord(i[0]))&&i[1]>=r.y&&i[1]<=r.y+r.height:s.contain(s.toLocalCoord(i[1]))&&i[0]>=r.y&&i[0]<=r.y+r.height},n.prototype.pointToData=function(i){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(i[r.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(i){var r=this.getAxis(),s=this.getRect(),u=[],c=r.orient==="horizontal"?0:1;return i instanceof Array&&(i=i[0]),u[c]=r.toGlobalCoord(r.dataToCoord(+i)),u[1-c]=c===0?s.y+s.height/2:s.x+s.width/2,u},n.prototype.convertToPixel=function(i,r,s){var u=RK(r);return u===this?this.dataToPoint(s):null},n.prototype.convertFromPixel=function(i,r,s){var u=RK(r);return u===this?this.pointToData(s):null},n}();function RK(n){var i=n.seriesModel,r=n.singleAxisModel;return r&&r.coordinateSystem||i&&i.coordinateSystem}function $Pt(n,i){var r=[];return n.eachComponent("singleAxis",function(s,u){var c=new qPt(s,n,i);c.name="single_"+u,c.resize(s,i),s.coordinateSystem=c,r.push(c)}),n.eachSeries(function(s){if(s.get("coordinateSystem")==="singleAxis"){var u=s.getReferringComponents("singleAxis",mi).models[0];s.coordinateSystem=u&&u.coordinateSystem}}),r}var KPt={create:$Pt,dimensions:PK},OK=["x","y"],jPt=["width","height"],JPt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.makeElOption=function(r,s,u,c,p){var d=u.axis,m=d.coordinateSystem,_=vk(m,1-wT(d)),S=m.dataToPoint(s)[0],w=c.get("type");if(w&&w!=="none"){var A=ok(c),D=QPt[w](d,S,_);D.style=A,r.graphicKey=D.type,r.pointer=D}var L=pk(u);dK(s,r,L,u,c,p)},i.prototype.getHandleTransform=function(r,s,u){var c=pk(s,{labelInside:!1});c.labelMargin=u.get(["handle","margin"]);var p=sk(s.axis,r,c);return{x:p[0],y:p[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(r,s,u,c){var p=u.axis,d=p.coordinateSystem,m=wT(p),_=vk(d,m),S=[r.x,r.y];S[m]+=s[m],S[m]=Math.min(_[1],S[m]),S[m]=Math.max(_[0],S[m]);var w=vk(d,1-m),A=(w[1]+w[0])/2,D=[A,A];return D[m]=S[m],{x:S[0],y:S[1],rotation:r.rotation,cursorPoint:D,tooltipOption:{verticalAlign:"middle"}}},i}(ak),QPt={line:function(n,i,r){var s=lk([i,r[0]],[i,r[1]],wT(n));return{type:"Line",subPixelOptimize:!0,shape:s}},shadow:function(n,i,r){var s=n.getBandWidth(),u=r[1]-r[0];return{type:"Rect",shape:gK([i-s/2,r[0]],[s,u],wT(n))}}};function wT(n){return n.isHorizontal()?0:1}function vk(n,i){var r=n.getRect();return[r[OK[i]],r[OK[i]]+r[jPt[i]]]}var t2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="single",i}(Pr);function e2t(n){Ye(y_),$h.registerAxisPointerClass("SingleAxisPointer",JPt),n.registerComponentView(t2t),n.registerComponentView(YPt),n.registerComponentModel(bT),Ud(n,"single",bT,bT.defaultOption),n.registerCoordinateSystem("single",KPt)}var r2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s,u){var c=xd(r);n.prototype.init.apply(this,arguments),kK(r,c)},i.prototype.mergeOption=function(r){n.prototype.mergeOption.apply(this,arguments),kK(this.option,r)},i.prototype.getCellSize=function(){return this.option.cellSize},i.type="calendar",i.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},i}(We);function kK(n,i){var r=n.cellSize,s;wt(r)?s=r:s=n.cellSize=[r,r],s.length===1&&(s[1]=s[0]);var u=Tt([0,1],function(c){return axt(i,c)&&(s[c]="auto"),s[c]!=null&&s[c]!=="auto"});Sf(n,i,{type:"box",ignoreSize:u})}var i2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){var c=this.group;c.removeAll();var p=r.coordinateSystem,d=p.getRangeInfo(),m=p.getOrient(),_=s.getLocaleModel();this._renderDayRect(r,d,c),this._renderLines(r,d,m,c),this._renderYearText(r,d,m,c),this._renderMonthText(r,_,m,c),this._renderWeekText(r,_,d,m,c)},i.prototype._renderDayRect=function(r,s,u){for(var c=r.coordinateSystem,p=r.getModel("itemStyle").getItemStyle(),d=c.getCellWidth(),m=c.getCellHeight(),_=s.start.time;_<=s.end.time;_=c.getNextNDay(_,1).time){var S=c.dataToRect([_],!1).tl,w=new tr({shape:{x:S[0],y:S[1],width:d,height:m},cursor:"default",style:p});u.add(w)}},i.prototype._renderLines=function(r,s,u,c){var p=this,d=r.coordinateSystem,m=r.getModel(["splitLine","lineStyle"]).getLineStyle(),_=r.get(["splitLine","show"]),S=m.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var w=s.start,A=0;w.time<=s.end.time;A++){L(w.formatedDate),A===0&&(w=d.getDateInfo(s.start.y+"-"+s.start.m));var D=w.date;D.setMonth(D.getMonth()+1),w=d.getDateInfo(D)}L(d.getNextNDay(s.end.time,1).formatedDate);function L(E){p._firstDayOfMonth.push(d.getDateInfo(E)),p._firstDayPoints.push(d.dataToRect([E],!1).tl);var R=p._getLinePointsOfOneWeek(r,E,u);p._tlpoints.push(R[0]),p._blpoints.push(R[R.length-1]),_&&p._drawSplitline(R,m,c)}_&&this._drawSplitline(p._getEdgesPoints(p._tlpoints,S,u),m,c),_&&this._drawSplitline(p._getEdgesPoints(p._blpoints,S,u),m,c)},i.prototype._getEdgesPoints=function(r,s,u){var c=[r[0].slice(),r[r.length-1].slice()],p=u==="horizontal"?0:1;return c[0][p]=c[0][p]-s/2,c[1][p]=c[1][p]+s/2,c},i.prototype._drawSplitline=function(r,s,u){var c=new ya({z2:20,shape:{points:r},style:s});u.add(c)},i.prototype._getLinePointsOfOneWeek=function(r,s,u){for(var c=r.coordinateSystem,p=c.getDateInfo(s),d=[],m=0;m<7;m++){var _=c.getNextNDay(p.time,m),S=c.dataToRect([_.time],!1);d[2*_.day]=S.tl,d[2*_.day+1]=S[u==="horizontal"?"bl":"tr"]}return d},i.prototype._formatterLabel=function(r,s){return kt(r)&&r?txt(r,s):Gt(r)?r(s):s.nameMap},i.prototype._yearTextPositionControl=function(r,s,u,c,p){var d=s[0],m=s[1],_=["center","bottom"];c==="bottom"?(m+=p,_=["center","top"]):c==="left"?d-=p:c==="right"?(d+=p,_=["center","top"]):m-=p;var S=0;return(c==="left"||c==="right")&&(S=Math.PI/2),{rotation:S,x:d,y:m,style:{align:_[0],verticalAlign:_[1]}}},i.prototype._renderYearText=function(r,s,u,c){var p=r.getModel("yearLabel");if(p.get("show")){var d=p.get("margin"),m=p.get("position");m||(m=u!=="horizontal"?"top":"left");var _=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],S=(_[0][0]+_[1][0])/2,w=(_[0][1]+_[1][1])/2,A=u==="horizontal"?0:1,D={top:[S,_[A][1]],bottom:[S,_[1-A][1]],left:[_[1-A][0],w],right:[_[A][0],w]},L=s.start.y;+s.end.y>+s.start.y&&(L=L+"-"+s.end.y);var E=p.get("formatter"),R={start:s.start.y,end:s.end.y,nameMap:L},k=this._formatterLabel(E,R),z=new er({z2:30,style:Dr(p,{text:k}),silent:p.get("silent")});z.attr(this._yearTextPositionControl(z,D[m],u,m,d)),c.add(z)}},i.prototype._monthTextPositionControl=function(r,s,u,c,p){var d="left",m="top",_=r[0],S=r[1];return u==="horizontal"?(S=S+p,s&&(d="center"),c==="start"&&(m="bottom")):(_=_+p,s&&(m="middle"),c==="start"&&(d="right")),{x:_,y:S,align:d,verticalAlign:m}},i.prototype._renderMonthText=function(r,s,u,c){var p=r.getModel("monthLabel");if(p.get("show")){var d=p.get("nameMap"),m=p.get("margin"),_=p.get("position"),S=p.get("align"),w=[this._tlpoints,this._blpoints];(!d||kt(d))&&(d&&(s=CP(d)||s),d=s.get(["time","monthAbbr"])||[]);var A=_==="start"?0:1,D=u==="horizontal"?0:1;m=_==="start"?-m:m;for(var L=S==="center",E=p.get("silent"),R=0;R<w[A].length-1;R++){var k=w[A][R].slice(),z=this._firstDayOfMonth[R];if(L){var B=this._firstDayPoints[R];k[D]=(B[D]+w[0][R+1][D])/2}var G=p.get("formatter"),W=d[+z.m-1],Y={yyyy:z.y,yy:(z.y+"").slice(2),MM:z.m,M:+z.m,nameMap:W},q=this._formatterLabel(G,Y),J=new er({z2:30,style:st(Dr(p,{text:q}),this._monthTextPositionControl(k,L,u,_,m)),silent:E});c.add(J)}}},i.prototype._weekTextPositionControl=function(r,s,u,c,p){var d="center",m="middle",_=r[0],S=r[1],w=u==="start";return s==="horizontal"?(_=_+c+(w?1:-1)*p[0]/2,d=w?"right":"left"):(S=S+c+(w?1:-1)*p[1]/2,m=w?"bottom":"top"),{x:_,y:S,align:d,verticalAlign:m}},i.prototype._renderWeekText=function(r,s,u,c,p){var d=r.getModel("dayLabel");if(d.get("show")){var m=r.coordinateSystem,_=d.get("position"),S=d.get("nameMap"),w=d.get("margin"),A=m.getFirstDayOfWeek();if(!S||kt(S)){S&&(s=CP(S)||s);var D=s.get(["time","dayOfWeekShort"]);S=D||Tt(s.get(["time","dayOfWeekAbbr"]),function(Y){return Y[0]})}var L=m.getNextNDay(u.end.time,7-u.lweek).time,E=[m.getCellWidth(),m.getCellHeight()];w=Wt(w,Math.min(E[1],E[0])),_==="start"&&(L=m.getNextNDay(u.start.time,-(7+u.fweek)).time,w=-w);for(var R=d.get("silent"),k=0;k<7;k++){var z=m.getNextNDay(L,k),B=m.dataToRect([z.time],!1).center,G=k;G=Math.abs((k+A)%7);var W=new er({z2:30,style:st(Dr(d,{text:S[G]}),this._weekTextPositionControl(B,c,_,w,E)),silent:R});p.add(W)}}},i.type="calendar",i}(Pr),dk=864e5,a2t=function(){function n(i,r,s){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=i}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(i){i=kn(i);var r=i.getFullYear(),s=i.getMonth()+1,u=s<10?"0"+s:""+s,c=i.getDate(),p=c<10?"0"+c:""+c,d=i.getDay();return d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:r+"",m:u,d:p,day:d,time:i.getTime(),formatedDate:r+"-"+u+"-"+p,date:i}},n.prototype.getNextNDay=function(i,r){return r=r||0,r===0?this.getDateInfo(i):(i=new Date(this.getDateInfo(i).time),i.setDate(i.getDate()+r),this.getDateInfo(i))},n.prototype.update=function(i,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var s=this._rangeInfo.weeks||1,u=["width","height"],c=this._model.getCellSize().slice(),p=this._model.getBoxLayoutParams(),d=this._orient==="horizontal"?[s,7]:[7,s];j([0,1],function(w){S(c,w)&&(p[u[w]]=c[w]*d[w])});var m={width:r.getWidth(),height:r.getHeight()},_=this._rect=yi(p,m);j([0,1],function(w){S(c,w)||(c[w]=_[u[w]]/d[w])});function S(w,A){return w[A]!=null&&w[A]!=="auto"}this._sw=c[0],this._sh=c[1]},n.prototype.dataToPoint=function(i,r){wt(i)&&(i=i[0]),r==null&&(r=!0);var s=this.getDateInfo(i),u=this._rangeInfo,c=s.formatedDate;if(r&&!(s.time>=u.start.time&&s.time<u.end.time+dk))return[NaN,NaN];var p=s.day,d=this._getRangeInfo([u.start.time,c]).nthWeek;return this._orient==="vertical"?[this._rect.x+p*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]:[this._rect.x+d*this._sw+this._sw/2,this._rect.y+p*this._sh+this._sh/2]},n.prototype.pointToData=function(i){var r=this.pointToDate(i);return r&&r.time},n.prototype.dataToRect=function(i,r){var s=this.dataToPoint(i,r);return{contentShape:{x:s[0]-(this._sw-this._lineWidth)/2,y:s[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:s,tl:[s[0]-this._sw/2,s[1]-this._sh/2],tr:[s[0]+this._sw/2,s[1]-this._sh/2],br:[s[0]+this._sw/2,s[1]+this._sh/2],bl:[s[0]-this._sw/2,s[1]+this._sh/2]}},n.prototype.pointToDate=function(i){var r=Math.floor((i[0]-this._rect.x)/this._sw)+1,s=Math.floor((i[1]-this._rect.y)/this._sh)+1,u=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(s,r-1,u):this._getDateByWeeksAndDay(r,s-1,u)},n.prototype.convertToPixel=function(i,r,s){var u=NK(r);return u===this?u.dataToPoint(s):null},n.prototype.convertFromPixel=function(i,r,s){var u=NK(r);return u===this?u.pointToData(s):null},n.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var i=this._model.get("range"),r;if(wt(i)&&i.length===1&&(i=i[0]),wt(i))r=i;else{var s=i.toString();if(/^\d{4}$/.test(s)&&(r=[s+"-01-01",s+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(s)){var u=this.getDateInfo(s),c=u.date;c.setMonth(c.getMonth()+1);var p=this.getNextNDay(c,-1);r=[u.formatedDate,p.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(s)&&(r=[s,s])}if(!r)return ft("Invalid date range."),i;var d=this._getRangeInfo(r);return d.start.time>d.end.time&&r.reverse(),r},n.prototype._getRangeInfo=function(i){var r=[this.getDateInfo(i[0]),this.getDateInfo(i[1])],s;r[0].time>r[1].time&&(s=!0,r.reverse());var u=Math.floor(r[1].time/dk)-Math.floor(r[0].time/dk)+1,c=new Date(r[0].time),p=c.getDate(),d=r[1].date.getDate();c.setDate(p+u-1);var m=c.getDate();if(m!==d)for(var _=c.getTime()-r[1].time>0?1:-1;(m=c.getDate())!==d&&(c.getTime()-r[1].time)*_>0;)u-=_,c.setDate(m-_);var S=Math.floor((u+r[0].day+6)/7),w=s?-S+1:S-1;return s&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:u,weeks:S,nthWeek:w,fweek:r[0].day,lweek:r[1].day}},n.prototype._getDateByWeeksAndDay=function(i,r,s){var u=this._getRangeInfo(s);if(i>u.weeks||i===0&&r<u.fweek||i===u.weeks&&r>u.lweek)return null;var c=(i-1)*7-u.fweek+r,p=new Date(u.start.time);return p.setDate(+u.start.d+c),this.getDateInfo(p)},n.create=function(i,r){var s=[];return i.eachComponent("calendar",function(u){var c=new n(u,i,r);s.push(c),u.coordinateSystem=c}),i.eachSeries(function(u){u.get("coordinateSystem")==="calendar"&&(u.coordinateSystem=s[u.get("calendarIndex")||0])}),s},n.dimensions=["time","value"],n}();function NK(n){var i=n.calendarModel,r=n.seriesModel,s=i?i.coordinateSystem:r?r.coordinateSystem:null;return s}function n2t(n){n.registerComponentModel(r2t),n.registerComponentView(i2t),n.registerCoordinateSystem("calendar",a2t)}function o2t(n,i){var r=n.existing;if(i.id=n.keyInfo.id,!i.type&&r&&(i.type=r.type),i.parentId==null){var s=i.parentOption;s?i.parentId=s.id:r&&(i.parentId=r.parentId)}i.parentOption=null}function zK(n,i){var r;return j(i,function(s){n[s]!=null&&n[s]!=="auto"&&(r=!0)}),r}function s2t(n,i,r){var s=st({},r),u=n[i],c=r.$action||"merge";if(c==="merge")if(u){var p=r.type;de(!p||u.type===p,'Please set $action: "replace" to change `type`'),pt(u,s,!0),Sf(u,s,{ignoreSize:!0}),dY(r,u),TT(r,u),TT(r,u,"shape"),TT(r,u,"style"),TT(r,u,"extra"),r.clipPath=u.clipPath}else n[i]=s;else c==="replace"?n[i]=s:c==="remove"&&u&&(n[i]=null)}var VK=["transition","enterFrom","leaveTo"],l2t=VK.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function TT(n,i,r){if(r&&(!n[r]&&i[r]&&(n[r]={}),n=n[r],i=i[r]),!(!n||!i))for(var s=r?VK:l2t,u=0;u<s.length;u++){var c=s[u];n[c]==null&&i[c]!=null&&(n[c]=i[c])}}function u2t(n,i){if(n&&(n.hv=i.hv=[zK(i,["left","right"]),zK(i,["top","bottom"])],n.type==="group")){var r=n,s=i;r.width==null&&(r.width=s.width=0),r.height==null&&(r.height=s.height=0)}}var f2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.preventAutoZ=!0,r}return i.prototype.mergeOption=function(r,s){var u=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,r,s),this.option.elements=u},i.prototype.optionUpdated=function(r,s){var u=this.option,c=(s?u:r).elements,p=u.elements=s?[]:u.elements,d=[];this._flatten(c,d,null);var m=T4(p,d,"normalMerge"),_=this._elOptionsToUpdate=[];j(m,function(S,w){var A=S.newOption;de(re(A)||S.existing,"Empty graphic option definition"),A&&(_.push(A),o2t(S,A),s2t(p,w,A),u2t(p[w],A))},this),u.elements=jt(p,function(S){return S&&delete S.$action,S!=null})},i.prototype._flatten=function(r,s,u){j(r,function(c){if(c){u&&(c.parentOption=u),s.push(c);var p=c.children;p&&p.length&&this._flatten(p,s,c),delete c.children}},this)},i.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},i.type="graphic",i.defaultOption={elements:[]},i}(We),BK={path:null,compoundPath:null,group:Te,image:Ni,text:er},Co=rr(),c2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(){this._elMap=le()},i.prototype.render=function(r,s,u){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,u)},i.prototype._updateElements=function(r){var s=r.useElOptionsToUpdate();if(s){var u=this._elMap,c=this.group,p=r.get("z"),d=r.get("zlevel");j(s,function(m){var _=wi(m.id,null),S=_!=null?u.get(_):null,w=wi(m.parentId,null),A=w!=null?u.get(w):c,D=m.type,L=m.style;D==="text"&&L&&m.hv&&m.hv[1]&&(L.textVerticalAlign=L.textBaseline=L.verticalAlign=L.align=null);var E=m.textContent,R=m.textConfig;if(L&&B$(L,D,!!R,!!E)){var k=F$(L,D,!0);!R&&k.textConfig&&(R=m.textConfig=k.textConfig),!E&&k.textContent&&(E=k.textContent)}var z=h2t(m);S&&de(A===S.parent,"Changing parent is not supported.");var B=m.$action||"merge",G=B==="merge",W=B==="replace";if(G){var Y=!S,q=S;Y?q=FK(_,A,m.type,u):(q&&(Co(q).isNew=!1),Q$(q)),q&&(vT(q,z,r,{isInit:Y}),UK(q,m,p,d))}else if(W){AT(S,m,u,r);var J=FK(_,A,m.type,u);J&&(vT(J,z,r,{isInit:!0}),UK(J,m,p,d))}else B==="remove"&&(q$(S,m),AT(S,m,u,r));var tt=u.get(_);if(tt&&E)if(G){var et=tt.getTextContent();et?et.attr(E):tt.setTextContent(new er(E))}else W&&tt.setTextContent(new er(E));if(tt){var it=m.clipPath;if(it){var ut=it.type,ct=void 0,Y=!1;if(G){var ht=tt.getClipPath();Y=!ht||Co(ht).type!==ut,ct=Y?gk(ut):ht}else W&&(Y=!0,ct=gk(ut));tt.setClipPath(ct),vT(ct,it,r,{isInit:Y}),gT(ct,it.keyframeAnimation,r)}var vt=Co(tt);tt.setTextConfig(R),vt.option=m,p2t(tt,r,m),wh({el:tt,componentModel:r,itemName:tt.name,itemTooltipOption:m.tooltip}),gT(tt,m.keyframeAnimation,r)}})}},i.prototype._relocate=function(r,s){for(var u=r.option.elements,c=this.group,p=this._elMap,d=s.getWidth(),m=s.getHeight(),_=["x","y"],S=0;S<u.length;S++){var w=u[S],A=wi(w.id,null),D=A!=null?p.get(A):null;if(!(!D||!D.isGroup)){var L=D.parent,E=L===c,R=Co(D),k=Co(L);R.width=Wt(R.option.width,E?d:k.width)||0,R.height=Wt(R.option.height,E?m:k.height)||0}}for(var S=u.length-1;S>=0;S--){var w=u[S],A=wi(w.id,null),D=A!=null?p.get(A):null;if(D){var L=D.parent,k=Co(L),z=L===c?{width:d,height:m}:{width:k.width,height:k.height},B={},G=K1(D,w,z,null,{hv:w.hv,boundingMode:w.bounding},B);if(!Co(D).isNew&&G){for(var W=w.transition,Y={},q=0;q<_.length;q++){var J=_[q],tt=B[J];W&&(ap(W)||At(W,J)>=0)?Y[J]=tt:D[J]=tt}ir(D,Y,r,0)}else D.attr(B)}}},i.prototype._clear=function(){var r=this,s=this._elMap;s.each(function(u){AT(u,Co(u).option,s,r._lastGraphicModel)}),this._elMap=le()},i.prototype.dispose=function(){this._clear()},i.type="graphic",i}(Pr);function gk(n){de(n,"graphic type MUST be set");var i=Jt(BK,n)?BK[n]:N1(n);de(i,"graphic type "+n+" can not be found");var r=new i({});return Co(r).type=n,r}function FK(n,i,r,s){var u=gk(r);return i.add(u),s.set(n,u),Co(u).id=n,Co(u).isNew=!0,u}function AT(n,i,r,s){var u=n&&n.parent;u&&(n.type==="group"&&n.traverse(function(c){AT(c,i,r,s)}),dT(n,i,s),r.removeKey(Co(n).id))}function UK(n,i,r,s){n.isGroup||j([["cursor",co.prototype.cursor],["zlevel",s||0],["z",r||0],["z2",0]],function(u){var c=u[0];Jt(i,c)?n[c]=De(i[c],u[1]):n[c]==null&&(n[c]=u[1])}),j(Xt(i),function(u){if(u.indexOf("on")===0){var c=i[u];n[u]=Gt(c)?c:null}}),Jt(i,"draggable")&&(n.draggable=i.draggable),i.name!=null&&(n.name=i.name),i.id!=null&&(n.id=i.id)}function h2t(n){return n=st({},n),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(vY),function(i){delete n[i]}),n}function p2t(n,i,r){var s=Me(n).eventData;!n.silent&&!n.ignore&&!s&&(s=Me(n).eventData={componentType:"graphic",componentIndex:i.componentIndex,name:n.name}),s&&(s.info=r.info)}function v2t(n){n.registerComponentModel(f2t),n.registerComponentView(c2t),n.registerPreprocessor(function(i){var r=i.graphic;wt(r)?!r[0]||!r[0].elements?i.graphic=[{elements:r}]:i.graphic=[i.graphic[0]]:r&&!r.elements&&(i.graphic=[{elements:[r]}])})}var GK=["x","y","radius","angle","single"],d2t=["cartesian2d","polar","singleAxis"];function g2t(n){var i=n.get("coordinateSystem");return At(d2t,i)>=0}function kf(n){return de(n),n+"Axis"}function m2t(n,i){var r=le(),s=[],u=le();n.eachComponent({mainType:"dataZoom",query:i},function(S){u.get(S.uid)||d(S)});var c;do c=!1,n.eachComponent("dataZoom",p);while(c);function p(S){!u.get(S.uid)&&m(S)&&(d(S),c=!0)}function d(S){u.set(S.uid,!0),s.push(S),_(S)}function m(S){var w=!1;return S.eachTargetAxis(function(A,D){var L=r.get(A);L&&L[D]&&(w=!0)}),w}function _(S){S.eachTargetAxis(function(w,A){(r.get(w)||r.set(w,[]))[A]=!0})}return s}function HK(n){var i=n.ecModel,r={infoList:[],infoMap:le()};return n.eachTargetAxis(function(s,u){var c=i.getComponent(kf(s),u);if(c){var p=c.getCoordSysModel();if(p){var d=p.uid,m=r.infoMap.get(d);m||(m={model:p,axisModels:[]},r.infoList.push(m),r.infoMap.set(d,m)),m.axisModels.push(c)}}}),r}var mk=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(i){this.indexMap[i]||(this.indexList.push(i),this.indexMap[i]=!0)},n}(),__=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return i.prototype.init=function(r,s,u){var c=WK(r);this.settledOption=c,this.mergeDefaultAndTheme(r,u),this._doInit(c)},i.prototype.mergeOption=function(r){var s=WK(r);pt(this.option,r,!0),pt(this.settledOption,s,!0),this._doInit(s)},i.prototype._doInit=function(r){var s=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var u=this.settledOption;j([["start","startValue"],["end","endValue"]],function(c,p){this._rangePropMode[p]==="value"&&(s[c[0]]=u[c[0]]=null)},this),this._resetTarget()},i.prototype._resetTarget=function(){var r=this.get("orient",!0),s=this._targetAxisInfoMap=le(),u=this._fillSpecifiedTargetAxis(s);u?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(s,this._orient)),this._noTarget=!0,s.each(function(c){c.indexList.length&&(this._noTarget=!1)},this)},i.prototype._fillSpecifiedTargetAxis=function(r){var s=!1;return j(GK,function(u){var c=this.getReferringComponents(kf(u),Zyt);if(c.specified){s=!0;var p=new mk;j(c.models,function(d){p.add(d.componentIndex)}),r.set(u,p)}},this),s},i.prototype._fillAutoTargetAxisByOrient=function(r,s){var u=this.ecModel,c=!0;if(c){var p=s==="vertical"?"y":"x",d=u.findComponents({mainType:p+"Axis"});m(d,p)}if(c){var d=u.findComponents({mainType:"singleAxis",filter:function(S){return S.get("orient",!0)===s}});m(d,"single")}function m(_,S){var w=_[0];if(w){var A=new mk;if(A.add(w.componentIndex),r.set(S,A),c=!1,S==="x"||S==="y"){var D=w.getReferringComponents("grid",mi).models[0];D&&j(_,function(L){w.componentIndex!==L.componentIndex&&D===L.getReferringComponents("grid",mi).models[0]&&A.add(L.componentIndex)})}}}c&&j(GK,function(_){if(c){var S=u.findComponents({mainType:kf(_),filter:function(A){return A.get("type",!0)==="category"}});if(S[0]){var w=new mk;w.add(S[0].componentIndex),r.set(_,w),c=!1}}},this)},i.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(s){!r&&(r=s)},this),r==="y"?"vertical":"horizontal"},i.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var s=this.ecModel.option;this.option.throttle=s.animation&&s.animationDurationUpdate>0?100:20}},i.prototype._updateRangeUse=function(r){var s=this._rangePropMode,u=this.get("rangeMode");j([["start","startValue"],["end","endValue"]],function(c,p){var d=r[c[0]]!=null,m=r[c[1]]!=null;d&&!m?s[p]="percent":!d&&m?s[p]="value":u?s[p]=u[p]:d&&(s[p]="percent")})},i.prototype.noTarget=function(){return this._noTarget},i.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(s,u){r==null&&(r=this.ecModel.getComponent(kf(s),u))},this),r},i.prototype.eachTargetAxis=function(r,s){this._targetAxisInfoMap.each(function(u,c){j(u.indexList,function(p){r.call(s,c,p)})})},i.prototype.getAxisProxy=function(r,s){var u=this.getAxisModel(r,s);if(u)return u.__dzAxisProxy},i.prototype.getAxisModel=function(r,s){de(r&&s!=null);var u=this._targetAxisInfoMap.get(r);if(u&&u.indexMap[s])return this.ecModel.getComponent(kf(r),s)},i.prototype.setRawRange=function(r){var s=this.option,u=this.settledOption;j([["start","startValue"],["end","endValue"]],function(c){(r[c[0]]!=null||r[c[1]]!=null)&&(s[c[0]]=u[c[0]]=r[c[0]],s[c[1]]=u[c[1]]=r[c[1]])},this),this._updateRangeUse(r)},i.prototype.setCalculatedRange=function(r){var s=this.option;j(["start","startValue","end","endValue"],function(u){s[u]=r[u]})},i.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},i.prototype.getValueRange=function(r,s){if(r==null&&s==null){var u=this.findRepresentativeAxisProxy();if(u)return u.getDataValueWindow()}else return this.getAxisProxy(r,s).getDataValueWindow()},i.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var s,u=this._targetAxisInfoMap.keys(),c=0;c<u.length;c++)for(var p=u[c],d=this._targetAxisInfoMap.get(p),m=0;m<d.indexList.length;m++){var _=this.getAxisProxy(p,d.indexList[m]);if(_.hostedBy(this))return _;s||(s=_)}return s},i.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},i.prototype.getOrient=function(){return de(this._orient),this._orient},i.type="dataZoom",i.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],i.defaultOption={z:4,filterMode:"filter",start:0,end:100},i}(We);function WK(n){var i={};return j(["start","end","startValue","endValue","throttle"],function(r){n.hasOwnProperty(r)&&(i[r]=n[r])}),i}var y2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="dataZoom.select",i}(__),yk=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u,c){this.dataZoomModel=r,this.ecModel=s,this.api=u},i.type="dataZoom",i}(Pr),_2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="dataZoom.select",i}(yk),jd=j,YK=On,x2t=function(){function n(i,r,s,u){this._dimName=i,this._axisIndex=r,this.ecModel=u,this._dataZoomModel=s}return n.prototype.hostedBy=function(i){return this._dataZoomModel===i},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var i=[];return this.ecModel.eachSeries(function(r){if(g2t(r)){var s=kf(this._dimName),u=r.getReferringComponents(s,mi).models[0];u&&this._axisIndex===u.componentIndex&&i.push(r)}},this),i},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return lt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(i){var r=this._dataExtent,s=this.getAxisModel(),u=s.axis.scale,c=this._dataZoomModel.getRangePropMode(),p=[0,100],d=[],m=[],_;jd(["start","end"],function(A,D){var L=i[A],E=i[A+"Value"];c[D]==="percent"?(L==null&&(L=p[D]),E=u.parse(ur(L,p,r))):(_=!0,E=E==null?r[D]:u.parse(E),L=ur(E,r,p)),m[D]=E==null||isNaN(E)?r[D]:E,d[D]=L==null||isNaN(L)?p[D]:L}),YK(m),YK(d);var S=this._minMaxSpan;_?w(m,d,r,p,!1):w(d,m,p,r,!0);function w(A,D,L,E,R){var k=R?"Span":"ValueSpan";ep(0,A,L,"all",S["min"+k],S["max"+k]);for(var z=0;z<2;z++)D[z]=ur(A[z],L,E,!0),R&&(D[z]=u.parse(D[z]))}return{valueWindow:m,percentWindow:d}},n.prototype.reset=function(i){if(i===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=S2t(this,this._dimName,r),this._updateMinMaxSpan();var s=this.calculateDataWindow(i.settledOption);this._valueWindow=s.valueWindow,this._percentWindow=s.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(i,r){if(i!==this._dataZoomModel)return;var s=this._dimName,u=this.getTargetSeriesModels(),c=i.get("filterMode"),p=this._valueWindow;if(c==="none")return;jd(u,function(m){var _=m.getData(),S=_.mapDimensionsAll(s);if(S.length){if(c==="weakFilter"){var w=_.getStore(),A=Tt(S,function(D){return _.getDimensionIndex(D)},_);_.filterSelf(function(D){for(var L,E,R,k=0;k<S.length;k++){var z=w.get(A[k],D),B=!isNaN(z),G=z<p[0],W=z>p[1];if(B&&!G&&!W)return!0;B&&(R=!0),G&&(L=!0),W&&(E=!0)}return R&&L&&E})}else jd(S,function(D){if(c==="empty")m.setData(_=_.map(D,function(E){return d(E)?E:NaN}));else{var L={};L[D]=p,_.selectRange(L)}});jd(S,function(D){_.setApproximateExtent(p,D)})}});function d(m){return m>=p[0]&&m<=p[1]}},n.prototype._updateMinMaxSpan=function(){var i=this._minMaxSpan={},r=this._dataZoomModel,s=this._dataExtent;jd(["min","max"],function(u){var c=r.get(u+"Span"),p=r.get(u+"ValueSpan");p!=null&&(p=this.getAxisModel().axis.scale.parse(p)),p!=null?c=ur(s[0]+p,s,[0,100],!0):c!=null&&(p=ur(c,[0,100],s,!0)-s[0]),i[u+"Span"]=c,i[u+"ValueSpan"]=p},this)},n.prototype._setAxisModel=function(){var i=this.getAxisModel(),r=this._percentWindow,s=this._valueWindow;if(r){var u=AE(s,[0,500]);u=Math.min(u,20);var c=i.axis.scale.rawExtentInfo;r[0]!==0&&c.setDeterminedMinMax("min",+s[0].toFixed(u)),r[1]!==100&&c.setDeterminedMinMax("max",+s[1].toFixed(u)),c.freeze()}},n}();function S2t(n,i,r){var s=[1/0,-1/0];jd(r,function(p){U1t(s,p.getData(),i)});var u=n.getAxisModel(),c=J9(u.axis.scale,u,s).calculate();return[c.min,c.max]}var b2t={getTargetSeries:function(n){function i(u){n.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(p,d){var m=n.getComponent(kf(p),d);u(p,d,m,c)})})}i(function(u,c,p,d){p.__dzAxisProxy=null});var r=[];i(function(u,c,p,d){p.__dzAxisProxy||(p.__dzAxisProxy=new x2t(u,c,d,n),r.push(p.__dzAxisProxy))});var s=le();return j(r,function(u){j(u.getTargetSeriesModels(),function(c){s.set(c.uid,c)})}),s},overallReset:function(n,i){n.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(s,u){r.getAxisProxy(s,u).reset(r)}),r.eachTargetAxis(function(s,u){r.getAxisProxy(s,u).filterData(r,i)})}),n.eachComponent("dataZoom",function(r){var s=r.findRepresentativeAxisProxy();if(s){var u=s.getDataPercentWindow(),c=s.getDataValueWindow();r.setCalculatedRange({start:u[0],end:u[1],startValue:c[0],endValue:c[1]})}})}};function w2t(n){n.registerAction("dataZoom",function(i,r){var s=m2t(r,i);j(s,function(u){u.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})})}var ZK=!1;function _k(n){ZK||(ZK=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,b2t),w2t(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function T2t(n){n.registerComponentModel(y2t),n.registerComponentView(_2t),_k(n)}var Do=function(){function n(){}return n}(),XK={};function Jd(n,i){XK[n]=i}function qK(n){return XK[n]}var A2t=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;j(this.option.feature,function(s,u){var c=qK(u);c&&(c.getDefaultOption&&(c.defaultOption=c.getDefaultOption(r)),pt(s,c.defaultOption))})},i.type="toolbox",i.layoutMode={type:"box",ignoreSize:!0},i.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},i}(We);function C2t(n,i,r){var s=i.getBoxLayoutParams(),u=i.get("padding"),c={width:r.getWidth(),height:r.getHeight()},p=yi(s,c,u);Mh(i.get("orient"),n,i.get("itemGap"),p.width,p.height),K1(n,s,c,u)}function $K(n,i){var r=Ah(i.get("padding")),s=i.getItemStyle(["color","opacity"]);return s.fill=i.get("backgroundColor"),n=new tr({shape:{x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2],r:i.get("borderRadius")},style:s,silent:!0,z2:-1}),n}var D2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.render=function(r,s,u,c){var p=this.group;if(p.removeAll(),!r.get("show"))return;var d=+r.get("itemSize"),m=r.get("orient")==="vertical",_=r.get("feature")||{},S=this._features||(this._features={}),w=[];j(_,function(L,E){w.push(E)}),new iu(this._featureNames||[],w).add(A).update(A).remove(ee(A,null)).execute(),this._featureNames=w;function A(L,E){var R=w[L],k=w[E],z=_[R],B=new sr(z,r,r.ecModel),G;if(c&&c.newTitle!=null&&c.featureName===R&&(z.title=c.newTitle),R&&!k){if(M2t(R))G={onclick:B.option.onclick,featureName:R};else{var W=qK(R);if(!W)return;G=new W}S[R]=G}else if(G=S[k],!G)return;G.uid=gd("toolbox-feature"),G.model=B,G.ecModel=s,G.api=u;var Y=G instanceof Do;if(!R&&k){Y&&G.dispose&&G.dispose(s,u);return}if(!B.get("show")||Y&&G.unusable){Y&&G.remove&&G.remove(s,u);return}D(B,G,R),B.setIconStatus=function(q,J){var tt=this.option,et=this.iconPaths;tt.iconStatus=tt.iconStatus||{},tt.iconStatus[q]=J,et[q]&&(J==="emphasis"?Ql:tu)(et[q])},G instanceof Do&&G.render&&G.render(B,s,u,c)}function D(L,E,R){var k=L.getModel("iconStyle"),z=L.getModel(["emphasis","iconStyle"]),B=E instanceof Do&&E.getIcons?E.getIcons():L.get("icon"),G=L.get("title")||{},W,Y;kt(B)?(W={},W[R]=B):W=B,kt(G)?(Y={},Y[R]=G):Y=G;var q=L.iconPaths={};j(W,function(J,tt){var et=vd(J,{},{x:-d/2,y:-d/2,width:d,height:d});et.setStyle(k.getItemStyle());var it=et.ensureState("emphasis");it.style=z.getItemStyle();var ut=new er({style:{text:Y[tt],align:z.get("textAlign"),borderRadius:z.get("textBorderRadius"),padding:z.get("textPadding"),fill:null,font:xP({fontStyle:z.get("textFontStyle"),fontFamily:z.get("textFontFamily"),fontSize:z.get("textFontSize"),fontWeight:z.get("textFontWeight")},s)},ignore:!0});et.setTextContent(ut),wh({el:et,componentModel:r,itemName:tt,formatterParamsExtra:{title:Y[tt]}}),et.__title=Y[tt],et.on("mouseover",function(){var ct=z.getItemStyle(),ht=m?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";ut.setStyle({fill:z.get("textFill")||ct.fill||ct.stroke||"#000",backgroundColor:z.get("textBackgroundColor")}),et.setTextConfig({position:z.get("textPosition")||ht}),ut.ignore=!r.get("showTitle"),u.enterEmphasis(this)}).on("mouseout",function(){L.get(["iconStatus",tt])!=="emphasis"&&u.leaveEmphasis(this),ut.hide()}),(L.get(["iconStatus",tt])==="emphasis"?Ql:tu)(et),p.add(et),et.on("click",Mt(E.onclick,E,s,u,tt)),q[tt]=et})}C2t(p,r,u),p.add($K(p.getBoundingRect(),r)),m||p.eachChild(function(L){var E=L.__title,R=L.ensureState("emphasis"),k=R.textConfig||(R.textConfig={}),z=L.getTextContent(),B=z&&z.ensureState("emphasis");if(B&&!Gt(B)&&E){var G=B.style||(B.style={}),W=qy(E,er.makeFont(G)),Y=L.x+p.x,q=L.y+p.y+d,J=!1;q+W.height>u.getHeight()&&(k.position="top",J=!0);var tt=J?-5-W.height:d+10;Y+W.width/2>u.getWidth()?(k.position=["100%",tt],G.align="right"):Y-W.width/2<0&&(k.position=[0,tt],G.align="left")}})},i.prototype.updateView=function(r,s,u,c){j(this._features,function(p){p instanceof Do&&p.updateView&&p.updateView(p.model,s,u,c)})},i.prototype.remove=function(r,s){j(this._features,function(u){u instanceof Do&&u.remove&&u.remove(r,s)}),this.group.removeAll()},i.prototype.dispose=function(r,s){j(this._features,function(u){u instanceof Do&&u.dispose&&u.dispose(r,s)})},i.type="toolbox",i}(Pr);function M2t(n){return n.indexOf("my")===0}var L2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.onclick=function(r,s){var u=this.model,c=u.get("name")||r.get("title.0.text")||"echarts",p=s.getZr().painter.getType()==="svg",d=p?"svg":u.get("type",!0)||"png",m=s.getConnectedDataURL({type:d,backgroundColor:u.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:u.get("connectedBackgroundColor"),excludeComponents:u.get("excludeComponents"),pixelRatio:u.get("pixelRatio")}),_=f.browser;if(typeof MouseEvent=="function"&&(_.newEdge||!_.ie&&!_.edge)){var S=document.createElement("a");S.download=c+"."+d,S.target="_blank",S.href=m;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});S.dispatchEvent(w)}else if(window.navigator.msSaveOrOpenBlob||p){var A=m.split(","),D=A[0].indexOf("base64")>-1,L=p?decodeURIComponent(A[1]):A[1];D&&(L=window.atob(L));var E=c+"."+d;if(window.navigator.msSaveOrOpenBlob){for(var R=L.length,k=new Uint8Array(R);R--;)k[R]=L.charCodeAt(R);var z=new Blob([k]);window.navigator.msSaveOrOpenBlob(z,E)}else{var B=document.createElement("iframe");document.body.appendChild(B);var G=B.contentWindow,W=G.document;W.open("image/svg+xml","replace"),W.write(L),W.close(),G.focus(),W.execCommand("SaveAs",!0,E),document.body.removeChild(B)}}else{var Y=u.get("lang"),q='<body style="margin:0;"><img src="'+m+'" style="max-width:100%;" title="'+(Y&&Y[0]||"")+'" /></body>',J=window.open();J.document.write(q),J.document.title=c}},i.getDefaultOption=function(r){var s={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return s},i}(Do),KK="__ec_magicType_stack__",I2t=[["line","bar"],["stack"]],E2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.getIcons=function(){var r=this.model,s=r.get("icon"),u={};return j(r.get("type"),function(c){s[c]&&(u[c]=s[c])}),u},i.getDefaultOption=function(r){var s={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return s},i.prototype.onclick=function(r,s,u){var c=this.model,p=c.get(["seriesIndex",u]);if(jK[u]){var d={series:[]},m=function(w){var A=w.subType,D=w.id,L=jK[u](A,D,w,c);L&&(dt(L,w.option),d.series.push(L));var E=w.coordinateSystem;if(E&&E.type==="cartesian2d"&&(u==="line"||u==="bar")){var R=E.getAxesByScale("ordinal")[0];if(R){var k=R.dim,z=k+"Axis",B=w.getReferringComponents(z,mi).models[0],G=B.componentIndex;d[z]=d[z]||[];for(var W=0;W<=G;W++)d[z][G]=d[z][G]||{};d[z][G].boundaryGap=u==="bar"}}};j(I2t,function(w){At(w,u)>=0&&j(w,function(A){c.setIconStatus(A,"normal")})}),c.setIconStatus(u,"emphasis"),r.eachComponent({mainType:"series",query:p==null?null:{seriesIndex:p}},m);var _,S=u;u==="stack"&&(_=pt({stack:c.option.title.tiled,tiled:c.option.title.stack},c.option.title),c.get(["iconStatus",u])!=="emphasis"&&(S="tiled")),s.dispatchAction({type:"changeMagicType",currentType:S,newOption:d,newTitle:_,featureName:"magicType"})}},i}(Do),jK={line:function(n,i,r,s){if(n==="bar")return pt({id:i,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},s.get(["option","line"])||{},!0)},bar:function(n,i,r,s){if(n==="line")return pt({id:i,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},s.get(["option","bar"])||{},!0)},stack:function(n,i,r,s){var u=r.get("stack")===KK;if(n==="line"||n==="bar")return s.setIconStatus("stack",u?"normal":"emphasis"),pt({id:i,stack:u?"":KK},s.get(["option","stack"])||{},!0)}};ys({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,i){i.mergeOption(n.newOption)});var CT=new Array(60).join("-"),Qd="	";function P2t(n){var i={},r=[],s=[];return n.eachRawSeries(function(u){var c=u.coordinateSystem;if(c&&(c.type==="cartesian2d"||c.type==="polar")){var p=c.getBaseAxis();if(p.type==="category"){var d=p.dim+"_"+p.index;i[d]||(i[d]={categoryAxis:p,valueAxis:c.getOtherAxis(p),series:[]},s.push({axisDim:p.dim,axisIndex:p.index})),i[d].series.push(u)}else r.push(u)}else r.push(u)}),{seriesGroupByCategoryAxis:i,other:r,meta:s}}function R2t(n){var i=[];return j(n,function(r,s){var u=r.categoryAxis,c=r.valueAxis,p=c.dim,d=[" "].concat(Tt(r.series,function(D){return D.name})),m=[u.model.getCategories()];j(r.series,function(D){var L=D.getRawData();m.push(D.getRawData().mapArray(L.mapDimension(p),function(E){return E}))});for(var _=[d.join(Qd)],S=0;S<m[0].length;S++){for(var w=[],A=0;A<m.length;A++)w.push(m[A][S]);_.push(w.join(Qd))}i.push(_.join(`
`))}),i.join(`

`+CT+`

`)}function O2t(n){return Tt(n,function(i){var r=i.getRawData(),s=[i.name],u=[];return r.each(r.dimensions,function(){for(var c=arguments.length,p=arguments[c-1],d=r.getName(p),m=0;m<c-1;m++)u[m]=arguments[m];s.push((d?d+Qd:"")+u.join(Qd))}),s.join(`
`)}).join(`

`+CT+`

`)}function k2t(n){var i=P2t(n);return{value:jt([R2t(i.seriesGroupByCategoryAxis),O2t(i.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+CT+`

`),meta:i.meta}}function DT(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function N2t(n){var i=n.slice(0,n.indexOf(`
`));if(i.indexOf(Qd)>=0)return!0}var xk=new RegExp("["+Qd+"]+","g");function z2t(n){for(var i=n.split(/\n+/g),r=DT(i.shift()).split(xk),s=[],u=Tt(r,function(m){return{name:m,data:[]}}),c=0;c<i.length;c++){var p=DT(i[c]).split(xk);s.push(p.shift());for(var d=0;d<p.length;d++)u[d]&&(u[d].data[c]=p[d])}return{series:u,categories:s}}function V2t(n){for(var i=n.split(/\n+/g),r=DT(i.shift()),s=[],u=0;u<i.length;u++){var c=DT(i[u]);if(c){var p=c.split(xk),d="",m=void 0,_=!1;isNaN(p[0])?(_=!0,d=p[0],p=p.slice(1),s[u]={name:d,value:[]},m=s[u].value):m=s[u]=[];for(var S=0;S<p.length;S++)m.push(+p[S]);m.length===1&&(_?s[u].value=m[0]:s[u]=m[0])}}return{name:r,data:s}}function B2t(n,i){var r=n.split(new RegExp(`
*`+CT+`
*`,"g")),s={series:[]};return j(r,function(u,c){if(N2t(u)){var p=z2t(u),d=i[c],m=d.axisDim+"Axis";d&&(s[m]=s[m]||[],s[m][d.axisIndex]={data:p.categories},s.series=s.series.concat(p.series))}else{var p=V2t(u);s.series.push(p)}}),s}var F2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.onclick=function(r,s){setTimeout(function(){s.dispatchAction({type:"hideTip"})});var u=s.getDom(),c=this.model;this._dom&&u.removeChild(this._dom);var p=document.createElement("div");p.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",p.style.backgroundColor=c.get("backgroundColor")||"#fff";var d=document.createElement("h4"),m=c.get("lang")||[];d.innerHTML=m[0]||c.get("title"),d.style.cssText="margin:10px 20px",d.style.color=c.get("textColor");var _=document.createElement("div"),S=document.createElement("textarea");_.style.cssText="overflow:auto";var w=c.get("optionToContent"),A=c.get("contentToOption"),D=k2t(r);if(Gt(w)){var L=w(s.getOption());kt(L)?_.innerHTML=L:ss(L)&&_.appendChild(L)}else{S.readOnly=c.get("readOnly");var E=S.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=c.get("textColor"),E.borderColor=c.get("textareaBorderColor"),E.backgroundColor=c.get("textareaColor"),S.value=D.value,_.appendChild(S)}var R=D.meta,k=document.createElement("div");k.style.cssText="position:absolute;bottom:5px;left:0;right:0";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",B=document.createElement("div"),G=document.createElement("div");z+=";background-color:"+c.get("buttonColor"),z+=";color:"+c.get("buttonTextColor");var W=this;function Y(){u.removeChild(p),W._dom=null}UI(B,"click",Y),UI(G,"click",function(){if(A==null&&w!=null||A!=null&&w==null){Yr("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),Y();return}var q;try{Gt(A)?q=A(_,s.getOption()):q=B2t(S.value,R)}catch(J){throw Y(),new Error("Data view format error "+J)}q&&s.dispatchAction({type:"changeDataView",newOption:q}),Y()}),B.innerHTML=m[1],G.innerHTML=m[2],G.style.cssText=B.style.cssText=z,!c.get("readOnly")&&k.appendChild(G),k.appendChild(B),p.appendChild(d),p.appendChild(_),p.appendChild(k),_.style.height=u.clientHeight-80+"px",u.appendChild(p),this._dom=p},i.prototype.remove=function(r,s){this._dom&&s.getDom().removeChild(this._dom)},i.prototype.dispose=function(r,s){this.remove(r,s)},i.getDefaultOption=function(r){var s={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return s},i}(Do);function U2t(n,i){return Tt(n,function(r,s){var u=i&&i[s];if(re(u)&&!wt(u)){var c=re(r)&&!wt(r);c||(r={value:r});var p=u.name!=null&&r.name==null;return r=dt(r,u),p&&delete r.name,r}else return r})}ys({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,i){var r=[];j(n.newOption.series,function(s){var u=i.getSeriesByName(s.name)[0];if(!u)r.push(st({type:"scatter"},s));else{var c=u.get("data");r.push({name:s.name,data:U2t(s.data,c)})}}),i.mergeOption(dt({series:r},n.newOption))});var JK=j,QK=rr();function G2t(n,i){var r=Sk(n);JK(i,function(s,u){for(var c=r.length-1;c>=0;c--){var p=r[c];if(p[u])break}if(c<0){var d=n.queryComponents({mainType:"dataZoom",subType:"select",id:u})[0];if(d){var m=d.getPercentRange();r[0][u]={dataZoomId:u,start:m[0],end:m[1]}}}}),r.push(i)}function H2t(n){var i=Sk(n),r=i[i.length-1];i.length>1&&i.pop();var s={};return JK(r,function(u,c){for(var p=i.length-1;p>=0;p--)if(u=i[p][c],u){s[c]=u;break}}),s}function W2t(n){QK(n).snapshots=null}function Y2t(n){return Sk(n).length}function Sk(n){var i=QK(n);return i.snapshots||(i.snapshots=[{}]),i.snapshots}var Z2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.onclick=function(r,s){W2t(r),s.dispatchAction({type:"restore",from:this.uid})},i.getDefaultOption=function(r){var s={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return s},i}(Do);ys({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,i){i.resetOption("recreate")});var X2t=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],bk=function(){function n(i,r,s){var u=this;this._targetInfoList=[];var c=tj(r,i);j(q2t,function(p,d){(!s||!s.include||At(s.include,d)>=0)&&p(c,u._targetInfoList)})}return n.prototype.setOutputRanges=function(i,r){return this.matchOutputRanges(i,r,function(s,u,c){if((s.coordRanges||(s.coordRanges=[])).push(u),!s.coordRange){s.coordRange=u;var p=Tk[s.brushType](0,c,u);s.__rangeOffset={offset:aj[s.brushType](p.values,s.range,[1,1]),xyMinMax:p.xyMinMax}}}),i},n.prototype.matchOutputRanges=function(i,r,s){j(i,function(u){var c=this.findTargetInfo(u,r);c&&c!==!0&&j(c.coordSyses,function(p){var d=Tk[u.brushType](1,p,u.range,!0);s(u,d.values,p,r)})},this)},n.prototype.setInputRanges=function(i,r){j(i,function(s){var u=this.findTargetInfo(s,r);if(de(!u||u===!0||s.coordRange,"coordRange must be specified when coord index specified."),de(!u||u!==!0||s.range,"range must be specified in global brush."),s.range=s.range||[],u&&u!==!0){s.panelId=u.panelId;var c=Tk[s.brushType](0,u.coordSys,s.coordRange),p=s.__rangeOffset;s.range=p?aj[s.brushType](c.values,p.offset,$2t(c.xyMinMax,p.xyMinMax)):c.values}},this)},n.prototype.makePanelOpts=function(i,r){return Tt(this._targetInfoList,function(s){var u=s.getPanelRect();return{panelId:s.panelId,defaultBrushType:r?r(s):null,clipPath:Jq(u),isTargetByCursor:t$(u,i,s.coordSysModel),getLinearBrushOtherExtent:Qq(u)}})},n.prototype.controlSeries=function(i,r,s){var u=this.findTargetInfo(i,s);return u===!0||u&&At(u.coordSyses,r.coordinateSystem)>=0},n.prototype.findTargetInfo=function(i,r){for(var s=this._targetInfoList,u=tj(r,i),c=0;c<s.length;c++){var p=s[c],d=i.panelId;if(d){if(p.panelId===d)return p}else for(var m=0;m<ej.length;m++)if(ej[m](u,p))return p}return!0},n}();function wk(n){return n[0]>n[1]&&n.reverse(),n}function tj(n,i){return Qy(n,i,{includeMainTypes:X2t})}var q2t={grid:function(n,i){var r=n.xAxisModels,s=n.yAxisModels,u=n.gridModels,c=le(),p={},d={};!r&&!s&&!u||(j(r,function(m){var _=m.axis.grid.model;c.set(_.id,_),p[_.id]=!0}),j(s,function(m){var _=m.axis.grid.model;c.set(_.id,_),d[_.id]=!0}),j(u,function(m){c.set(m.id,m),p[m.id]=!0,d[m.id]=!0}),c.each(function(m){var _=m.coordinateSystem,S=[];j(_.getCartesians(),function(w,A){(At(r,w.getAxis("x").model)>=0||At(s,w.getAxis("y").model)>=0)&&S.push(w)}),i.push({panelId:"grid--"+m.id,gridModel:m,coordSysModel:m,coordSys:S[0],coordSyses:S,getPanelRect:rj.grid,xAxisDeclared:p[m.id],yAxisDeclared:d[m.id]})}))},geo:function(n,i){j(n.geoModels,function(r){var s=r.coordinateSystem;i.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:s,coordSyses:[s],getPanelRect:rj.geo})})}},ej=[function(n,i){var r=n.xAxisModel,s=n.yAxisModel,u=n.gridModel;return!u&&r&&(u=r.axis.grid.model),!u&&s&&(u=s.axis.grid.model),u&&u===i.gridModel},function(n,i){var r=n.geoModel;return r&&r===i.geoModel}],rj={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,i=n.getBoundingRect().clone();return i.applyTransform(yf(n)),i}},Tk={lineX:ee(ij,0),lineY:ee(ij,1),rect:function(n,i,r,s){var u=n?i.pointToData([r[0][0],r[1][0]],s):i.dataToPoint([r[0][0],r[1][0]],s),c=n?i.pointToData([r[0][1],r[1][1]],s):i.dataToPoint([r[0][1],r[1][1]],s),p=[wk([u[0],c[0]]),wk([u[1],c[1]])];return{values:p,xyMinMax:p}},polygon:function(n,i,r,s){var u=[[1/0,-1/0],[1/0,-1/0]],c=Tt(r,function(p){var d=n?i.pointToData(p,s):i.dataToPoint(p,s);return u[0][0]=Math.min(u[0][0],d[0]),u[1][0]=Math.min(u[1][0],d[1]),u[0][1]=Math.max(u[0][1],d[0]),u[1][1]=Math.max(u[1][1],d[1]),d});return{values:c,xyMinMax:u}}};function ij(n,i,r,s){de(r.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var u=r.getAxis(["x","y"][n]),c=wk(Tt([0,1],function(d){return i?u.coordToData(u.toLocalCoord(s[d]),!0):u.toGlobalCoord(u.dataToCoord(s[d]))})),p=[];return p[n]=c,p[1-n]=[NaN,NaN],{values:c,xyMinMax:p}}var aj={lineX:ee(nj,0),lineY:ee(nj,1),rect:function(n,i,r){return[[n[0][0]-r[0]*i[0][0],n[0][1]-r[0]*i[0][1]],[n[1][0]-r[1]*i[1][0],n[1][1]-r[1]*i[1][1]]]},polygon:function(n,i,r){return Tt(n,function(s,u){return[s[0]-r[0]*i[u][0],s[1]-r[1]*i[u][1]]})}};function nj(n,i,r,s){return[i[0]-s[n]*r[0],i[1]-s[n]*r[1]]}function $2t(n,i){var r=oj(n),s=oj(i),u=[r[0]/s[0],r[1]/s[1]];return isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u}function oj(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var Ak=j,K2t=Uyt("toolbox-dataZoom_"),j2t=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.render=function(r,s,u,c){this._brushController||(this._brushController=new bO(u.getZr()),this._brushController.on("brush",Mt(this._onBrush,this)).mount()),tRt(r,s,this,c,u),Q2t(r,s)},i.prototype.onclick=function(r,s,u){J2t[u].call(this)},i.prototype.remove=function(r,s){this._brushController&&this._brushController.unmount()},i.prototype.dispose=function(r,s){this._brushController&&this._brushController.dispose()},i.prototype._onBrush=function(r){var s=r.areas;if(!r.isEnd||!s.length)return;var u={},c=this.ecModel;this._brushController.updateCovers([]);var p=new bk(Ck(this.model),c,{include:["grid"]});p.matchOutputRanges(s,c,function(_,S,w){if(w.type==="cartesian2d"){var A=_.brushType;A==="rect"?(d("x",w,S[0]),d("y",w,S[1])):d({lineX:"x",lineY:"y"}[A],w,S)}}),G2t(c,u),this._dispatchZoomAction(u);function d(_,S,w){var A=S.getAxis(_),D=A.model,L=m(_,D,c),E=L.findRepresentativeAxisProxy(D).getMinMaxSpan();(E.minValueSpan!=null||E.maxValueSpan!=null)&&(w=ep(0,w.slice(),A.scale.getExtent(),0,E.minValueSpan,E.maxValueSpan)),L&&(u[L.id]={dataZoomId:L.id,startValue:w[0],endValue:w[1]})}function m(_,S,w){var A;return w.eachComponent({mainType:"dataZoom",subType:"select"},function(D){var L=D.getAxisModel(_,S.componentIndex);L&&(A=D)}),A}},i.prototype._dispatchZoomAction=function(r){var s=[];Ak(r,function(u,c){s.push(lt(u))}),s.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:s})},i.getDefaultOption=function(r){var s={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return s},i}(Do),J2t={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(H2t(this.ecModel))}};function Ck(n){var i={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return i.xAxisIndex==null&&i.xAxisId==null&&(i.xAxisIndex="all"),i.yAxisIndex==null&&i.yAxisId==null&&(i.yAxisIndex="all"),i}function Q2t(n,i){n.setIconStatus("back",Y2t(i)>1?"emphasis":"normal")}function tRt(n,i,r,s,u){var c=r._isZoomActive;s&&s.type==="takeGlobalCursor"&&(c=s.key==="dataZoomSelect"?s.dataZoomSelectActive:!1),r._isZoomActive=c,n.setIconStatus("zoom",c?"emphasis":"normal");var p=new bk(Ck(n),i,{include:["grid"]}),d=p.makePanelOpts(u,function(m){return m.xAxisDeclared&&!m.yAxisDeclared?"lineX":!m.xAxisDeclared&&m.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(d).enableBrush(c&&d.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}fxt("dataZoom",function(n){var i=n.getComponent("toolbox",0),r=["feature","dataZoom"];if(!i||i.get(r)==null)return;var s=i.getModel(r),u=[],c=Ck(s),p=Qy(n,c);Ak(p.xAxisModels,function(m){return d(m,"xAxis","xAxisIndex")}),Ak(p.yAxisModels,function(m){return d(m,"yAxis","yAxisIndex")});function d(m,_,S){var w=m.componentIndex,A={type:"select",$fromToolbox:!0,filterMode:s.get("filterMode",!0)||"filter",id:K2t+_+w};A[S]=w,u.push(A)}return u});function eRt(n){n.registerComponentModel(A2t),n.registerComponentView(D2t),Jd("saveAsImage",L2t),Jd("magicType",E2t),Jd("dataView",F2t),Jd("dataZoom",j2t),Jd("restore",Z2t),Ye(T2t)}var rRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="tooltip",i.dependencies=["axisPointer"],i.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},i}(We);function sj(n){var i=n.get("confine");return i!=null?!!i:n.get("renderMode")==="richText"}function lj(n){if(f.domSupported){for(var i=document.documentElement.style,r=0,s=n.length;r<s;r++)if(n[r]in i)return n[r]}}var uj=lj(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),iRt=lj(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function fj(n,i){if(!n)return i;i=PP(i,!0);var r=n.indexOf(i);return n=r===-1?i:"-"+n.slice(0,r)+"-"+i,n.toLowerCase()}function aRt(n,i){var r=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return r?i?r[i]:r:null}var nRt=fj(iRt,"transition"),Dk=fj(uj,"transform"),oRt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(f.transform3dSupported?"will-change:transform;":"");function sRt(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function lRt(n,i,r){if(!kt(r)||r==="inside")return"";var s=n.get("backgroundColor"),u=n.get("borderWidth");i=Ch(i);var c=sRt(r),p=Math.max(Math.round(u)*1.5,6),d="",m=Dk+":",_;At(["left","right"],c)>-1?(d+="top:50%",m+="translateY(-50%) rotate("+(_=c==="left"?-225:-45)+"deg)"):(d+="left:50%",m+="translateX(-50%) rotate("+(_=c==="top"?225:45)+"deg)");var S=_*Math.PI/180,w=p+u,A=w*Math.abs(Math.cos(S))+w*Math.abs(Math.sin(S)),D=Math.round(((A-Math.SQRT2*u)/2+Math.SQRT2*u-(A-w)/2)*100)/100;d+=";"+c+":-"+D+"px";var L=i+" solid "+u+"px;",E=["position:absolute;width:"+p+"px;height:"+p+"px;z-index:-1;",d+";"+m+";","border-bottom:"+L,"border-right:"+L,"background-color:"+s+";"];return'<div style="'+E.join("")+'"></div>'}function uRt(n,i){var r="cubic-bezier(0.23,1,0.32,1)",s=" "+n/2+"s "+r,u="opacity"+s+",visibility"+s;return i||(s=" "+n+"s "+r,u+=f.transformSupported?","+Dk+s:",left"+s+",top"+s),nRt+":"+u}function cj(n,i,r){var s=n.toFixed(0)+"px",u=i.toFixed(0)+"px";if(!f.transformSupported)return r?"top:"+u+";left:"+s+";":[["top",u],["left",s]];var c=f.transform3dSupported,p="translate"+(c?"3d":"")+"("+s+","+u+(c?",0":"")+")";return r?"top:0;left:0;"+Dk+":"+p+";":[["top",0],["left",0],[uj,p]]}function fRt(n){var i=[],r=n.get("fontSize"),s=n.getTextColor();s&&i.push("color:"+s),i.push("font:"+n.getFont());var u=De(n.get("lineHeight"),Math.round(r*3/2));r&&i.push("line-height:"+u+"px");var c=n.get("textShadowColor"),p=n.get("textShadowBlur")||0,d=n.get("textShadowOffsetX")||0,m=n.get("textShadowOffsetY")||0;return c&&p&&i.push("text-shadow:"+d+"px "+m+"px "+p+"px "+c),j(["decoration","align"],function(_){var S=n.get(_);S&&i.push("text-"+_+":"+S)}),i.join(";")}function cRt(n,i,r){var s=[],u=n.get("transitionDuration"),c=n.get("backgroundColor"),p=n.get("shadowBlur"),d=n.get("shadowColor"),m=n.get("shadowOffsetX"),_=n.get("shadowOffsetY"),S=n.getModel("textStyle"),w=d8(n,"html"),A=m+"px "+_+"px "+p+"px "+d;return s.push("box-shadow:"+A),i&&u&&s.push(uRt(u,r)),c&&s.push("background-color:"+c),j(["width","color","radius"],function(D){var L="border-"+D,E=PP(L),R=n.get(E);R!=null&&s.push(L+":"+R+(D==="color"?"":"px"))}),s.push(fRt(S)),w!=null&&s.push("padding:"+Ah(w).join("px ")+"px"),s.join(";")+";"}function hj(n,i,r,s,u){var c=i&&i.painter;if(r){var p=c&&c.getViewportRoot();p&&hmt(n,p,r,s,u)}else{n[0]=s,n[1]=u;var d=c&&c.getViewportRootOffset();d&&(n[0]+=d.offsetLeft,n[1]+=d.offsetTop)}n[2]=n[0]/i.getWidth(),n[3]=n[1]/i.getHeight()}var hRt=function(){function n(i,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,f.wxa)return null;var s=document.createElement("div");s.domBelongToZr=!0,this.el=s;var u=this._zr=i.getZr(),c=r.appendTo,p=c&&(kt(c)?document.querySelector(c):ss(c)?c:Gt(c)&&c(i.getDom()));hj(this._styleCoord,u,p,i.getWidth()/2,i.getHeight()/2),(p||i.getDom()).appendChild(s),this._api=i,this._container=p;var d=this;s.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0},s.onmousemove=function(m){if(m=m||window.event,!d._enterable){var _=u.handler,S=u.painter.getViewportRoot();so(S,m,!0),_.dispatch("mousemove",m)}},s.onmouseleave=function(){d._inContent=!1,d._enterable&&d._show&&d.hideLater(d._hideDelay)}}return n.prototype.update=function(i){if(!this._container){var r=this._api.getDom(),s=aRt(r,"position"),u=r.style;u.position!=="absolute"&&s!=="absolute"&&(u.position="relative")}var c=i.get("alwaysShowContent");c&&this._moveIfResized(),this._alwaysShowContent=c,this.el.className=i.get("className")||""},n.prototype.show=function(i,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var s=this.el,u=s.style,c=this._styleCoord;s.innerHTML?u.cssText=oRt+cRt(i,!this._firstShow,this._longHide)+cj(c[0],c[1],!0)+("border-color:"+Ch(r)+";")+(i.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):u.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(i,r,s,u,c){var p=this.el;if(i==null){p.innerHTML="";return}var d="";if(kt(c)&&s.get("trigger")==="item"&&!sj(s)&&(d=lRt(s,u,c)),kt(i))p.innerHTML=i+d;else if(i){p.innerHTML="",wt(i)||(i=[i]);for(var m=0;m<i.length;m++)ss(i[m])&&i[m].parentNode!==p&&p.appendChild(i[m]);if(d&&p.childNodes.length){var _=document.createElement("div");_.innerHTML=d,p.appendChild(_)}}},n.prototype.setEnterable=function(i){this._enterable=i},n.prototype.getSize=function(){var i=this.el;return i?[i.offsetWidth,i.offsetHeight]:[0,0]},n.prototype.moveTo=function(i,r){if(this.el){var s=this._styleCoord;if(hj(s,this._zr,this._container,i,r),s[0]!=null&&s[1]!=null){var u=this.el.style,c=cj(s[0],s[1]);j(c,function(p){u[p[0]]=p[1]})}}},n.prototype._moveIfResized=function(){var i=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(i*this._zr.getWidth(),r*this._zr.getHeight())},n.prototype.hide=function(){var i=this,r=this.el.style;r.visibility="hidden",r.opacity="0",f.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return i._longHide=!0},500)},n.prototype.hideLater=function(i){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(Mt(this.hide,this),i)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el.parentNode;i&&i.removeChild(this.el),this.el=this._container=null},n}(),pRt=function(){function n(i){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=i.getZr(),vj(this._styleCoord,this._zr,i.getWidth()/2,i.getHeight()/2)}return n.prototype.update=function(i){var r=i.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(i,r,s,u,c){var p=this;re(i)&&fr("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var d=s.getModel("textStyle");this.el=new er({style:{rich:r.richTextStyles,text:i,lineHeight:22,borderWidth:1,borderColor:u,textShadowColor:d.get("textShadowColor"),fill:s.get(["textStyle","color"]),padding:d8(s,"richText"),verticalAlign:"top",align:"left"},z:s.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(_){p.el.style[_]=s.get(_)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(_){p.el.style[_]=d.get(_)||0}),this._zr.add(this.el);var m=this;this.el.on("mouseover",function(){m._enterable&&(clearTimeout(m._hideTimeout),m._show=!0),m._inContent=!0}),this.el.on("mouseout",function(){m._enterable&&m._show&&m.hideLater(m._hideDelay),m._inContent=!1})},n.prototype.setEnterable=function(i){this._enterable=i},n.prototype.getSize=function(){var i=this.el,r=this.el.getBoundingRect(),s=pj(i.style);return[r.width+s.left+s.right,r.height+s.top+s.bottom]},n.prototype.moveTo=function(i,r){var s=this.el;if(s){var u=this._styleCoord;vj(u,this._zr,i,r),i=u[0],r=u[1];var c=s.style,p=Nf(c.borderWidth||0),d=pj(c);s.x=i+p+d.left,s.y=r+p+d.top,s.markRedraw()}},n.prototype._moveIfResized=function(){var i=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(i*this._zr.getWidth(),r*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(i){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(Mt(this.hide,this),i)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Nf(n){return Math.max(0,n)}function pj(n){var i=Nf(n.shadowBlur||0),r=Nf(n.shadowOffsetX||0),s=Nf(n.shadowOffsetY||0);return{left:Nf(i-r),right:Nf(i+r),top:Nf(i-s),bottom:Nf(i+s)}}function vj(n,i,r,s){n[0]=r,n[1]=s,n[2]=n[0]/i.getWidth(),n[3]=n[1]/i.getHeight()}var vRt=new tr({shape:{x:-1,y:-1,width:2,height:2}}),dRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s){if(!(f.node||!s.getDom())){var u=r.getComponent("tooltip"),c=this._renderMode=qyt(u.get("renderMode"));this._tooltipContent=c==="richText"?new pRt(s):new hRt(s,{appendTo:u.get("appendToBody",!0)?"body":u.get("appendTo",!0)})}},i.prototype.render=function(r,s,u){if(!(f.node||!u.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=s,this._api=u;var c=this._tooltipContent;c.update(r),c.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Dd(this,"_updatePosition",50,"fixRate"):D0(this,"_updatePosition")}},i.prototype._initGlobalListener=function(){var r=this._tooltipModel,s=r.get("triggerOn");xK("itemTooltip",this._api,Mt(function(u,c,p){s!=="none"&&(s.indexOf(u)>=0?this._tryShow(c,p):u==="leave"&&this._hide(p))},this))},i.prototype._keepShow=function(){var r=this._tooltipModel,s=this._ecModel,u=this._api,c=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&c!=="none"&&c!=="click"){var p=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!u.isDisposed()&&p.manuallyShowTip(r,s,u,{x:p._lastX,y:p._lastY,dataByCoordSys:p._lastDataByCoordSys})})}},i.prototype.manuallyShowTip=function(r,s,u,c){if(!(c.from===this.uid||f.node||!u.getDom())){var p=dj(c,u);this._ticket="";var d=c.dataByCoordSys,m=_Rt(c,s,u);if(m){var _=m.el.getBoundingRect().clone();_.applyTransform(m.el.transform),this._tryShow({offsetX:_.x+_.width/2,offsetY:_.y+_.height/2,target:m.el,position:c.position,positionDefault:"bottom"},p)}else if(c.tooltip&&c.x!=null&&c.y!=null){var S=vRt;S.x=c.x,S.y=c.y,S.update(),Me(S).tooltipConfig={name:null,option:c.tooltip},this._tryShow({offsetX:c.x,offsetY:c.y,target:S},p)}else if(d)this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,dataByCoordSys:d,tooltipOption:c.tooltipOption},p);else if(c.seriesIndex!=null){if(this._manuallyAxisShowTip(r,s,u,c))return;var w=bK(c,s),A=w.point[0],D=w.point[1];A!=null&&D!=null&&this._tryShow({offsetX:A,offsetY:D,target:w.el,position:c.position,positionDefault:"bottom"},p)}else c.x!=null&&c.y!=null&&(u.dispatchAction({type:"updateAxisPointer",x:c.x,y:c.y}),this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,target:u.getZr().findHover(c.x,c.y).target},p))}},i.prototype.manuallyHideTip=function(r,s,u,c){var p=this._tooltipContent;this._tooltipModel&&p.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,c.from!==this.uid&&this._hide(dj(c,u))},i.prototype._manuallyAxisShowTip=function(r,s,u,c){var p=c.seriesIndex,d=c.dataIndex,m=s.getComponent("axisPointer").coordSysAxesInfo;if(!(p==null||d==null||m==null)){var _=s.getSeriesByIndex(p);if(_){var S=_.getData(),w=x_([S.getItemModel(d),_,(_.coordinateSystem||{}).model],this._tooltipModel);if(w.get("trigger")==="axis")return u.dispatchAction({type:"updateAxisPointer",seriesIndex:p,dataIndex:d,position:c.position}),!0}}},i.prototype._tryShow=function(r,s){var u=r.target,c=this._tooltipModel;if(c){this._lastX=r.offsetX,this._lastY=r.offsetY;var p=r.dataByCoordSys;if(p&&p.length)this._showAxisTooltip(p,r);else if(u){var d=Me(u);if(d.ssrType==="legend")return;this._lastDataByCoordSys=null;var m,_;Rh(u,function(S){if(Me(S).dataIndex!=null)return m=S,!0;if(Me(S).tooltipConfig!=null)return _=S,!0},!0),m?this._showSeriesItemTooltip(r,m,s):_?this._showComponentItemTooltip(r,_,s):this._hide(s)}else this._lastDataByCoordSys=null,this._hide(s)}},i.prototype._showOrMove=function(r,s){var u=r.get("showDelay");s=Mt(s,this),clearTimeout(this._showTimout),u>0?this._showTimout=setTimeout(s,u):s()},i.prototype._showAxisTooltip=function(r,s){var u=this._ecModel,c=this._tooltipModel,p=[s.offsetX,s.offsetY],d=x_([s.tooltipOption],c),m=this._renderMode,_=[],S=Vi("section",{blocks:[],noHeader:!0}),w=[],A=new a2;j(r,function(z){j(z.dataByAxis,function(B){var G=u.getComponent(B.axisDim+"Axis",B.axisIndex),W=B.value;if(!(!G||W==null)){var Y=vK(W,G.axis,u,B.seriesDataIndices,B.valueLabelOpt),q=Vi("section",{header:Y,noHeader:!no(Y),sortBlocks:!0,blocks:[]});S.blocks.push(q),j(B.seriesDataIndices,function(J){var tt=u.getSeriesByIndex(J.seriesIndex),et=J.dataIndexInside,it=tt.getDataParams(et);if(!(it.dataIndex<0)){it.axisDim=B.axisDim,it.axisIndex=B.axisIndex,it.axisType=B.axisType,it.axisId=B.axisId,it.axisValue=W2(G.axis,{value:W}),it.axisValueLabel=Y,it.marker=A.makeTooltipMarker("item",Ch(it.color),m);var ut=$Y(tt.formatTooltip(et,!0,null)),ct=ut.frag;if(ct){var ht=x_([tt],c).get("valueFormatter");q.blocks.push(ht?st({valueFormatter:ht},ct):ct)}ut.text&&w.push(ut.text),_.push(it)}})}})}),S.blocks.reverse(),w.reverse();var D=s.position,L=d.get("order"),E=h8(S,A,m,L,u.get("useUTC"),d.get("textStyle"));E&&w.unshift(E);var R=m==="richText"?`

`:"<br/>",k=w.join(R);this._showOrMove(d,function(){this._updateContentNotChangedOnAxis(r,_)?this._updatePosition(d,D,p[0],p[1],this._tooltipContent,_):this._showTooltipContent(d,k,_,Math.random()+"",p[0],p[1],D,null,A)})},i.prototype._showSeriesItemTooltip=function(r,s,u){var c=this._ecModel,p=Me(s),d=p.seriesIndex,m=c.getSeriesByIndex(d),_=p.dataModel||m,S=p.dataIndex,w=p.dataType,A=_.getData(w),D=this._renderMode,L=r.positionDefault,E=x_([A.getItemModel(S),_,m&&(m.coordinateSystem||{}).model],this._tooltipModel,L?{position:L}:null),R=E.get("trigger");if(!(R!=null&&R!=="item")){var k=_.getDataParams(S,w),z=new a2;k.marker=z.makeTooltipMarker("item",Ch(k.color),D);var B=$Y(_.formatTooltip(S,!1,w)),G=E.get("order"),W=E.get("valueFormatter"),Y=B.frag,q=Y?h8(W?st({valueFormatter:W},Y):Y,z,D,G,c.get("useUTC"),E.get("textStyle")):B.text,J="item_"+_.name+"_"+S;this._showOrMove(E,function(){this._showTooltipContent(E,q,k,J,r.offsetX,r.offsetY,r.position,r.target,z)}),u({type:"showTip",dataIndexInside:S,dataIndex:A.getRawIndex(S),seriesIndex:d,from:this.uid})}},i.prototype._showComponentItemTooltip=function(r,s,u){var c=this._renderMode==="html",p=Me(s),d=p.tooltipConfig,m=d.option||{},_=m.encodeHTMLContent;if(kt(m)){var S=m;m={content:S,formatter:S},_=!0}_&&c&&m.content&&(m=lt(m),m.content=ta(m.content));var w=[m],A=this._ecModel.getComponent(p.componentMainType,p.componentIndex);A&&w.push(A),w.push({formatter:m.content});var D=r.positionDefault,L=x_(w,this._tooltipModel,D?{position:D}:null),E=L.get("content"),R=Math.random()+"",k=new a2;this._showOrMove(L,function(){var z=lt(L.get("formatterParams")||{});this._showTooltipContent(L,E,z,R,r.offsetX,r.offsetY,r.position,s,k)}),u({type:"showTip",from:this.uid})},i.prototype._showTooltipContent=function(r,s,u,c,p,d,m,_,S){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var w=this._tooltipContent;w.setEnterable(r.get("enterable"));var A=r.get("formatter");m=m||r.get("position");var D=s,L=this._getNearestPoint([p,d],u,r.get("trigger"),r.get("borderColor")),E=L.color;if(A)if(kt(A)){var R=r.ecModel.get("useUTC"),k=wt(u)?u[0]:u,z=k&&k.axisType&&k.axisType.indexOf("time")>=0;D=A,z&&(D=y0(k.axisValue,D,R)),D=kP(D,u,!0)}else if(Gt(A)){var B=Mt(function(G,W){G===this._ticket&&(w.setContent(W,S,r,E,m),this._updatePosition(r,m,p,d,w,u,_))},this);this._ticket=c,D=A(u,c,B)}else D=A;w.setContent(D,S,r,E,m),w.show(r,E),this._updatePosition(r,m,p,d,w,u,_)}},i.prototype._getNearestPoint=function(r,s,u,c){if(u==="axis"||wt(s))return{color:c||(this._renderMode==="html"?"#fff":"none")};if(!wt(s))return{color:c||s.color||s.borderColor}},i.prototype._updatePosition=function(r,s,u,c,p,d,m){var _=this._api.getWidth(),S=this._api.getHeight();s=s||r.get("position");var w=p.getSize(),A=r.get("align"),D=r.get("verticalAlign"),L=m&&m.getBoundingRect().clone();if(m&&L.applyTransform(m.transform),Gt(s)&&(s=s([u,c],d,p.el,L,{viewSize:[_,S],contentSize:w.slice()})),wt(s))u=Wt(s[0],_),c=Wt(s[1],S);else if(re(s)){var E=s;E.width=w[0],E.height=w[1];var R=yi(E,{width:_,height:S});u=R.x,c=R.y,A=null,D=null}else if(kt(s)&&m){var k=yRt(s,L,w,r.get("borderWidth"));u=k[0],c=k[1]}else{var k=gRt(u,c,p,_,S,A?null:20,D?null:20);u=k[0],c=k[1]}if(A&&(u-=gj(A)?w[0]/2:A==="right"?w[0]:0),D&&(c-=gj(D)?w[1]/2:D==="bottom"?w[1]:0),sj(r)){var k=mRt(u,c,p,_,S);u=k[0],c=k[1]}p.moveTo(u,c)},i.prototype._updateContentNotChangedOnAxis=function(r,s){var u=this._lastDataByCoordSys,c=this._cbParamsList,p=!!u&&u.length===r.length;return p&&j(u,function(d,m){var _=d.dataByAxis||[],S=r[m]||{},w=S.dataByAxis||[];p=p&&_.length===w.length,p&&j(_,function(A,D){var L=w[D]||{},E=A.seriesDataIndices||[],R=L.seriesDataIndices||[];p=p&&A.value===L.value&&A.axisType===L.axisType&&A.axisId===L.axisId&&E.length===R.length,p&&j(E,function(k,z){var B=R[z];p=p&&k.seriesIndex===B.seriesIndex&&k.dataIndex===B.dataIndex}),c&&j(A.seriesDataIndices,function(k){var z=k.seriesIndex,B=s[z],G=c[z];B&&G&&G.data!==B.data&&(p=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=s,!!p},i.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},i.prototype.dispose=function(r,s){f.node||!s.getDom()||(D0(this,"_updatePosition"),this._tooltipContent.dispose(),uk("itemTooltip",s))},i.type="tooltip",i}(Pr);function x_(n,i,r){var s=i.ecModel,u;r?(u=new sr(r,s,s),u=new sr(i.option,u,s)):u=i;for(var c=n.length-1;c>=0;c--){var p=n[c];p&&(p instanceof sr&&(p=p.get("tooltip",!0)),kt(p)&&(p={formatter:p}),p&&(u=new sr(p,u,s)))}return u}function dj(n,i){return n.dispatchAction||Mt(i.dispatchAction,i)}function gRt(n,i,r,s,u,c,p){var d=r.getSize(),m=d[0],_=d[1];return c!=null&&(n+m+c+2>s?n-=m+c:n+=c),p!=null&&(i+_+p>u?i-=_+p:i+=p),[n,i]}function mRt(n,i,r,s,u){var c=r.getSize(),p=c[0],d=c[1];return n=Math.min(n+p,s)-p,i=Math.min(i+d,u)-d,n=Math.max(n,0),i=Math.max(i,0),[n,i]}function yRt(n,i,r,s){var u=r[0],c=r[1],p=Math.ceil(Math.SQRT2*s)+8,d=0,m=0,_=i.width,S=i.height;switch(n){case"inside":d=i.x+_/2-u/2,m=i.y+S/2-c/2;break;case"top":d=i.x+_/2-u/2,m=i.y-c-p;break;case"bottom":d=i.x+_/2-u/2,m=i.y+S+p;break;case"left":d=i.x-u-p,m=i.y+S/2-c/2;break;case"right":d=i.x+_+p,m=i.y+S/2-c/2}return[d,m]}function gj(n){return n==="center"||n==="middle"}function _Rt(n,i,r){var s=EE(n).queryOptionMap,u=s.keys()[0];if(!(!u||u==="series")){var c=t0(i,u,s.get(u),{useDefault:!1,enableAll:!1,enableNone:!1}),p=c.models[0];if(p){var d=r.getViewOfComponentModel(p),m;if(d.group.traverse(function(_){var S=Me(_).tooltipConfig;if(S&&S.name===n.name)return m=_,!0}),m)return{componentMainType:u,componentIndex:p.componentIndex,el:m}}}}function xRt(n){Ye(y_),n.registerComponentModel(rRt),n.registerComponentView(dRt),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Qr),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Qr)}var SRt=["rect","polygon","keep","clear"];function bRt(n,i){var r=xr(n?n.brush:[]);if(r.length){var s=[];j(r,function(m){var _=m.hasOwnProperty("toolbox")?m.toolbox:[];_ instanceof Array&&(s=s.concat(_))});var u=n&&n.toolbox;wt(u)&&(u=u[0]),u||(u={feature:{}},n.toolbox=[u]);var c=u.feature||(u.feature={}),p=c.brush||(c.brush={}),d=p.type||(p.type=[]);d.push.apply(d,s),wRt(d),i&&!d.length&&d.push.apply(d,SRt)}}function wRt(n){var i={};j(n,function(r){i[r]=1}),n.length=0,j(i,function(r,s){n.push(s)})}var mj=j;function yj(n){if(n){for(var i in n)if(n.hasOwnProperty(i))return!0}}function Mk(n,i,r){var s={};return mj(i,function(c){var p=s[c]=u();mj(n[c],function(d,m){if(Fi.isValidType(m)){var _={type:m,visual:d};r&&r(_,c),p[m]=new Fi(_),m==="opacity"&&(_=lt(_),_.type="colorAlpha",p.__hidden.__alphaForOpacity=new Fi(_))}})}),s;function u(){var c=function(){};c.prototype.__hidden=c.prototype;var p=new c;return p}}function _j(n,i,r){var s;j(r,function(u){i.hasOwnProperty(u)&&yj(i[u])&&(s=!0)}),s&&j(r,function(u){i.hasOwnProperty(u)&&yj(i[u])?n[u]=lt(i[u]):delete n[u]})}function TRt(n,i,r,s,u,c){var p={};j(n,function(w){var A=Fi.prepareVisualTypes(i[w]);p[w]=A});var d;function m(w){return s2(r,d,w)}function _(w,A){z8(r,d,w,A)}c==null?r.each(S):r.each([c],S);function S(w,A){d=c==null?w:A;var D=r.getRawDataItem(d);if(!(D&&D.visualMap===!1))for(var L=s.call(u,w),E=i[L],R=p[L],k=0,z=R.length;k<z;k++){var B=R[k];E[B]&&E[B].applyVisual(w,m,_)}}}function ARt(n,i,r,s){var u={};return j(n,function(c){var p=Fi.prepareVisualTypes(i[c]);u[c]=p}),{progress:function(p,d){var m;s!=null&&(m=d.getDimensionIndex(s));function _(W){return s2(d,w,W)}function S(W,Y){z8(d,w,W,Y)}for(var w,A=d.getStore();(w=p.next())!=null;){var D=d.getRawDataItem(w);if(!(D&&D.visualMap===!1))for(var L=s!=null?A.get(m,w):w,E=r(L),R=i[E],k=u[E],z=0,B=k.length;z<B;z++){var G=k[z];R[G]&&R[G].applyVisual(L,_,S)}}}}}function CRt(n){var i=n.brushType,r={point:function(s){return xj[i].point(s,r,n)},rect:function(s){return xj[i].rect(s,r,n)}};return r}var xj={lineX:Sj(0),lineY:Sj(1),rect:{point:function(n,i,r){return n&&r.boundingRect.contain(n[0],n[1])},rect:function(n,i,r){return n&&r.boundingRect.intersect(n)}},polygon:{point:function(n,i,r){return n&&r.boundingRect.contain(n[0],n[1])&&Fh(r.range,n[0],n[1])},rect:function(n,i,r){var s=r.range;if(!n||s.length<=1)return!1;var u=n.x,c=n.y,p=n.width,d=n.height,m=s[0];if(Fh(s,u,c)||Fh(s,u+p,c)||Fh(s,u,c+d)||Fh(s,u+p,c+d)||Ve.create(n).contain(m[0],m[1])||d0(u,c,u+p,c,s)||d0(u,c,u,c+d,s)||d0(u+p,c,u+p,c+d,s)||d0(u,c+d,u+p,c+d,s))return!0}}};function Sj(n){var i=["x","y"],r=["width","height"];return{point:function(s,u,c){if(s){var p=c.range,d=s[n];return S_(d,p)}},rect:function(s,u,c){if(s){var p=c.range,d=[s[i[n]],s[i[n]]+s[r[n]]];return d[1]<d[0]&&d.reverse(),S_(d[0],p)||S_(d[1],p)||S_(p[0],d)||S_(p[1],d)}}}}function S_(n,i){return i[0]<=n&&n<=i[1]}var bj=["inBrush","outOfBrush"],Lk="__ecBrushSelect",Ik="__ecInBrushSelectEvent";function wj(n){n.eachComponent({mainType:"brush"},function(i){var r=i.brushTargetManager=new bk(i.option,n);r.setInputRanges(i.areas,n)})}function DRt(n,i,r){var s=[],u,c;n.eachComponent({mainType:"brush"},function(p){r&&r.type==="takeGlobalCursor"&&p.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),wj(n),n.eachComponent({mainType:"brush"},function(p,d){var m={brushId:p.id,brushIndex:d,brushName:p.name,areas:lt(p.areas),selected:[]};s.push(m);var _=p.option,S=_.brushLink,w=[],A=[],D=[],L=!1;d||(u=_.throttleType,c=_.throttleDelay);var E=Tt(p.areas,function(W){var Y=ERt[W.brushType],q=dt({boundingRect:Y?Y(W):void 0},W);return q.selectors=CRt(q),q}),R=Mk(p.option,bj,function(W){W.mappingMethod="fixed"});wt(S)&&j(S,function(W){w[W]=1});function k(W){return S==="all"||!!w[W]}function z(W){return!!W.length}n.eachSeries(function(W,Y){var q=D[Y]=[];W.subType==="parallel"?B(W,Y):G(W,Y,q)});function B(W,Y){var q=W.coordinateSystem;L=L||q.hasAxisBrushed(),k(Y)&&q.eachActiveState(W.getData(),function(J,tt){J==="active"&&(A[tt]=1)})}function G(W,Y,q){if(!(!W.brushSelector||IRt(p,Y))&&(j(E,function(tt){p.brushTargetManager.controlSeries(tt,W,n)&&q.push(tt),L=L||z(q)}),k(Y)&&z(q))){var J=W.getData();J.each(function(tt){Tj(W,q,J,tt)&&(A[tt]=1)})}}n.eachSeries(function(W,Y){var q={seriesId:W.id,seriesIndex:Y,seriesName:W.name,dataIndex:[]};m.selected.push(q);var J=D[Y],tt=W.getData(),et=k(Y)?function(it){return A[it]?(q.dataIndex.push(tt.getRawIndex(it)),"inBrush"):"outOfBrush"}:function(it){return Tj(W,J,tt,it)?(q.dataIndex.push(tt.getRawIndex(it)),"inBrush"):"outOfBrush"};(k(Y)?L:z(J))&&TRt(bj,R,tt,et)})}),MRt(i,u,c,s,r)}function MRt(n,i,r,s,u){if(u){var c=n.getZr();if(!c[Ik]){c[Lk]||(c[Lk]=LRt);var p=Dd(c,Lk,r,i);p(n,s)}}}function LRt(n,i){if(!n.isDisposed()){var r=n.getZr();r[Ik]=!0,n.dispatchAction({type:"brushSelect",batch:i}),r[Ik]=!1}}function Tj(n,i,r,s){for(var u=0,c=i.length;u<c;u++){var p=i[u];if(n.brushSelector(s,r,p.selectors,p))return!0}}function IRt(n,i){var r=n.option.seriesIndex;return r!=null&&r!=="all"&&(wt(r)?At(r,i)<0:i!==r)}var ERt={rect:function(n){return Aj(n.range)},polygon:function(n){for(var i,r=n.range,s=0,u=r.length;s<u;s++){i=i||[[1/0,-1/0],[1/0,-1/0]];var c=r[s];c[0]<i[0][0]&&(i[0][0]=c[0]),c[0]>i[0][1]&&(i[0][1]=c[0]),c[1]<i[1][0]&&(i[1][0]=c[1]),c[1]>i[1][1]&&(i[1][1]=c[1])}return i&&Aj(i)}};function Aj(n){return new Ve(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var PRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s){this.ecModel=r,this.api=s,this.model,(this._brushController=new bO(s.getZr())).on("brush",Mt(this._onBrush,this)).mount()},i.prototype.render=function(r,s,u,c){this.model=r,this._updateController(r,s,u,c)},i.prototype.updateTransform=function(r,s,u,c){wj(s),this._updateController(r,s,u,c)},i.prototype.updateVisual=function(r,s,u,c){this.updateTransform(r,s,u,c)},i.prototype.updateView=function(r,s,u,c){this._updateController(r,s,u,c)},i.prototype._updateController=function(r,s,u,c){(!c||c.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(u)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},i.prototype.dispose=function(){this._brushController.dispose()},i.prototype._onBrush=function(r){var s=this.model.id,u=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:s,areas:lt(u),$from:s}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:s,areas:lt(u),$from:s})},i.type="brush",i}(Pr),RRt="#ddd",ORt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.areas=[],r.brushOption={},r}return i.prototype.optionUpdated=function(r,s){var u=this.option;!s&&_j(u,r,["inBrush","outOfBrush"]);var c=u.inBrush=u.inBrush||{};u.outOfBrush=u.outOfBrush||{color:RRt},c.hasOwnProperty("liftZ")||(c.liftZ=5)},i.prototype.setAreas=function(r){de(wt(r)),j(r,function(s){de(s.brushType,"Illegal areas")}),r&&(this.areas=Tt(r,function(s){return Cj(this.option,s)},this))},i.prototype.setBrushOption=function(r){this.brushOption=Cj(this.option,r),this.brushType=this.brushOption.brushType},i.type="brush",i.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],i.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},i}(We);function Cj(n,i){return pt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new sr(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},i,!0)}var kRt=["rect","polygon","lineX","lineY","keep","clear"],NRt=function(n){e(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.render=function(r,s,u){var c,p,d;s.eachComponent({mainType:"brush"},function(m){c=m.brushType,p=m.brushOption.brushMode||"single",d=d||!!m.areas.length}),this._brushType=c,this._brushMode=p,j(r.get("type",!0),function(m){r.setIconStatus(m,(m==="keep"?p==="multiple":m==="clear"?d:m===c)?"emphasis":"normal")})},i.prototype.updateView=function(r,s,u){this.render(r,s,u)},i.prototype.getIcons=function(){var r=this.model,s=r.get("icon",!0),u={};return j(r.get("type",!0),function(c){s[c]&&(u[c]=s[c])}),u},i.prototype.onclick=function(r,s,u){var c=this._brushType,p=this._brushMode;u==="clear"?(s.dispatchAction({type:"axisAreaSelect",intervals:[]}),s.dispatchAction({type:"brush",command:"clear",areas:[]})):s.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:u==="keep"?c:c===u?!1:u,brushMode:u==="keep"?p==="multiple"?"single":"multiple":p}})},i.getDefaultOption=function(r){var s={show:!0,type:kRt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return s},i}(Do);function zRt(n){n.registerComponentView(PRt),n.registerComponentModel(ORt),n.registerPreprocessor(bRt),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,DRt),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(i,r){r.eachComponent({mainType:"brush",query:i},function(s){s.setAreas(i.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Qr),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Qr),Jd("brush",NRt)}var VRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.layoutMode={type:"box",ignoreSize:!0},r}return i.type="title",i.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},i}(We),BRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.render=function(r,s,u){if(this.group.removeAll(),!!r.get("show")){var c=this.group,p=r.getModel("textStyle"),d=r.getModel("subtextStyle"),m=r.get("textAlign"),_=De(r.get("textBaseline"),r.get("textVerticalAlign")),S=new er({style:Dr(p,{text:r.get("text"),fill:p.getTextColor()},{disableBox:!0}),z2:10}),w=S.getBoundingRect(),A=r.get("subtext"),D=new er({style:Dr(d,{text:A,fill:d.getTextColor(),y:w.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),L=r.get("link"),E=r.get("sublink"),R=r.get("triggerEvent",!0);S.silent=!L&&!R,D.silent=!E&&!R,L&&S.on("click",function(){q1(L,"_"+r.get("target"))}),E&&D.on("click",function(){q1(E,"_"+r.get("subtarget"))}),Me(S).eventData=Me(D).eventData=R?{componentType:"title",componentIndex:r.componentIndex}:null,c.add(S),A&&c.add(D);var k=c.getBoundingRect(),z=r.getBoxLayoutParams();z.width=k.width,z.height=k.height;var B=yi(z,{width:u.getWidth(),height:u.getHeight()},r.get("padding"));m||(m=r.get("left")||r.get("right"),m==="middle"&&(m="center"),m==="right"?B.x+=B.width:m==="center"&&(B.x+=B.width/2)),_||(_=r.get("top")||r.get("bottom"),_==="center"&&(_="middle"),_==="bottom"?B.y+=B.height:_==="middle"&&(B.y+=B.height/2),_=_||"top"),c.x=B.x,c.y=B.y,c.markRedraw();var G={align:m,verticalAlign:_};S.setStyle(G),D.setStyle(G),k=c.getBoundingRect();var W=B.margin,Y=r.getItemStyle(["color","opacity"]);Y.fill=r.get("backgroundColor");var q=new tr({shape:{x:k.x-W[3],y:k.y-W[0],width:k.width+W[1]+W[3],height:k.height+W[0]+W[2],r:r.get("borderRadius")},style:Y,subPixelOptimize:!0,silent:!0});c.add(q)}},i.type="title",i}(Pr);function FRt(n){n.registerComponentModel(VRt),n.registerComponentView(BRt)}var Dj=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.layoutMode="box",r}return i.prototype.init=function(r,s,u){this.mergeDefaultAndTheme(r,u),this._initData()},i.prototype.mergeOption=function(r){n.prototype.mergeOption.apply(this,arguments),this._initData()},i.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var s=this._data.count();this.option.loop?r=(r%s+s)%s:(r>=s&&(r=s-1),r<0&&(r=0)),this.option.currentIndex=r},i.prototype.getCurrentIndex=function(){return this.option.currentIndex},i.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},i.prototype.setPlayState=function(r){this.option.autoPlay=!!r},i.prototype.getPlayState=function(){return!!this.option.autoPlay},i.prototype._initData=function(){var r=this.option,s=r.data||[],u=r.axisType,c=this._names=[],p;u==="category"?(p=[],j(s,function(_,S){var w=wi(td(_),""),A;re(_)?(A=lt(_),A.value=S):A=S,p.push(A),c.push(w)})):p=s;var d={category:"ordinal",time:"time",value:"number"}[u]||"number",m=this._data=new wa([{name:"value",type:d}],this);m.initData(p,c)},i.prototype.getData=function(){return this._data},i.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},i.type="timeline",i.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},i}(We),Mj=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="timeline.slider",i.defaultOption=xf(Dj.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),i}(Dj);qt(Mj,tw.prototype);var URt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="timeline",i}(Pr),GRt=function(n){e(i,n);function i(r,s,u,c){var p=n.call(this,r,s,u)||this;return p.type=c||"value",p}return i.prototype.getLabelModel=function(){return this.model.getModel("label")},i.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},i}(So),Ek=Math.PI,Lj=rr(),HRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(r,s){this.api=s},i.prototype.render=function(r,s,u){if(this.model=r,this.api=u,this.ecModel=s,this.group.removeAll(),r.get("show",!0)){var c=this._layout(r,u),p=this._createGroup("_mainGroup"),d=this._createGroup("_labelGroup"),m=this._axis=this._createAxis(c,r);r.formatTooltip=function(_){var S=m.scale.getLabel({value:_});return Vi("nameValue",{noName:!0,value:S})},j(["AxisLine","AxisTick","Control","CurrentPointer"],function(_){this["_render"+_](c,p,m,r)},this),this._renderAxisLabel(c,d,m,r),this._position(c,r)}this._doPlayStop(),this._updateTicksStatus()},i.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},i.prototype.dispose=function(){this._clearTimer()},i.prototype._layout=function(r,s){var u=r.get(["label","position"]),c=r.get("orient"),p=YRt(r,s),d;u==null||u==="auto"?d=c==="horizontal"?p.y+p.height/2<s.getHeight()/2?"-":"+":p.x+p.width/2<s.getWidth()/2?"+":"-":kt(u)?d={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[c][u]:d=u;var m={horizontal:"center",vertical:d>=0||d==="+"?"left":"right"},_={horizontal:d>=0||d==="+"?"top":"bottom",vertical:"middle"},S={horizontal:0,vertical:Ek/2},w=c==="vertical"?p.height:p.width,A=r.getModel("controlStyle"),D=A.get("show",!0),L=D?A.get("itemSize"):0,E=D?A.get("itemGap"):0,R=L+E,k=r.get(["label","rotate"])||0;k=k*Ek/180;var z,B,G,W=A.get("position",!0),Y=D&&A.get("showPlayBtn",!0),q=D&&A.get("showPrevBtn",!0),J=D&&A.get("showNextBtn",!0),tt=0,et=w;W==="left"||W==="bottom"?(Y&&(z=[0,0],tt+=R),q&&(B=[tt,0],tt+=R),J&&(G=[et-L,0],et-=R)):(Y&&(z=[et-L,0],et-=R),q&&(B=[0,0],tt+=R),J&&(G=[et-L,0],et-=R));var it=[tt,et];return r.get("inverse")&&it.reverse(),{viewRect:p,mainLength:w,orient:c,rotation:S[c],labelRotation:k,labelPosOpt:d,labelAlign:r.get(["label","align"])||m[c],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||_[c],playPosition:z,prevBtnPosition:B,nextBtnPosition:G,axisExtent:it,controlSize:L,controlGap:E}},i.prototype._position=function(r,s){var u=this._mainGroup,c=this._labelGroup,p=r.viewRect;if(r.orient==="vertical"){var d=Qa(),m=p.x,_=p.y+p.height;ls(d,d,[-m,-_]),nf(d,d,-Ek/2),ls(d,d,[m,_]),p=p.clone(),p.applyTransform(d)}var S=z(p),w=z(u.getBoundingRect()),A=z(c.getBoundingRect()),D=[u.x,u.y],L=[c.x,c.y];L[0]=D[0]=S[0][0];var E=r.labelPosOpt;if(E==null||kt(E)){var R=E==="+"?0:1;B(D,w,S,1,R),B(L,A,S,1,1-R)}else{var R=E>=0?0:1;B(D,w,S,1,R),L[1]=D[1]+E}u.setPosition(D),c.setPosition(L),u.rotation=c.rotation=r.rotation,k(u),k(c);function k(G){G.originX=S[0][0]-G.x,G.originY=S[1][0]-G.y}function z(G){return[[G.x,G.x+G.width],[G.y,G.y+G.height]]}function B(G,W,Y,q,J){G[q]+=Y[q][J]-W[q][J]}},i.prototype._createAxis=function(r,s){var u=s.getData(),c=s.get("axisType"),p=WRt(s,c);p.getTicks=function(){return u.mapArray(["value"],function(_){return{value:_}})};var d=u.getDataExtent("value");p.setExtent(d[0],d[1]),p.calcNiceTicks();var m=new GRt("value",p,r.axisExtent,c);return m.model=s,m},i.prototype._createGroup=function(r){var s=this[r]=new Te;return this.group.add(s),s},i.prototype._renderAxisLine=function(r,s,u,c){var p=u.getExtent();if(c.get(["lineStyle","show"])){var d=new Ti({shape:{x1:p[0],y1:0,x2:p[1],y2:0},style:st({lineCap:"round"},c.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});s.add(d);var m=this._progressLine=new Ti({shape:{x1:p[0],x2:this._currentPointer?this._currentPointer.x:p[0],y1:0,y2:0},style:dt({lineCap:"round",lineWidth:d.style.lineWidth},c.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});s.add(m)}},i.prototype._renderAxisTick=function(r,s,u,c){var p=this,d=c.getData(),m=u.scale.getTicks();this._tickSymbols=[],j(m,function(_){var S=u.dataToCoord(_.value),w=d.getItemModel(_.value),A=w.getModel("itemStyle"),D=w.getModel(["emphasis","itemStyle"]),L=w.getModel(["progress","itemStyle"]),E={x:S,y:0,onclick:Mt(p._changeTimeline,p,_.value)},R=Ij(w,A,s,E);R.ensureState("emphasis").style=D.getItemStyle(),R.ensureState("progress").style=L.getItemStyle(),df(R);var k=Me(R);w.get("tooltip")?(k.dataIndex=_.value,k.dataModel=c):k.dataIndex=k.dataModel=null,p._tickSymbols.push(R)})},i.prototype._renderAxisLabel=function(r,s,u,c){var p=this,d=u.getLabelModel();if(d.get("show")){var m=c.getData(),_=u.getViewLabels();this._tickLabels=[],j(_,function(S){var w=S.tickValue,A=m.getItemModel(w),D=A.getModel("label"),L=A.getModel(["emphasis","label"]),E=A.getModel(["progress","label"]),R=u.dataToCoord(S.tickValue),k=new er({x:R,y:0,rotation:r.labelRotation-r.rotation,onclick:Mt(p._changeTimeline,p,w),silent:!1,style:Dr(D,{text:S.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});k.ensureState("emphasis").style=Dr(L),k.ensureState("progress").style=Dr(E),s.add(k),df(k),Lj(k).dataIndex=w,p._tickLabels.push(k)})}},i.prototype._renderControl=function(r,s,u,c){var p=r.controlSize,d=r.rotation,m=c.getModel("controlStyle").getItemStyle(),_=c.getModel(["emphasis","controlStyle"]).getItemStyle(),S=c.getPlayState(),w=c.get("inverse",!0);A(r.nextBtnPosition,"next",Mt(this._changeTimeline,this,w?"-":"+")),A(r.prevBtnPosition,"prev",Mt(this._changeTimeline,this,w?"+":"-")),A(r.playPosition,S?"stop":"play",Mt(this._handlePlayClick,this,!S),!0);function A(D,L,E,R){if(D){var k=hs(De(c.get(["controlStyle",L+"BtnSize"]),p),p),z=[0,-k/2,k,k],B=ZRt(c,L+"Icon",z,{x:D[0],y:D[1],originX:p/2,originY:0,rotation:R?-d:0,rectHover:!0,style:m,onclick:E});B.ensureState("emphasis").style=_,s.add(B),df(B)}}},i.prototype._renderCurrentPointer=function(r,s,u,c){var p=c.getData(),d=c.getCurrentIndex(),m=p.getItemModel(d).getModel("checkpointStyle"),_=this,S={onCreate:function(w){w.draggable=!0,w.drift=Mt(_._handlePointerDrag,_),w.ondragend=Mt(_._handlePointerDragend,_),Ej(w,_._progressLine,d,u,c,!0)},onUpdate:function(w){Ej(w,_._progressLine,d,u,c)}};this._currentPointer=Ij(m,m,this._mainGroup,{},this._currentPointer,S)},i.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},i.prototype._handlePointerDrag=function(r,s,u){this._clearTimer(),this._pointerChangeTimeline([u.offsetX,u.offsetY])},i.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},i.prototype._pointerChangeTimeline=function(r,s){var u=this._toAxisCoord(r)[0],c=this._axis,p=On(c.getExtent().slice());u>p[1]&&(u=p[1]),u<p[0]&&(u=p[0]),this._currentPointer.x=u,this._currentPointer.markRedraw();var d=this._progressLine;d&&(d.shape.x2=u,d.dirty());var m=this._findNearestTick(u),_=this.model;(s||m!==_.getCurrentIndex()&&_.get("realtime"))&&this._changeTimeline(m)},i.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var s=r.model;r._changeTimeline(s.getCurrentIndex()+(s.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},i.prototype._toAxisCoord=function(r){var s=this._mainGroup.getLocalTransform();return gs(r,s,!0)},i.prototype._findNearestTick=function(r){var s=this.model.getData(),u=1/0,c,p=this._axis;return s.each(["value"],function(d,m){var _=p.dataToCoord(d),S=Math.abs(_-r);S<u&&(u=S,c=m)}),c},i.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},i.prototype._changeTimeline=function(r){var s=this.model.getCurrentIndex();r==="+"?r=s+1:r==="-"&&(r=s-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},i.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),s=this._tickSymbols,u=this._tickLabels;if(s)for(var c=0;c<s.length;c++)s&&s[c]&&s[c].toggleState("progress",c<r);if(u)for(var c=0;c<u.length;c++)u&&u[c]&&u[c].toggleState("progress",Lj(u[c]).dataIndex<=r)},i.type="timeline.slider",i}(URt);function WRt(n,i){if(i=i||n.get("type"),i)switch(i){case"category":return new Mw({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new G2({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new nu}}function YRt(n,i){return yi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},n.get("padding"))}function ZRt(n,i,r,s){var u=s.style,c=vd(n.get(["controlStyle",i]),s||{},new Ve(r[0],r[1],r[2],r[3]));return u&&c.setStyle(u),c}function Ij(n,i,r,s,u,c){var p=i.get("color");if(u)u.setColor(p),r.add(u),c&&c.onUpdate(u);else{var d=n.get("symbol");u=li(d,-1,-1,2,2,p),u.setStyle("strokeNoScale",!0),r.add(u),c&&c.onCreate(u)}var m=i.getItemStyle(["color"]);u.setStyle(m),s=pt({rectHover:!0,z2:100},s,!0);var _=Ld(n.get("symbolSize"));s.scaleX=_[0]/2,s.scaleY=_[1]/2;var S=Oh(n.get("symbolOffset"),_);S&&(s.x=(s.x||0)+S[0],s.y=(s.y||0)+S[1]);var w=n.get("symbolRotate");return s.rotation=(w||0)*Math.PI/180||0,u.attr(s),u.updateTransform(),u}function Ej(n,i,r,s,u,c){if(!n.dragging){var p=u.getModel("checkpointStyle"),d=s.dataToCoord(u.getData().get("value",r));if(c||!p.get("animation",!0))n.attr({x:d,y:0}),i&&i.attr({shape:{x2:d}});else{var m={duration:p.get("animationDuration",!0),easing:p.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:d,y:0},m),i&&i.animateTo({shape:{x2:d}},m)}}}function XRt(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(i,r,s){var u=r.getComponent("timeline");return u&&i.currentIndex!=null&&(u.setCurrentIndex(i.currentIndex),!u.get("loop",!0)&&u.isIndexMax()&&u.getPlayState()&&(u.setPlayState(!1),s.dispatchAction({type:"timelinePlayChange",playState:!1,from:i.from}))),r.resetOption("timeline",{replaceMerge:u.get("replaceMerge",!0)}),dt({currentIndex:u.option.currentIndex},i)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(i,r){var s=r.getComponent("timeline");s&&i.playState!=null&&s.setPlayState(i.playState)})}function qRt(n){var i=n&&n.timeline;wt(i)||(i=i?[i]:[]),j(i,function(r){r&&$Rt(r)})}function $Rt(n){var i=n.type,r={number:"value",time:"time"};if(r[i]&&(n.axisType=r[i],delete n.type),Pj(n),op(n,"controlPosition")){var s=n.controlStyle||(n.controlStyle={});op(s,"position")||(s.position=n.controlPosition),s.position==="none"&&!op(s,"show")&&(s.show=!1,delete s.position),delete n.controlPosition}j(n.data||[],function(u){re(u)&&!wt(u)&&(!op(u,"value")&&op(u,"name")&&(u.value=u.name),Pj(u))})}function Pj(n){var i=n.itemStyle||(n.itemStyle={}),r=i.emphasis||(i.emphasis={}),s=n.label||n.label||{},u=s.normal||(s.normal={}),c={normal:1,emphasis:1};j(s,function(p,d){!c[d]&&!op(u,d)&&(u[d]=p)}),r.label&&!op(s,"emphasis")&&(s.emphasis=r.label,delete r.label)}function op(n,i){return n.hasOwnProperty(i)}function KRt(n){n.registerComponentModel(Mj),n.registerComponentView(HRt),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),XRt(n),n.registerPreprocessor(qRt)}function Pk(n,i){if(!n)return!1;for(var r=wt(n)?n:[n],s=0;s<r.length;s++)if(r[s]&&r[s][i])return!0;return!1}function MT(n){nh(n,"label",["show"])}var LT=rr(),cu=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.createdBySelf=!1,r}return i.prototype.init=function(r,s,u){if(this.type==="marker")throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(r,u),this._mergeOption(r,u,!1,!0)},i.prototype.isAnimationEnabled=function(){if(f.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},i.prototype.mergeOption=function(r,s){this._mergeOption(r,s,!1,!1)},i.prototype._mergeOption=function(r,s,u,c){var p=this.mainType;u||s.eachSeries(function(d){var m=d.get(this.mainType,!0),_=LT(d)[p];if(!m||!m.data){LT(d)[p]=null;return}_?_._mergeOption(m,s,!0):(c&&MT(m),j(m.data,function(S){S instanceof Array?(MT(S[0]),MT(S[1])):MT(S)}),_=this.createMarkerModelFromSeries(m,this,s),st(_,{mainType:this.mainType,seriesIndex:d.seriesIndex,name:d.name,createdBySelf:!0}),_.__hostSeries=d),LT(d)[p]=_},this)},i.prototype.formatTooltip=function(r,s,u){var c=this.getData(),p=this.getRawValue(r),d=c.getName(r);return Vi("section",{header:this.name,blocks:[Vi("nameValue",{name:d,value:p,noName:!d,noValue:p==null})]})},i.prototype.getData=function(){return this._data},i.prototype.setData=function(r){this._data=r},i.prototype.getDataParams=function(r,s){var u=tw.prototype.getDataParams.call(this,r,s),c=this.__hostSeries;return c&&(u.seriesId=c.id,u.seriesName=c.name,u.seriesType=c.subType),u},i.getMarkerModelFromSeries=function(r,s){return LT(r)[s]},i.type="marker",i.dependencies=["series","grid","polar","geo"],i}(We);qt(cu,tw.prototype);var jRt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.createMarkerModelFromSeries=function(r,s,u){return new i(r,s,u)},i.type="markPoint",i.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},i}(cu);function Rk(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function JRt(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function IT(n,i,r,s,u,c){var p=[],d=au(i,s),m=d?i.getCalculationInfo("stackResultDimension"):s,_=kk(i,m,n),S=i.indicesOfNearest(m,_)[0];p[u]=i.get(r,S),p[c]=i.get(m,S);var w=i.get(s,S),A=ps(i.get(s,S));return A=Math.min(A,20),A>=0&&(p[c]=+p[c].toFixed(A)),[p,w]}var Ok={min:ee(IT,"min"),max:ee(IT,"max"),average:ee(IT,"average"),median:ee(IT,"median")};function b_(n,i){if(i){var r=n.getData(),s=n.coordinateSystem,u=s&&s.dimensions;if(!JRt(i)&&!wt(i.coord)&&wt(u)){var c=Rj(i,r,s,n);if(i=lt(i),i.type&&Ok[i.type]&&c.baseAxis&&c.valueAxis){var p=At(u,c.baseAxis.dim),d=At(u,c.valueAxis.dim),m=Ok[i.type](r,c.baseDataDim,c.valueDataDim,p,d);i.coord=m[0],i.value=m[1]}else i.coord=[i.xAxis!=null?i.xAxis:i.radiusAxis,i.yAxis!=null?i.yAxis:i.angleAxis]}if(i.coord==null||!wt(u))i.coord=[];else for(var _=i.coord,S=0;S<2;S++)Ok[_[S]]&&(_[S]=kk(r,r.mapDimension(u[S]),_[S]));return i}}function Rj(n,i,r,s){var u={};return n.valueIndex!=null||n.valueDim!=null?(u.valueDataDim=n.valueIndex!=null?i.getDimension(n.valueIndex):n.valueDim,u.valueAxis=r.getAxis(QRt(s,u.valueDataDim)),u.baseAxis=r.getOtherAxis(u.valueAxis),u.baseDataDim=i.mapDimension(u.baseAxis.dim)):(u.baseAxis=s.getBaseAxis(),u.valueAxis=r.getOtherAxis(u.baseAxis),u.baseDataDim=i.mapDimension(u.baseAxis.dim),u.valueDataDim=i.mapDimension(u.valueAxis.dim)),u}function QRt(n,i){var r=n.getData().getDimensionInfo(i);return r&&r.coordDim}function w_(n,i){return n&&n.containData&&i.coord&&!Rk(i)?n.containData(i.coord):!0}function tOt(n,i,r){return n&&n.containZone&&i.coord&&r.coord&&!Rk(i)&&!Rk(r)?n.containZone(i.coord,r.coord):!0}function Oj(n,i){return n?function(r,s,u,c){var p=c<2?r.coord&&r.coord[c]:r.value;return bf(p,i[c])}:function(r,s,u,c){return bf(r.value,i[c])}}function kk(n,i,r){if(r==="average"){var s=0,u=0;return n.each(i,function(c,p){isNaN(c)||(s+=c,u++)}),s/u}else return r==="median"?n.getMedian(i):n.getDataExtent(i)[r==="max"?1:0]}var Nk=rr(),zk=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.init=function(){this.markerGroupMap=le()},i.prototype.render=function(r,s,u){var c=this,p=this.markerGroupMap;p.each(function(d){Nk(d).keep=!1}),s.eachSeries(function(d){var m=cu.getMarkerModelFromSeries(d,c.type);m&&c.renderSeries(d,m,s,u)}),p.each(function(d){!Nk(d).keep&&c.group.remove(d.group)})},i.prototype.markKeep=function(r){Nk(r).keep=!0},i.prototype.toggleBlurSeries=function(r,s){var u=this;j(r,function(c){var p=cu.getMarkerModelFromSeries(c,u.type);if(p){var d=p.getData();d.eachItemGraphicEl(function(m){m&&(s?p6(m):rP(m))})}})},i.type="marker",i}(Pr);function kj(n,i,r){var s=i.coordinateSystem;n.each(function(u){var c=n.getItemModel(u),p,d=Wt(c.get("x"),r.getWidth()),m=Wt(c.get("y"),r.getHeight());if(!isNaN(d)&&!isNaN(m))p=[d,m];else if(i.getMarkerPosition)p=i.getMarkerPosition(n.getValues(n.dimensions,u));else if(s){var _=n.get(s.dimensions[0],u),S=n.get(s.dimensions[1],u);p=s.dataToPoint([_,S])}isNaN(d)||(p[0]=d),isNaN(m)||(p[1]=m),n.setItemLayout(u,p)})}var eOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.updateTransform=function(r,s,u){s.eachSeries(function(c){var p=cu.getMarkerModelFromSeries(c,"markPoint");p&&(kj(p.getData(),c,u),this.markerGroupMap.get(c.id).updateLayout())},this)},i.prototype.renderSeries=function(r,s,u,c){var p=r.coordinateSystem,d=r.id,m=r.getData(),_=this.markerGroupMap,S=_.get(d)||_.set(d,new q0),w=rOt(p,r,s);s.setData(w),kj(s.getData(),r,c),w.each(function(A){var D=w.getItemModel(A),L=D.getShallow("symbol"),E=D.getShallow("symbolSize"),R=D.getShallow("symbolRotate"),k=D.getShallow("symbolOffset"),z=D.getShallow("symbolKeepAspect");if(Gt(L)||Gt(E)||Gt(R)||Gt(k)){var B=s.getRawValue(A),G=s.getDataParams(A);Gt(L)&&(L=L(B,G)),Gt(E)&&(E=E(B,G)),Gt(R)&&(R=R(B,G)),Gt(k)&&(k=k(B,G))}var W=D.getModel("itemStyle").getItemStyle(),Y=I0(m,"color");W.fill||(W.fill=Y),w.setItemVisual(A,{symbol:L,symbolSize:E,symbolRotate:R,symbolOffset:k,symbolKeepAspect:z,style:W})}),S.updateData(w),this.group.add(S.group),w.eachItemGraphicEl(function(A){A.traverse(function(D){Me(D).dataModel=s})}),this.markKeep(S),S.group.silent=s.get("silent")||r.get("silent")},i.type="markPoint",i}(zk);function rOt(n,i,r){var s;n?s=Tt(n&&n.dimensions,function(d){var m=i.getData().getDimensionInfo(i.getData().mapDimension(d))||{};return st(st({},m),{name:d,ordinalMeta:null})}):s=[{name:"value",type:"float"}];var u=new wa(s,r),c=Tt(r.get("data"),ee(b_,i));n&&(c=jt(c,ee(w_,n)));var p=Oj(!!n,s);return u.initData(c,null,p),u}function iOt(n){n.registerComponentModel(jRt),n.registerComponentView(eOt),n.registerPreprocessor(function(i){Pk(i.series,"markPoint")&&(i.markPoint=i.markPoint||{})})}var aOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.createMarkerModelFromSeries=function(r,s,u){return new i(r,s,u)},i.type="markLine",i.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},i}(cu),ET=rr(),nOt=function(n,i,r,s){var u=n.getData(),c;if(wt(s))c=s;else{var p=s.type;if(p==="min"||p==="max"||p==="average"||p==="median"||s.xAxis!=null||s.yAxis!=null){var d=void 0,m=void 0;if(s.yAxis!=null||s.xAxis!=null)d=i.getAxis(s.yAxis!=null?"y":"x"),m=oi(s.yAxis,s.xAxis);else{var _=Rj(s,u,i,n);d=_.valueAxis;var S=k2(u,_.valueDataDim);m=kk(u,S,p)}var w=d.dim==="x"?0:1,A=1-w,D=lt(s),L={coord:[]};D.type=null,D.coord=[],D.coord[A]=-1/0,L.coord[A]=1/0;var E=r.get("precision");E>=0&&Ne(m)&&(m=+m.toFixed(Math.min(E,20))),D.coord[w]=L.coord[w]=m,c=[D,L,{type:p,valueIndex:s.valueIndex,value:m}]}else ft("Invalid markLine data."),c=[]}var R=[b_(n,c[0]),b_(n,c[1]),st({},c[2])];return R[2].type=R[2].type||null,pt(R[2],R[0]),pt(R[2],R[1]),R};function PT(n){return!isNaN(n)&&!isFinite(n)}function Nj(n,i,r,s){var u=1-n,c=s.dimensions[n];return PT(i[u])&&PT(r[u])&&i[n]===r[n]&&s.getAxis(c).containData(i[n])}function oOt(n,i){if(n.type==="cartesian2d"){var r=i[0].coord,s=i[1].coord;if(r&&s&&(Nj(1,r,s,n)||Nj(0,r,s,n)))return!0}return w_(n,i[0])&&w_(n,i[1])}function Vk(n,i,r,s,u){var c=s.coordinateSystem,p=n.getItemModel(i),d,m=Wt(p.get("x"),u.getWidth()),_=Wt(p.get("y"),u.getHeight());if(!isNaN(m)&&!isNaN(_))d=[m,_];else{if(s.getMarkerPosition)d=s.getMarkerPosition(n.getValues(n.dimensions,i));else{var S=c.dimensions,w=n.get(S[0],i),A=n.get(S[1],i);d=c.dataToPoint([w,A])}if(Xh(c,"cartesian2d")){var D=c.getAxis("x"),L=c.getAxis("y"),S=c.dimensions;PT(n.get(S[0],i))?d[0]=D.toGlobalCoord(D.getExtent()[r?0:1]):PT(n.get(S[1],i))&&(d[1]=L.toGlobalCoord(L.getExtent()[r?0:1]))}isNaN(m)||(d[0]=m),isNaN(_)||(d[1]=_)}n.setItemLayout(i,d)}var sOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.updateTransform=function(r,s,u){s.eachSeries(function(c){var p=cu.getMarkerModelFromSeries(c,"markLine");if(p){var d=p.getData(),m=ET(p).from,_=ET(p).to;m.each(function(S){Vk(m,S,!0,c,u),Vk(_,S,!1,c,u)}),d.each(function(S){d.setItemLayout(S,[m.getItemLayout(S),_.getItemLayout(S)])}),this.markerGroupMap.get(c.id).updateLayout()}},this)},i.prototype.renderSeries=function(r,s,u,c){var p=r.coordinateSystem,d=r.id,m=r.getData(),_=this.markerGroupMap,S=_.get(d)||_.set(d,new fO);this.group.add(S.group);var w=lOt(p,r,s),A=w.from,D=w.to,L=w.line;ET(s).from=A,ET(s).to=D,s.setData(L);var E=s.get("symbol"),R=s.get("symbolSize"),k=s.get("symbolRotate"),z=s.get("symbolOffset");wt(E)||(E=[E,E]),wt(R)||(R=[R,R]),wt(k)||(k=[k,k]),wt(z)||(z=[z,z]),w.from.each(function(G){B(A,G,!0),B(D,G,!1)}),L.each(function(G){var W=L.getItemModel(G).getModel("lineStyle").getLineStyle();L.setItemLayout(G,[A.getItemLayout(G),D.getItemLayout(G)]),W.stroke==null&&(W.stroke=A.getItemVisual(G,"style").fill),L.setItemVisual(G,{fromSymbolKeepAspect:A.getItemVisual(G,"symbolKeepAspect"),fromSymbolOffset:A.getItemVisual(G,"symbolOffset"),fromSymbolRotate:A.getItemVisual(G,"symbolRotate"),fromSymbolSize:A.getItemVisual(G,"symbolSize"),fromSymbol:A.getItemVisual(G,"symbol"),toSymbolKeepAspect:D.getItemVisual(G,"symbolKeepAspect"),toSymbolOffset:D.getItemVisual(G,"symbolOffset"),toSymbolRotate:D.getItemVisual(G,"symbolRotate"),toSymbolSize:D.getItemVisual(G,"symbolSize"),toSymbol:D.getItemVisual(G,"symbol"),style:W})}),S.updateData(L),w.line.eachItemGraphicEl(function(G){Me(G).dataModel=s,G.traverse(function(W){Me(W).dataModel=s})});function B(G,W,Y){var q=G.getItemModel(W);Vk(G,W,Y,r,c);var J=q.getModel("itemStyle").getItemStyle();J.fill==null&&(J.fill=I0(m,"color")),G.setItemVisual(W,{symbolKeepAspect:q.get("symbolKeepAspect"),symbolOffset:De(q.get("symbolOffset",!0),z[Y?0:1]),symbolRotate:De(q.get("symbolRotate",!0),k[Y?0:1]),symbolSize:De(q.get("symbolSize"),R[Y?0:1]),symbol:De(q.get("symbol",!0),E[Y?0:1]),style:J})}this.markKeep(S),S.group.silent=s.get("silent")||r.get("silent")},i.type="markLine",i}(zk);function lOt(n,i,r){var s;n?s=Tt(n&&n.dimensions,function(_){var S=i.getData().getDimensionInfo(i.getData().mapDimension(_))||{};return st(st({},S),{name:_,ordinalMeta:null})}):s=[{name:"value",type:"float"}];var u=new wa(s,r),c=new wa(s,r),p=new wa([],r),d=Tt(r.get("data"),ee(nOt,i,n,r));n&&(d=jt(d,ee(oOt,n)));var m=Oj(!!n,s);return u.initData(Tt(d,function(_){return _[0]}),null,m),c.initData(Tt(d,function(_){return _[1]}),null,m),p.initData(Tt(d,function(_){return _[2]})),p.hasItemOption=!0,{from:u,to:c,line:p}}function uOt(n){n.registerComponentModel(aOt),n.registerComponentView(sOt),n.registerPreprocessor(function(i){Pk(i.series,"markLine")&&(i.markLine=i.markLine||{})})}var fOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.createMarkerModelFromSeries=function(r,s,u){return new i(r,s,u)},i.type="markArea",i.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},i}(cu),RT=rr(),cOt=function(n,i,r,s){var u=s[0],c=s[1];if(!(!u||!c)){var p=b_(n,u),d=b_(n,c),m=p.coord,_=d.coord;m[0]=oi(m[0],-1/0),m[1]=oi(m[1],-1/0),_[0]=oi(_[0],1/0),_[1]=oi(_[1],1/0);var S=xt([{},p,d]);return S.coord=[p.coord,d.coord],S.x0=p.x,S.y0=p.y,S.x1=d.x,S.y1=d.y,S}};function OT(n){return!isNaN(n)&&!isFinite(n)}function zj(n,i,r,s){var u=1-n;return OT(i[u])&&OT(r[u])}function hOt(n,i){var r=i.coord[0],s=i.coord[1],u={coord:r,x:i.x0,y:i.y0},c={coord:s,x:i.x1,y:i.y1};return Xh(n,"cartesian2d")?r&&s&&(zj(1,r,s)||zj(0,r,s))?!0:tOt(n,u,c):w_(n,u)||w_(n,c)}function Vj(n,i,r,s,u){var c=s.coordinateSystem,p=n.getItemModel(i),d,m=Wt(p.get(r[0]),u.getWidth()),_=Wt(p.get(r[1]),u.getHeight());if(!isNaN(m)&&!isNaN(_))d=[m,_];else{if(s.getMarkerPosition){var S=n.getValues(["x0","y0"],i),w=n.getValues(["x1","y1"],i),A=c.clampData(S),D=c.clampData(w),L=[];r[0]==="x0"?L[0]=A[0]>D[0]?w[0]:S[0]:L[0]=A[0]>D[0]?S[0]:w[0],r[1]==="y0"?L[1]=A[1]>D[1]?w[1]:S[1]:L[1]=A[1]>D[1]?S[1]:w[1],d=s.getMarkerPosition(L,r,!0)}else{var E=n.get(r[0],i),R=n.get(r[1],i),k=[E,R];c.clampData&&c.clampData(k,k),d=c.dataToPoint(k,!0)}if(Xh(c,"cartesian2d")){var z=c.getAxis("x"),B=c.getAxis("y"),E=n.get(r[0],i),R=n.get(r[1],i);OT(E)?d[0]=z.toGlobalCoord(z.getExtent()[r[0]==="x0"?0:1]):OT(R)&&(d[1]=B.toGlobalCoord(B.getExtent()[r[1]==="y0"?0:1]))}isNaN(m)||(d[0]=m),isNaN(_)||(d[1]=_)}return d}var Bj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],pOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.updateTransform=function(r,s,u){s.eachSeries(function(c){var p=cu.getMarkerModelFromSeries(c,"markArea");if(p){var d=p.getData();d.each(function(m){var _=Tt(Bj,function(w){return Vj(d,m,w,c,u)});d.setItemLayout(m,_);var S=d.getItemGraphicEl(m);S.setShape("points",_)})}},this)},i.prototype.renderSeries=function(r,s,u,c){var p=r.coordinateSystem,d=r.id,m=r.getData(),_=this.markerGroupMap,S=_.get(d)||_.set(d,{group:new Te});this.group.add(S.group),this.markKeep(S);var w=vOt(p,r,s);s.setData(w),w.each(function(A){var D=Tt(Bj,function(J){return Vj(w,A,J,r,c)}),L=p.getAxis("x").scale,E=p.getAxis("y").scale,R=L.getExtent(),k=E.getExtent(),z=[L.parse(w.get("x0",A)),L.parse(w.get("x1",A))],B=[E.parse(w.get("y0",A)),E.parse(w.get("y1",A))];On(z),On(B);var G=!(R[0]>z[1]||R[1]<z[0]||k[0]>B[1]||k[1]<B[0]),W=!G;w.setItemLayout(A,{points:D,allClipped:W});var Y=w.getItemModel(A).getModel("itemStyle").getItemStyle(),q=I0(m,"color");Y.fill||(Y.fill=q,kt(Y.fill)&&(Y.fill=Gy(Y.fill,.4))),Y.stroke||(Y.stroke=q),w.setItemVisual(A,"style",Y)}),w.diff(RT(S).data).add(function(A){var D=w.getItemLayout(A);if(!D.allClipped){var L=new ma({shape:{points:D.points}});w.setItemGraphicEl(A,L),S.group.add(L)}}).update(function(A,D){var L=RT(S).data.getItemGraphicEl(D),E=w.getItemLayout(A);E.allClipped?L&&S.group.remove(L):(L?ir(L,{shape:{points:E.points}},s,A):L=new ma({shape:{points:E.points}}),w.setItemGraphicEl(A,L),S.group.add(L))}).remove(function(A){var D=RT(S).data.getItemGraphicEl(A);S.group.remove(D)}).execute(),w.eachItemGraphicEl(function(A,D){var L=w.getItemModel(D),E=w.getItemVisual(D,"style");A.useStyle(w.getItemVisual(D,"style")),ia(A,zi(L),{labelFetcher:s,labelDataIndex:D,defaultText:w.getName(D)||"",inheritColor:kt(E.fill)?Gy(E.fill,1):"#000"}),ra(A,L),Zr(A,null,null,L.get(["emphasis","disabled"])),Me(A).dataModel=s}),RT(S).data=w,S.group.silent=s.get("silent")||r.get("silent")},i.type="markArea",i}(zk);function vOt(n,i,r){var s,u,c=["x0","y0","x1","y1"];if(n){var p=Tt(n&&n.dimensions,function(_){var S=i.getData(),w=S.getDimensionInfo(S.mapDimension(_))||{};return st(st({},w),{name:_,ordinalMeta:null})});u=Tt(c,function(_,S){return{name:_,type:p[S%2].type}}),s=new wa(u,r)}else u=[{name:"value",type:"float"}],s=new wa(u,r);var d=Tt(r.get("data"),ee(cOt,i,n,r));n&&(d=jt(d,ee(hOt,n)));var m=n?function(_,S,w,A){var D=_.coord[Math.floor(A/2)][A%2];return bf(D,u[A])}:function(_,S,w,A){return bf(_.value,u[A])};return s.initData(d,null,m),s.hasItemOption=!0,s}function dOt(n){n.registerComponentModel(fOt),n.registerComponentView(pOt),n.registerPreprocessor(function(i){Pk(i.series,"markArea")&&(i.markArea=i.markArea||{})})}var gOt=function(n,i){if(i==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(i==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},Bk=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.layoutMode={type:"box",ignoreSize:!0},r}return i.prototype.init=function(r,s,u){this.mergeDefaultAndTheme(r,u),r.selected=r.selected||{},this._updateSelector(r)},i.prototype.mergeOption=function(r,s){n.prototype.mergeOption.call(this,r,s),this._updateSelector(r)},i.prototype._updateSelector=function(r){var s=r.selector,u=this.ecModel;s===!0&&(s=r.selector=["all","inverse"]),wt(s)&&j(s,function(c,p){kt(c)&&(c={type:c}),s[p]=pt(c,gOt(u,c.type))})},i.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var s=!1,u=0;u<r.length;u++){var c=r[u].get("name");if(this.isSelected(c)){this.select(c),s=!0;break}}!s&&this.select(r[0].get("name"))}},i.prototype._updateData=function(r){var s=[],u=[];r.eachRawSeries(function(m){var _=m.name;u.push(_);var S;if(m.legendVisualProvider){var w=m.legendVisualProvider,A=w.getAllNames();r.isSeriesFiltered(m)||(u=u.concat(A)),A.length?s=s.concat(A):S=!0}else S=!0;S&&IE(m)&&s.push(m.name)}),this._availableNames=u;var c=this.get("data")||s,p=le(),d=Tt(c,function(m){return(kt(m)||Ne(m))&&(m={name:m}),p.get(m.name)?null:(p.set(m.name,!0),new sr(m,this,this.ecModel))},this);this._data=jt(d,function(m){return!!m})},i.prototype.getData=function(){return this._data},i.prototype.select=function(r){var s=this.option.selected,u=this.get("selectedMode");if(u==="single"){var c=this._data;j(c,function(p){s[p.get("name")]=!1})}s[r]=!0},i.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},i.prototype.toggleSelected=function(r){var s=this.option.selected;s.hasOwnProperty(r)||(s[r]=!0),this[s[r]?"unSelect":"select"](r)},i.prototype.allSelect=function(){var r=this._data,s=this.option.selected;j(r,function(u){s[u.get("name",!0)]=!0})},i.prototype.inverseSelect=function(){var r=this._data,s=this.option.selected;j(r,function(u){var c=u.get("name",!0);s.hasOwnProperty(c)||(s[c]=!0),s[c]=!s[c]})},i.prototype.isSelected=function(r){var s=this.option.selected;return!(s.hasOwnProperty(r)&&!s[r])&&At(this._availableNames,r)>=0},i.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},i.type="legend.plain",i.dependencies=["series"],i.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},i}(We),tg=ee,Fk=j,kT=Te,Fj=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.newlineDisabled=!1,r}return i.prototype.init=function(){this.group.add(this._contentGroup=new kT),this.group.add(this._selectorGroup=new kT),this._isFirstRender=!0},i.prototype.getContentGroup=function(){return this._contentGroup},i.prototype.getSelectorGroup=function(){return this._selectorGroup},i.prototype.render=function(r,s,u){var c=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var p=r.get("align"),d=r.get("orient");(!p||p==="auto")&&(p=r.get("left")==="right"&&d==="vertical"?"right":"left");var m=r.get("selector",!0),_=r.get("selectorPosition",!0);m&&(!_||_==="auto")&&(_=d==="horizontal"?"end":"start"),this.renderInner(p,r,s,u,m,d,_);var S=r.getBoxLayoutParams(),w={width:u.getWidth(),height:u.getHeight()},A=r.get("padding"),D=yi(S,w,A),L=this.layoutInner(r,p,D,c,m,_),E=yi(dt({width:L.width,height:L.height},S),w,A);this.group.x=E.x-L.x,this.group.y=E.y-L.y,this.group.markRedraw(),this.group.add(this._backgroundEl=$K(L,r))}},i.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},i.prototype.renderInner=function(r,s,u,c,p,d,m){var _=this.getContentGroup(),S=le(),w=s.get("selectedMode"),A=[];u.eachRawSeries(function(D){!D.get("legendHoverLink")&&A.push(D.id)}),Fk(s.getData(),function(D,L){var E=D.get("name");if(!this.newlineDisabled&&(E===""||E===`
`)){var R=new kT;R.newline=!0,_.add(R);return}var k=u.getSeriesByName(E)[0];if(!S.get(E)){if(k){var z=k.getData(),B=z.getVisual("legendLineStyle")||{},G=z.getVisual("legendIcon"),W=z.getVisual("style"),Y=this._createItem(k,E,L,D,s,r,B,W,G,w,c);Y.on("click",tg(Uj,E,null,c,A)).on("mouseover",tg(Uk,k.name,null,c,A)).on("mouseout",tg(Gk,k.name,null,c,A)),u.ssr&&Y.eachChild(function(q){var J=Me(q);J.seriesIndex=k.seriesIndex,J.dataIndex=L,J.ssrType="legend"}),S.set(E,!0)}else u.eachRawSeries(function(q){if(!S.get(E)&&q.legendVisualProvider){var J=q.legendVisualProvider;if(!J.containName(E))return;var tt=J.indexOfName(E),et=J.getItemVisual(tt,"style"),it=J.getItemVisual(tt,"legendIcon"),ut=Oa(et.fill);ut&&ut[3]===0&&(ut[3]=.2,et=st(st({},et),{fill:fs(ut,"rgba")}));var ct=this._createItem(q,E,L,D,s,r,{},et,it,w,c);ct.on("click",tg(Uj,null,E,c,A)).on("mouseover",tg(Uk,null,E,c,A)).on("mouseout",tg(Gk,null,E,c,A)),u.ssr&&ct.eachChild(function(ht){var vt=Me(ht);vt.seriesIndex=q.seriesIndex,vt.dataIndex=L,vt.ssrType="legend"}),S.set(E,!0)}},this);S.get(E)||console.warn(E+" series not exists. Legend data should be same with series name or data name.")}},this),p&&this._createSelector(p,s,c,d,m)},i.prototype._createSelector=function(r,s,u,c,p){var d=this.getSelectorGroup();Fk(r,function(_){var S=_.type,w=new er({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){u.dispatchAction({type:S==="all"?"legendAllSelect":"legendInverseSelect",legendId:s.id})}});d.add(w);var A=s.getModel("selectorLabel"),D=s.getModel(["emphasis","selectorLabel"]);ia(w,{normal:A,emphasis:D},{defaultText:_.title}),df(w)})},i.prototype._createItem=function(r,s,u,c,p,d,m,_,S,w,A){var D=r.visualDrawType,L=p.get("itemWidth"),E=p.get("itemHeight"),R=p.isSelected(s),k=c.get("symbolRotate"),z=c.get("symbolKeepAspect"),B=c.get("icon");S=B||S||"roundRect";var G=mOt(S,c,m,_,D,R,A),W=new kT,Y=c.getModel("textStyle");if(Gt(r.getLegendIcon)&&(!B||B==="inherit"))W.add(r.getLegendIcon({itemWidth:L,itemHeight:E,icon:S,iconRotate:k,itemStyle:G.itemStyle,lineStyle:G.lineStyle,symbolKeepAspect:z}));else{var q=B==="inherit"&&r.getData().getVisual("symbol")?k==="inherit"?r.getData().getVisual("symbolRotate"):k:0;W.add(yOt({itemWidth:L,itemHeight:E,icon:S,iconRotate:q,itemStyle:G.itemStyle,lineStyle:G.lineStyle,symbolKeepAspect:z}))}var J=d==="left"?L+5:-5,tt=d,et=p.get("formatter"),it=s;kt(et)&&et?it=et.replace("{name}",s??""):Gt(et)&&(it=et(s));var ut=R?Y.getTextColor():c.get("inactiveColor");W.add(new er({style:Dr(Y,{text:it,x:J,y:E/2,fill:ut,align:tt,verticalAlign:"middle"},{inheritColor:ut})}));var ct=new tr({shape:W.getBoundingRect(),style:{fill:"transparent"}}),ht=c.getModel("tooltip");return ht.get("show")&&wh({el:ct,componentModel:p,itemName:s,itemTooltipOption:ht.option}),W.add(ct),W.eachChild(function(vt){vt.silent=!0}),ct.silent=!w,this.getContentGroup().add(W),df(W),W.__legendDataIndex=u,W},i.prototype.layoutInner=function(r,s,u,c,p,d){var m=this.getContentGroup(),_=this.getSelectorGroup();Mh(r.get("orient"),m,r.get("itemGap"),u.width,u.height);var S=m.getBoundingRect(),w=[-S.x,-S.y];if(_.markRedraw(),m.markRedraw(),p){Mh("horizontal",_,r.get("selectorItemGap",!0));var A=_.getBoundingRect(),D=[-A.x,-A.y],L=r.get("selectorButtonGap",!0),E=r.getOrient().index,R=E===0?"width":"height",k=E===0?"height":"width",z=E===0?"y":"x";d==="end"?D[E]+=S[R]+L:w[E]+=A[R]+L,D[1-E]+=S[k]/2-A[k]/2,_.x=D[0],_.y=D[1],m.x=w[0],m.y=w[1];var B={x:0,y:0};return B[R]=S[R]+L+A[R],B[k]=Math.max(S[k],A[k]),B[z]=Math.min(0,A[z]+D[1-E]),B}else return m.x=w[0],m.y=w[1],this.group.getBoundingRect()},i.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},i.type="legend.plain",i}(Pr);function mOt(n,i,r,s,u,c,p){function d(R,k){R.lineWidth==="auto"&&(R.lineWidth=k.lineWidth>0?2:0),Fk(R,function(z,B){R[B]==="inherit"&&(R[B]=k[B])})}var m=i.getModel("itemStyle"),_=m.getItemStyle(),S=n.lastIndexOf("empty",0)===0?"fill":"stroke",w=m.getShallow("decal");_.decal=!w||w==="inherit"?s.decal:Ed(w,p),_.fill==="inherit"&&(_.fill=s[u]),_.stroke==="inherit"&&(_.stroke=s[S]),_.opacity==="inherit"&&(_.opacity=(u==="fill"?s:r).opacity),d(_,s);var A=i.getModel("lineStyle"),D=A.getLineStyle();if(d(D,r),_.fill==="auto"&&(_.fill=s.fill),_.stroke==="auto"&&(_.stroke=s.fill),D.stroke==="auto"&&(D.stroke=s.fill),!c){var L=i.get("inactiveBorderWidth"),E=_[S];_.lineWidth=L==="auto"?s.lineWidth>0&&E?2:0:_.lineWidth,_.fill=i.get("inactiveColor"),_.stroke=i.get("inactiveBorderColor"),D.stroke=A.get("inactiveColor"),D.lineWidth=A.get("inactiveWidth")}return{itemStyle:_,lineStyle:D}}function yOt(n){var i=n.icon||"roundRect",r=li(i,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return r.setStyle(n.itemStyle),r.rotation=(n.iconRotate||0)*Math.PI/180,r.setOrigin([n.itemWidth/2,n.itemHeight/2]),i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function Uj(n,i,r,s){Gk(n,i,r,s),r.dispatchAction({type:"legendToggleSelect",name:n??i}),Uk(n,i,r,s)}function Gj(n){for(var i=n.getZr().storage.getDisplayList(),r,s=0,u=i.length;s<u&&!(r=i[s].states.emphasis);)s++;return r&&r.hoverLayer}function Uk(n,i,r,s){Gj(r)||r.dispatchAction({type:"highlight",seriesName:n,name:i,excludeSeriesId:s})}function Gk(n,i,r,s){Gj(r)||r.dispatchAction({type:"downplay",seriesName:n,name:i,excludeSeriesId:s})}function _Ot(n){var i=n.findComponents({mainType:"legend"});i&&i.length&&n.filterSeries(function(r){for(var s=0;s<i.length;s++)if(!i[s].isSelected(r.name))return!1;return!0})}function T_(n,i,r){var s=n==="allSelect"||n==="inverseSelect",u={},c=[];r.eachComponent({mainType:"legend",query:i},function(d){s?d[n]():d[n](i.name),Hj(d,u),c.push(d.componentIndex)});var p={};return r.eachComponent("legend",function(d){j(u,function(m,_){d[m?"select":"unSelect"](_)}),Hj(d,p)}),s?{selected:p,legendIndex:c}:{name:i.name,selected:p}}function Hj(n,i){var r=i||{};return j(n.getData(),function(s){var u=s.get("name");if(!(u===`
`||u==="")){var c=n.isSelected(u);Jt(r,u)?r[u]=r[u]&&c:r[u]=c}}),r}function xOt(n){n.registerAction("legendToggleSelect","legendselectchanged",ee(T_,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",ee(T_,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",ee(T_,"inverseSelect")),n.registerAction("legendSelect","legendselected",ee(T_,"select")),n.registerAction("legendUnSelect","legendunselected",ee(T_,"unSelect"))}function Wj(n){n.registerComponentModel(Bk),n.registerComponentView(Fj),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,_Ot),n.registerSubTypeDefaulter("legend",function(){return"plain"}),xOt(n)}var SOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},i.prototype.init=function(r,s,u){var c=xd(r);n.prototype.init.call(this,r,s,u),Yj(this,r,c)},i.prototype.mergeOption=function(r,s){n.prototype.mergeOption.call(this,r,s),Yj(this,this.option,r)},i.type="legend.scroll",i.defaultOption=xf(Bk.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),i}(Bk);function Yj(n,i,r){var s=n.getOrient(),u=[1,1];u[s.index]=0,Sf(i,r,{type:"box",ignoreSize:!!u})}var Zj=Te,Hk=["width","height"],Wk=["x","y"],bOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.newlineDisabled=!0,r._currentIndex=0,r}return i.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Zj),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Zj)},i.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},i.prototype.renderInner=function(r,s,u,c,p,d,m){var _=this;n.prototype.renderInner.call(this,r,s,u,c,p,d,m);var S=this._controllerGroup,w=s.get("pageIconSize",!0),A=wt(w)?w:[w,w];L("pagePrev",0);var D=s.getModel("pageTextStyle");S.add(new er({name:"pageText",style:{text:"xx/xx",fill:D.getTextColor(),font:D.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),L("pageNext",1);function L(E,R){var k=E+"DataIndex",z=vd(s.get("pageIcons",!0)[s.getOrient().name][R],{onclick:Mt(_._pageGo,_,k,s,c)},{x:-A[0]/2,y:-A[1]/2,width:A[0],height:A[1]});z.name=E,S.add(z)}},i.prototype.layoutInner=function(r,s,u,c,p,d){var m=this.getSelectorGroup(),_=r.getOrient().index,S=Hk[_],w=Wk[_],A=Hk[1-_],D=Wk[1-_];p&&Mh("horizontal",m,r.get("selectorItemGap",!0));var L=r.get("selectorButtonGap",!0),E=m.getBoundingRect(),R=[-E.x,-E.y],k=lt(u);p&&(k[S]=u[S]-E[S]-L);var z=this._layoutContentAndController(r,c,k,_,S,A,D,w);if(p){if(d==="end")R[_]+=z[S]+L;else{var B=E[S]+L;R[_]-=B,z[w]-=B}z[S]+=E[S]+L,R[1-_]+=z[D]+z[A]/2-E[A]/2,z[A]=Math.max(z[A],E[A]),z[D]=Math.min(z[D],E[D]+R[1-_]),m.x=R[0],m.y=R[1],m.markRedraw()}return z},i.prototype._layoutContentAndController=function(r,s,u,c,p,d,m,_){var S=this.getContentGroup(),w=this._containerGroup,A=this._controllerGroup;Mh(r.get("orient"),S,r.get("itemGap"),c?u.width:null,c?null:u.height),Mh("horizontal",A,r.get("pageButtonItemGap",!0));var D=S.getBoundingRect(),L=A.getBoundingRect(),E=this._showController=D[p]>u[p],R=[-D.x,-D.y];s||(R[c]=S[_]);var k=[0,0],z=[-L.x,-L.y],B=De(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(E){var G=r.get("pageButtonPosition",!0);G==="end"?z[c]+=u[p]-L[p]:k[c]+=L[p]+B}z[1-c]+=D[d]/2-L[d]/2,S.setPosition(R),w.setPosition(k),A.setPosition(z);var W={x:0,y:0};if(W[p]=E?u[p]:D[p],W[d]=Math.max(D[d],L[d]),W[m]=Math.min(0,L[m]+z[1-c]),w.__rectSize=u[p],E){var Y={x:0,y:0};Y[p]=Math.max(u[p]-L[p]-B,0),Y[d]=W[d],w.setClipPath(new tr({shape:Y})),w.__rectSize=Y[p]}else A.eachChild(function(J){J.attr({invisible:!0,silent:!0})});var q=this._getPageInfo(r);return q.pageIndex!=null&&ir(S,{x:q.contentPosition[0],y:q.contentPosition[1]},E?r:null),this._updatePageInfoView(r,q),W},i.prototype._pageGo=function(r,s,u){var c=this._getPageInfo(s)[r];c!=null&&u.dispatchAction({type:"legendScroll",scrollDataIndex:c,legendId:s.id})},i.prototype._updatePageInfoView=function(r,s){var u=this._controllerGroup;j(["pagePrev","pageNext"],function(S){var w=S+"DataIndex",A=s[w]!=null,D=u.childOfName(S);D&&(D.setStyle("fill",A?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),D.cursor=A?"pointer":"default")});var c=u.childOfName("pageText"),p=r.get("pageFormatter"),d=s.pageIndex,m=d!=null?d+1:0,_=s.pageCount;c&&p&&c.setStyle("text",kt(p)?p.replace("{current}",m==null?"":m+"").replace("{total}",_==null?"":_+""):p({current:m,total:_}))},i.prototype._getPageInfo=function(r){var s=r.get("scrollDataIndex",!0),u=this.getContentGroup(),c=this._containerGroup.__rectSize,p=r.getOrient().index,d=Hk[p],m=Wk[p],_=this._findTargetItemIndex(s),S=u.children(),w=S[_],A=S.length,D=A?1:0,L={contentPosition:[u.x,u.y],pageCount:D,pageIndex:D-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!w)return L;var E=G(w);L.contentPosition[p]=-E.s;for(var R=_+1,k=E,z=E,B=null;R<=A;++R)B=G(S[R]),(!B&&z.e>k.s+c||B&&!W(B,k.s))&&(z.i>k.i?k=z:k=B,k&&(L.pageNextDataIndex==null&&(L.pageNextDataIndex=k.i),++L.pageCount)),z=B;for(var R=_-1,k=E,z=E,B=null;R>=-1;--R)B=G(S[R]),(!B||!W(z,B.s))&&k.i<z.i&&(z=k,L.pagePrevDataIndex==null&&(L.pagePrevDataIndex=k.i),++L.pageCount,++L.pageIndex),k=B;return L;function G(Y){if(Y){var q=Y.getBoundingRect(),J=q[m]+Y[m];return{s:J,e:J+q[d],i:Y.__legendDataIndex}}}function W(Y,q){return Y.e>=q&&Y.s<=q+c}},i.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var s,u=this.getContentGroup(),c;return u.eachChild(function(p,d){var m=p.__legendDataIndex;c==null&&m!=null&&(c=d),m===r&&(s=d)}),s??c},i.type="legend.scroll",i}(Fj);function wOt(n){n.registerAction("legendScroll","legendscroll",function(i,r){var s=i.scrollDataIndex;s!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:i},function(u){u.setScrollDataIndex(s)})})}function TOt(n){Ye(Wj),n.registerComponentModel(SOt),n.registerComponentView(bOt),wOt(n)}function AOt(n){Ye(Wj),Ye(TOt)}var COt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="dataZoom.inside",i.defaultOption=xf(__.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),i}(__),Yk=rr();function DOt(n,i,r){Yk(n).coordSysRecordMap.each(function(s){var u=s.dataZoomInfoMap.get(i.uid);u&&(u.getRange=r)})}function MOt(n,i){for(var r=Yk(n).coordSysRecordMap,s=r.keys(),u=0;u<s.length;u++){var c=s[u],p=r.get(c),d=p.dataZoomInfoMap;if(d){var m=i.uid,_=d.get(m);_&&(d.removeKey(m),d.keys().length||Xj(r,p))}}}function Xj(n,i){if(i){n.removeKey(i.model.uid);var r=i.controller;r&&r.dispose()}}function LOt(n,i){var r={model:i,containsPoint:ee(EOt,i),dispatchAction:ee(IOt,n),dataZoomInfoMap:null,controller:null},s=r.controller=new r_(n.getZr());return j(["pan","zoom","scrollMove"],function(u){s.on(u,function(c){var p=[];r.dataZoomInfoMap.each(function(d){if(c.isAvailableBehavior(d.model.option)){var m=(d.getRange||{})[u],_=m&&m(d.dzReferCoordSysInfo,r.model.mainType,r.controller,c);!d.model.get("disabled",!0)&&_&&p.push({dataZoomId:d.model.id,start:_[0],end:_[1]})}}),p.length&&r.dispatchAction(p)})}),r}function IOt(n,i){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:i})}function EOt(n,i,r,s){return n.coordinateSystem.containPoint([r,s])}function POt(n){var i,r="type_",s={type_true:2,type_move:1,type_false:0,type_undefined:-1},u=!0;return n.each(function(c){var p=c.model,d=p.get("disabled",!0)?!1:p.get("zoomLock",!0)?"move":!0;s[r+d]>s[r+i]&&(i=d),u=u&&p.get("preventDefaultMouseMove",!0)}),{controlType:i,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!u}}}function ROt(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(i,r){var s=Yk(r),u=s.coordSysRecordMap||(s.coordSysRecordMap=le());u.each(function(c){c.dataZoomInfoMap=null}),i.eachComponent({mainType:"dataZoom",subType:"inside"},function(c){var p=HK(c);j(p.infoList,function(d){var m=d.model.uid,_=u.get(m)||u.set(m,LOt(r,d.model)),S=_.dataZoomInfoMap||(_.dataZoomInfoMap=le());S.set(c.uid,{dzReferCoordSysInfo:d,model:c,getRange:null})})}),u.each(function(c){var p=c.controller,d,m=c.dataZoomInfoMap;if(m){var _=m.keys()[0];_!=null&&(d=m.get(_))}if(!d){Xj(u,c);return}var S=POt(m);p.enable(S.controlType,S.opt),p.setPointerChecker(c.containsPoint),Dd(c,"dispatchAction",d.model.get("throttle",!0),"fixRate")})})}var OOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return i.prototype.render=function(r,s,u){if(n.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),DOt(u,r,{pan:Mt(Zk.pan,this),zoom:Mt(Zk.zoom,this),scrollMove:Mt(Zk.scrollMove,this)})},i.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){MOt(this.api,this.dataZoomModel),this.range=null},i.type="dataZoom.inside",i}(yk),Zk={zoom:function(n,i,r,s){var u=this.range,c=u.slice(),p=n.axisModels[0];if(p){var d=Xk[i](null,[s.originX,s.originY],p,r,n),m=(d.signal>0?d.pixelStart+d.pixelLength-d.pixel:d.pixel-d.pixelStart)/d.pixelLength*(c[1]-c[0])+c[0],_=Math.max(1/s.scale,0);c[0]=(c[0]-m)*_+m,c[1]=(c[1]-m)*_+m;var S=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ep(0,c,[0,100],0,S.minSpan,S.maxSpan),this.range=c,u[0]!==c[0]||u[1]!==c[1])return c}},pan:qj(function(n,i,r,s,u,c){var p=Xk[s]([c.oldX,c.oldY],[c.newX,c.newY],i,u,r);return p.signal*(n[1]-n[0])*p.pixel/p.pixelLength}),scrollMove:qj(function(n,i,r,s,u,c){var p=Xk[s]([0,0],[c.scrollDelta,c.scrollDelta],i,u,r);return p.signal*(n[1]-n[0])*c.scrollDelta})};function qj(n){return function(i,r,s,u){var c=this.range,p=c.slice(),d=i.axisModels[0];if(d){var m=n(p,d,i,r,s,u);if(ep(m,p,[0,100],"all"),this.range=p,c[0]!==p[0]||c[1]!==p[1])return p}}}var Xk={grid:function(n,i,r,s,u){var c=r.axis,p={},d=u.model.coordinateSystem.getRect();return n=n||[0,0],c.dim==="x"?(p.pixel=i[0]-n[0],p.pixelLength=d.width,p.pixelStart=d.x,p.signal=c.inverse?1:-1):(p.pixel=i[1]-n[1],p.pixelLength=d.height,p.pixelStart=d.y,p.signal=c.inverse?-1:1),p},polar:function(n,i,r,s,u){var c=r.axis,p={},d=u.model.coordinateSystem,m=d.getRadiusAxis().getExtent(),_=d.getAngleAxis().getExtent();return n=n?d.pointToCoord(n):[0,0],i=d.pointToCoord(i),r.mainType==="radiusAxis"?(p.pixel=i[0]-n[0],p.pixelLength=m[1]-m[0],p.pixelStart=m[0],p.signal=c.inverse?1:-1):(p.pixel=i[1]-n[1],p.pixelLength=_[1]-_[0],p.pixelStart=_[0],p.signal=c.inverse?-1:1),p},singleAxis:function(n,i,r,s,u){var c=r.axis,p=u.model.coordinateSystem.getRect(),d={};return n=n||[0,0],c.orient==="horizontal"?(d.pixel=i[0]-n[0],d.pixelLength=p.width,d.pixelStart=p.x,d.signal=c.inverse?1:-1):(d.pixel=i[1]-n[1],d.pixelLength=p.height,d.pixelStart=p.y,d.signal=c.inverse?-1:1),d}};function $j(n){_k(n),n.registerComponentModel(COt),n.registerComponentView(OOt),ROt(n)}var kOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.type="dataZoom.slider",i.layoutMode="box",i.defaultOption=xf(__.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),i}(__),A_=tr,Kj=7,NOt=1,qk=30,zOt=7,C_="horizontal",jj="vertical",VOt=5,BOt=["line","bar","candlestick","scatter"],FOt={easing:"cubicOut",duration:100,delay:0},UOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._displayables={},r}return i.prototype.init=function(r,s){this.api=s,this._onBrush=Mt(this._onBrush,this),this._onBrushEnd=Mt(this._onBrushEnd,this)},i.prototype.render=function(r,s,u,c){if(n.prototype.render.apply(this,arguments),Dd(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!c||c.type!=="dataZoom"||c.from!==this.uid)&&this._buildView(),this._updateView()},i.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){D0(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},i.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var s=this._displayables.sliderGroup=new Te;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(s),this._positionGroup()},i.prototype._resetLocation=function(){var r=this.dataZoomModel,s=this.api,u=r.get("brushSelect"),c=u?zOt:0,p=this._findCoordRect(),d={width:s.getWidth(),height:s.getHeight()},m=this._orient===C_?{right:d.width-p.x-p.width,top:d.height-qk-Kj-c,width:p.width,height:qk}:{right:Kj,top:p.y,width:qk,height:p.height},_=xd(r.option);j(["right","top","width","height"],function(w){_[w]==="ph"&&(_[w]=m[w])});var S=yi(_,d);this._location={x:S.x,y:S.y},this._size=[S.width,S.height],this._orient===jj&&this._size.reverse()},i.prototype._positionGroup=function(){var r=this.group,s=this._location,u=this._orient,c=this.dataZoomModel.getFirstTargetAxisModel(),p=c&&c.get("inverse"),d=this._displayables.sliderGroup,m=(this._dataShadowInfo||{}).otherAxisInverse;d.attr(u===C_&&!p?{scaleY:m?1:-1,scaleX:1}:u===C_&&p?{scaleY:m?1:-1,scaleX:-1}:u===jj&&!p?{scaleY:m?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:m?-1:1,scaleX:-1,rotation:Math.PI/2});var _=r.getBoundingRect([d]);r.x=s.x-_.x,r.y=s.y-_.y,r.markRedraw()},i.prototype._getViewExtent=function(){return[0,this._size[0]]},i.prototype._renderBackground=function(){var r=this.dataZoomModel,s=this._size,u=this._displayables.sliderGroup,c=r.get("brushSelect");u.add(new A_({silent:!0,shape:{x:0,y:0,width:s[0],height:s[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var p=new A_({shape:{x:0,y:0,width:s[0],height:s[1]},style:{fill:"transparent"},z2:0,onclick:Mt(this._onClickPanel,this)}),d=this.api.getZr();c?(p.on("mousedown",this._onBrushStart,this),p.cursor="crosshair",d.on("mousemove",this._onBrush),d.on("mouseup",this._onBrushEnd)):(d.off("mousemove",this._onBrush),d.off("mouseup",this._onBrushEnd)),u.add(p)},i.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var s=this._size,u=this._shadowSize||[],c=r.series,p=c.getRawData(),d=c.getShadowDim&&c.getShadowDim(),m=d&&p.getDimensionInfo(d)?c.getShadowDim():r.otherDim;if(m==null)return;var _=this._shadowPolygonPts,S=this._shadowPolylinePts;if(p!==this._shadowData||m!==this._shadowDim||s[0]!==u[0]||s[1]!==u[1]){var w=p.getDataExtent(m),A=(w[1]-w[0])*.3;w=[w[0]-A,w[1]+A];var D=[0,s[1]],L=[0,s[0]],E=[[s[0],0],[0,0]],R=[],k=L[1]/(p.count()-1),z=0,B=Math.round(p.count()/s[0]),G;p.each([m],function(tt,et){if(B>0&&et%B){z+=k;return}var it=tt==null||isNaN(tt)||tt==="",ut=it?0:ur(tt,w,D,!0);it&&!G&&et?(E.push([E[E.length-1][0],0]),R.push([R[R.length-1][0],0])):!it&&G&&(E.push([z,0]),R.push([z,0])),E.push([z,ut]),R.push([z,ut]),z+=k,G=it}),_=this._shadowPolygonPts=E,S=this._shadowPolylinePts=R}this._shadowData=p,this._shadowDim=m,this._shadowSize=[s[0],s[1]];var W=this.dataZoomModel;function Y(tt){var et=W.getModel(tt?"selectedDataBackground":"dataBackground"),it=new Te,ut=new ma({shape:{points:_},segmentIgnoreThreshold:1,style:et.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ct=new ya({shape:{points:S},segmentIgnoreThreshold:1,style:et.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return it.add(ut),it.add(ct),it}for(var q=0;q<3;q++){var J=Y(q===1);this._displayables.sliderGroup.add(J),this._displayables.dataShadowSegs.push(J)}},i.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,s=r.get("showDataShadow");if(s!==!1){var u,c=this.ecModel;return r.eachTargetAxis(function(p,d){var m=r.getAxisProxy(p,d).getTargetSeriesModels();j(m,function(_){if(!u&&!(s!==!0&&At(BOt,_.get("type"))<0)){var S=c.getComponent(kf(p),d).axis,w=GOt(p),A,D=_.coordinateSystem;w!=null&&D.getOtherAxis&&(A=D.getOtherAxis(S).inverse),w=_.getData().mapDimension(w),u={thisAxis:S,series:_,thisDim:p,otherDim:w,otherAxisInverse:A}}},this)},this),u}},i.prototype._renderHandle=function(){var r=this.group,s=this._displayables,u=s.handles=[null,null],c=s.handleLabels=[null,null],p=this._displayables.sliderGroup,d=this._size,m=this.dataZoomModel,_=this.api,S=m.get("borderRadius")||0,w=m.get("brushSelect"),A=s.filler=new A_({silent:w,style:{fill:m.get("fillerColor")},textConfig:{position:"inside"}});p.add(A),p.add(new A_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:d[0],height:d[1],r:S},style:{stroke:m.get("dataBackgroundColor")||m.get("borderColor"),lineWidth:NOt,fill:"rgba(0,0,0,0)"}})),j([0,1],function(B){var G=m.get("handleIcon");!uw[G]&&G.indexOf("path://")<0&&G.indexOf("image://")<0&&(G="path://"+G,fo("handleIcon now needs 'path://' prefix when using a path string"));var W=li(G,-1,0,2,2,null,!0);W.attr({cursor:Jj(this._orient),draggable:!0,drift:Mt(this._onDragMove,this,B),ondragend:Mt(this._onDragEnd,this),onmouseover:Mt(this._showDataInfo,this,!0),onmouseout:Mt(this._showDataInfo,this,!1),z2:5});var Y=W.getBoundingRect(),q=m.get("handleSize");this._handleHeight=Wt(q,this._size[1]),this._handleWidth=Y.width/Y.height*this._handleHeight,W.setStyle(m.getModel("handleStyle").getItemStyle()),W.style.strokeNoScale=!0,W.rectHover=!0,W.ensureState("emphasis").style=m.getModel(["emphasis","handleStyle"]).getItemStyle(),df(W);var J=m.get("handleColor");J!=null&&(W.style.fill=J),p.add(u[B]=W);var tt=m.getModel("textStyle"),et=m.get("handleLabel")||{},it=et.show||!1;r.add(c[B]=new er({silent:!0,invisible:!it,style:Dr(tt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:tt.getTextColor(),font:tt.getFont()}),z2:10}))},this);var D=A;if(w){var L=Wt(m.get("moveHandleSize"),d[1]),E=s.moveHandle=new tr({style:m.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:d[1]-.5,height:L}}),R=L*.8,k=s.moveHandleIcon=li(m.get("moveHandleIcon"),-R/2,-R/2,R,R,"#fff",!0);k.silent=!0,k.y=d[1]+L/2-.5,E.ensureState("emphasis").style=m.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var z=Math.min(d[1]/2,Math.max(L,10));D=s.moveZone=new tr({invisible:!0,shape:{y:d[1]-z,height:L+z}}),D.on("mouseover",function(){_.enterEmphasis(E)}).on("mouseout",function(){_.leaveEmphasis(E)}),p.add(E),p.add(k),p.add(D)}D.attr({draggable:!0,cursor:Jj(this._orient),drift:Mt(this._onDragMove,this,"all"),ondragstart:Mt(this._showDataInfo,this,!0),ondragend:Mt(this._onDragEnd,this),onmouseover:Mt(this._showDataInfo,this,!0),onmouseout:Mt(this._showDataInfo,this,!1)})},i.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),s=this._getViewExtent();this._handleEnds=[ur(r[0],[0,100],s,!0),ur(r[1],[0,100],s,!0)]},i.prototype._updateInterval=function(r,s){var u=this.dataZoomModel,c=this._handleEnds,p=this._getViewExtent(),d=u.findRepresentativeAxisProxy().getMinMaxSpan(),m=[0,100];ep(s,c,p,u.get("zoomLock")?"all":r,d.minSpan!=null?ur(d.minSpan,m,p,!0):null,d.maxSpan!=null?ur(d.maxSpan,m,p,!0):null);var _=this._range,S=this._range=On([ur(c[0],p,m,!0),ur(c[1],p,m,!0)]);return!_||_[0]!==S[0]||_[1]!==S[1]},i.prototype._updateView=function(r){var s=this._displayables,u=this._handleEnds,c=On(u.slice()),p=this._size;j([0,1],function(D){var L=s.handles[D],E=this._handleHeight;L.attr({scaleX:E/2,scaleY:E/2,x:u[D]+(D?-1:1),y:p[1]/2-E/2})},this),s.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:p[1]});var d={x:c[0],width:c[1]-c[0]};s.moveHandle&&(s.moveHandle.setShape(d),s.moveZone.setShape(d),s.moveZone.getBoundingRect(),s.moveHandleIcon&&s.moveHandleIcon.attr("x",d.x+d.width/2));for(var m=s.dataShadowSegs,_=[0,c[0],c[1],p[0]],S=0;S<m.length;S++){var w=m[S],A=w.getClipPath();A||(A=new tr,w.setClipPath(A)),A.setShape({x:_[S],y:0,width:_[S+1]-_[S],height:p[1]})}this._updateDataInfo(r)},i.prototype._updateDataInfo=function(r){var s=this.dataZoomModel,u=this._displayables,c=u.handleLabels,p=this._orient,d=["",""];if(s.get("showDetail")){var m=s.findRepresentativeAxisProxy();if(m){var _=m.getAxisModel().axis,S=this._range,w=r?m.calculateDataWindow({start:S[0],end:S[1]}).valueWindow:m.getDataValueWindow();d=[this._formatLabel(w[0],_),this._formatLabel(w[1],_)]}}var A=On(this._handleEnds.slice());D.call(this,0),D.call(this,1);function D(L){var E=yf(u.handles[L].parent,this.group),R=V1(L===0?"right":"left",E),k=this._handleWidth/2+VOt,z=gs([A[L]+(L===0?-k:k),this._size[1]/2],E);c[L].setStyle({x:z[0],y:z[1],verticalAlign:p===C_?"middle":R,align:p===C_?R:"center",text:d[L]})}},i.prototype._formatLabel=function(r,s){var u=this.dataZoomModel,c=u.get("labelFormatter"),p=u.get("labelPrecision");(p==null||p==="auto")&&(p=s.getPixelPrecision());var d=r==null||isNaN(r)?"":s.type==="category"||s.type==="time"?s.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(p,20));return Gt(c)?c(r,d):kt(c)?c.replace("{value}",d):d},i.prototype._showDataInfo=function(r){var s=this.dataZoomModel.get("handleLabel")||{},u=s.show||!1,c=this.dataZoomModel.getModel(["emphasis","handleLabel"]),p=c.get("show")||!1,d=r||this._dragging?p:u,m=this._displayables,_=m.handleLabels;_[0].attr("invisible",!d),_[1].attr("invisible",!d),m.moveHandle&&this.api[d?"enterEmphasis":"leaveEmphasis"](m.moveHandle,1)},i.prototype._onDragMove=function(r,s,u,c){this._dragging=!0,Xl(c.event);var p=this._displayables.sliderGroup.getLocalTransform(),d=gs([s,u],p,!0),m=this._updateInterval(r,d[0]),_=this.dataZoomModel.get("realtime");this._updateView(!_),m&&_&&this._dispatchZoomAction(!0)},i.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},i.prototype._onClickPanel=function(r){var s=this._size,u=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(u[0]<0||u[0]>s[0]||u[1]<0||u[1]>s[1])){var c=this._handleEnds,p=(c[0]+c[1])/2,d=this._updateInterval("all",u[0]-p);this._updateView(),d&&this._dispatchZoomAction(!1)}},i.prototype._onBrushStart=function(r){var s=r.offsetX,u=r.offsetY;this._brushStart=new ze(s,u),this._brushing=!0,this._brushStartTime=+new Date},i.prototype._onBrushEnd=function(r){if(this._brushing){var s=this._displayables.brushRect;if(this._brushing=!1,!!s){s.attr("ignore",!0);var u=s.shape,c=+new Date;if(!(c-this._brushStartTime<200&&Math.abs(u.width)<5)){var p=this._getViewExtent(),d=[0,100];this._range=On([ur(u.x,p,d,!0),ur(u.x+u.width,p,d,!0)]),this._handleEnds=[u.x,u.x+u.width],this._updateView(),this._dispatchZoomAction(!1)}}}},i.prototype._onBrush=function(r){this._brushing&&(Xl(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},i.prototype._updateBrushRect=function(r,s){var u=this._displayables,c=this.dataZoomModel,p=u.brushRect;p||(p=u.brushRect=new A_({silent:!0,style:c.getModel("brushStyle").getItemStyle()}),u.sliderGroup.add(p)),p.attr("ignore",!1);var d=this._brushStart,m=this._displayables.sliderGroup,_=m.transformCoordToLocal(r,s),S=m.transformCoordToLocal(d.x,d.y),w=this._size;_[0]=Math.max(Math.min(w[0],_[0]),0),p.setShape({x:S[0],y:0,width:_[0]-S[0],height:w[1]})},i.prototype._dispatchZoomAction=function(r){var s=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?FOt:null,start:s[0],end:s[1]})},i.prototype._findCoordRect=function(){var r,s=HK(this.dataZoomModel).infoList;if(!r&&s.length){var u=s[0].model.coordinateSystem;r=u.getRect&&u.getRect()}if(!r){var c=this.api.getWidth(),p=this.api.getHeight();r={x:c*.2,y:p*.2,width:c*.6,height:p*.6}}return r},i.type="dataZoom.slider",i}(yk);function GOt(n){var i={x:"y",y:"x",radius:"angle",angle:"radius"};return i[n]}function Jj(n){return n==="vertical"?"ns-resize":"ew-resize"}function Qj(n){n.registerComponentModel(kOt),n.registerComponentView(UOt),_k(n)}function HOt(n){Ye($j),Ye(Qj)}var tJ={get:function(n,i,r){var s=lt((WOt[n]||{})[i]);return r&&wt(s)?s[s.length-1]:s}},WOt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},eJ=Fi.mapVisual,YOt=Fi.eachVisual,ZOt=wt,rJ=j,XOt=On,qOt=ur,NT=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return i.prototype.init=function(r,s,u){this.mergeDefaultAndTheme(r,u)},i.prototype.optionUpdated=function(r,s){var u=this.option;!s&&_j(u,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},i.prototype.resetVisual=function(r){var s=this.stateList;r=Mt(r,this),this.controllerVisuals=Mk(this.option.controller,s,r),this.targetVisuals=Mk(this.option.target,s,r)},i.prototype.getItemSymbol=function(){return null},i.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,s=[];return r==null||r==="all"?this.ecModel.eachSeries(function(u,c){s.push(c)}):s=xr(r),s},i.prototype.eachTargetSeries=function(r,s){j(this.getTargetSeriesIndices(),function(u){var c=this.ecModel.getSeriesByIndex(u);c&&r.call(s,c)},this)},i.prototype.isTargetSeries=function(r){var s=!1;return this.eachTargetSeries(function(u){u===r&&(s=!0)}),s},i.prototype.formatValueText=function(r,s,u){var c=this.option,p=c.precision,d=this.dataBound,m=c.formatter,_;u=u||["<",">"],wt(r)&&(r=r.slice(),_=!0);var S=s?r:_?[w(r[0]),w(r[1])]:w(r);if(kt(m))return m.replace("{value}",_?S[0]:S).replace("{value2}",_?S[1]:S);if(Gt(m))return _?m(r[0],r[1]):m(r);if(_)return r[0]===d[0]?u[0]+" "+S[1]:r[1]===d[1]?u[1]+" "+S[0]:S[0]+" - "+S[1];return S;function w(A){return A===d[0]?"min":A===d[1]?"max":(+A).toFixed(Math.min(p,20))}},i.prototype.resetExtent=function(){var r=this.option,s=XOt([r.min,r.max]);this._dataExtent=s},i.prototype.getDataDimensionIndex=function(r){var s=this.option.dimension;if(s!=null)return r.getDimensionIndex(s);for(var u=r.dimensions,c=u.length-1;c>=0;c--){var p=u[c],d=r.getDimensionInfo(p);if(!d.isCalculationCoord)return d.storeDimIndex}},i.prototype.getExtent=function(){return this._dataExtent.slice()},i.prototype.completeVisualOption=function(){var r=this.ecModel,s=this.option,u={inRange:s.inRange,outOfRange:s.outOfRange},c=s.target||(s.target={}),p=s.controller||(s.controller={});pt(c,u),pt(p,u);var d=this.isCategory();m.call(this,c),m.call(this,p),_.call(this,c,"inRange","outOfRange"),S.call(this,p);function m(w){ZOt(s.color)&&!w.inRange&&(w.inRange={color:s.color.slice().reverse()}),w.inRange=w.inRange||{color:r.get("gradientColor")}}function _(w,A,D){var L=w[A],E=w[D];L&&!E&&(E=w[D]={},rJ(L,function(R,k){if(Fi.isValidType(k)){var z=tJ.get(k,"inactive",d);z!=null&&(E[k]=z,k==="color"&&!E.hasOwnProperty("opacity")&&!E.hasOwnProperty("colorAlpha")&&(E.opacity=[0,0]))}}))}function S(w){var A=(w.inRange||{}).symbol||(w.outOfRange||{}).symbol,D=(w.inRange||{}).symbolSize||(w.outOfRange||{}).symbolSize,L=this.get("inactiveColor"),E=this.getItemSymbol(),R=E||"roundRect";rJ(this.stateList,function(k){var z=this.itemSize,B=w[k];B||(B=w[k]={color:d?L:[L]}),B.symbol==null&&(B.symbol=A&&lt(A)||(d?R:[R])),B.symbolSize==null&&(B.symbolSize=D&&lt(D)||(d?z[0]:[z[0],z[0]])),B.symbol=eJ(B.symbol,function(Y){return Y==="none"?R:Y});var G=B.symbolSize;if(G!=null){var W=-1/0;YOt(G,function(Y){Y>W&&(W=Y)}),B.symbolSize=eJ(G,function(Y){return qOt(Y,[0,W],[0,z[0]],!0)})}},this)}},i.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},i.prototype.isCategory=function(){return!!this.option.categories},i.prototype.setSelected=function(r){},i.prototype.getSelected=function(){return null},i.prototype.getValueState=function(r){return null},i.prototype.getVisualMeta=function(r){return null},i.type="visualMap",i.dependencies=["series"],i.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},i}(We),iJ=[20,140],$Ot=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.optionUpdated=function(r,s){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(u){u.mappingMethod="linear",u.dataExtent=this.getExtent()}),this._resetRange()},i.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=iJ[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=iJ[1])},i.prototype._resetRange=function(){var r=this.getExtent(),s=this.option.range;!s||s.auto?(r.auto=1,this.option.range=r):wt(s)&&(s[0]>s[1]&&s.reverse(),s[0]=Math.max(s[0],r[0]),s[1]=Math.min(s[1],r[1]))},i.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),j(this.stateList,function(r){var s=this.option.controller[r].symbolSize;s&&s[0]!==s[1]&&(s[0]=s[1]/3)},this)},i.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},i.prototype.getSelected=function(){var r=this.getExtent(),s=On((this.get("range")||[]).slice());return s[0]>r[1]&&(s[0]=r[1]),s[1]>r[1]&&(s[1]=r[1]),s[0]<r[0]&&(s[0]=r[0]),s[1]<r[0]&&(s[1]=r[0]),s},i.prototype.getValueState=function(r){var s=this.option.range,u=this.getExtent();return(s[0]<=u[0]||s[0]<=r)&&(s[1]>=u[1]||r<=s[1])?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(r){var s=[];return this.eachTargetSeries(function(u){var c=[],p=u.getData();p.each(this.getDataDimensionIndex(p),function(d,m){r[0]<=d&&d<=r[1]&&c.push(m)},this),s.push({seriesId:u.id,dataIndex:c})},this),s},i.prototype.getVisualMeta=function(r){var s=aJ(this,"outOfRange",this.getExtent()),u=aJ(this,"inRange",this.option.range.slice()),c=[];function p(D,L){c.push({value:D,color:r(D,L)})}for(var d=0,m=0,_=u.length,S=s.length;m<S&&(!u.length||s[m]<=u[0]);m++)s[m]<u[d]&&p(s[m],"outOfRange");for(var w=1;d<_;d++,w=0)w&&c.length&&p(u[d],"outOfRange"),p(u[d],"inRange");for(var w=1;m<S;m++)(!u.length||u[u.length-1]<s[m])&&(w&&(c.length&&p(c[c.length-1].value,"outOfRange"),w=0),p(s[m],"outOfRange"));var A=c.length;return{stops:c,outerColors:[A?c[0].color:"transparent",A?c[A-1].color:"transparent"]}},i.type="visualMap.continuous",i.defaultOption=xf(NT.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),i}(NT);function aJ(n,i,r){if(r[0]===r[1])return r.slice();for(var s=200,u=(r[1]-r[0])/s,c=r[0],p=[],d=0;d<=s&&c<r[1];d++)p.push(c),c+=u;return p.push(r[1]),p}var nJ=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return i.prototype.init=function(r,s){this.ecModel=r,this.api=s},i.prototype.render=function(r,s,u,c){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,s,u,c)},i.prototype.renderBackground=function(r){var s=this.visualMapModel,u=Ah(s.get("padding")||0),c=r.getBoundingRect();r.add(new tr({z2:-1,silent:!0,shape:{x:c.x-u[3],y:c.y-u[0],width:c.width+u[3]+u[1],height:c.height+u[0]+u[2]},style:{fill:s.get("backgroundColor"),stroke:s.get("borderColor"),lineWidth:s.get("borderWidth")}}))},i.prototype.getControllerVisual=function(r,s,u){u=u||{};var c=u.forceState,p=this.visualMapModel,d={};if(s==="color"){var m=p.get("contentColor");d.color=m}function _(D){return d[D]}function S(D,L){d[D]=L}var w=p.controllerVisuals[c||p.getValueState(r)],A=Fi.prepareVisualTypes(w);return j(A,function(D){var L=w[D];u.convertOpacityToAlpha&&D==="opacity"&&(D="colorAlpha",L=w.__alphaForOpacity),Fi.dependsOn(D,s)&&L&&L.applyVisual(r,_,S)}),d[s]},i.prototype.positionGroup=function(r){var s=this.visualMapModel,u=this.api;K1(r,s.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})},i.prototype.doRender=function(r,s,u,c){},i.type="visualMap",i}(Pr),oJ=[["left","right","width"],["top","bottom","height"]];function sJ(n,i,r){var s=n.option,u=s.align;if(u!=null&&u!=="auto")return u;for(var c={width:i.getWidth(),height:i.getHeight()},p=s.orient==="horizontal"?1:0,d=oJ[p],m=[0,null,10],_={},S=0;S<3;S++)_[oJ[1-p][S]]=m[S],_[d[S]]=S===2?r[0]:s[d[S]];var w=[["x","width",3],["y","height",0]][p],A=yi(_,c,s.padding);return d[(A.margin[w[2]]||0)+A[w[0]]+A[w[1]]*.5<c[w[1]]*.5?0:1]}function zT(n,i){return j(n||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(i?i.componentIndex:"")}),n}var pl=ur,KOt=j,lJ=Math.min,$k=Math.max,jOt=12,JOt=6,QOt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return i.prototype.init=function(r,s){n.prototype.init.call(this,r,s),this._hoverLinkFromSeriesMouseOver=Mt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Mt(this._hideIndicator,this)},i.prototype.doRender=function(r,s,u,c){(!c||c.type!=="selectDataRange"||c.from!==this.uid)&&this._buildView()},i.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,s=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(s);var u=r.get("text");this._renderEndsText(s,u,0),this._renderEndsText(s,u,1),this._updateView(!0),this.renderBackground(s),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(s)},i.prototype._renderEndsText=function(r,s,u){if(s){var c=s[1-u];c=c!=null?c+"":"";var p=this.visualMapModel,d=p.get("textGap"),m=p.itemSize,_=this._shapes.mainGroup,S=this._applyTransform([m[0]/2,u===0?-d:m[1]+d],_),w=this._applyTransform(u===0?"bottom":"top",_),A=this._orient,D=this.visualMapModel.textStyleModel;this.group.add(new er({style:Dr(D,{x:S[0],y:S[1],verticalAlign:A==="horizontal"?"middle":w,align:A==="horizontal"?w:"center",text:c})}))}},i.prototype._renderBar=function(r){var s=this.visualMapModel,u=this._shapes,c=s.itemSize,p=this._orient,d=this._useHandle,m=sJ(s,this.api,c),_=u.mainGroup=this._createBarGroup(m),S=new Te;_.add(S),S.add(u.outOfRange=uJ()),S.add(u.inRange=uJ(null,d?cJ(this._orient):null,Mt(this._dragHandle,this,"all",!1),Mt(this._dragHandle,this,"all",!0))),S.setClipPath(new tr({shape:{x:0,y:0,width:c[0],height:c[1],r:3}}));var w=s.textStyleModel.getTextRect("\u56FD"),A=$k(w.width,w.height);d&&(u.handleThumbs=[],u.handleLabels=[],u.handleLabelPoints=[],this._createHandle(s,_,0,c,A,p),this._createHandle(s,_,1,c,A,p)),this._createIndicator(s,_,c,A,p),r.add(_)},i.prototype._createHandle=function(r,s,u,c,p,d){var m=Mt(this._dragHandle,this,u,!1),_=Mt(this._dragHandle,this,u,!0),S=hs(r.get("handleSize"),c[0]),w=li(r.get("handleIcon"),-S/2,-S/2,S,S,null,!0),A=cJ(this._orient);w.attr({cursor:A,draggable:!0,drift:m,ondragend:_,onmousemove:function(k){Xl(k.event)}}),w.x=c[0]/2,w.useStyle(r.getModel("handleStyle").getItemStyle()),w.setStyle({strokeNoScale:!0,strokeFirst:!0}),w.style.lineWidth*=2,w.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),_h(w,!0),s.add(w);var D=this.visualMapModel.textStyleModel,L=new er({cursor:A,draggable:!0,drift:m,onmousemove:function(k){Xl(k.event)},ondragend:_,style:Dr(D,{x:0,y:0,text:""})});L.ensureState("blur").style={opacity:.1},L.stateTransition={duration:200},this.group.add(L);var E=[S,0],R=this._shapes;R.handleThumbs[u]=w,R.handleLabelPoints[u]=E,R.handleLabels[u]=L},i.prototype._createIndicator=function(r,s,u,c,p){var d=hs(r.get("indicatorSize"),u[0]),m=li(r.get("indicatorIcon"),-d/2,-d/2,d,d,null,!0);m.attr({cursor:"move",invisible:!0,silent:!0,x:u[0]/2});var _=r.getModel("indicatorStyle").getItemStyle();if(m instanceof Ni){var S=m.style;m.useStyle(st({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},_))}else m.useStyle(_);s.add(m);var w=this.visualMapModel.textStyleModel,A=new er({silent:!0,invisible:!0,style:Dr(w,{x:0,y:0,text:""})});this.group.add(A);var D=[(p==="horizontal"?c/2:JOt)+u[0]/2,0],L=this._shapes;L.indicator=m,L.indicatorLabel=A,L.indicatorLabelPoint=D,this._firstShowIndicator=!0},i.prototype._dragHandle=function(r,s,u,c){if(this._useHandle){if(this._dragging=!s,!s){var p=this._applyTransform([u,c],this._shapes.mainGroup,!0);this._updateInterval(r,p[1]),this._hideIndicator(),this._updateView()}s===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),s?!this._hovering&&this._clearHoverLinkToSeries():fJ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},i.prototype._resetInterval=function(){var r=this.visualMapModel,s=this._dataInterval=r.getSelected(),u=r.getExtent(),c=[0,r.itemSize[1]];this._handleEnds=[pl(s[0],u,c,!0),pl(s[1],u,c,!0)]},i.prototype._updateInterval=function(r,s){s=s||0;var u=this.visualMapModel,c=this._handleEnds,p=[0,u.itemSize[1]];ep(s,c,p,r,0);var d=u.getExtent();this._dataInterval=[pl(c[0],p,d,!0),pl(c[1],p,d,!0)]},i.prototype._updateView=function(r){var s=this.visualMapModel,u=s.getExtent(),c=this._shapes,p=[0,s.itemSize[1]],d=r?p:this._handleEnds,m=this._createBarVisual(this._dataInterval,u,d,"inRange"),_=this._createBarVisual(u,u,p,"outOfRange");c.inRange.setStyle({fill:m.barColor}).setShape("points",m.barPoints),c.outOfRange.setStyle({fill:_.barColor}).setShape("points",_.barPoints),this._updateHandle(d,m)},i.prototype._createBarVisual=function(r,s,u,c){var p={forceState:c,convertOpacityToAlpha:!0},d=this._makeColorGradient(r,p),m=[this.getControllerVisual(r[0],"symbolSize",p),this.getControllerVisual(r[1],"symbolSize",p)],_=this._createBarPoints(u,m);return{barColor:new fd(0,0,0,1,d),barPoints:_,handlesColor:[d[0].color,d[d.length-1].color]}},i.prototype._makeColorGradient=function(r,s){var u=100,c=[],p=(r[1]-r[0])/u;c.push({color:this.getControllerVisual(r[0],"color",s),offset:0});for(var d=1;d<u;d++){var m=r[0]+p*d;if(m>r[1])break;c.push({color:this.getControllerVisual(m,"color",s),offset:d/u})}return c.push({color:this.getControllerVisual(r[1],"color",s),offset:1}),c},i.prototype._createBarPoints=function(r,s){var u=this.visualMapModel.itemSize;return[[u[0]-s[0],r[0]],[u[0],r[0]],[u[0],r[1]],[u[0]-s[1],r[1]]]},i.prototype._createBarGroup=function(r){var s=this._orient,u=this.visualMapModel.get("inverse");return new Te(s==="horizontal"&&!u?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:s==="horizontal"&&u?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:s==="vertical"&&!u?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},i.prototype._updateHandle=function(r,s){if(this._useHandle){var u=this._shapes,c=this.visualMapModel,p=u.handleThumbs,d=u.handleLabels,m=c.itemSize,_=c.getExtent(),S=this._applyTransform("left",u.mainGroup);KOt([0,1],function(w){var A=p[w];A.setStyle("fill",s.handlesColor[w]),A.y=r[w];var D=pl(r[w],[0,m[1]],_,!0),L=this.getControllerVisual(D,"symbolSize");A.scaleX=A.scaleY=L/m[0],A.x=m[0]-L/2;var E=gs(u.handleLabelPoints[w],yf(A,this.group));if(this._orient==="horizontal"){var R=S==="left"||S==="top"?(m[0]-L)/2:(m[0]-L)/-2;E[1]+=R}d[w].setStyle({x:E[0],y:E[1],text:c.formatValueText(this._dataInterval[w]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",u.mainGroup):"center"})},this)}},i.prototype._showIndicator=function(r,s,u,c){var p=this.visualMapModel,d=p.getExtent(),m=p.itemSize,_=[0,m[1]],S=this._shapes,w=S.indicator;if(w){w.attr("invisible",!1);var A={convertOpacityToAlpha:!0},D=this.getControllerVisual(r,"color",A),L=this.getControllerVisual(r,"symbolSize"),E=pl(r,d,_,!0),R=m[0]-L/2,k={x:w.x,y:w.y};w.y=E,w.x=R;var z=gs(S.indicatorLabelPoint,yf(w,this.group)),B=S.indicatorLabel;B.attr("invisible",!1);var G=this._applyTransform("left",S.mainGroup),W=this._orient,Y=W==="horizontal";B.setStyle({text:(u||"")+p.formatValueText(s),verticalAlign:Y?G:"middle",align:Y?"center":G});var q={x:R,y:E,style:{fill:D}},J={style:{x:z[0],y:z[1]}};if(p.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var tt={duration:100,easing:"cubicInOut",additive:!0};w.x=k.x,w.y=k.y,w.animateTo(q,tt),B.animateTo(J,tt)}else w.attr(q),B.attr(J);this._firstShowIndicator=!1;var et=this._shapes.handleLabels;if(et)for(var it=0;it<et.length;it++)this.api.enterBlur(et[it])}},i.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(s){if(r._hovering=!0,!r._dragging){var u=r.visualMapModel.itemSize,c=r._applyTransform([s.offsetX,s.offsetY],r._shapes.mainGroup,!0,!0);c[1]=lJ($k(0,c[1]),u[1]),r._doHoverLinkToSeries(c[1],0<=c[0]&&c[0]<=u[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},i.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},i.prototype._doHoverLinkToSeries=function(r,s){var u=this.visualMapModel,c=u.itemSize;if(u.option.hoverLink){var p=[0,c[1]],d=u.getExtent();r=lJ($k(p[0],r),p[1]);var m=tkt(u,d,p),_=[r-m,r+m],S=pl(r,p,d,!0),w=[pl(_[0],p,d,!0),pl(_[1],p,d,!0)];_[0]<p[0]&&(w[0]=-1/0),_[1]>p[1]&&(w[1]=1/0),s&&(w[0]===-1/0?this._showIndicator(S,w[1],"< ",m):w[1]===1/0?this._showIndicator(S,w[0],"> ",m):this._showIndicator(S,S,"\u2248 ",m));var A=this._hoverLinkDataIndices,D=[];(s||fJ(u))&&(D=this._hoverLinkDataIndices=u.findTargetDataIndices(w));var L=Wyt(A,D);this._dispatchHighDown("downplay",zT(L[0],u)),this._dispatchHighDown("highlight",zT(L[1],u))}},i.prototype._hoverLinkFromSeriesMouseOver=function(r){var s;if(Rh(r.target,function(m){var _=Me(m);if(_.dataIndex!=null)return s=_,!0},!0),!!s){var u=this.ecModel.getSeriesByIndex(s.seriesIndex),c=this.visualMapModel;if(c.isTargetSeries(u)){var p=u.getData(s.dataType),d=p.getStore().get(c.getDataDimensionIndex(p),s.dataIndex);isNaN(d)||this._showIndicator(d,d)}}},i.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var s=this._shapes.handleLabels;if(s)for(var u=0;u<s.length;u++)this.api.leaveBlur(s[u])},i.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",zT(r,this.visualMapModel)),r.length=0},i.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},i.prototype._applyTransform=function(r,s,u,c){var p=yf(s,c?null:this.group);return wt(r)?gs(r,p,u):V1(r,p,u)},i.prototype._dispatchHighDown=function(r,s){s&&s.length&&this.api.dispatchAction({type:r,batch:s})},i.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},i.type="visualMap.continuous",i}(nJ);function uJ(n,i,r,s){return new ma({shape:{points:n},draggable:!!r,cursor:i,drift:r,onmousemove:function(u){Xl(u.event)},ondragend:s})}function tkt(n,i,r){var s=jOt/2,u=n.get("hoverLinkDataSize");return u&&(s=pl(u,i,r,!0)/2),s}function fJ(n){var i=n.get("hoverLinkOnHandle");return!!(i??n.get("realtime"))}function cJ(n){return n==="vertical"?"ns-resize":"ew-resize"}var ekt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},rkt=function(n,i){i.eachComponent({mainType:"visualMap",query:n},function(r){r.setSelected(n.selected)})},ikt=[{createOnAllSeries:!0,reset:function(n,i){var r=[];return i.eachComponent("visualMap",function(s){var u=n.pipelineContext;!s.isTargetSeries(n)||u&&u.large||r.push(ARt(s.stateList,s.targetVisuals,Mt(s.getValueState,s),s.getDataDimensionIndex(n.getData())))}),r}},{createOnAllSeries:!0,reset:function(n,i){var r=n.getData(),s=[];i.eachComponent("visualMap",function(u){if(u.isTargetSeries(n)){var c=u.getVisualMeta(Mt(akt,null,n,u))||{stops:[],outerColors:[]},p=u.getDataDimensionIndex(r);p>=0&&(c.dimension=p,s.push(c))}}),n.getData().setVisual("visualMeta",s)}}];function akt(n,i,r,s){for(var u=i.targetVisuals[s],c=Fi.prepareVisualTypes(u),p={color:I0(n.getData(),"color")},d=0,m=c.length;d<m;d++){var _=c[d],S=u[_==="opacity"?"__alphaForOpacity":_];S&&S.applyVisual(r,w,A)}return p.color;function w(D){return p[D]}function A(D,L){p[D]=L}}var hJ=j;function nkt(n){var i=n&&n.visualMap;wt(i)||(i=i?[i]:[]),hJ(i,function(r){if(r){eg(r,"splitList")&&!eg(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var s=r.pieces;s&&wt(s)&&hJ(s,function(u){re(u)&&(eg(u,"start")&&!eg(u,"min")&&(u.min=u.start),eg(u,"end")&&!eg(u,"max")&&(u.max=u.end))})}})}function eg(n,i){return n&&n.hasOwnProperty&&n.hasOwnProperty(i)}var pJ=!1;function vJ(n){pJ||(pJ=!0,n.registerSubTypeDefaulter("visualMap",function(i){return!i.categories&&(!(i.pieces?i.pieces.length>0:i.splitNumber>0)||i.calculable)?"continuous":"piecewise"}),n.registerAction(ekt,rkt),j(ikt,function(i){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,i)}),n.registerPreprocessor(nkt))}function dJ(n){n.registerComponentModel($Ot),n.registerComponentView(QOt),vJ(n)}var okt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r._pieceList=[],r}return i.prototype.optionUpdated=function(r,s){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var u=this._mode=this._determineMode();this._pieceList=[],skt[this._mode].call(this,this._pieceList),this._resetSelected(r,s);var c=this.option.categories;this.resetVisual(function(p,d){u==="categories"?(p.mappingMethod="category",p.categories=lt(c)):(p.dataExtent=this.getExtent(),p.mappingMethod="piecewise",p.pieceList=Tt(this._pieceList,function(m){return m=lt(m),d!=="inRange"&&(m.visual=null),m}))})},i.prototype.completeVisualOption=function(){var r=this.option,s={},u=Fi.listVisualTypes(),c=this.isCategory();j(r.pieces,function(d){j(u,function(m){d.hasOwnProperty(m)&&(s[m]=1)})}),j(s,function(d,m){var _=!1;j(this.stateList,function(S){_=_||p(r,S,m)||p(r.target,S,m)},this),!_&&j(this.stateList,function(S){(r[S]||(r[S]={}))[m]=tJ.get(m,S==="inRange"?"active":"inactive",c)})},this);function p(d,m,_){return d&&d[m]&&d[m].hasOwnProperty(_)}n.prototype.completeVisualOption.apply(this,arguments)},i.prototype._resetSelected=function(r,s){var u=this.option,c=this._pieceList,p=(s?u:r).selected||{};if(u.selected=p,j(c,function(m,_){var S=this.getSelectedMapKey(m);p.hasOwnProperty(S)||(p[S]=!0)},this),u.selectedMode==="single"){var d=!1;j(c,function(m,_){var S=this.getSelectedMapKey(m);p[S]&&(d?p[S]=!1:d=!0)},this)}},i.prototype.getItemSymbol=function(){return this.get("itemSymbol")},i.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},i.prototype.getPieceList=function(){return this._pieceList},i.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},i.prototype.setSelected=function(r){this.option.selected=lt(r)},i.prototype.getValueState=function(r){var s=Fi.findPieceIndex(r,this._pieceList);return s!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[s])]?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(r){var s=[],u=this._pieceList;return this.eachTargetSeries(function(c){var p=[],d=c.getData();d.each(this.getDataDimensionIndex(d),function(m,_){var S=Fi.findPieceIndex(m,u);S===r&&p.push(_)},this),s.push({seriesId:c.id,dataIndex:p})},this),s},i.prototype.getRepresentValue=function(r){var s;if(this.isCategory())s=r.value;else if(r.value!=null)s=r.value;else{var u=r.interval||[];s=u[0]===-1/0&&u[1]===1/0?0:(u[0]+u[1])/2}return s},i.prototype.getVisualMeta=function(r){if(this.isCategory())return;var s=[],u=["",""],c=this;function p(S,w){var A=c.getRepresentValue({interval:S});w||(w=c.getValueState(A));var D=r(A,w);S[0]===-1/0?u[0]=D:S[1]===1/0?u[1]=D:s.push({value:S[0],color:D},{value:S[1],color:D})}var d=this._pieceList.slice();if(!d.length)d.push({interval:[-1/0,1/0]});else{var m=d[0].interval[0];m!==-1/0&&d.unshift({interval:[-1/0,m]}),m=d[d.length-1].interval[1],m!==1/0&&d.push({interval:[m,1/0]})}var _=-1/0;return j(d,function(S){var w=S.interval;w&&(w[0]>_&&p([_,w[0]],"outOfRange"),p(w.slice()),_=w[1])},this),{stops:s,outerColors:u}},i.type="visualMap.piecewise",i.defaultOption=xf(NT.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),i}(NT),skt={splitNumber:function(n){var i=this.option,r=Math.min(i.precision,20),s=this.getExtent(),u=i.splitNumber;u=Math.max(parseInt(u,10),1),i.splitNumber=u;for(var c=(s[1]-s[0])/u;+c.toFixed(r)!==c&&r<5;)r++;i.precision=r,c=+c.toFixed(r),i.minOpen&&n.push({interval:[-1/0,s[0]],close:[0,0]});for(var p=0,d=s[0];p<u;d+=c,p++){var m=p===u-1?s[1]:d+c;n.push({interval:[d,m],close:[1,1]})}i.maxOpen&&n.push({interval:[s[1],1/0],close:[0,0]}),LE(n),j(n,function(_,S){_.index=S,_.text=this.formatValueText(_.interval)},this)},categories:function(n){var i=this.option;j(i.categories,function(r){n.push({text:this.formatValueText(r,!0),value:r})},this),gJ(i,n)},pieces:function(n){var i=this.option;j(i.pieces,function(r,s){re(r)||(r={value:r});var u={text:"",index:s};if(r.label!=null&&(u.text=r.label),r.hasOwnProperty("value")){var c=u.value=r.value;u.interval=[c,c],u.close=[1,1]}else{for(var p=u.interval=[],d=u.close=[0,0],m=[1,0,1],_=[-1/0,1/0],S=[],w=0;w<2;w++){for(var A=[["gte","gt","min"],["lte","lt","max"]][w],D=0;D<3&&p[w]==null;D++)p[w]=r[A[D]],d[w]=m[D],S[w]=D===2;p[w]==null&&(p[w]=_[w])}S[0]&&p[1]===1/0&&(d[0]=0),S[1]&&p[0]===-1/0&&(d[1]=0),p[0]>p[1]&&console.warn("Piece "+s+"is illegal: "+p+" lower bound should not greater then uppper bound."),p[0]===p[1]&&d[0]&&d[1]&&(u.value=p[0])}u.visual=Fi.retrieveVisuals(r),n.push(u)},this),gJ(i,n),LE(n),j(n,function(r){var s=r.close,u=[["<","\u2264"][s[1]],[">","\u2265"][s[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,u)},this)}};function gJ(n,i){var r=n.inverse;(n.orient==="vertical"?!r:r)&&i.reverse()}var lkt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type=i.type,r}return i.prototype.doRender=function(){var r=this.group;r.removeAll();var s=this.visualMapModel,u=s.get("textGap"),c=s.textStyleModel,p=c.getFont(),d=c.getTextColor(),m=this._getItemAlign(),_=s.itemSize,S=this._getViewData(),w=S.endsText,A=oi(s.get("showLabel",!0),!w),D=!s.get("selectedMode");w&&this._renderEndsText(r,w[0],_,A,m),j(S.viewPieceList,function(L){var E=L.piece,R=new Te;R.onclick=Mt(this._onItemClick,this,E),this._enableHoverLink(R,L.indexInModelPieceList);var k=s.getRepresentValue(E);if(this._createItemSymbol(R,k,[0,0,_[0],_[1]],D),A){var z=this.visualMapModel.getValueState(k);R.add(new er({style:{x:m==="right"?-u:_[0]+u,y:_[1]/2,text:E.text,verticalAlign:"middle",align:m,font:p,fill:d,opacity:z==="outOfRange"?.5:1},silent:D}))}r.add(R)},this),w&&this._renderEndsText(r,w[1],_,A,m),Mh(s.get("orient"),r,s.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},i.prototype._enableHoverLink=function(r,s){var u=this;r.on("mouseover",function(){return c("highlight")}).on("mouseout",function(){return c("downplay")});var c=function(p){var d=u.visualMapModel;d.option.hoverLink&&u.api.dispatchAction({type:p,batch:zT(d.findTargetDataIndices(s),d)})}},i.prototype._getItemAlign=function(){var r=this.visualMapModel,s=r.option;if(s.orient==="vertical")return sJ(r,this.api,r.itemSize);var u=s.align;return(!u||u==="auto")&&(u="left"),u},i.prototype._renderEndsText=function(r,s,u,c,p){if(s){var d=new Te,m=this.visualMapModel.textStyleModel;d.add(new er({style:Dr(m,{x:c?p==="right"?u[0]:0:u[0]/2,y:u[1]/2,verticalAlign:"middle",align:c?p:"center",text:s})})),r.add(d)}},i.prototype._getViewData=function(){var r=this.visualMapModel,s=Tt(r.getPieceList(),function(d,m){return{piece:d,indexInModelPieceList:m}}),u=r.get("text"),c=r.get("orient"),p=r.get("inverse");return(c==="horizontal"?p:!p)?s.reverse():u&&(u=u.slice().reverse()),{viewPieceList:s,endsText:u}},i.prototype._createItemSymbol=function(r,s,u,c){var p=li(this.getControllerVisual(s,"symbol"),u[0],u[1],u[2],u[3],this.getControllerVisual(s,"color"));p.silent=c,r.add(p)},i.prototype._onItemClick=function(r){var s=this.visualMapModel,u=s.option,c=u.selectedMode;if(c){var p=lt(u.selected),d=s.getSelectedMapKey(r);c==="single"||c===!0?(p[d]=!0,j(p,function(m,_){p[_]=_===d})):p[d]=!p[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:p})}},i.type="visualMap.piecewise",i}(nJ);function mJ(n){n.registerComponentModel(okt),n.registerComponentView(lkt),vJ(n)}function ukt(n){Ye(dJ),Ye(mJ)}var fkt={label:{enabled:!0},decal:{show:!1}},yJ=rr(),ckt={};function hkt(n,i){var r=n.getModel("aria");if(!r.get("enabled"))return;var s=lt(fkt);pt(s.label,n.getLocaleModel().get("aria"),!1),pt(r.option,s,!1),u(),c();function u(){var _=r.getModel("decal"),S=_.get("show");if(S){var w=le();n.eachSeries(function(A){if(!A.isColorBySeries()){var D=w.get(A.type);D||(D={},w.set(A.type,D)),yJ(A).scope=D}}),n.eachRawSeries(function(A){if(n.isSeriesFiltered(A))return;if(Gt(A.enableAriaDecal)){A.enableAriaDecal();return}var D=A.getData();if(A.isColorBySeries()){var z=GP(A.ecModel,A.name,ckt,n.getSeriesCount()),B=D.getVisual("decal");D.setVisual("decal",G(B,z))}else{var L=A.getRawData(),E={},R=yJ(A).scope;D.each(function(W){var Y=D.getRawIndex(W);E[Y]=W});var k=L.count();L.each(function(W){var Y=E[W],q=L.getName(W)||W+"",J=GP(A.ecModel,q,R,k),tt=D.getItemVisual(Y,"decal");D.setItemVisual(Y,"decal",G(tt,J))})}function G(W,Y){var q=W?st(st({},Y),W):Y;return q.dirty=!0,q}})}}function c(){var _=i.getZr().dom;if(_){var S=n.getLocaleModel().get("aria"),w=r.getModel("label");if(w.option=dt(w.option,S),!!w.get("enabled")){if(_.setAttribute("role","img"),w.get("description")){_.setAttribute("aria-label",w.get("description"));return}var A=n.getSeriesCount(),D=w.get(["data","maxCount"])||10,L=w.get(["series","maxCount"])||10,E=Math.min(A,L),R;if(!(A<1)){var k=d();if(k){var z=w.get(["general","withTitle"]);R=p(z,{title:k})}else R=w.get(["general","withoutTitle"]);var B=[],G=A>1?w.get(["series","multiple","prefix"]):w.get(["series","single","prefix"]);R+=p(G,{seriesCount:A}),n.eachSeries(function(J,tt){if(tt<E){var et=void 0,it=J.get("name"),ut=it?"withName":"withoutName";et=A>1?w.get(["series","multiple",ut]):w.get(["series","single",ut]),et=p(et,{seriesId:J.seriesIndex,seriesName:J.get("name"),seriesType:m(J.subType)});var ct=J.getData();if(ct.count()>D){var ht=w.get(["data","partialData"]);et+=p(ht,{displayCnt:D})}else et+=w.get(["data","allData"]);for(var vt=w.get(["data","separator","middle"]),gt=w.get(["data","separator","end"]),bt=w.get(["data","excludeDimensionId"]),St=[],Ct=0;Ct<ct.count();Ct++)if(Ct<D){var Ot=ct.getName(Ct),Vt=bt?jt(ct.getValues(Ct),function(pe,me){return At(bt,me)===-1}):ct.getValues(Ct),$t=w.get(["data",Ot?"withName":"withoutName"]);St.push(p($t,{name:Ot,value:Vt.join(vt)}))}et+=St.join(vt)+gt,B.push(et)}});var W=w.getModel(["series","multiple","separator"]),Y=W.get("middle"),q=W.get("end");R+=B.join(Y)+q,_.setAttribute("aria-label",R)}}}}function p(_,S){if(!kt(_))return _;var w=_;return j(S,function(A,D){w=w.replace(new RegExp("\\{\\s*"+D+"\\s*\\}","g"),A)}),w}function d(){var _=n.get("title");return _&&_.length&&(_=_[0]),_&&_.text}function m(_){var S=n.getLocaleModel().get(["series","typeNames"]);return S[_]||S.chart}}function pkt(n){if(!(!n||!n.aria)){var i=n.aria;i.show!=null&&(i.enabled=i.show),i.label=i.label||{},j(["description","general","series","data"],function(r){i[r]!=null&&(i.label[r]=i[r])})}}function vkt(n){n.registerPreprocessor(pkt),n.registerVisual(n.PRIORITY.VISUAL.ARIA,hkt)}var _J={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},dkt=function(){function n(i){var r=this._condVal=kt(i)?new RegExp(i):EI(i)?i:null;if(r==null){var s="";s=ka("Illegal regexp",i,"in"),fr(s)}}return n.prototype.evaluate=function(i){var r=typeof i;return kt(r)?this._condVal.test(i):Ne(r)?this._condVal.test(i+""):!1},n}(),gkt=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),mkt=function(){function n(){}return n.prototype.evaluate=function(){for(var i=this.children,r=0;r<i.length;r++)if(!i[r].evaluate())return!1;return!0},n}(),ykt=function(){function n(){}return n.prototype.evaluate=function(){for(var i=this.children,r=0;r<i.length;r++)if(i[r].evaluate())return!0;return!1},n}(),_kt=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),xkt=function(){function n(){}return n.prototype.evaluate=function(){for(var i=!!this.valueParser,r=this.getValue,s=r(this.valueGetterParam),u=i?this.valueParser(s):null,c=0;c<this.subCondList.length;c++)if(!this.subCondList[c].evaluate(i?u:s))return!1;return!0},n}();function Kk(n,i){if(n===!0||n===!1){var r=new gkt;return r.value=n,r}var s="";return SJ(n)||(s=ka("Illegal config. Expect a plain object but actually",n),fr(s)),n.and?xJ("and",n,i):n.or?xJ("or",n,i):n.not?Skt(n,i):bkt(n,i)}function xJ(n,i,r){var s=i[n],u="";u=ka('"and"/"or" condition should only be `'+n+": [...]` and must not be empty array.","Illegal condition:",i),wt(s)||fr(u),s.length||fr(u);var c=n==="and"?new mkt:new ykt;return c.children=Tt(s,function(p){return Kk(p,r)}),c.children.length||fr(u),c}function Skt(n,i){var r=n.not,s="";s=ka('"not" condition should only be `not: {}`.',"Illegal condition:",n),SJ(r)||fr(s);var u=new _kt;return u.child=Kk(r,i),u.child||fr(s),u}function bkt(n,i){for(var r="",s=i.prepareGetValue(n),u=[],c=Xt(n),p=n.parser,d=p?jY(p):null,m=0;m<c.length;m++){var _=c[m];if(!(_==="parser"||i.valueGetterAttrMap.get(_))){var S=Jt(_J,_)?_J[_]:_,w=n[_],A=d?d(w):w,D=Xxt(S,A)||S==="reg"&&new dkt(A);D||(r=ka('Illegal relational operation: "'+_+'" in condition:',n),fr(r)),u.push(D)}}u.length||(r=ka("Relational condition must have at least one operator.","Illegal condition:",n),fr(r));var L=new xkt;return L.valueGetterParam=s,L.valueParser=d,L.getValue=i.getValue,L.subCondList=u,L}function SJ(n){return re(n)&&!te(n)}var wkt=function(){function n(i,r){this._cond=Kk(i,r)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}();function Tkt(n,i){return new wkt(n,i)}var Akt={type:"echarts:filter",transform:function(n){for(var i=n.upstream,r,s=Tkt(n.config,{valueGetterAttrMap:le({dimension:!0}),prepareGetValue:function(d){var m="",_=d.dimension;Jt(d,"dimension")||(m=ka('Relation condition must has prop "dimension" specified.',"Illegal condition:",d),fr(m));var S=i.getDimensionInfo(_);return S||(m=ka("Can not find dimension info via: "+_+`.
`,"Existing dimensions: ",i.cloneAllDimensionInfo(),`.
`,"Illegal condition:",d,`.
`),fr(m)),{dimIdx:S.index}},getValue:function(d){return i.retrieveValueFromItem(r,d.dimIdx)}}),u=[],c=0,p=i.count();c<p;c++)r=i.getRawDataItem(c),s.evaluate()&&u.push(r);return{data:u}}},jk="";jk=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");var Ckt={type:"echarts:sort",transform:function(n){var i=n.upstream,r=n.config,s="",u=xr(r);u.length||(s="Empty `config` in sort transform.",fr(s));var c=[];j(u,function(S){var w=S.dimension,A=S.order,D=S.parser,L=S.incomparable;if(w==null&&(s='Sort transform config must has "dimension" specified.'+jk,fr(s)),A!=="asc"&&A!=="desc"&&(s='Sort transform config must has "order" specified.'+jk,fr(s)),L&&L!=="min"&&L!=="max"){var E="";E='incomparable must be "min" or "max" rather than "'+L+'".',fr(E)}if(A!=="asc"&&A!=="desc"){var R="";R='order must be "asc" or "desc" rather than "'+A+'".',fr(R)}var k=i.getDimensionInfo(w);k||(s=ka("Can not find dimension info via: "+w+`.
`,"Existing dimensions: ",i.cloneAllDimensionInfo(),`.
`,"Illegal config:",S,`.
`),fr(s));var z=D?jY(D):null;D&&!z&&(s=ka("Invalid parser name "+D+`.
`,"Illegal config:",S,`.
`),fr(s)),c.push({dimIdx:k.index,parser:z,comparator:new QY(A,L)})});var p=i.sourceFormat;p!==_a&&p!==mo&&(s='sourceFormat "'+p+'" is not supported yet',fr(s));for(var d=[],m=0,_=i.count();m<_;m++)d.push(i.getRawDataItem(m));return d.sort(function(S,w){for(var A=0;A<c.length;A++){var D=c[A],L=i.retrieveValueFromItem(S,D.dimIdx),E=i.retrieveValueFromItem(w,D.dimIdx);D.parser&&(L=D.parser(L),E=D.parser(E));var R=D.comparator.evaluate(L,E);if(R!==0)return R}return 0}),{data:d}}};function Dkt(n){n.registerTransform(Akt),n.registerTransform(Ckt)}var Mkt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="dataset",r}return i.prototype.init=function(r,s,u){n.prototype.init.call(this,r,s,u),this._sourceManager=new n8(this),o8(this)},i.prototype.mergeOption=function(r,s){n.prototype.mergeOption.call(this,r,s),o8(this)},i.prototype.optionUpdated=function(){this._sourceManager.dirty()},i.prototype.getSourceManager=function(){return this._sourceManager},i.type="dataset",i.defaultOption={seriesLayoutBy:nl},i}(We),Lkt=function(n){e(i,n);function i(){var r=n!==null&&n.apply(this,arguments)||this;return r.type="dataset",r}return i.type="dataset",i}(Pr);function Ikt(n){n.registerComponentModel(Mkt),n.registerComponentView(Lkt)}var vl=el.CMD;function rg(n,i){return Math.abs(n-i)<1e-5}function Jk(n){var i=n.data,r=n.len(),s=[],u,c=0,p=0,d=0,m=0;function _(ct,ht){u&&u.length>2&&s.push(u),u=[ct,ht]}function S(ct,ht,vt,gt){rg(ct,vt)&&rg(ht,gt)||u.push(ct,ht,vt,gt,vt,gt)}function w(ct,ht,vt,gt,bt,St){var Ct=Math.abs(ht-ct),Ot=Math.tan(Ct/4)*4/3,Vt=ht<ct?-1:1,$t=Math.cos(ct),pe=Math.sin(ct),me=Math.cos(ht),Pe=Math.sin(ht),br=$t*bt+vt,ti=pe*St+gt,Ge=me*bt+vt,Se=Pe*St+gt,Ze=bt*Ot*Vt,ce=St*Ot*Vt;u.push(br-Ze*pe,ti+ce*$t,Ge+Ze*Pe,Se-ce*me,Ge,Se)}for(var A,D,L,E,R=0;R<r;){var k=i[R++],z=R===1;switch(z&&(c=i[R],p=i[R+1],d=c,m=p,(k===vl.L||k===vl.C||k===vl.Q)&&(u=[d,m])),k){case vl.M:c=d=i[R++],p=m=i[R++],_(d,m);break;case vl.L:A=i[R++],D=i[R++],S(c,p,A,D),c=A,p=D;break;case vl.C:u.push(i[R++],i[R++],i[R++],i[R++],c=i[R++],p=i[R++]);break;case vl.Q:A=i[R++],D=i[R++],L=i[R++],E=i[R++],u.push(c+2/3*(A-c),p+2/3*(D-p),L+2/3*(A-L),E+2/3*(D-E),L,E),c=L,p=E;break;case vl.A:var B=i[R++],G=i[R++],W=i[R++],Y=i[R++],q=i[R++],J=i[R++]+q;R+=1;var tt=!i[R++];A=Math.cos(q)*W+B,D=Math.sin(q)*Y+G,z?(d=A,m=D,_(d,m)):S(c,p,A,D),c=Math.cos(J)*W+B,p=Math.sin(J)*Y+G;for(var et=(tt?-1:1)*Math.PI/2,it=q;tt?it>J:it<J;it+=et){var ut=tt?Math.max(it+et,J):Math.min(it+et,J);w(it,ut,B,G,W,Y)}break;case vl.R:d=c=i[R++],m=p=i[R++],A=d+i[R++],D=m+i[R++],_(A,m),S(A,m,A,D),S(A,D,d,D),S(d,D,d,m),S(d,m,A,m);break;case vl.Z:u&&S(c,p,d,m),c=d,p=m;break}}return u&&u.length>2&&s.push(u),s}function Qk(n,i,r,s,u,c,p,d,m,_){if(rg(n,r)&&rg(i,s)&&rg(u,p)&&rg(c,d)){m.push(p,d);return}var S=2/_,w=S*S,A=p-n,D=d-i,L=Math.sqrt(A*A+D*D);A/=L,D/=L;var E=r-n,R=s-i,k=u-p,z=c-d,B=E*E+R*R,G=k*k+z*z;if(B<w&&G<w){m.push(p,d);return}var W=A*E+D*R,Y=-A*k-D*z,q=B-W*W,J=G-Y*Y;if(q<w&&W>=0&&J<w&&Y>=0){m.push(p,d);return}var tt=[],et=[];lf(n,r,u,p,.5,tt),lf(i,s,c,d,.5,et),Qk(tt[0],et[0],tt[1],et[1],tt[2],et[2],tt[3],et[3],m,_),Qk(tt[4],et[4],tt[5],et[5],tt[6],et[6],tt[7],et[7],m,_)}function Ekt(n,i){var r=Jk(n),s=[];i=i||1;for(var u=0;u<r.length;u++){var c=r[u],p=[],d=c[0],m=c[1];p.push(d,m);for(var _=2;_<c.length;){var S=c[_++],w=c[_++],A=c[_++],D=c[_++],L=c[_++],E=c[_++];Qk(d,m,S,w,A,D,L,E,p,i),d=L,m=E}s.push(p)}return s}function bJ(n,i,r){var s=n[i],u=n[1-i],c=Math.abs(s/u),p=Math.ceil(Math.sqrt(c*r)),d=Math.floor(r/p);d===0&&(d=1,p=r);for(var m=[],_=0;_<p;_++)m.push(d);var S=p*d,w=r-S;if(w>0)for(var _=0;_<w;_++)m[_%p]+=1;return m}function wJ(n,i,r){for(var s=n.r0,u=n.r,c=n.startAngle,p=n.endAngle,d=Math.abs(p-c),m=d*u,_=u-s,S=m>Math.abs(_),w=bJ([m,_],S?0:1,i),A=(S?d:_)/w.length,D=0;D<w.length;D++)for(var L=(S?_:d)/w[D],E=0;E<w[D];E++){var R={};S?(R.startAngle=c+A*D,R.endAngle=c+A*(D+1),R.r0=s+L*E,R.r=s+L*(E+1)):(R.startAngle=c+L*E,R.endAngle=c+L*(E+1),R.r0=s+A*D,R.r=s+A*(D+1)),R.clockwise=n.clockwise,R.cx=n.cx,R.cy=n.cy,r.push(R)}}function Pkt(n,i,r){for(var s=n.width,u=n.height,c=s>u,p=bJ([s,u],c?0:1,i),d=c?"width":"height",m=c?"height":"width",_=c?"x":"y",S=c?"y":"x",w=n[d]/p.length,A=0;A<p.length;A++)for(var D=n[m]/p[A],L=0;L<p[A];L++){var E={};E[_]=A*w,E[S]=L*D,E[d]=w,E[m]=D,E.x+=n.x,E.y+=n.y,r.push(E)}}function TJ(n,i,r,s){return n*s-r*i}function Rkt(n,i,r,s,u,c,p,d){var m=r-n,_=s-i,S=p-u,w=d-c,A=TJ(S,w,m,_);if(Math.abs(A)<1e-6)return null;var D=n-u,L=i-c,E=TJ(D,L,S,w)/A;return E<0||E>1?null:new ze(E*m+n,E*_+i)}function Okt(n,i,r){var s=new ze;ze.sub(s,r,i),s.normalize();var u=new ze;ze.sub(u,n,i);var c=u.dot(s);return c}function ig(n,i){var r=n[n.length-1];r&&r[0]===i[0]&&r[1]===i[1]||n.push(i)}function kkt(n,i,r){for(var s=n.length,u=[],c=0;c<s;c++){var p=n[c],d=n[(c+1)%s],m=Rkt(p[0],p[1],d[0],d[1],i.x,i.y,r.x,r.y);m&&u.push({projPt:Okt(m,i,r),pt:m,idx:c})}if(u.length<2)return[{points:n},{points:n}];u.sort(function(R,k){return R.projPt-k.projPt});var _=u[0],S=u[u.length-1];if(S.idx<_.idx){var w=_;_=S,S=w}for(var A=[_.pt.x,_.pt.y],D=[S.pt.x,S.pt.y],L=[A],E=[D],c=_.idx+1;c<=S.idx;c++)ig(L,n[c].slice());ig(L,D),ig(L,A);for(var c=S.idx+1;c<=_.idx+s;c++)ig(E,n[c%s].slice());return ig(E,A),ig(E,D),[{points:L},{points:E}]}function AJ(n){var i=n.points,r=[],s=[];x1(i,r,s);var u=new Ve(r[0],r[1],s[0]-r[0],s[1]-r[1]),c=u.width,p=u.height,d=u.x,m=u.y,_=new ze,S=new ze;return c>p?(_.x=S.x=d+c/2,_.y=m,S.y=m+p):(_.y=S.y=m+p/2,_.x=d,S.x=d+c),kkt(i,_,S)}function VT(n,i,r,s){if(r===1)s.push(i);else{var u=Math.floor(r/2),c=n(i);VT(n,c[0],u,s),VT(n,c[1],r-u,s)}return s}function Nkt(n,i){for(var r=[],s=0;s<i;s++)r.push(fP(n));return r}function zkt(n,i){i.setStyle(n.style),i.z=n.z,i.z2=n.z2,i.zlevel=n.zlevel}function Vkt(n){for(var i=[],r=0;r<n.length;)i.push([n[r++],n[r++]]);return i}function Bkt(n,i){var r=[],s=n.shape,u;switch(n.type){case"rect":Pkt(s,i,r),u=tr;break;case"sector":wJ(s,i,r),u=ga;break;case"circle":wJ({r0:0,r:s.r,startAngle:0,endAngle:Math.PI*2,cx:s.cx,cy:s.cy},i,r),u=ga;break;default:var c=n.getComputedTransform(),p=c?Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1],c[2]*c[2]+c[3]*c[3])):1,d=Tt(Ekt(n.getUpdatedPathProxy(),p),function(k){return Vkt(k)}),m=d.length;if(m===0)VT(AJ,{points:d[0]},i,r);else if(m===i)for(var _=0;_<m;_++)r.push({points:d[_]});else{var S=0,w=Tt(d,function(k){var z=[],B=[];x1(k,z,B);var G=(B[1]-z[1])*(B[0]-z[0]);return S+=G,{poly:k,area:G}});w.sort(function(k,z){return z.area-k.area});for(var A=i,_=0;_<m;_++){var D=w[_];if(A<=0)break;var L=_===m-1?A:Math.ceil(D.area/S*i);L<0||(VT(AJ,{points:D.poly},L,r),A-=L)}}u=ma;break}if(!u)return Nkt(n,i);for(var E=[],_=0;_<r.length;_++){var R=new u;R.setShape(r[_]),zkt(n,R),E.push(R)}return E}function Fkt(n,i){var r=n.length,s=i.length;if(r===s)return[n,i];for(var u=[],c=[],p=r<s?n:i,d=Math.min(r,s),m=Math.abs(s-r)/6,_=(d-2)/6,S=Math.ceil(m/_)+1,w=[p[0],p[1]],A=m,D=2;D<d;){var L=p[D-2],E=p[D-1],R=p[D++],k=p[D++],z=p[D++],B=p[D++],G=p[D++],W=p[D++];if(A<=0){w.push(R,k,z,B,G,W);continue}for(var Y=Math.min(A,S-1)+1,q=1;q<=Y;q++){var J=q/Y;lf(L,R,z,G,J,u),lf(E,k,B,W,J,c),L=u[3],E=c[3],w.push(u[1],c[1],u[2],c[2],L,E),R=u[5],k=c[5],z=u[6],B=c[6]}A-=Y-1}return p===n?[w,i]:[n,w]}function CJ(n,i){for(var r=n.length,s=n[r-2],u=n[r-1],c=[],p=0;p<i.length;)c[p++]=s,c[p++]=u;return c}function Ukt(n,i){for(var r,s,u,c=[],p=[],d=0;d<Math.max(n.length,i.length);d++){var m=n[d],_=i[d],S=void 0,w=void 0;m?_?(r=Fkt(m,_),S=r[0],w=r[1],s=S,u=w):(w=CJ(u||m,m),S=m):(S=CJ(s||_,_),w=_),c.push(S),p.push(w)}return[c,p]}function DJ(n){for(var i=0,r=0,s=0,u=n.length,c=0,p=u-2;c<u;p=c,c+=2){var d=n[p],m=n[p+1],_=n[c],S=n[c+1],w=d*S-_*m;i+=w,r+=(d+_)*w,s+=(m+S)*w}return i===0?[n[0]||0,n[1]||0]:[r/i/3,s/i/3,i]}function Gkt(n,i,r,s){for(var u=(n.length-2)/6,c=1/0,p=0,d=n.length,m=d-2,_=0;_<u;_++){for(var S=_*6,w=0,A=0;A<d;A+=2){var D=A===0?S:(S+A-2)%m+2,L=n[D]-r[0],E=n[D+1]-r[1],R=i[A]-s[0],k=i[A+1]-s[1],z=R-L,B=k-E;w+=z*z+B*B}w<c&&(c=w,p=_)}return p}function Hkt(n){for(var i=[],r=n.length,s=0;s<r;s+=2)i[s]=n[r-s-2],i[s+1]=n[r-s-1];return i}function Wkt(n,i,r,s){for(var u=[],c,p=0;p<n.length;p++){var d=n[p],m=i[p],_=DJ(d),S=DJ(m);c==null&&(c=_[2]<0!=S[2]<0);var w=[],A=[],D=0,L=1/0,E=[],R=d.length;c&&(d=Hkt(d));for(var k=Gkt(d,m,_,S)*6,z=R-2,B=0;B<z;B+=2){var G=(k+B)%z+2;w[B+2]=d[G]-_[0],w[B+3]=d[G+1]-_[1]}if(w[0]=d[k]-_[0],w[1]=d[k+1]-_[1],r>0)for(var W=s/r,Y=-s/2;Y<=s/2;Y+=W){for(var q=Math.sin(Y),J=Math.cos(Y),tt=0,B=0;B<d.length;B+=2){var et=w[B],it=w[B+1],ut=m[B]-S[0],ct=m[B+1]-S[1],ht=ut*J-ct*q,vt=ut*q+ct*J;E[B]=ht,E[B+1]=vt;var gt=ht-et,bt=vt-it;tt+=gt*gt+bt*bt}if(tt<L){L=tt,D=Y;for(var St=0;St<E.length;St++)A[St]=E[St]}}else for(var Ct=0;Ct<R;Ct+=2)A[Ct]=m[Ct]-S[0],A[Ct+1]=m[Ct+1]-S[1];u.push({from:w,to:A,fromCp:_,toCp:S,rotation:-D})}return u}function BT(n){return n.__isCombineMorphing}var MJ="__mOriginal_";function FT(n,i,r){var s=MJ+i,u=n[s]||n[i];n[s]||(n[s]=n[i]);var c=r.replace,p=r.after,d=r.before;n[i]=function(){var m=arguments,_;return d&&d.apply(this,m),c?_=c.apply(this,m):_=u.apply(this,m),p&&p.apply(this,m),_}}function D_(n,i){var r=MJ+i;n[r]&&(n[i]=n[r],n[r]=null)}function LJ(n,i){for(var r=0;r<n.length;r++)for(var s=n[r],u=0;u<s.length;){var c=s[u],p=s[u+1];s[u++]=i[0]*c+i[2]*p+i[4],s[u++]=i[1]*c+i[3]*p+i[5]}}function IJ(n,i){var r=n.getUpdatedPathProxy(),s=i.getUpdatedPathProxy(),u=Ukt(Jk(r),Jk(s)),c=u[0],p=u[1],d=n.getComputedTransform(),m=i.getComputedTransform();function _(){this.transform=null}d&&LJ(c,d),m&&LJ(p,m),FT(i,"updateTransform",{replace:_}),i.transform=null;var S=Wkt(c,p,10,Math.PI),w=[];FT(i,"buildPath",{replace:function(A){for(var D=i.__morphT,L=1-D,E=[],R=0;R<S.length;R++){var k=S[R],z=k.from,B=k.to,G=k.rotation*D,W=k.fromCp,Y=k.toCp,q=Math.sin(G),J=Math.cos(G);Iy(E,W,Y,D);for(var tt=0;tt<z.length;tt+=2){var et=z[tt],it=z[tt+1],ut=B[tt],ct=B[tt+1],ht=et*L+ut*D,vt=it*L+ct*D;w[tt]=ht*J-vt*q+E[0],w[tt+1]=ht*q+vt*J+E[1]}var gt=w[0],bt=w[1];A.moveTo(gt,bt);for(var tt=2;tt<z.length;){var ut=w[tt++],ct=w[tt++],St=w[tt++],Ct=w[tt++],Ot=w[tt++],Vt=w[tt++];gt===ut&&bt===ct&&St===Ot&&Ct===Vt?A.lineTo(Ot,Vt):A.bezierCurveTo(ut,ct,St,Ct,Ot,Vt),gt=Ot,bt=Vt}}}})}function tN(n,i,r){if(!n||!i)return i;var s=r.done,u=r.during;IJ(n,i),i.__morphT=0;function c(){D_(i,"buildPath"),D_(i,"updateTransform"),i.__morphT=-1,i.createPathProxy(),i.dirtyShape()}return i.animateTo({__morphT:1},dt({during:function(p){i.dirtyShape(),u&&u(p)},done:function(){c(),s&&s()}},r)),i}function Ykt(n,i,r,s,u,c){var p=16;n=u===r?0:Math.round(32767*(n-r)/(u-r)),i=c===s?0:Math.round(32767*(i-s)/(c-s));for(var d=0,m,_=(1<<p)/2;_>0;_/=2){var S=0,w=0;(n&_)>0&&(S=1),(i&_)>0&&(w=1),d+=_*_*(3*S^w),w===0&&(S===1&&(n=_-1-n,i=_-1-i),m=n,n=i,i=m)}return d}function UT(n){var i=1/0,r=1/0,s=-1/0,u=-1/0,c=Tt(n,function(d){var m=d.getBoundingRect(),_=d.getComputedTransform(),S=m.x+m.width/2+(_?_[4]:0),w=m.y+m.height/2+(_?_[5]:0);return i=Math.min(S,i),r=Math.min(w,r),s=Math.max(S,s),u=Math.max(w,u),[S,w]}),p=Tt(c,function(d,m){return{cp:d,z:Ykt(d[0],d[1],i,r,s,u),path:n[m]}});return p.sort(function(d,m){return d.z-m.z}).map(function(d){return d.path})}function EJ(n){return Bkt(n.path,n.count)}function eN(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Zkt(n,i,r){var s=[];function u(W){for(var Y=0;Y<W.length;Y++){var q=W[Y];BT(q)?u(q.childrenRef()):q instanceof Xe&&s.push(q)}}u(n);var c=s.length;if(!c)return eN();var p=r.dividePath||EJ,d=p({path:i,count:c});if(d.length!==c)return console.error("Invalid morphing: unmatched splitted path"),eN();s=UT(s),d=UT(d);for(var m=r.done,_=r.during,S=r.individualDelay,w=new $l,A=0;A<c;A++){var D=s[A],L=d[A];L.parent=i,L.copyTransform(w),S||IJ(D,L)}i.__isCombineMorphing=!0,i.childrenRef=function(){return d};function E(W){for(var Y=0;Y<d.length;Y++)d[Y].addSelfToZr(W)}FT(i,"addSelfToZr",{after:function(W){E(W)}}),FT(i,"removeSelfFromZr",{after:function(W){for(var Y=0;Y<d.length;Y++)d[Y].removeSelfFromZr(W)}});function R(){i.__isCombineMorphing=!1,i.__morphT=-1,i.childrenRef=null,D_(i,"addSelfToZr"),D_(i,"removeSelfFromZr")}var k=d.length;if(S)for(var z=k,B=function(){z--,z===0&&(R(),m&&m())},A=0;A<k;A++){var G=S?dt({delay:(r.delay||0)+S(A,k,s[A],d[A]),done:B},r):r;tN(s[A],d[A],G)}else i.__morphT=0,i.animateTo({__morphT:1},dt({during:function(W){for(var Y=0;Y<k;Y++){var q=d[Y];q.__morphT=i.__morphT,q.dirtyShape()}_&&_(W)},done:function(){R();for(var W=0;W<n.length;W++)D_(n[W],"updateTransform");m&&m()}},r));return i.__zr&&E(i.__zr),{fromIndividuals:s,toIndividuals:d,count:k}}function Xkt(n,i,r){var s=i.length,u=[],c=r.dividePath||EJ;function p(D){for(var L=0;L<D.length;L++){var E=D[L];BT(E)?p(E.childrenRef()):E instanceof Xe&&u.push(E)}}if(BT(n)){p(n.childrenRef());var d=u.length;if(d<s)for(var m=0,_=d;_<s;_++)u.push(fP(u[m++%d]));u.length=s}else{u=c({path:n,count:s});for(var S=n.getComputedTransform(),_=0;_<u.length;_++)u[_].setLocalTransform(S);if(u.length!==s)return console.error("Invalid morphing: unmatched splitted path"),eN()}u=UT(u),i=UT(i);for(var w=r.individualDelay,_=0;_<s;_++){var A=w?dt({delay:(r.delay||0)+w(_,s,u[_],i[_])},r):r;tN(u[_],i[_],A)}return{fromIndividuals:u,toIndividuals:i,count:i.length}}function PJ(n){return wt(n[0])}function RJ(n,i){for(var r=[],s=n.length,u=0;u<s;u++)r.push({one:n[u],many:[]});for(var u=0;u<i.length;u++){var c=i[u].length,p=void 0;for(p=0;p<c;p++)r[p%s].many.push(i[u][p])}for(var d=0,u=s-1;u>=0;u--)if(!r[u].many.length){var m=r[d].many;if(m.length<=1)if(d)d=0;else return r;var c=m.length,_=Math.ceil(c/2);r[u].many=m.slice(_,c),r[d].many=m.slice(0,_),d++}return r}var qkt={clone:function(n){for(var i=[],r=1-Math.pow(1-n.path.style.opacity,1/n.count),s=0;s<n.count;s++){var u=fP(n.path);u.setStyle("opacity",r),i.push(u)}return i},split:null};function rN(n,i,r,s,u,c){if(!n.length||!i.length)return;var p=cd("update",s,u);if(!(p&&p.duration>0))return;var d=s.getModel("universalTransition").get("delay"),m=Object.assign({setToFinal:!0},p),_,S;PJ(n)&&(_=n,S=i),PJ(i)&&(_=i,S=n);function w(k,z,B,G,W){var Y=k.many,q=k.one;if(Y.length===1&&!W){var J=z?Y[0]:q,tt=z?q:Y[0];if(BT(J))w({many:[J],one:tt},!0,B,G,!0);else{var et=d?dt({delay:d(B,G)},m):m;tN(J,tt,et),c(J,tt,J,tt,et)}}else for(var it=dt({dividePath:qkt[r],individualDelay:d&&function(bt,St,Ct,Ot){return d(bt+B,G)}},m),ut=z?Zkt(Y,q,it):Xkt(q,Y,it),ct=ut.fromIndividuals,ht=ut.toIndividuals,vt=ct.length,gt=0;gt<vt;gt++){var et=d?dt({delay:d(gt,vt)},m):m;c(ct[gt],ht[gt],z?Y[gt]:k.one,z?k.one:Y[gt],et)}}for(var A=_?_===n:n.length>i.length,D=_?RJ(S,_):RJ(A?i:n,[A?n:i]),L=0,E=0;E<D.length;E++)L+=D[E].many.length;for(var R=0,E=0;E<D.length;E++)w(D[E],A,R,L),R+=D[E].many.length}function sp(n){if(!n)return[];if(wt(n)){for(var i=[],r=0;r<n.length;r++)i.push(sp(n[r]));return i}var s=[];return n.traverse(function(u){u instanceof Xe&&!u.disableMorphing&&!u.invisible&&!u.ignore&&s.push(u)}),s}var OJ=1e4,$kt=0,kJ=1,NJ=2,Kkt=rr();function jkt(n,i){for(var r=n.dimensions,s=0;s<r.length;s++){var u=n.getDimensionInfo(r[s]);if(u&&u.otherDims[i]===0)return r[s]}}function Jkt(n,i,r){var s=n.getDimensionInfo(r),u=s&&s.ordinalMeta;if(s){var c=n.get(s.name,i);return u&&u.categories[c]||c+""}}function zJ(n,i,r,s){var u=s?"itemChildGroupId":"itemGroupId",c=jkt(n,u);if(c){var p=Jkt(n,i,c);return p}var d=n.getRawDataItem(i),m=s?"childGroupId":"groupId";if(d&&d[m])return d[m]+"";if(!s)return r||n.getId(i)}function VJ(n){var i=[];return j(n,function(r){var s=r.data,u=r.dataGroupId;if(s.count()>OJ){Yr("Universal transition is disabled on large data > 10k.");return}for(var c=s.getIndices(),p=0;p<c.length;p++)i.push({data:s,groupId:zJ(s,p,u,!1),childGroupId:zJ(s,p,u,!0),divide:r.divide,dataIndex:p})}),i}function iN(n,i,r){n.traverse(function(s){s instanceof Xe&&Vr(s,{style:{opacity:0}},i,{dataIndex:r,isFrom:!0})})}function aN(n){if(n.parent){var i=n.getComputedTransform();n.setLocalTransform(i),n.parent.remove(n)}}function ag(n){n.stopAnimation(),n.isGroup&&n.traverse(function(i){i.stopAnimation()})}function Qkt(n,i,r){var s=cd("update",r,i);s&&n.traverse(function(u){if(u instanceof co){var c=L_t(u);c&&u.animateFrom({style:c},s)}})}function tNt(n,i){var r=n.length;if(r!==i.length)return!1;for(var s=0;s<r;s++){var u=n[s],c=i[s];if(u.data.getId(u.dataIndex)!==c.data.getId(c.dataIndex))return!1}return!0}function BJ(n,i,r){var s=VJ(n),u=VJ(i);function c(B,G,W,Y,q){(W||B)&&G.animateFrom({style:W&&W!==B?st(st({},W.style),B.style):B.style},q)}var p=!1,d=$kt,m=le(),_=le();s.forEach(function(B){B.groupId&&m.set(B.groupId,!0),B.childGroupId&&_.set(B.childGroupId,!0)});for(var S=0;S<u.length;S++){var w=u[S].groupId;if(_.get(w)){d=kJ;break}var A=u[S].childGroupId;if(A&&m.get(A)){d=NJ;break}}function D(B,G){return function(W){var Y=W.data,q=W.dataIndex;return G?Y.getId(q):B?d===kJ?W.childGroupId:W.groupId:d===NJ?W.childGroupId:W.groupId}}var L=tNt(s,u),E={};if(!L)for(var S=0;S<u.length;S++){var R=u[S],k=R.data.getItemGraphicEl(R.dataIndex);k&&(E[k.id]=!0)}function z(B,G){var W=s[G],Y=u[B],q=Y.data.hostModel,J=W.data.getItemGraphicEl(W.dataIndex),tt=Y.data.getItemGraphicEl(Y.dataIndex);if(J===tt){tt&&Qkt(tt,Y.dataIndex,q);return}J&&E[J.id]||tt&&(ag(tt),J?(ag(J),aN(J),p=!0,rN(sp(J),sp(tt),Y.divide,q,B,c)):iN(tt,q,B))}new iu(s,u,D(!0,L),D(!1,L),null,"multiple").update(z).updateManyToOne(function(B,G){var W=u[B],Y=W.data,q=Y.hostModel,J=Y.getItemGraphicEl(W.dataIndex),tt=jt(Tt(G,function(et){return s[et].data.getItemGraphicEl(s[et].dataIndex)}),function(et){return et&&et!==J&&!E[et.id]});J&&(ag(J),tt.length?(j(tt,function(et){ag(et),aN(et)}),p=!0,rN(sp(tt),sp(J),W.divide,q,B,c)):iN(J,q,W.dataIndex))}).updateOneToMany(function(B,G){var W=s[G],Y=W.data.getItemGraphicEl(W.dataIndex);if(!(Y&&E[Y.id])){var q=jt(Tt(B,function(tt){return u[tt].data.getItemGraphicEl(u[tt].dataIndex)}),function(tt){return tt&&tt!==Y}),J=u[B[0]].data.hostModel;q.length&&(j(q,function(tt){return ag(tt)}),Y?(ag(Y),aN(Y),p=!0,rN(sp(Y),sp(q),W.divide,J,B[0],c)):j(q,function(tt){return iN(tt,J,B[0])}))}}).updateManyToMany(function(B,G){new iu(G,B,function(W){return s[W].data.getId(s[W].dataIndex)},function(W){return u[W].data.getId(u[W].dataIndex)}).update(function(W,Y){z(B[W],G[Y])}).execute()}).execute(),p&&j(i,function(B){var G=B.data,W=G.hostModel,Y=W&&r.getViewOfSeriesModel(W),q=cd("update",W,0);Y&&W.isAnimationEnabled()&&q&&q.duration>0&&Y.group.traverse(function(J){J instanceof Xe&&!J.animators.length&&J.animateFrom({style:{opacity:0}},q)})})}function FJ(n){var i=n.getModel("universalTransition").get("seriesKey");return i||n.id}function UJ(n){return wt(n)?n.sort().join(","):n}function zf(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function eNt(n,i){var r=le(),s=le(),u=le();j(n.oldSeries,function(p,d){var m=n.oldDataGroupIds[d],_=n.oldData[d],S=FJ(p),w=UJ(S);s.set(w,{dataGroupId:m,data:_}),wt(S)&&j(S,function(A){u.set(A,{key:w,dataGroupId:m,data:_})})});function c(p){r.get(p)&&Yr("Duplicated seriesKey in universalTransition "+p)}return j(i.updatedSeries,function(p){if(p.isUniversalTransitionEnabled()&&p.isAnimationEnabled()){var d=p.get("dataGroupId"),m=p.getData(),_=FJ(p),S=UJ(_),w=s.get(S);if(w)c(S),r.set(S,{oldSeries:[{dataGroupId:w.dataGroupId,divide:zf(w.data),data:w.data}],newSeries:[{dataGroupId:d,divide:zf(m),data:m}]});else if(wt(_)){c(S);var A=[];j(_,function(E){var R=s.get(E);R.data&&A.push({dataGroupId:R.dataGroupId,divide:zf(R.data),data:R.data})}),A.length&&r.set(S,{oldSeries:A,newSeries:[{dataGroupId:d,data:m,divide:zf(m)}]})}else{var D=u.get(_);if(D){var L=r.get(D.key);L||(L={oldSeries:[{dataGroupId:D.dataGroupId,data:D.data,divide:zf(D.data)}],newSeries:[]},r.set(D.key,L)),L.newSeries.push({dataGroupId:d,data:m,divide:zf(m)})}}}}),r}function GJ(n,i){for(var r=0;r<n.length;r++){var s=i.seriesIndex!=null&&i.seriesIndex===n[r].seriesIndex||i.seriesId!=null&&i.seriesId===n[r].id;if(s)return r}}function rNt(n,i,r,s){var u=[],c=[];j(xr(n.from),function(p){var d=GJ(i.oldSeries,p);d>=0&&u.push({dataGroupId:i.oldDataGroupIds[d],data:i.oldData[d],divide:zf(i.oldData[d]),groupIdDim:p.dimension})}),j(xr(n.to),function(p){var d=GJ(r.updatedSeries,p);if(d>=0){var m=r.updatedSeries[d].getData();c.push({dataGroupId:i.oldDataGroupIds[d],data:m,divide:zf(m),groupIdDim:p.dimension})}}),u.length>0&&c.length>0&&BJ(u,c,s)}function iNt(n){n.registerUpdateLifecycle("series:beforeupdate",function(i,r,s){j(xr(s.seriesTransition),function(u){j(xr(u.to),function(c){for(var p=s.updatedSeries,d=0;d<p.length;d++)(c.seriesIndex!=null&&c.seriesIndex===p[d].seriesIndex||c.seriesId!=null&&c.seriesId===p[d].id)&&(p[d][iw]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(i,r,s){var u=Kkt(r);if(u.oldSeries&&s.updatedSeries&&s.optionChanged){var c=s.seriesTransition;if(c)j(xr(c),function(D){rNt(D,u,s,r)});else{var p=eNt(u,s);j(p.keys(),function(D){var L=p.get(D);BJ(L.oldSeries,L.newSeries,r)})}j(s.updatedSeries,function(D){D[iw]&&(D[iw]=!1)})}for(var d=i.getSeries(),m=u.oldSeries=[],_=u.oldDataGroupIds=[],S=u.oldData=[],w=0;w<d.length;w++){var A=d[w].getData();A.count()<OJ&&(m.push(d[w]),_.push(d[w].get("dataGroupId")),S.push(A))}})}Ye([vTt]),Ye([uTt]),Ye([OTt,$Tt,nAt,VAt,$At,kCt,uDt,ZDt,vMt,xMt,LMt,wLt,qLt,nIt,SIt,AIt,kIt,GIt,QIt,nEt,dEt,jEt]),Ye(gPt),Ye(GPt),Ye(OX),Ye(e2t),Ye(e$),Ye(n2t),Ye(v2t),Ye(eRt),Ye(xRt),Ye(y_),Ye(zRt),Ye(FRt),Ye(KRt),Ye(iOt),Ye(uOt),Ye(dOt),Ye(AOt),Ye(HOt),Ye($j),Ye(Qj),Ye(ukt),Ye(dJ),Ye(mJ),Ye(vkt),Ye(Dkt),Ye(Ikt),Ye(iNt),Ye(Lwt),a.Axis=So,a.ChartView=vr,a.ComponentModel=We,a.ComponentView=Pr,a.List=wa,a.Model=sr,a.PRIORITY=o9,a.SeriesModel=Sr,a.color=Ymt,a.connect=zbt,a.dataTool=Wbt,a.dependencies=_bt,a.disConnect=Vbt,a.disconnect=S9,a.dispose=Bbt,a.env=f,a.extendChartView=gwt,a.extendComponentModel=pwt,a.extendComponentView=vwt,a.extendSeriesModel=dwt,a.format=rwt,a.getCoordinateSystemDimensions=Ubt,a.getInstanceByDom=C2,a.getInstanceById=Fbt,a.getMap=Hbt,a.graphic=ewt,a.helper=X1t,a.init=Nbt,a.innerDrawElementOnCanvas=c2,a.matrix=wmt,a.number=Q1t,a.parseGeoJSON=q2,a.parseGeoJson=q2,a.registerAction=ys,a.registerCoordinateSystem=T9,a.registerLayout=A9,a.registerLoading=E2,a.registerLocale=AP,a.registerMap=D9,a.registerPostInit=b9,a.registerPostUpdate=w9,a.registerPreprocessor=M2,a.registerProcessor=L2,a.registerTheme=D2,a.registerTransform=M9,a.registerUpdateLifecycle=Sw,a.registerVisual=Af,a.setCanvasCreator=Gbt,a.setPlatformAPI=P,a.throttle=nw,a.time=twt,a.use=Ye,a.util=iwt,a.vector=umt,a.version=ybt,a.zrUtil=rmt,a.zrender=Cyt,Object.defineProperty(a,"__esModule",{value:!0})})});var ldt=WJ(QS=>{(function(a,t){typeof define=="function"&&define.amd?define(["exports","echarts"],t):typeof QS=="object"&&typeof QS.nodeName!="string"?t(QS,sdt()):t({},a.echarts)})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:QS,function(a,t){var e=function(o){typeof console<"u"&&console&&console.error&&console.error(o)};if(!t){e("ECharts is not Loaded");return}t.registerTheme("railspulse",{color:["#ffc91f","#ffde66","#fbedbf","#ffc91f","#ffc91f","#ffc91f"],backgroundColor:"rgba(255,255,255,0)",textStyle:{},title:{textStyle:{color:"#666666"},subtextStyle:{color:"#999999"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:"3"},symbolSize:"8",symbol:"emptyCircle",smooth:!1},radar:{itemStyle:{borderWidth:"2"},lineStyle:{width:"3"},symbolSize:"8",symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"#ccc"}},pie:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#ffc91f",color0:"transparent",borderColor:"#ffc91f",borderColor0:"#ffc91f",borderWidth:"1"}},graph:{itemStyle:{borderWidth:0,borderColor:"#ccc"},lineStyle:{width:"1",color:"#cccccc"},symbolSize:"8",symbol:"emptyCircle",smooth:!1,color:["#ffc91f","#ffde66","#fbedbf","#ffc91f","#ffc91f","#ffc91f"],label:{color:"#ffffff"}},map:{itemStyle:{areaColor:"#eeeeee",borderColor:"#999999",borderWidth:.5},label:{color:"#28544e"},emphasis:{itemStyle:{areaColor:"rgba(34,195,170,0.25)",borderColor:"#22c3aa",borderWidth:1},label:{color:"#349e8e"}}},geo:{itemStyle:{areaColor:"#eeeeee",borderColor:"#999999",borderWidth:.5},label:{color:"#28544e"},emphasis:{itemStyle:{areaColor:"rgba(34,195,170,0.25)",borderColor:"#22c3aa",borderWidth:1},label:{color:"#349e8e"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#ffc91f",width:1},itemStyle:{color:"#ffc91f",borderWidth:1},controlStyle:{color:"#ffc91f",borderColor:"#ffc91f",borderWidth:.5},checkpointStyle:{color:"#ffc91f",borderColor:"#ffc91f"},label:{color:"#ffc91f"},emphasis:{itemStyle:{color:"#ffc91f"},controlStyle:{color:"#ffc91f",borderColor:"#ffc91f",borderWidth:.5},label:{color:"#ffc91f"}}},visualMap:{color:["#ffc91f","#ffc91f","#ffc91f"]},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(222,222,222,1)",fillerColor:"rgba(114,230,212,0.25)",handleColor:"#cccccc",handleSize:"100%",textStyle:{color:"#999999"}},markPoint:{label:{color:"#ffffff"},emphasis:{label:{color:"#ffffff"}}}})})});var VH={};sn(VH,{Axis:()=>Oi,ChartView:()=>ke,ComponentModel:()=>xe,ComponentView:()=>He,List:()=>Fr,Model:()=>Fe,PRIORITY:()=>oB,SeriesModel:()=>Ue,color:()=>yg,connect:()=>qUt,dataTool:()=>eGt,dependencies:()=>IUt,disConnect:()=>$Ut,disconnect:()=>Pat,dispose:()=>KUt,env:()=>Ie,extendChartView:()=>p5t,extendComponentModel:()=>f5t,extendComponentView:()=>c5t,extendSeriesModel:()=>h5t,format:()=>FB,getCoordinateSystemDimensions:()=>JUt,getInstanceByDom:()=>uB,getInstanceById:()=>jUt,getMap:()=>tGt,graphic:()=>BB,helper:()=>PB,init:()=>XUt,innerDrawElementOnCanvas:()=>rm,matrix:()=>Ta,number:()=>zB,parseGeoJSON:()=>lm,parseGeoJson:()=>lm,registerAction:()=>Ra,registerCoordinateSystem:()=>hB,registerLayout:()=>pB,registerLoading:()=>oD,registerLocale:()=>cC,registerMap:()=>dB,registerPostInit:()=>fB,registerPostUpdate:()=>cB,registerPreprocessor:()=>aD,registerProcessor:()=>nD,registerTheme:()=>Xx,registerTransform:()=>gB,registerUpdateLifecycle:()=>qx,registerVisual:()=>zu,setCanvasCreator:()=>QUt,setPlatformAPI:()=>WT,throttle:()=>ov,time:()=>VB,use:()=>Ae,util:()=>UB,vector:()=>fi,version:()=>LUt,zrUtil:()=>Lt,zrender:()=>MA});var sN=function(a,t){return sN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])},sN(a,t)};function at(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sN(a,t);function e(){this.constructor=a}a.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var MA={};sn(MA,{dispose:()=>zzt,disposeAll:()=>Vzt,getElementSSRData:()=>ez,getInstance:()=>Bzt,init:()=>DA,registerPainter:()=>tz,registerSSRDataGetter:()=>rz,version:()=>Fzt});var hNt=function(){function a(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return a}(),pNt=function(){function a(){this.browser=new hNt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return a}(),Bf=new pNt;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Bf.wxa=!0,Bf.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Bf.worker=!0:!Bf.hasGlobalWindow||"Deno"in window?(Bf.node=!0,Bf.svgSupported=!0):vNt(navigator.userAgent,Bf);function vNt(a,t){var e=t.browser,o=a.match(/Firefox\/([\d.]+)/),l=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),f=a.match(/Edge?\/([\d.]+)/),h=/micromessenger/i.test(a);o&&(e.firefox=!0,e.version=o[1]),l&&(e.ie=!0,e.version=l[1]),f&&(e.edge=!0,e.version=f[1],e.newEdge=+f[1].split(".")[0]>18),h&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var v=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in v||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in v)&&!("OTransition"in v),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}var Ie=Bf;var Lt={};sn(Lt,{HashMap:()=>KJ,RADIAN_TO_DEGREE:()=>cp,assert:()=>Tr,bind:()=>It,clone:()=>Ht,concatArray:()=>dl,createCanvas:()=>TNt,createHashMap:()=>Rt,createObject:()=>du,curry:()=>Qt,defaults:()=>zt,disableUserSelect:()=>E_,each:()=>X,eqNaN:()=>vu,extend:()=>mt,filter:()=>Ee,find:()=>hN,guid:()=>M_,hasOwn:()=>Yt,indexOf:()=>ae,inherits:()=>L_,isArray:()=>yt,isArrayLike:()=>Xr,isBuiltInObject:()=>uN,isDom:()=>hu,isFunction:()=>Nt,isGradientObject:()=>pu,isImagePatternObject:()=>pN,isNumber:()=>ye,isObject:()=>Ft,isPrimitive:()=>ng,isRegExp:()=>vN,isString:()=>Dt,isStringSafe:()=>sg,isTypedArray:()=>ei,keys:()=>he,logError:()=>Ff,map:()=>_t,merge:()=>ne,mergeAll:()=>up,mixin:()=>or,noop:()=>mr,normalizeCssArray:()=>fp,reduce:()=>Ai,retrieve:()=>wr,retrieve2:()=>oe,retrieve3:()=>Ci,setAsPrimitive:()=>Uf,slice:()=>I_,trim:()=>Di});var HT=12,lN="sans-serif",Un=HT+"px "+lN,dNt=20,gNt=100,mNt="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function yNt(a){var t={};if(typeof JSON>"u")return t;for(var e=0;e<a.length;e++){var o=String.fromCharCode(e+32),l=(a.charCodeAt(e)-dNt)/gNt;t[o]=l}return t}var _Nt=yNt(mNt),$i={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var a,t;return function(e,o){if(!a){var l=$i.createCanvas();a=l&&l.getContext("2d")}if(a)return t!==o&&(t=a.font=o||Un),a.measureText(e);e=e||"",o=o||Un;var f=/((?:\d+)?\.?\d*)px/.exec(o),h=f&&+f[1]||HT,v=0;if(o.indexOf("mono")>=0)v=h*e.length;else for(var g=0;g<e.length;g++){var y=_Nt[e[g]];v+=y==null?h:y*h}return{width:v}}}(),loadImage:function(a,t,e){var o=new Image;return o.onload=t,o.onerror=e,o.src=a,o}};function WT(a){for(var t in $i)a[t]&&($i[t]=a[t])}var ZJ=Ai(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,t){return a["[object "+t+"]"]=!0,a},{}),XJ=Ai(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,t){return a["[object "+t+"Array]"]=!0,a},{}),og=Object.prototype.toString,ZT=Array.prototype,xNt=ZT.forEach,SNt=ZT.filter,fN=ZT.slice,bNt=ZT.map,YJ=function(){}.constructor,YT=YJ?YJ.prototype:null,cN="__proto__",wNt=2311;function M_(){return wNt++}function Ff(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];typeof console<"u"&&console.error.apply(console,a)}function Ht(a){if(a==null||typeof a!="object")return a;var t=a,e=og.call(a);if(e==="[object Array]"){if(!ng(a)){t=[];for(var o=0,l=a.length;o<l;o++)t[o]=Ht(a[o])}}else if(XJ[e]){if(!ng(a)){var f=a.constructor;if(f.from)t=f.from(a);else{t=new f(a.length);for(var o=0,l=a.length;o<l;o++)t[o]=a[o]}}}else if(!ZJ[e]&&!ng(a)&&!hu(a)){t={};for(var h in a)a.hasOwnProperty(h)&&h!==cN&&(t[h]=Ht(a[h]))}return t}function ne(a,t,e){if(!Ft(t)||!Ft(a))return e?Ht(t):a;for(var o in t)if(t.hasOwnProperty(o)&&o!==cN){var l=a[o],f=t[o];Ft(f)&&Ft(l)&&!yt(f)&&!yt(l)&&!hu(f)&&!hu(l)&&!uN(f)&&!uN(l)&&!ng(f)&&!ng(l)?ne(l,f,e):(e||!(o in a))&&(a[o]=Ht(t[o]))}return a}function up(a,t){for(var e=a[0],o=1,l=a.length;o<l;o++)e=ne(e,a[o],t);return e}function mt(a,t){if(Object.assign)Object.assign(a,t);else for(var e in t)t.hasOwnProperty(e)&&e!==cN&&(a[e]=t[e]);return a}function zt(a,t,e){for(var o=he(t),l=0,f=o.length;l<f;l++){var h=o[l];(e?t[h]!=null:a[h]==null)&&(a[h]=t[h])}return a}var TNt=$i.createCanvas;function ae(a,t){if(a){if(a.indexOf)return a.indexOf(t);for(var e=0,o=a.length;e<o;e++)if(a[e]===t)return e}return-1}function L_(a,t){var e=a.prototype;function o(){}o.prototype=t.prototype,a.prototype=new o;for(var l in e)e.hasOwnProperty(l)&&(a.prototype[l]=e[l]);a.prototype.constructor=a,a.superClass=t}function or(a,t,e){if(a="prototype"in a?a.prototype:a,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(t),l=0;l<o.length;l++){var f=o[l];f!=="constructor"&&(e?t[f]!=null:a[f]==null)&&(a[f]=t[f])}else zt(a,t,e)}function Xr(a){return!a||typeof a=="string"?!1:typeof a.length=="number"}function X(a,t,e){if(a&&t)if(a.forEach&&a.forEach===xNt)a.forEach(t,e);else if(a.length===+a.length)for(var o=0,l=a.length;o<l;o++)t.call(e,a[o],o,a);else for(var f in a)a.hasOwnProperty(f)&&t.call(e,a[f],f,a)}function _t(a,t,e){if(!a)return[];if(!t)return I_(a);if(a.map&&a.map===bNt)return a.map(t,e);for(var o=[],l=0,f=a.length;l<f;l++)o.push(t.call(e,a[l],l,a));return o}function Ai(a,t,e,o){if(a&&t){for(var l=0,f=a.length;l<f;l++)e=t.call(o,e,a[l],l,a);return e}}function Ee(a,t,e){if(!a)return[];if(!t)return I_(a);if(a.filter&&a.filter===SNt)return a.filter(t,e);for(var o=[],l=0,f=a.length;l<f;l++)t.call(e,a[l],l,a)&&o.push(a[l]);return o}function hN(a,t,e){if(a&&t){for(var o=0,l=a.length;o<l;o++)if(t.call(e,a[o],o,a))return a[o]}}function he(a){if(!a)return[];if(Object.keys)return Object.keys(a);var t=[];for(var e in a)a.hasOwnProperty(e)&&t.push(e);return t}function ANt(a,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return function(){return a.apply(t,e.concat(fN.call(arguments)))}}var It=YT&&Nt(YT.bind)?YT.call.bind(YT.bind):ANt;function Qt(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return a.apply(this,t.concat(fN.call(arguments)))}}function yt(a){return Array.isArray?Array.isArray(a):og.call(a)==="[object Array]"}function Nt(a){return typeof a=="function"}function Dt(a){return typeof a=="string"}function sg(a){return og.call(a)==="[object String]"}function ye(a){return typeof a=="number"}function Ft(a){var t=typeof a;return t==="function"||!!a&&t==="object"}function uN(a){return!!ZJ[og.call(a)]}function ei(a){return!!XJ[og.call(a)]}function hu(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.ownerDocument=="object"}function pu(a){return a.colorStops!=null}function pN(a){return a.image!=null}function vN(a){return og.call(a)==="[object RegExp]"}function vu(a){return a!==a}function wr(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];for(var e=0,o=a.length;e<o;e++)if(a[e]!=null)return a[e]}function oe(a,t){return a??t}function Ci(a,t,e){return a??t??e}function I_(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return fN.apply(a,t)}function fp(a){if(typeof a=="number")return[a,a,a,a];var t=a.length;return t===2?[a[0],a[1],a[0],a[1]]:t===3?[a[0],a[1],a[2],a[1]]:a}function Tr(a,t){if(!a)throw new Error(t)}function Di(a){return a==null?null:typeof a.trim=="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var qJ="__ec_primitive__";function Uf(a){a[qJ]=!0}function ng(a){return a[qJ]}var CNt=function(){function a(){this.data={}}return a.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},a.prototype.has=function(t){return this.data.hasOwnProperty(t)},a.prototype.get=function(t){return this.data[t]},a.prototype.set=function(t,e){return this.data[t]=e,this},a.prototype.keys=function(){return he(this.data)},a.prototype.forEach=function(t){var e=this.data;for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)},a}(),$J=typeof Map=="function";function DNt(){return $J?new Map:new CNt}var KJ=function(){function a(t){var e=yt(t);this.data=DNt();var o=this;t instanceof a?t.each(l):t&&X(t,l);function l(f,h){e?o.set(f,h):o.set(h,f)}}return a.prototype.hasKey=function(t){return this.data.has(t)},a.prototype.get=function(t){return this.data.get(t)},a.prototype.set=function(t,e){return this.data.set(t,e),e},a.prototype.each=function(t,e){this.data.forEach(function(o,l){t.call(e,o,l)})},a.prototype.keys=function(){var t=this.data.keys();return $J?Array.from(t):t},a.prototype.removeKey=function(t){this.data.delete(t)},a}();function Rt(a){return new KJ(a)}function dl(a,t){for(var e=new a.constructor(a.length+t.length),o=0;o<a.length;o++)e[o]=a[o];for(var l=a.length,o=0;o<t.length;o++)e[o+l]=t[o];return e}function du(a,t){var e;if(Object.create)e=Object.create(a);else{var o=function(){};o.prototype=a,e=new o}return t&&mt(e,t),e}function E_(a){var t=a.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Yt(a,t){return a.hasOwnProperty(t)}function mr(){}var cp=180/Math.PI;var fi={};sn(fi,{add:()=>XT,applyTransform:()=>qr,clone:()=>Ga,copy:()=>Mi,create:()=>bs,dist:()=>Hn,distSquare:()=>gl,distance:()=>P_,distanceSquare:()=>jJ,div:()=>ENt,dot:()=>PNt,len:()=>ug,lenSquare:()=>gN,length:()=>MNt,lengthSquare:()=>LNt,lerp:()=>pp,max:()=>un,min:()=>ln,mul:()=>INt,negate:()=>RNt,normalize:()=>Gn,scale:()=>hp,scaleAndAdd:()=>lg,set:()=>dN,sub:()=>Mo});function bs(a,t){return a==null&&(a=0),t==null&&(t=0),[a,t]}function Mi(a,t){return a[0]=t[0],a[1]=t[1],a}function Ga(a){return[a[0],a[1]]}function dN(a,t,e){return a[0]=t,a[1]=e,a}function XT(a,t,e){return a[0]=t[0]+e[0],a[1]=t[1]+e[1],a}function lg(a,t,e,o){return a[0]=t[0]+e[0]*o,a[1]=t[1]+e[1]*o,a}function Mo(a,t,e){return a[0]=t[0]-e[0],a[1]=t[1]-e[1],a}function ug(a){return Math.sqrt(gN(a))}var MNt=ug;function gN(a){return a[0]*a[0]+a[1]*a[1]}var LNt=gN;function INt(a,t,e){return a[0]=t[0]*e[0],a[1]=t[1]*e[1],a}function ENt(a,t,e){return a[0]=t[0]/e[0],a[1]=t[1]/e[1],a}function PNt(a,t){return a[0]*t[0]+a[1]*t[1]}function hp(a,t,e){return a[0]=t[0]*e,a[1]=t[1]*e,a}function Gn(a,t){var e=ug(t);return e===0?(a[0]=0,a[1]=0):(a[0]=t[0]/e,a[1]=t[1]/e),a}function P_(a,t){return Math.sqrt((a[0]-t[0])*(a[0]-t[0])+(a[1]-t[1])*(a[1]-t[1]))}var Hn=P_;function jJ(a,t){return(a[0]-t[0])*(a[0]-t[0])+(a[1]-t[1])*(a[1]-t[1])}var gl=jJ;function RNt(a,t){return a[0]=-t[0],a[1]=-t[1],a}function pp(a,t,e,o){return a[0]=t[0]+o*(e[0]-t[0]),a[1]=t[1]+o*(e[1]-t[1]),a}function qr(a,t,e){var o=t[0],l=t[1];return a[0]=e[0]*o+e[2]*l+e[4],a[1]=e[1]*o+e[3]*l+e[5],a}function ln(a,t,e){return a[0]=Math.min(t[0],e[0]),a[1]=Math.min(t[1],e[1]),a}function un(a,t,e){return a[0]=Math.max(t[0],e[0]),a[1]=Math.max(t[1],e[1]),a}var fg=function(){function a(t,e){this.target=t,this.topTarget=e&&e.topTarget}return a}(),ONt=function(){function a(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new fg(e,t),"dragstart",t.event))},a.prototype._drag=function(t){var e=this._draggingTarget;if(e){var o=t.offsetX,l=t.offsetY,f=o-this._x,h=l-this._y;this._x=o,this._y=l,e.drift(f,h,t),this.handler.dispatchToElement(new fg(e,t),"drag",t.event);var v=this.handler.findHover(o,l,e).target,g=this._dropTarget;this._dropTarget=v,e!==v&&(g&&v!==g&&this.handler.dispatchToElement(new fg(g,t),"dragleave",t.event),v&&v!==g&&this.handler.dispatchToElement(new fg(v,t),"dragenter",t.event))}},a.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new fg(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new fg(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},a}(),JJ=ONt;var kNt=function(){function a(t){t&&(this._$eventProcessor=t)}return a.prototype.on=function(t,e,o,l){this._$handlers||(this._$handlers={});var f=this._$handlers;if(typeof e=="function"&&(l=o,o=e,e=null),!o||!t)return this;var h=this._$eventProcessor;e!=null&&h&&h.normalizeQuery&&(e=h.normalizeQuery(e)),f[t]||(f[t]=[]);for(var v=0;v<f[t].length;v++)if(f[t][v].h===o)return this;var g={h:o,query:e,ctx:l||this,callAtLast:o.zrEventfulCallAtLast},y=f[t].length-1,x=f[t][y];return x&&x.callAtLast?f[t].splice(y,0,g):f[t].push(g),this},a.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},a.prototype.off=function(t,e){var o=this._$handlers;if(!o)return this;if(!t)return this._$handlers={},this;if(e){if(o[t]){for(var l=[],f=0,h=o[t].length;f<h;f++)o[t][f].h!==e&&l.push(o[t][f]);o[t]=l}o[t]&&o[t].length===0&&delete o[t]}else delete o[t];return this},a.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[t],f=this._$eventProcessor;if(l)for(var h=e.length,v=l.length,g=0;g<v;g++){var y=l[g];if(!(f&&f.filter&&y.query!=null&&!f.filter(t,y.query)))switch(h){case 0:y.h.call(y.ctx);break;case 1:y.h.call(y.ctx,e[0]);break;case 2:y.h.call(y.ctx,e[0],e[1]);break;default:y.h.apply(y.ctx,e);break}}return f&&f.afterTrigger&&f.afterTrigger(t),this},a.prototype.triggerWithContext=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[t],f=this._$eventProcessor;if(l)for(var h=e.length,v=e[h-1],g=l.length,y=0;y<g;y++){var x=l[y];if(!(f&&f.filter&&x.query!=null&&!f.filter(t,x.query)))switch(h){case 0:x.h.call(v);break;case 1:x.h.call(v,e[0]);break;case 2:x.h.call(v,e[0],e[1]);break;default:x.h.apply(v,e.slice(1,h-1));break}}return f&&f.afterTrigger&&f.afterTrigger(t),this},a}(),xi=kNt;var NNt=Math.log(2);function mN(a,t,e,o,l,f){var h=o+"-"+l,v=a.length;if(f.hasOwnProperty(h))return f[h];if(t===1){var g=Math.round(Math.log((1<<v)-1&~l)/NNt);return a[e][g]}for(var y=o|1<<e,x=e+1;o&1<<x;)x++;for(var b=0,T=0,C=0;T<v;T++){var M=1<<T;M&l||(b+=(C%2?-1:1)*a[e][T]*mN(a,t-1,x,y,l|M,f),C++)}return f[h]=b,b}function yN(a,t){var e=[[a[0],a[1],1,0,0,0,-t[0]*a[0],-t[0]*a[1]],[0,0,0,a[0],a[1],1,-t[1]*a[0],-t[1]*a[1]],[a[2],a[3],1,0,0,0,-t[2]*a[2],-t[2]*a[3]],[0,0,0,a[2],a[3],1,-t[3]*a[2],-t[3]*a[3]],[a[4],a[5],1,0,0,0,-t[4]*a[4],-t[4]*a[5]],[0,0,0,a[4],a[5],1,-t[5]*a[4],-t[5]*a[5]],[a[6],a[7],1,0,0,0,-t[6]*a[6],-t[6]*a[7]],[0,0,0,a[6],a[7],1,-t[7]*a[6],-t[7]*a[7]]],o={},l=mN(e,8,0,0,0,o);if(l!==0){for(var f=[],h=0;h<8;h++)for(var v=0;v<8;v++)f[v]==null&&(f[v]=0),f[v]+=((h+v)%2?-1:1)*mN(e,7,h===0?1:0,1<<h,1<<v,o)/l*t[h];return function(g,y,x){var b=y*f[6]+x*f[7]+1;g[0]=(y*f[0]+x*f[1]+f[2])/b,g[1]=(y*f[3]+x*f[4]+f[5])/b}}}var QJ="___zrEVENTSAVED",_N=[];function tQ(a,t,e,o,l){return qT(_N,t,o,l,!0)&&qT(a,e,_N[0],_N[1])}function qT(a,t,e,o,l){if(t.getBoundingClientRect&&Ie.domSupported&&!xN(t)){var f=t[QJ]||(t[QJ]={}),h=zNt(t,f),v=VNt(h,f,l);if(v)return v(a,e,o),!0}return!1}function zNt(a,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var o=["left","right"],l=["top","bottom"],f=0;f<4;f++){var h=document.createElement("div"),v=h.style,g=f%2,y=(f>>1)%2;v.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[g]+":0",l[y]+":0",o[1-g]+":auto",l[1-y]+":auto",""].join("!important;"),a.appendChild(h),e.push(h)}return e}function VNt(a,t,e){for(var o=e?"invTrans":"trans",l=t[o],f=t.srcCoords,h=[],v=[],g=!0,y=0;y<4;y++){var x=a[y].getBoundingClientRect(),b=2*y,T=x.left,C=x.top;h.push(T,C),g=g&&f&&T===f[b]&&C===f[b+1],v.push(a[y].offsetLeft,a[y].offsetTop)}return g&&l?l:(t.srcCoords=h,t[o]=e?yN(v,h):yN(h,v))}function xN(a){return a.nodeName.toUpperCase()==="CANVAS"}var BNt=/([&<>"'])/g,FNt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ci(a){return a==null?"":(a+"").replace(BNt,function(t,e){return FNt[e]})}var UNt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,SN=[],GNt=Ie.browser.firefox&&+Ie.browser.version.split(".")[0]<39;function $T(a,t,e,o){return e=e||{},o?eQ(a,t,e):GNt&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):eQ(a,t,e),e}function eQ(a,t,e){if(Ie.domSupported&&a.getBoundingClientRect){var o=t.clientX,l=t.clientY;if(xN(a)){var f=a.getBoundingClientRect();e.zrX=o-f.left,e.zrY=l-f.top;return}else if(qT(SN,a,o,l)){e.zrX=SN[0],e.zrY=SN[1];return}}e.zrX=e.zrY=0}function KT(a){return a||window.event}function fn(a,t,e){if(t=KT(t),t.zrX!=null)return t;var o=t.type,l=o&&o.indexOf("touch")>=0;if(l){var h=o!=="touchend"?t.targetTouches[0]:t.changedTouches[0];h&&$T(a,h,t,e)}else{$T(a,t,t,e);var f=HNt(t);t.zrDelta=f?f/120:-(t.detail||0)/3}var v=t.button;return t.which==null&&v!==void 0&&UNt.test(t.type)&&(t.which=v&1?1:v&2?3:v&4?2:0),t}function HNt(a){var t=a.wheelDelta;if(t)return t;var e=a.deltaX,o=a.deltaY;if(e==null||o==null)return t;var l=Math.abs(o!==0?o:e),f=o>0?-1:o<0?1:e>0?-1:1;return 3*l*f}function R_(a,t,e,o){a.addEventListener(t,e,o)}function rQ(a,t,e,o){a.removeEventListener(t,e,o)}var cn=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function bN(a){return a.which===2||a.which===3}var aQ=function(){function a(){this._track=[]}return a.prototype.recognize=function(t,e,o){return this._doTrack(t,e,o),this._recognize(t)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(t,e,o){var l=t.touches;if(l){for(var f={points:[],touches:[],target:e,event:t},h=0,v=l.length;h<v;h++){var g=l[h],y=$T(o,g,{});f.points.push([y.zrX,y.zrY]),f.touches.push(g)}this._track.push(f)}},a.prototype._recognize=function(t){for(var e in wN)if(wN.hasOwnProperty(e)){var o=wN[e](this._track,t);if(o)return o}},a}();function iQ(a){var t=a[1][0]-a[0][0],e=a[1][1]-a[0][1];return Math.sqrt(t*t+e*e)}function WNt(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var wN={pinch:function(a,t){var e=a.length;if(e){var o=(a[e-1]||{}).points,l=(a[e-2]||{}).points||o;if(l&&l.length>1&&o&&o.length>1){var f=iQ(o)/iQ(l);!isFinite(f)&&(f=1),t.pinchScale=f;var h=WNt(o);return t.pinchX=h[0],t.pinchY=h[1],{type:"pinch",target:a[0].target,event:t}}}}};var Ta={};sn(Ta,{clone:()=>TN,copy:()=>hg,create:()=>ri,identity:()=>gu,invert:()=>Wn,mul:()=>Ha,rotate:()=>Wa,scale:()=>vp,translate:()=>Ki});function ri(){return[1,0,0,1,0,0]}function gu(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function hg(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function Ha(a,t,e){var o=t[0]*e[0]+t[2]*e[1],l=t[1]*e[0]+t[3]*e[1],f=t[0]*e[2]+t[2]*e[3],h=t[1]*e[2]+t[3]*e[3],v=t[0]*e[4]+t[2]*e[5]+t[4],g=t[1]*e[4]+t[3]*e[5]+t[5];return a[0]=o,a[1]=l,a[2]=f,a[3]=h,a[4]=v,a[5]=g,a}function Ki(a,t,e){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4]+e[0],a[5]=t[5]+e[1],a}function Wa(a,t,e,o){o===void 0&&(o=[0,0]);var l=t[0],f=t[2],h=t[4],v=t[1],g=t[3],y=t[5],x=Math.sin(e),b=Math.cos(e);return a[0]=l*b+v*x,a[1]=-l*x+v*b,a[2]=f*b+g*x,a[3]=-f*x+b*g,a[4]=b*(h-o[0])+x*(y-o[1])+o[0],a[5]=b*(y-o[1])-x*(h-o[0])+o[1],a}function vp(a,t,e){var o=e[0],l=e[1];return a[0]=t[0]*o,a[1]=t[1]*l,a[2]=t[2]*o,a[3]=t[3]*l,a[4]=t[4]*o,a[5]=t[5]*l,a}function Wn(a,t){var e=t[0],o=t[2],l=t[4],f=t[1],h=t[3],v=t[5],g=e*h-f*o;return g?(g=1/g,a[0]=h*g,a[1]=-f*g,a[2]=-o*g,a[3]=e*g,a[4]=(o*v-h*l)*g,a[5]=(f*l-e*v)*g,a):null}function TN(a){var t=ri();return hg(t,a),t}var YNt=function(){function a(t,e){this.x=t||0,this.y=e||0}return a.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(t,e){return this.x=t,this.y=e,this},a.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},a.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},a.prototype.scale=function(t){this.x*=t,this.y*=t},a.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},a.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},a.prototype.dot=function(t){return this.x*t.x+this.y*t.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},a.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},a.prototype.distanceSquare=function(t){var e=this.x-t.x,o=this.y-t.y;return e*e+o*o},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(t){if(t){var e=this.x,o=this.y;return this.x=t[0]*e+t[2]*o+t[4],this.y=t[1]*e+t[3]*o+t[5],this}},a.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},a.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},a.set=function(t,e,o){t.x=e,t.y=o},a.copy=function(t,e){t.x=e.x,t.y=e.y},a.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},a.lenSquare=function(t){return t.x*t.x+t.y*t.y},a.dot=function(t,e){return t.x*e.x+t.y*e.y},a.add=function(t,e,o){t.x=e.x+o.x,t.y=e.y+o.y},a.sub=function(t,e,o){t.x=e.x-o.x,t.y=e.y-o.y},a.scale=function(t,e,o){t.x=e.x*o,t.y=e.y*o},a.scaleAndAdd=function(t,e,o,l){t.x=e.x+o.x*l,t.y=e.y+o.y*l},a.lerp=function(t,e,o,l){var f=1-l;t.x=f*e.x+l*o.x,t.y=f*e.y+l*o.y},a}(),Le=YNt;var jT=Math.min,JT=Math.max,dp=new Le,gp=new Le,mp=new Le,yp=new Le,O_=new Le,k_=new Le,ZNt=function(){function a(t,e,o,l){o<0&&(t=t+o,o=-o),l<0&&(e=e+l,l=-l),this.x=t,this.y=e,this.width=o,this.height=l}return a.prototype.union=function(t){var e=jT(t.x,this.x),o=jT(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=JT(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=JT(t.y+t.height,this.y+this.height)-o:this.height=t.height,this.x=e,this.y=o},a.prototype.applyTransform=function(t){a.applyTransform(this,this,t)},a.prototype.calculateTransform=function(t){var e=this,o=t.width/e.width,l=t.height/e.height,f=ri();return Ki(f,f,[-e.x,-e.y]),vp(f,f,[o,l]),Ki(f,f,[t.x,t.y]),f},a.prototype.intersect=function(t,e){if(!t)return!1;t instanceof a||(t=a.create(t));var o=this,l=o.x,f=o.x+o.width,h=o.y,v=o.y+o.height,g=t.x,y=t.x+t.width,x=t.y,b=t.y+t.height,T=!(f<g||y<l||v<x||b<h);if(e){var C=1/0,M=0,I=Math.abs(f-g),P=Math.abs(y-l),O=Math.abs(v-x),N=Math.abs(b-h),V=Math.min(I,P),F=Math.min(O,N);f<g||y<l?V>M&&(M=V,I<P?Le.set(k_,-I,0):Le.set(k_,P,0)):V<C&&(C=V,I<P?Le.set(O_,I,0):Le.set(O_,-P,0)),v<x||b<h?F>M&&(M=F,O<N?Le.set(k_,0,-O):Le.set(k_,0,N)):V<C&&(C=V,O<N?Le.set(O_,0,O):Le.set(O_,0,-N))}return e&&Le.copy(e,T?O_:k_),T},a.prototype.contain=function(t,e){var o=this;return t>=o.x&&t<=o.x+o.width&&e>=o.y&&e<=o.y+o.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(t){a.copy(this,t)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return this.width===0||this.height===0},a.create=function(t){return new a(t.x,t.y,t.width,t.height)},a.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},a.applyTransform=function(t,e,o){if(!o){t!==e&&a.copy(t,e);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var l=o[0],f=o[3],h=o[4],v=o[5];t.x=e.x*l+h,t.y=e.y*f+v,t.width=e.width*l,t.height=e.height*f,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}dp.x=mp.x=e.x,dp.y=yp.y=e.y,gp.x=yp.x=e.x+e.width,gp.y=mp.y=e.y+e.height,dp.transform(o),yp.transform(o),gp.transform(o),mp.transform(o),t.x=jT(dp.x,gp.x,mp.x,yp.x),t.y=jT(dp.y,gp.y,mp.y,yp.y);var g=JT(dp.x,gp.x,mp.x,yp.x),y=JT(dp.y,gp.y,mp.y,yp.y);t.width=g-t.x,t.height=y-t.y},a}(),ie=ZNt;var oQ="silent";function XNt(a,t,e){return{type:a,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:qNt}}function qNt(){cn(this.event)}var $Nt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(xi),N_=function(){function a(t,e){this.x=t,this.y=e}return a}(),KNt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],AN=new ie(0,0,0,0),sQ=function(a){at(t,a);function t(e,o,l,f,h){var v=a.call(this)||this;return v._hovered=new N_(0,0),v.storage=e,v.painter=o,v.painterRoot=f,v._pointerSize=h,l=l||new $Nt,v.proxy=null,v.setHandlerProxy(l),v._draggingMgr=new JJ(v),v}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(X(KNt,function(o){e.on&&e.on(o,this[o],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var o=e.zrX,l=e.zrY,f=lQ(this,o,l),h=this._hovered,v=h.target;v&&!v.__zr&&(h=this.findHover(h.x,h.y),v=h.target);var g=this._hovered=f?new N_(o,l):this.findHover(o,l),y=g.target,x=this.proxy;x.setCursor&&x.setCursor(y?y.cursor:"default"),v&&y!==v&&this.dispatchToElement(h,"mouseout",e),this.dispatchToElement(g,"mousemove",e),y&&y!==v&&this.dispatchToElement(g,"mouseover",e)},t.prototype.mouseout=function(e){var o=e.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new N_(0,0)},t.prototype.dispatch=function(e,o){var l=this[e];l&&l.call(this,o)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var o=this.proxy;o.setCursor&&o.setCursor(e)},t.prototype.dispatchToElement=function(e,o,l){e=e||{};var f=e.target;if(!(f&&f.silent)){for(var h="on"+o,v=XNt(o,e,l);f&&(f[h]&&(v.cancelBubble=!!f[h].call(f,v)),f.trigger(o,v),f=f.__hostTarget?f.__hostTarget:f.parent,!v.cancelBubble););v.cancelBubble||(this.trigger(o,v),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(g){typeof g[h]=="function"&&g[h].call(g,v),g.trigger&&g.trigger(o,v)}))}},t.prototype.findHover=function(e,o,l){var f=this.storage.getDisplayList(),h=new N_(e,o);if(nQ(f,h,e,o,l),this._pointerSize&&!h.target){for(var v=[],g=this._pointerSize,y=g/2,x=new ie(e-y,o-y,g,g),b=f.length-1;b>=0;b--){var T=f[b];T!==l&&!T.ignore&&!T.ignoreCoarsePointer&&(!T.parent||!T.parent.ignoreCoarsePointer)&&(AN.copy(T.getBoundingRect()),T.transform&&AN.applyTransform(T.transform),AN.intersect(x)&&v.push(T))}if(v.length)for(var C=4,M=Math.PI/12,I=Math.PI*2,P=0;P<y;P+=C)for(var O=0;O<I;O+=M){var N=e+P*Math.cos(O),V=o+P*Math.sin(O);if(nQ(v,h,N,V,l),h.target)return h}}return h},t.prototype.processGesture=function(e,o){this._gestureMgr||(this._gestureMgr=new aQ);var l=this._gestureMgr;o==="start"&&l.clear();var f=l.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(o==="end"&&l.clear(),f){var h=f.type;e.gestureEvent=h;var v=new N_;v.target=f.target,this.dispatchToElement(v,h,f.event)}},t}(xi);X(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){sQ.prototype[a]=function(t){var e=t.zrX,o=t.zrY,l=lQ(this,e,o),f,h;if((a!=="mouseup"||!l)&&(f=this.findHover(e,o),h=f.target),a==="mousedown")this._downEl=h,this._downPoint=[t.zrX,t.zrY],this._upEl=h;else if(a==="mouseup")this._upEl=h;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||Hn(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(f,a,t)}});function jNt(a,t,e){if(a[a.rectHover?"rectContain":"contain"](t,e)){for(var o=a,l=void 0,f=!1;o;){if(o.ignoreClip&&(f=!0),!f){var h=o.getClipPath();if(h&&!h.contain(t,e))return!1}o.silent&&(l=!0);var v=o.__hostTarget;o=v||o.parent}return l?oQ:!0}return!1}function nQ(a,t,e,o,l){for(var f=a.length-1;f>=0;f--){var h=a[f],v=void 0;if(h!==l&&!h.ignore&&(v=jNt(h,e,o))&&(!t.topTarget&&(t.topTarget=h),v!==oQ)){t.target=h;break}}}function lQ(a,t,e){var o=a.painter;return t<0||t>o.getWidth()||e<0||e>o.getHeight()}var uQ=sQ;var hQ=32,z_=7;function JNt(a){for(var t=0;a>=hQ;)t|=a&1,a>>=1;return a+t}function fQ(a,t,e,o){var l=t+1;if(l===e)return 1;if(o(a[l++],a[t])<0){for(;l<e&&o(a[l],a[l-1])<0;)l++;QNt(a,t,l)}else for(;l<e&&o(a[l],a[l-1])>=0;)l++;return l-t}function QNt(a,t,e){for(e--;t<e;){var o=a[t];a[t++]=a[e],a[e--]=o}}function cQ(a,t,e,o,l){for(o===t&&o++;o<e;o++){for(var f=a[o],h=t,v=o,g;h<v;)g=h+v>>>1,l(f,a[g])<0?v=g:h=g+1;var y=o-h;switch(y){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;y>0;)a[h+y]=a[h+y-1],y--}a[h]=f}}function CN(a,t,e,o,l,f){var h=0,v=0,g=1;if(f(a,t[e+l])>0){for(v=o-l;g<v&&f(a,t[e+l+g])>0;)h=g,g=(g<<1)+1,g<=0&&(g=v);g>v&&(g=v),h+=l,g+=l}else{for(v=l+1;g<v&&f(a,t[e+l-g])<=0;)h=g,g=(g<<1)+1,g<=0&&(g=v);g>v&&(g=v);var y=h;h=l-g,g=l-y}for(h++;h<g;){var x=h+(g-h>>>1);f(a,t[e+x])>0?h=x+1:g=x}return g}function DN(a,t,e,o,l,f){var h=0,v=0,g=1;if(f(a,t[e+l])<0){for(v=l+1;g<v&&f(a,t[e+l-g])<0;)h=g,g=(g<<1)+1,g<=0&&(g=v);g>v&&(g=v);var y=h;h=l-g,g=l-y}else{for(v=o-l;g<v&&f(a,t[e+l+g])>=0;)h=g,g=(g<<1)+1,g<=0&&(g=v);g>v&&(g=v),h+=l,g+=l}for(h++;h<g;){var x=h+(g-h>>>1);f(a,t[e+x])<0?g=x:h=x+1}return g}function tzt(a,t){var e=z_,o,l,f=0,h=[];o=[],l=[];function v(C,M){o[f]=C,l[f]=M,f+=1}function g(){for(;f>1;){var C=f-2;if(C>=1&&l[C-1]<=l[C]+l[C+1]||C>=2&&l[C-2]<=l[C]+l[C-1])l[C-1]<l[C+1]&&C--;else if(l[C]>l[C+1])break;x(C)}}function y(){for(;f>1;){var C=f-2;C>0&&l[C-1]<l[C+1]&&C--,x(C)}}function x(C){var M=o[C],I=l[C],P=o[C+1],O=l[C+1];l[C]=I+O,C===f-3&&(o[C+1]=o[C+2],l[C+1]=l[C+2]),f--;var N=DN(a[P],a,M,I,0,t);M+=N,I-=N,I!==0&&(O=CN(a[M+I-1],a,P,O,O-1,t),O!==0&&(I<=O?b(M,I,P,O):T(M,I,P,O)))}function b(C,M,I,P){var O=0;for(O=0;O<M;O++)h[O]=a[C+O];var N=0,V=I,F=C;if(a[F++]=a[V++],--P===0){for(O=0;O<M;O++)a[F+O]=h[N+O];return}if(M===1){for(O=0;O<P;O++)a[F+O]=a[V+O];a[F+P]=h[N];return}for(var U=e,H,Z,$;;){H=0,Z=0,$=!1;do if(t(a[V],h[N])<0){if(a[F++]=a[V++],Z++,H=0,--P===0){$=!0;break}}else if(a[F++]=h[N++],H++,Z=0,--M===1){$=!0;break}while((H|Z)<U);if($)break;do{if(H=DN(a[V],h,N,M,0,t),H!==0){for(O=0;O<H;O++)a[F+O]=h[N+O];if(F+=H,N+=H,M-=H,M<=1){$=!0;break}}if(a[F++]=a[V++],--P===0){$=!0;break}if(Z=CN(h[N],a,V,P,0,t),Z!==0){for(O=0;O<Z;O++)a[F+O]=a[V+O];if(F+=Z,V+=Z,P-=Z,P===0){$=!0;break}}if(a[F++]=h[N++],--M===1){$=!0;break}U--}while(H>=z_||Z>=z_);if($)break;U<0&&(U=0),U+=2}if(e=U,e<1&&(e=1),M===1){for(O=0;O<P;O++)a[F+O]=a[V+O];a[F+P]=h[N]}else{if(M===0)throw new Error;for(O=0;O<M;O++)a[F+O]=h[N+O]}}function T(C,M,I,P){var O=0;for(O=0;O<P;O++)h[O]=a[I+O];var N=C+M-1,V=P-1,F=I+P-1,U=0,H=0;if(a[F--]=a[N--],--M===0){for(U=F-(P-1),O=0;O<P;O++)a[U+O]=h[O];return}if(P===1){for(F-=M,N-=M,H=F+1,U=N+1,O=M-1;O>=0;O--)a[H+O]=a[U+O];a[F]=h[V];return}for(var Z=e;;){var $=0,K=0,Q=!1;do if(t(h[V],a[N])<0){if(a[F--]=a[N--],$++,K=0,--M===0){Q=!0;break}}else if(a[F--]=h[V--],K++,$=0,--P===1){Q=!0;break}while(($|K)<Z);if(Q)break;do{if($=M-DN(h[V],a,C,M,M-1,t),$!==0){for(F-=$,N-=$,M-=$,H=F+1,U=N+1,O=$-1;O>=0;O--)a[H+O]=a[U+O];if(M===0){Q=!0;break}}if(a[F--]=h[V--],--P===1){Q=!0;break}if(K=P-CN(a[N],h,0,P,P-1,t),K!==0){for(F-=K,V-=K,P-=K,H=F+1,U=V+1,O=0;O<K;O++)a[H+O]=h[U+O];if(P<=1){Q=!0;break}}if(a[F--]=a[N--],--M===0){Q=!0;break}Z--}while($>=z_||K>=z_);if(Q)break;Z<0&&(Z=0),Z+=2}if(e=Z,e<1&&(e=1),P===1){for(F-=M,N-=M,H=F+1,U=N+1,O=M-1;O>=0;O--)a[H+O]=a[U+O];a[F]=h[V]}else{if(P===0)throw new Error;for(U=F-(P-1),O=0;O<P;O++)a[U+O]=h[O]}}return{mergeRuns:g,forceMergeRuns:y,pushRun:v}}function _p(a,t,e,o){e||(e=0),o||(o=a.length);var l=o-e;if(!(l<2)){var f=0;if(l<hQ){f=fQ(a,e,o,t),cQ(a,e,o,e+f,t);return}var h=tzt(a,t),v=JNt(l);do{if(f=fQ(a,e,o,t),f<v){var g=l;g>v&&(g=v),cQ(a,e,e+g,e+f,t),f=g}h.pushRun(e,f),h.mergeRuns(),l-=f,e+=f}while(l!==0);h.forceMergeRuns()}}var Li=1,xp=2,Gf=4;var pQ=!1;function MN(){pQ||(pQ=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function vQ(a,t){return a.zlevel===t.zlevel?a.z===t.z?a.z2-t.z2:a.z-t.z:a.zlevel-t.zlevel}var ezt=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=vQ}return a.prototype.traverse=function(t,e){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(t,e)},a.prototype.getDisplayList=function(t,e){e=e||!1;var o=this._displayList;return(t||!o.length)&&this.updateDisplayList(e),o},a.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,o=this._displayList,l=0,f=e.length;l<f;l++)this._updateAndAddDisplayable(e[l],null,t);o.length=this._displayListLen,_p(o,vQ)},a.prototype._updateAndAddDisplayable=function(t,e,o){if(!(t.ignore&&!o)){t.beforeUpdate(),t.update(),t.afterUpdate();var l=t.getClipPath();if(t.ignoreClip)e=null;else if(l){e?e=e.slice():e=[];for(var f=l,h=t;f;)f.parent=h,f.updateTransform(),e.push(f),h=f,f=f.getClipPath()}if(t.childrenRef){for(var v=t.childrenRef(),g=0;g<v.length;g++){var y=v[g];t.__dirty&&(y.__dirty|=Li),this._updateAndAddDisplayable(y,e,o)}t.__dirty=0}else{var x=t;e&&e.length?x.__clipPaths=e:x.__clipPaths&&x.__clipPaths.length>0&&(x.__clipPaths=[]),isNaN(x.z)&&(MN(),x.z=0),isNaN(x.z2)&&(MN(),x.z2=0),isNaN(x.zlevel)&&(MN(),x.zlevel=0),this._displayList[this._displayListLen++]=x}var b=t.getDecalElement&&t.getDecalElement();b&&this._updateAndAddDisplayable(b,e,o);var T=t.getTextGuideLine();T&&this._updateAndAddDisplayable(T,e,o);var C=t.getTextContent();C&&this._updateAndAddDisplayable(C,e,o)}},a.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},a.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,o=t.length;e<o;e++)this.delRoot(t[e]);return}var l=ae(this._roots,t);l>=0&&this._roots.splice(l,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}(),dQ=ezt;var gQ;gQ=Ie.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};var V_=gQ;var QT={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var t,e=.1,o=.4;return a===0?0:a===1?1:(!e||e<1?(e=1,t=o/4):t=o*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)))},elasticOut:function(a){var t,e=.1,o=.4;return a===0?0:a===1?1:(!e||e<1?(e=1,t=o/4):t=o*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*a)*Math.sin((a-t)*(2*Math.PI)/o)+1)},elasticInOut:function(a){var t,e=.1,o=.4;return a===0?0:a===1?1:(!e||e<1?(e=1,t=o/4):t=o*Math.asin(1/e)/(2*Math.PI),(a*=2)<1?-.5*(e*Math.pow(2,10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)):e*Math.pow(2,-10*(a-=1))*Math.sin((a-t)*(2*Math.PI)/o)*.5+1)},backIn:function(a){var t=1.70158;return a*a*((t+1)*a-t)},backOut:function(a){var t=1.70158;return--a*a*((t+1)*a+t)+1},backInOut:function(a){var t=2.5949095;return(a*=2)<1?.5*(a*a*((t+1)*a-t)):.5*((a-=2)*a*((t+1)*a+t)+2)},bounceIn:function(a){return 1-QT.bounceOut(1-a)},bounceOut:function(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375},bounceInOut:function(a){return a<.5?QT.bounceIn(a*2)*.5:QT.bounceOut(a*2-1)*.5+.5}},tA=QT;var eA=Math.pow,Wf=Math.sqrt,iA=1e-8,yQ=1e-4,mQ=Wf(3),rA=1/3,ml=bs(),Lo=bs(),pg=bs();function Hf(a){return a>-iA&&a<iA}function _Q(a){return a>iA||a<-iA}function jr(a,t,e,o,l){var f=1-l;return f*f*(f*a+3*l*t)+l*l*(l*o+3*f*e)}function LN(a,t,e,o,l){var f=1-l;return 3*(((t-a)*f+2*(e-t)*l)*f+(o-e)*l*l)}function Sp(a,t,e,o,l,f){var h=o+3*(t-e)-a,v=3*(e-t*2+a),g=3*(t-a),y=a-l,x=v*v-3*h*g,b=v*g-9*h*y,T=g*g-3*v*y,C=0;if(Hf(x)&&Hf(b))if(Hf(v))f[0]=0;else{var M=-g/v;M>=0&&M<=1&&(f[C++]=M)}else{var I=b*b-4*x*T;if(Hf(I)){var P=b/x,M=-v/h+P,O=-P/2;M>=0&&M<=1&&(f[C++]=M),O>=0&&O<=1&&(f[C++]=O)}else if(I>0){var N=Wf(I),V=x*v+1.5*h*(-b+N),F=x*v+1.5*h*(-b-N);V<0?V=-eA(-V,rA):V=eA(V,rA),F<0?F=-eA(-F,rA):F=eA(F,rA);var M=(-v-(V+F))/(3*h);M>=0&&M<=1&&(f[C++]=M)}else{var U=(2*x*v-3*h*b)/(2*Wf(x*x*x)),H=Math.acos(U)/3,Z=Wf(x),$=Math.cos(H),M=(-v-2*Z*$)/(3*h),O=(-v+Z*($+mQ*Math.sin(H)))/(3*h),K=(-v+Z*($-mQ*Math.sin(H)))/(3*h);M>=0&&M<=1&&(f[C++]=M),O>=0&&O<=1&&(f[C++]=O),K>=0&&K<=1&&(f[C++]=K)}}return C}function aA(a,t,e,o,l){var f=6*e-12*t+6*a,h=9*t+3*o-3*a-9*e,v=3*t-3*a,g=0;if(Hf(h)){if(_Q(f)){var y=-v/f;y>=0&&y<=1&&(l[g++]=y)}}else{var x=f*f-4*h*v;if(Hf(x))l[0]=-f/(2*h);else if(x>0){var b=Wf(x),y=(-f+b)/(2*h),T=(-f-b)/(2*h);y>=0&&y<=1&&(l[g++]=y),T>=0&&T<=1&&(l[g++]=T)}}return g}function Io(a,t,e,o,l,f){var h=(t-a)*l+a,v=(e-t)*l+t,g=(o-e)*l+e,y=(v-h)*l+h,x=(g-v)*l+v,b=(x-y)*l+y;f[0]=a,f[1]=h,f[2]=y,f[3]=b,f[4]=b,f[5]=x,f[6]=g,f[7]=o}function nA(a,t,e,o,l,f,h,v,g,y,x){var b,T=.005,C=1/0,M,I,P,O;ml[0]=g,ml[1]=y;for(var N=0;N<1;N+=.05)Lo[0]=jr(a,e,l,h,N),Lo[1]=jr(t,o,f,v,N),P=gl(ml,Lo),P<C&&(b=N,C=P);C=1/0;for(var V=0;V<32&&!(T<yQ);V++)M=b-T,I=b+T,Lo[0]=jr(a,e,l,h,M),Lo[1]=jr(t,o,f,v,M),P=gl(Lo,ml),M>=0&&P<C?(b=M,C=P):(pg[0]=jr(a,e,l,h,I),pg[1]=jr(t,o,f,v,I),O=gl(pg,ml),I<=1&&O<C?(b=I,C=O):T*=.5);return x&&(x[0]=jr(a,e,l,h,b),x[1]=jr(t,o,f,v,b)),Wf(C)}function xQ(a,t,e,o,l,f,h,v,g){for(var y=a,x=t,b=0,T=1/g,C=1;C<=g;C++){var M=C*T,I=jr(a,e,l,h,M),P=jr(t,o,f,v,M),O=I-y,N=P-x;b+=Math.sqrt(O*O+N*N),y=I,x=P}return b}function ii(a,t,e,o){var l=1-o;return l*(l*a+2*o*t)+o*o*e}function B_(a,t,e,o){return 2*((1-o)*(t-a)+o*(e-t))}function SQ(a,t,e,o,l){var f=a-2*t+e,h=2*(t-a),v=a-o,g=0;if(Hf(f)){if(_Q(h)){var y=-v/h;y>=0&&y<=1&&(l[g++]=y)}}else{var x=h*h-4*f*v;if(Hf(x)){var y=-h/(2*f);y>=0&&y<=1&&(l[g++]=y)}else if(x>0){var b=Wf(x),y=(-h+b)/(2*f),T=(-h-b)/(2*f);y>=0&&y<=1&&(l[g++]=y),T>=0&&T<=1&&(l[g++]=T)}}return g}function oA(a,t,e){var o=a+e-2*t;return o===0?.5:(a-t)/o}function Yf(a,t,e,o,l){var f=(t-a)*o+a,h=(e-t)*o+t,v=(h-f)*o+f;l[0]=a,l[1]=f,l[2]=v,l[3]=v,l[4]=h,l[5]=e}function sA(a,t,e,o,l,f,h,v,g){var y,x=.005,b=1/0;ml[0]=h,ml[1]=v;for(var T=0;T<1;T+=.05){Lo[0]=ii(a,e,l,T),Lo[1]=ii(t,o,f,T);var C=gl(ml,Lo);C<b&&(y=T,b=C)}b=1/0;for(var M=0;M<32&&!(x<yQ);M++){var I=y-x,P=y+x;Lo[0]=ii(a,e,l,I),Lo[1]=ii(t,o,f,I);var C=gl(Lo,ml);if(I>=0&&C<b)y=I,b=C;else{pg[0]=ii(a,e,l,P),pg[1]=ii(t,o,f,P);var O=gl(pg,ml);P<=1&&O<b?(y=P,b=O):x*=.5}}return g&&(g[0]=ii(a,e,l,y),g[1]=ii(t,o,f,y)),Wf(b)}function bQ(a,t,e,o,l,f,h){for(var v=a,g=t,y=0,x=1/h,b=1;b<=h;b++){var T=b*x,C=ii(a,e,l,T),M=ii(t,o,f,T),I=C-v,P=M-g;y+=Math.sqrt(I*I+P*P),v=C,g=M}return y}var rzt=/cubic-bezier\(([0-9,\.e ]+)\)/;function vg(a){var t=a&&rzt.exec(a);if(t){var e=t[1].split(","),o=+Di(e[0]),l=+Di(e[1]),f=+Di(e[2]),h=+Di(e[3]);if(isNaN(o+l+f+h))return;var v=[];return function(g){return g<=0?0:g>=1?1:Sp(0,o,f,1,g,v)&&jr(0,l,h,1,v[0])}}}var izt=function(){function a(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||mr,this.ondestroy=t.ondestroy||mr,this.onrestart=t.onrestart||mr,t.easing&&this.setEasing(t.easing)}return a.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var o=this._life,l=t-this._startTime-this._pausedTime,f=l/o;f<0&&(f=0),f=Math.min(f,1);var h=this.easingFunc,v=h?h(f):f;if(this.onframe(v),f===1)if(this.loop){var g=l%o;this._startTime=t-g,this._pausedTime=0,this.onrestart()}else return!0;return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Nt(t)?t:tA[t]||vg(t)},a}(),wQ=izt;var yg={};sn(yg,{fastLerp:()=>gg,fastMapToColor:()=>uzt,lerp:()=>uA,lift:()=>G_,liftColor:()=>mg,lum:()=>wp,mapToColor:()=>fzt,modifyAlpha:()=>qf,modifyHSL:()=>Xf,parse:()=>Ii,random:()=>czt,stringify:()=>hn,toHex:()=>lzt});var TQ=function(){function a(t){this.value=t}return a}();var azt=function(){function a(){this._len=0}return a.prototype.insert=function(t){var e=new TQ(t);return this.insertEntry(e),e},a.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},a.prototype.remove=function(t){var e=t.prev,o=t.next;e?e.next=o:this.head=o,o?o.prev=e:this.tail=e,t.next=t.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}();var nzt=function(){function a(t){this._list=new azt,this._maxSize=10,this._map={},this._maxSize=t}return a.prototype.put=function(t,e){var o=this._list,l=this._map,f=null;if(l[t]==null){var h=o.len(),v=this._lastRemovedEntry;if(h>=this._maxSize&&h>0){var g=o.head;o.remove(g),delete l[g.key],f=g.value,this._lastRemovedEntry=g}v?v.value=e:v=new TQ(e),v.key=t,o.insertEntry(v),l[t]=v}return f},a.prototype.get=function(t){var e=this._map[t],o=this._list;if(e!=null)return e!==o.tail&&(o.remove(e),o.insertEntry(e)),e.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}(),mu=nzt;var AQ={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ws(a){return a=Math.round(a),a<0?0:a>255?255:a}function ozt(a){return a=Math.round(a),a<0?0:a>360?360:a}function U_(a){return a<0?0:a>1?1:a}function IN(a){var t=a;return t.length&&t.charAt(t.length-1)==="%"?ws(parseFloat(t)/100*255):ws(parseInt(t,10))}function bp(a){var t=a;return t.length&&t.charAt(t.length-1)==="%"?U_(parseFloat(t)/100):U_(parseFloat(t))}function EN(a,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?a+(t-a)*e*6:e*2<1?t:e*3<2?a+(t-a)*(2/3-e)*6:a}function Zf(a,t,e){return a+(t-a)*e}function Eo(a,t,e,o,l){return a[0]=t,a[1]=e,a[2]=o,a[3]=l,a}function PN(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a}var DQ=new mu(20),lA=null;function dg(a,t){lA&&PN(lA,t),lA=DQ.put(a,lA||t.slice())}function Ii(a,t){if(a){t=t||[];var e=DQ.get(a);if(e)return PN(t,e);a=a+"";var o=a.replace(/ /g,"").toLowerCase();if(o in AQ)return PN(t,AQ[o]),dg(a,t),t;var l=o.length;if(o.charAt(0)==="#"){if(l===4||l===5){var f=parseInt(o.slice(1,4),16);if(!(f>=0&&f<=4095)){Eo(t,0,0,0,1);return}return Eo(t,(f&3840)>>4|(f&3840)>>8,f&240|(f&240)>>4,f&15|(f&15)<<4,l===5?parseInt(o.slice(4),16)/15:1),dg(a,t),t}else if(l===7||l===9){var f=parseInt(o.slice(1,7),16);if(!(f>=0&&f<=16777215)){Eo(t,0,0,0,1);return}return Eo(t,(f&16711680)>>16,(f&65280)>>8,f&255,l===9?parseInt(o.slice(7),16)/255:1),dg(a,t),t}return}var h=o.indexOf("("),v=o.indexOf(")");if(h!==-1&&v+1===l){var g=o.substr(0,h),y=o.substr(h+1,v-(h+1)).split(","),x=1;switch(g){case"rgba":if(y.length!==4)return y.length===3?Eo(t,+y[0],+y[1],+y[2],1):Eo(t,0,0,0,1);x=bp(y.pop());case"rgb":if(y.length>=3)return Eo(t,IN(y[0]),IN(y[1]),IN(y[2]),y.length===3?x:bp(y[3])),dg(a,t),t;Eo(t,0,0,0,1);return;case"hsla":if(y.length!==4){Eo(t,0,0,0,1);return}return y[3]=bp(y[3]),RN(y,t),dg(a,t),t;case"hsl":if(y.length!==3){Eo(t,0,0,0,1);return}return RN(y,t),dg(a,t),t;default:return}}Eo(t,0,0,0,1)}}function RN(a,t){var e=(parseFloat(a[0])%360+360)%360/360,o=bp(a[1]),l=bp(a[2]),f=l<=.5?l*(o+1):l+o-l*o,h=l*2-f;return t=t||[],Eo(t,ws(EN(h,f,e+1/3)*255),ws(EN(h,f,e)*255),ws(EN(h,f,e-1/3)*255),1),a.length===4&&(t[3]=a[3]),t}function szt(a){if(a){var t=a[0]/255,e=a[1]/255,o=a[2]/255,l=Math.min(t,e,o),f=Math.max(t,e,o),h=f-l,v=(f+l)/2,g,y;if(h===0)g=0,y=0;else{v<.5?y=h/(f+l):y=h/(2-f-l);var x=((f-t)/6+h/2)/h,b=((f-e)/6+h/2)/h,T=((f-o)/6+h/2)/h;t===f?g=T-b:e===f?g=1/3+x-T:o===f&&(g=2/3+b-x),g<0&&(g+=1),g>1&&(g-=1)}var C=[g*360,y,v];return a[3]!=null&&C.push(a[3]),C}}function G_(a,t){var e=Ii(a);if(e){for(var o=0;o<3;o++)t<0?e[o]=e[o]*(1-t)|0:e[o]=(255-e[o])*t+e[o]|0,e[o]>255?e[o]=255:e[o]<0&&(e[o]=0);return hn(e,e.length===4?"rgba":"rgb")}}function lzt(a){var t=Ii(a);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function gg(a,t,e){if(!(!(t&&t.length)||!(a>=0&&a<=1))){e=e||[];var o=a*(t.length-1),l=Math.floor(o),f=Math.ceil(o),h=t[l],v=t[f],g=o-l;return e[0]=ws(Zf(h[0],v[0],g)),e[1]=ws(Zf(h[1],v[1],g)),e[2]=ws(Zf(h[2],v[2],g)),e[3]=U_(Zf(h[3],v[3],g)),e}}var uzt=gg;function uA(a,t,e){if(!(!(t&&t.length)||!(a>=0&&a<=1))){var o=a*(t.length-1),l=Math.floor(o),f=Math.ceil(o),h=Ii(t[l]),v=Ii(t[f]),g=o-l,y=hn([ws(Zf(h[0],v[0],g)),ws(Zf(h[1],v[1],g)),ws(Zf(h[2],v[2],g)),U_(Zf(h[3],v[3],g))],"rgba");return e?{color:y,leftIndex:l,rightIndex:f,value:o}:y}}var fzt=uA;function Xf(a,t,e,o){var l=Ii(a);if(a)return l=szt(l),t!=null&&(l[0]=ozt(t)),e!=null&&(l[1]=bp(e)),o!=null&&(l[2]=bp(o)),hn(RN(l),"rgba")}function qf(a,t){var e=Ii(a);if(e&&t!=null)return e[3]=U_(t),hn(e,"rgba")}function hn(a,t){if(!(!a||!a.length)){var e=a[0]+","+a[1]+","+a[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+a[3]),t+"("+e+")"}}function wp(a,t){var e=Ii(a);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function czt(){return hn([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var CQ=new mu(100);function mg(a){if(Dt(a)){var t=CQ.get(a);return t||(t=G_(a,-.1),CQ.put(a,t)),t}else if(pu(a)){var e=mt({},a);return e.colorStops=_t(a.colorStops,function(o){return{offset:o.offset,color:G_(o.color,-.1)}}),e}return a}var cA=Math.round;function $f(a){var t;if(!a||a==="transparent")a="none";else if(typeof a=="string"&&a.indexOf("rgba")>-1){var e=Ii(a);e&&(a="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:a,opacity:t??1}}var MQ=1e-4;function yl(a){return a<MQ&&a>-MQ}function fA(a){return cA(a*1e3)/1e3}function hA(a){return cA(a*1e4)/1e4}function LQ(a){return"matrix("+fA(a[0])+","+fA(a[1])+","+fA(a[2])+","+fA(a[3])+","+hA(a[4])+","+hA(a[5])+")"}var IQ={left:"start",right:"end",center:"middle",middle:"middle"};function EQ(a,t,e){return e==="top"?a+=t/2:e==="bottom"&&(a-=t/2),a}function PQ(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}function RQ(a){var t=a.style,e=a.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function ON(a){return a&&!!a.image}function hzt(a){return a&&!!a.svgElement}function H_(a){return ON(a)||hzt(a)}function pA(a){return a.type==="linear"}function vA(a){return a.type==="radial"}function dA(a){return a&&(a.type==="linear"||a.type==="radial")}function W_(a){return"url(#"+a+")"}function gA(a){var t=a.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function mA(a){var t=a.x||0,e=a.y||0,o=(a.rotation||0)*cp,l=oe(a.scaleX,1),f=oe(a.scaleY,1),h=a.skewX||0,v=a.skewY||0,g=[];return(t||e)&&g.push("translate("+t+"px,"+e+"px)"),o&&g.push("rotate("+o+")"),(l!==1||f!==1)&&g.push("scale("+l+","+f+")"),(h||v)&&g.push("skew("+cA(h*cp)+"deg, "+cA(v*cp)+"deg)"),g.join(" ")}var OQ=function(){return Ie.hasGlobalWindow&&Nt(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:typeof Buffer<"u"?function(a){return Buffer.from(a).toString("base64")}:function(a){return null}}();var NN=Array.prototype.slice;function yu(a,t,e){return(t-a)*e+a}function kN(a,t,e,o){for(var l=t.length,f=0;f<l;f++)a[f]=yu(t[f],e[f],o);return a}function pzt(a,t,e,o){for(var l=t.length,f=l&&t[0].length,h=0;h<l;h++){a[h]||(a[h]=[]);for(var v=0;v<f;v++)a[h][v]=yu(t[h][v],e[h][v],o)}return a}function yA(a,t,e,o){for(var l=t.length,f=0;f<l;f++)a[f]=t[f]+e[f]*o;return a}function kQ(a,t,e,o){for(var l=t.length,f=l&&t[0].length,h=0;h<l;h++){a[h]||(a[h]=[]);for(var v=0;v<f;v++)a[h][v]=t[h][v]+e[h][v]*o}return a}function vzt(a,t){for(var e=a.length,o=t.length,l=e>o?t:a,f=Math.min(e,o),h=l[f-1]||{color:[0,0,0,0],offset:0},v=f;v<Math.max(e,o);v++)l.push({offset:h.offset,color:h.color.slice()})}function dzt(a,t,e){var o=a,l=t;if(!(!o.push||!l.push)){var f=o.length,h=l.length;if(f!==h){var v=f>h;if(v)o.length=h;else for(var g=f;g<h;g++)o.push(e===1?l[g]:NN.call(l[g]))}for(var y=o[0]&&o[0].length,g=0;g<o.length;g++)if(e===1)isNaN(o[g])&&(o[g]=l[g]);else for(var x=0;x<y;x++)isNaN(o[g][x])&&(o[g][x]=l[g][x])}}function Tp(a){if(Xr(a)){var t=a.length;if(Xr(a[0])){for(var e=[],o=0;o<t;o++)e.push(NN.call(a[o]));return e}return NN.call(a)}return a}function SA(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=a[3]==null?1:a[3],"rgba("+a.join(",")+")"}function gzt(a){return Xr(a&&a[0])?2:1}var _A=0,bA=1,VQ=2,Z_=3,zN=4,VN=5,NQ=6;function zQ(a){return a===zN||a===VN}function xA(a){return a===bA||a===VQ}var Y_=[0,0,0,0],mzt=function(){function a(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(t,e,o){this._needsSort=!0;var l=this.keyframes,f=l.length,h=!1,v=NQ,g=e;if(Xr(e)){var y=gzt(e);v=y,(y===1&&!ye(e[0])||y===2&&!ye(e[0][0]))&&(h=!0)}else if(ye(e)&&!vu(e))v=_A;else if(Dt(e))if(!isNaN(+e))v=_A;else{var x=Ii(e);x&&(g=x,v=Z_)}else if(pu(e)){var b=mt({},g);b.colorStops=_t(e.colorStops,function(C){return{offset:C.offset,color:Ii(C.color)}}),pA(e)?v=zN:vA(e)&&(v=VN),g=b}f===0?this.valType=v:(v!==this.valType||v===NQ)&&(h=!0),this.discrete=this.discrete||h;var T={time:t,value:g,rawValue:e,percent:0};return o&&(T.easing=o,T.easingFunc=Nt(o)?o:tA[o]||vg(o)),l.push(T),T},a.prototype.prepare=function(t,e){var o=this.keyframes;this._needsSort&&o.sort(function(I,P){return I.time-P.time});for(var l=this.valType,f=o.length,h=o[f-1],v=this.discrete,g=xA(l),y=zQ(l),x=0;x<f;x++){var b=o[x],T=b.value,C=h.value;b.percent=b.time/t,v||(g&&x!==f-1?dzt(T,C,l):y&&vzt(T.colorStops,C.colorStops))}if(!v&&l!==VN&&e&&this.needsAnimate()&&e.needsAnimate()&&l===e.valType&&!e._finished){this._additiveTrack=e;for(var M=o[0].value,x=0;x<f;x++)l===_A?o[x].additiveValue=o[x].value-M:l===Z_?o[x].additiveValue=yA([],o[x].value,M,-1):xA(l)&&(o[x].additiveValue=l===bA?yA([],o[x].value,M,-1):kQ([],o[x].value,M,-1))}},a.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,l=o?"additiveValue":"value",f=this.valType,h=this.keyframes,v=h.length,g=this.propName,y=f===Z_,x,b=this._lastFr,T=Math.min,C,M;if(v===1)C=M=h[0];else{if(e<0)x=0;else if(e<this._lastFrP){var I=T(b+1,v-1);for(x=I;x>=0&&!(h[x].percent<=e);x--);x=T(x,v-2)}else{for(x=b;x<v&&!(h[x].percent>e);x++);x=T(x-1,v-2)}M=h[x+1],C=h[x]}if(C&&M){this._lastFr=x,this._lastFrP=e;var P=M.percent-C.percent,O=P===0?1:T((e-C.percent)/P,1);M.easingFunc&&(O=M.easingFunc(O));var N=o?this._additiveValue:y?Y_:t[g];if((xA(f)||y)&&!N&&(N=this._additiveValue=[]),this.discrete)t[g]=O<1?C.rawValue:M.rawValue;else if(xA(f))f===bA?kN(N,C[l],M[l],O):pzt(N,C[l],M[l],O);else if(zQ(f)){var V=C[l],F=M[l],U=f===zN;t[g]={type:U?"linear":"radial",x:yu(V.x,F.x,O),y:yu(V.y,F.y,O),colorStops:_t(V.colorStops,function(Z,$){var K=F.colorStops[$];return{offset:yu(Z.offset,K.offset,O),color:SA(kN([],Z.color,K.color,O))}}),global:F.global},U?(t[g].x2=yu(V.x2,F.x2,O),t[g].y2=yu(V.y2,F.y2,O)):t[g].r=yu(V.r,F.r,O)}else if(y)kN(N,C[l],M[l],O),o||(t[g]=SA(N));else{var H=yu(C[l],M[l],O);o?this._additiveValue=H:t[g]=H}o&&this._addToTarget(t)}}},a.prototype._addToTarget=function(t){var e=this.valType,o=this.propName,l=this._additiveValue;e===_A?t[o]=t[o]+l:e===Z_?(Ii(t[o],Y_),yA(Y_,Y_,l,1),t[o]=SA(Y_)):e===bA?yA(t[o],t[o],l,1):e===VQ&&kQ(t[o],t[o],l,1)},a}(),yzt=function(){function a(t,e,o,l){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&l){Ff("Can' use additive animation on looped animation.");return}this._additiveAnimators=l,this._allowDiscrete=o}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(t){this._target=t},a.prototype.when=function(t,e,o){return this.whenWithKeys(t,e,he(e),o)},a.prototype.whenWithKeys=function(t,e,o,l){for(var f=this._tracks,h=0;h<o.length;h++){var v=o[h],g=f[v];if(!g){g=f[v]=new mzt(v);var y=void 0,x=this._getAdditiveTrack(v);if(x){var b=x.keyframes,T=b[b.length-1];y=T&&T.value,x.valType===Z_&&y&&(y=SA(y))}else y=this._target[v];if(y==null)continue;t>0&&g.addKeyframe(0,Tp(y),l),this._trackKeys.push(v)}g.addKeyframe(t,Tp(e[v]),l)}return this._maxTime=Math.max(this._maxTime,t),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,o=0;o<e;o++)t[o].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var o=0;o<e.length;o++)e[o].call(this)},a.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,o=0;o<e.length;o++)t[e[o]].setFinished()},a.prototype._getAdditiveTrack=function(t){var e,o=this._additiveAnimators;if(o)for(var l=0;l<o.length;l++){var f=o[l].getTrack(t);f&&(e=f)}return e},a.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,o=[],l=this._maxTime||0,f=0;f<this._trackKeys.length;f++){var h=this._trackKeys[f],v=this._tracks[h],g=this._getAdditiveTrack(h),y=v.keyframes,x=y.length;if(v.prepare(l,g),v.needsAnimate())if(!this._allowDiscrete&&v.discrete){var b=y[x-1];b&&(e._target[v.propName]=b.rawValue),v.setFinished()}else o.push(v)}if(o.length||this._force){var T=new wQ({life:l,loop:this._loop,delay:this._delay||0,onframe:function(C){e._started=2;var M=e._additiveAnimators;if(M){for(var I=!1,P=0;P<M.length;P++)if(M[P]._clip){I=!0;break}I||(e._additiveAnimators=null)}for(var P=0;P<o.length;P++)o[P].step(e._target,C);var O=e._onframeCbs;if(O)for(var P=0;P<O.length;P++)O[P](e._target,C)},ondestroy:function(){e._doneCallback()}});this._clip=T,this.animation&&this.animation.addClip(T),t&&T.setEasing(t)}else this._doneCallback();return this}},a.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},a.prototype.delay=function(t){return this._delay=t,this},a.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},a.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},a.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(t){return this._tracks[t]},a.prototype.getTracks=function(){var t=this;return _t(this._trackKeys,function(e){return t._tracks[e]})},a.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var o=this._tracks,l=this._trackKeys,f=0;f<t.length;f++){var h=o[t[f]];h&&!h.isFinished()&&(e?h.step(this._target,1):this._started===1&&h.step(this._target,0),h.setFinished())}for(var v=!0,f=0;f<l.length;f++)if(!o[l[f]].isFinished()){v=!1;break}return v&&this._abortedCallback(),v},a.prototype.saveTo=function(t,e,o){if(t){e=e||this._trackKeys;for(var l=0;l<e.length;l++){var f=e[l],h=this._tracks[f];if(!(!h||h.isFinished())){var v=h.keyframes,g=v[o?0:v.length-1];g&&(t[f]=Tp(g.rawValue))}}}},a.prototype.__changeFinalValue=function(t,e){e=e||he(t);for(var o=0;o<e.length;o++){var l=e[o],f=this._tracks[l];if(f){var h=f.keyframes;if(h.length>1){var v=h.pop();f.addKeyframe(v.time,t[l]),f.prepare(this._maxTime,f.getAdditiveTrack())}}}},a}(),X_=yzt;function Ap(){return new Date().getTime()}var _zt=function(a){at(t,a);function t(e){var o=a.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,e=e||{},o.stage=e.stage||{},o}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var o=e.getClip();o&&this.addClip(o)},t.prototype.removeClip=function(e){if(e.animation){var o=e.prev,l=e.next;o?o.next=l:this._head=l,l?l.prev=o:this._tail=o,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var o=e.getClip();o&&this.removeClip(o),e.animation=null},t.prototype.update=function(e){for(var o=Ap()-this._pausedTime,l=o-this._time,f=this._head;f;){var h=f.next,v=f.step(o,l);v&&(f.ondestroy(),this.removeClip(f)),f=h}this._time=o,e||(this.trigger("frame",l),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function o(){e._running&&(V_(o),!e._paused&&e.update())}V_(o)},t.prototype.start=function(){this._running||(this._time=Ap(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Ap(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Ap()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var o=e.next;e.prev=e.next=e.animation=null,e=o}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,o){o=o||{},this.start();var l=new X_(e,o.loop);return this.addAnimator(l),l},t}(xi),BQ=_zt;var xzt=300,BN=Ie.domSupported,FN=function(){var a=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=_t(a,function(l){var f=l.replace("mouse","pointer");return e.hasOwnProperty(f)?f:l});return{mouse:a,touch:t,pointer:o}}(),FQ={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},UQ=!1;function HN(a){var t=a.pointerType;return t==="pen"||t==="touch"}function Szt(a){a.touching=!0,a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}function UN(a){a&&(a.zrByTouch=!0)}function bzt(a,t){return fn(a.dom,new wzt(a,t),!0)}function HQ(a,t){for(var e=t,o=!1;e&&e.nodeType!==9&&!(o=e.domBelongToZr||e!==t&&e===a.painterRoot);)e=e.parentNode;return o}var wzt=function(){function a(t,e){this.stopPropagation=mr,this.stopImmediatePropagation=mr,this.preventDefault=mr,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return a}(),Ts={mousedown:function(a){a=fn(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=fn(this.dom,a);var t=this.__mayPointerCapture;t&&(a.zrX!==t[0]||a.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=fn(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){a=fn(this.dom,a);var t=a.toElement||a.relatedTarget;HQ(this,t)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){UQ=!0,a=fn(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){UQ||(a=fn(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=fn(this.dom,a),UN(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),Ts.mousemove.call(this,a),Ts.mousedown.call(this,a)},touchmove:function(a){a=fn(this.dom,a),UN(a),this.handler.processGesture(a,"change"),Ts.mousemove.call(this,a)},touchend:function(a){a=fn(this.dom,a),UN(a),this.handler.processGesture(a,"end"),Ts.mouseup.call(this,a),+new Date-+this.__lastTouchMoment<xzt&&Ts.click.call(this,a)},pointerdown:function(a){Ts.mousedown.call(this,a)},pointermove:function(a){HN(a)||Ts.mousemove.call(this,a)},pointerup:function(a){Ts.mouseup.call(this,a)},pointerout:function(a){HN(a)||Ts.mouseout.call(this,a)}};X(["click","dblclick","contextmenu"],function(a){Ts[a]=function(t){t=fn(this.dom,t),this.trigger(a,t)}});var WN={pointermove:function(a){HN(a)||WN.mousemove.call(this,a)},pointerup:function(a){WN.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),t&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function Tzt(a,t){var e=t.domHandlers;Ie.pointerEventsSupported?X(FN.pointer,function(o){wA(t,o,function(l){e[o].call(a,l)})}):(Ie.touchEventsSupported&&X(FN.touch,function(o){wA(t,o,function(l){e[o].call(a,l),Szt(t)})}),X(FN.mouse,function(o){wA(t,o,function(l){l=KT(l),t.touching||e[o].call(a,l)})}))}function Azt(a,t){Ie.pointerEventsSupported?X(FQ.pointer,e):Ie.touchEventsSupported||X(FQ.mouse,e);function e(o){function l(f){f=KT(f),HQ(a,f.target)||(f=bzt(a,f),t.domHandlers[o].call(a,f))}wA(t,o,l,{capture:!0})}}function wA(a,t,e,o){a.mounted[t]=e,a.listenerOpts[t]=o,R_(a.domTarget,t,e,o)}function GN(a){var t=a.mounted;for(var e in t)t.hasOwnProperty(e)&&rQ(a.domTarget,e,t[e],a.listenerOpts[e]);a.mounted={}}var GQ=function(){function a(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return a}(),Czt=function(a){at(t,a);function t(e,o){var l=a.call(this)||this;return l.__pointerCapturing=!1,l.dom=e,l.painterRoot=o,l._localHandlerScope=new GQ(e,Ts),BN&&(l._globalHandlerScope=new GQ(document,WN)),Tzt(l,l._localHandlerScope),l}return t.prototype.dispose=function(){GN(this._localHandlerScope),BN&&GN(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,BN&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var o=this._globalHandlerScope;e?Azt(this,o):GN(o)}},t}(xi),WQ=Czt;var YQ=1;Ie.hasGlobalWindow&&(YQ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Cp=YQ,q_=.4,$_="#333",K_="#ccc",ZQ="#eee";var XQ=gu,qQ=5e-5;function Dp(a){return a>qQ||a<-qQ}var Mp=[],_g=[],YN=ri(),ZN=Math.abs,Dzt=function(){function a(){}return a.prototype.getLocalTransform=function(t){return a.getLocalTransform(this,t)},a.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},a.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},a.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},a.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},a.prototype.needLocalTransform=function(){return Dp(this.rotation)||Dp(this.x)||Dp(this.y)||Dp(this.scaleX-1)||Dp(this.scaleY-1)||Dp(this.skewX)||Dp(this.skewY)},a.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),o=this.transform;if(!(e||t)){o&&(XQ(o),this.invTransform=null);return}o=o||ri(),e?this.getLocalTransform(o):XQ(o),t&&(e?Ha(o,t,o):hg(o,t)),this.transform=o,this._resolveGlobalScaleRatio(o)},a.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(Mp);var o=Mp[0]<0?-1:1,l=Mp[1]<0?-1:1,f=((Mp[0]-o)*e+o)/Mp[0]||0,h=((Mp[1]-l)*e+l)/Mp[1]||0;t[0]*=f,t[1]*=f,t[2]*=h,t[3]*=h}this.invTransform=this.invTransform||ri(),Wn(this.invTransform,t)},a.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},a.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],o=t[2]*t[2]+t[3]*t[3],l=Math.atan2(t[1],t[0]),f=Math.PI/2+l-Math.atan2(t[3],t[2]);o=Math.sqrt(o)*Math.cos(f),e=Math.sqrt(e),this.skewX=f,this.skewY=0,this.rotation=-l,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=o,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||ri(),Ha(_g,t.invTransform,e),e=_g);var o=this.originX,l=this.originY;(o||l)&&(YN[4]=o,YN[5]=l,Ha(_g,e,YN),_g[4]-=o,_g[5]-=l,e=_g),this.setLocalTransform(e)}},a.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},a.prototype.transformCoordToLocal=function(t,e){var o=[t,e],l=this.invTransform;return l&&qr(o,o,l),o},a.prototype.transformCoordToGlobal=function(t,e){var o=[t,e],l=this.transform;return l&&qr(o,o,l),o},a.prototype.getLineScale=function(){var t=this.transform;return t&&ZN(t[0]-1)>1e-10&&ZN(t[3]-1)>1e-10?Math.sqrt(ZN(t[0]*t[3]-t[2]*t[1])):1},a.prototype.copyTransform=function(t){XN(this,t)},a.getLocalTransform=function(t,e){e=e||[];var o=t.originX||0,l=t.originY||0,f=t.scaleX,h=t.scaleY,v=t.anchorX,g=t.anchorY,y=t.rotation||0,x=t.x,b=t.y,T=t.skewX?Math.tan(t.skewX):0,C=t.skewY?Math.tan(-t.skewY):0;if(o||l||v||g){var M=o+v,I=l+g;e[4]=-M*f-T*I*h,e[5]=-I*h-C*M*f}else e[4]=e[5]=0;return e[0]=f,e[3]=h,e[1]=C*f,e[2]=T*h,y&&Wa(e,e,y),e[4]+=o+x,e[5]+=l+b,e},a.initDefaultProps=function(){var t=a.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),a}(),Yn=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function XN(a,t){for(var e=0;e<Yn.length;e++){var o=Yn[e];a[o]=t[o]}}var pn=Dzt;var $Q={};function vn(a,t){t=t||Un;var e=$Q[t];e||(e=$Q[t]=new mu(500));var o=e.get(a);return o==null&&(o=$i.measureText(a,t).width,e.put(a,o)),o}function KQ(a,t,e,o){var l=vn(a,t),f=Sg(t),h=xg(0,l,e),v=Lp(0,f,o),g=new ie(h,v,l,f);return g}function _l(a,t,e,o){var l=((a||"")+"").split(`
`),f=l.length;if(f===1)return KQ(l[0],t,e,o);for(var h=new ie(0,0,0,0),v=0;v<l.length;v++){var g=KQ(l[v],t,e,o);v===0?h.copy(g):h.union(g)}return h}function xg(a,t,e){return e==="right"?a-=t:e==="center"&&(a-=t/2),a}function Lp(a,t,e){return e==="middle"?a-=t/2:e==="bottom"&&(a-=t),a}function Sg(a){return vn("\u56FD",a)}function na(a,t){return typeof a=="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*t:parseFloat(a):a}function Ip(a,t,e){var o=t.position||"inside",l=t.distance!=null?t.distance:5,f=e.height,h=e.width,v=f/2,g=e.x,y=e.y,x="left",b="top";if(o instanceof Array)g+=na(o[0],e.width),y+=na(o[1],e.height),x=null,b=null;else switch(o){case"left":g-=l,y+=v,x="right",b="middle";break;case"right":g+=l+h,y+=v,b="middle";break;case"top":g+=h/2,y-=l,x="center",b="bottom";break;case"bottom":g+=h/2,y+=f+l,x="center";break;case"inside":g+=h/2,y+=v,x="center",b="middle";break;case"insideLeft":g+=l,y+=v,b="middle";break;case"insideRight":g+=h-l,y+=v,x="right",b="middle";break;case"insideTop":g+=h/2,y+=l,x="center";break;case"insideBottom":g+=h/2,y+=f-l,x="center",b="bottom";break;case"insideTopLeft":g+=l,y+=l;break;case"insideTopRight":g+=h-l,y+=l,x="right";break;case"insideBottomLeft":g+=l,y+=f-l,b="bottom";break;case"insideBottomRight":g+=h-l,y+=f-l,x="right",b="bottom";break}return a=a||{},a.x=g,a.y=y,a.align=x,a.verticalAlign=b,a}var qN="__zr_normal__",$N=Yn.concat(["ignore"]),Mzt=Ai(Yn,function(a,t){return a[t]=!0,a},{ignore:!1}),bg={},Lzt=new ie(0,0,0,0),JN=function(){function a(t){this.id=M_(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return a.prototype._init=function(t){this.attr(t)},a.prototype.drift=function(t,e,o){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var l=this.transform;l||(l=this.transform=[1,0,0,1,0,0]),l[4]+=t,l[5]+=e,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var o=this.textConfig,l=o.local,f=e.innerTransformable,h=void 0,v=void 0,g=!1;f.parent=l?this:null;var y=!1;if(f.copyTransform(e),o.position!=null){var x=Lzt;o.layoutRect?x.copy(o.layoutRect):x.copy(this.getBoundingRect()),l||x.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(bg,o,x):Ip(bg,o,x),f.x=bg.x,f.y=bg.y,h=bg.align,v=bg.verticalAlign;var b=o.origin;if(b&&o.rotation!=null){var T=void 0,C=void 0;b==="center"?(T=x.width*.5,C=x.height*.5):(T=na(b[0],x.width),C=na(b[1],x.height)),y=!0,f.originX=-f.x+T+(l?0:x.x),f.originY=-f.y+C+(l?0:x.y)}}o.rotation!=null&&(f.rotation=o.rotation);var M=o.offset;M&&(f.x+=M[0],f.y+=M[1],y||(f.originX=-M[0],f.originY=-M[1]));var I=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,P=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),O=void 0,N=void 0,V=void 0;I&&this.canBeInsideText()?(O=o.insideFill,N=o.insideStroke,(O==null||O==="auto")&&(O=this.getInsideTextFill()),(N==null||N==="auto")&&(N=this.getInsideTextStroke(O),V=!0)):(O=o.outsideFill,N=o.outsideStroke,(O==null||O==="auto")&&(O=this.getOutsideFill()),(N==null||N==="auto")&&(N=this.getOutsideStroke(O),V=!0)),O=O||"#000",(O!==P.fill||N!==P.stroke||V!==P.autoStroke||h!==P.align||v!==P.verticalAlign)&&(g=!0,P.fill=O,P.stroke=N,P.autoStroke=V,P.align=h,P.verticalAlign=v,e.setDefaultTextStyle(P)),e.__dirty|=Li,g&&e.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(t){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?K_:$_},a.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),o=typeof e=="string"&&Ii(e);o||(o=[255,255,255,1]);for(var l=o[3],f=this.__zr.isDarkMode(),h=0;h<3;h++)o[h]=o[h]*l+(f?0:255)*(1-l);return o[3]=1,hn(o,"rgba")},a.prototype.traverse=function(t,e){},a.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},mt(this.extra,e)):this[t]=e},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Ft(t))for(var o=t,l=he(o),f=0;f<l.length;f++){var h=l[f];this.attrKV(h,t[h])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,o=0;o<this.animators.length;o++){var l=this.animators[o],f=l.__fromStateTransition;if(!(l.getLoop()||f&&f!==qN)){var h=l.targetName,v=h?e[h]:e;l.saveTo(v)}}},a.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,$N)},a.prototype._savePrimaryToNormal=function(t,e,o){for(var l=0;l<o.length;l++){var f=o[l];t[f]!=null&&!(f in e)&&(e[f]=this[f])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(t){return this.states[t]},a.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},a.prototype.clearStates=function(t){this.useState(qN,!1,t)},a.prototype.useState=function(t,e,o,l){var f=t===qN,h=this.hasState();if(!(!h&&f)){var v=this.currentStates,g=this.stateTransition;if(!(ae(v,t)>=0&&(e||v.length===1))){var y;if(this.stateProxy&&!f&&(y=this.stateProxy(t)),y||(y=this.states&&this.states[t]),!y&&!f){Ff("State "+t+" not exists.");return}f||this.saveCurrentToNormalState(y);var x=!!(y&&y.hoverLayer||l);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,y,this._normalState,e,!o&&!this.__inHover&&g&&g.duration>0,g);var b=this._textContent,T=this._textGuide;return b&&b.useState(t,e,o,x),T&&T.useState(t,e,o,x),f?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Li),y}}},a.prototype.useStates=function(t,e,o){if(!t.length)this.clearStates();else{var l=[],f=this.currentStates,h=t.length,v=h===f.length;if(v){for(var g=0;g<h;g++)if(t[g]!==f[g]){v=!1;break}}if(v)return;for(var g=0;g<h;g++){var y=t[g],x=void 0;this.stateProxy&&(x=this.stateProxy(y,t)),x||(x=this.states[y]),x&&l.push(x)}var b=l[h-1],T=!!(b&&b.hoverLayer||o);T&&this._toggleHoverLayerFlag(!0);var C=this._mergeStates(l),M=this.stateTransition;this.saveCurrentToNormalState(C),this._applyStateObj(t.join(","),C,this._normalState,!1,!e&&!this.__inHover&&M&&M.duration>0,M);var I=this._textContent,P=this._textGuide;I&&I.useStates(t,e,T),P&&P.useStates(t,e,T),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!T&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Li)}},a.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},a.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},a.prototype.removeState=function(t){var e=ae(this.currentStates,t);if(e>=0){var o=this.currentStates.slice();o.splice(e,1),this.useStates(o)}},a.prototype.replaceState=function(t,e,o){var l=this.currentStates.slice(),f=ae(l,t),h=ae(l,e)>=0;f>=0?h?l.splice(f,1):l[f]=e:o&&!h&&l.push(e),this.useStates(l)},a.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},a.prototype._mergeStates=function(t){for(var e={},o,l=0;l<t.length;l++){var f=t[l];mt(e,f),f.textConfig&&(o=o||{},mt(o,f.textConfig))}return o&&(e.textConfig=o),e},a.prototype._applyStateObj=function(t,e,o,l,f,h){var v=!(e&&l);e&&e.textConfig?(this.textConfig=mt({},l?this.textConfig:o.textConfig),mt(this.textConfig,e.textConfig)):v&&o.textConfig&&(this.textConfig=o.textConfig);for(var g={},y=!1,x=0;x<$N.length;x++){var b=$N[x],T=f&&Mzt[b];e&&e[b]!=null?T?(y=!0,g[b]=e[b]):this[b]=e[b]:v&&o[b]!=null&&(T?(y=!0,g[b]=o[b]):this[b]=o[b])}if(!f)for(var x=0;x<this.animators.length;x++){var C=this.animators[x],M=C.targetName;C.getLoop()||C.__changeFinalValue(M?(e||o)[M]:e||o)}y&&this._transitionState(t,g,h)},a.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},a.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},a.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new pn,this._attachComponent(t),this._textContent=t,this.markRedraw())},a.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),mt(this.textConfig,t),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=Li;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,o=this._textGuide;e&&(e.__inHover=t),o&&(o.__inHover=t)},a.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.addAnimator(e[o]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},a.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.removeAnimator(e[o]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},a.prototype.animate=function(t,e,o){var l=t?this[t]:this,f=new X_(l,e,o);return t&&(f.targetName=t),this.addAnimator(f,t),f},a.prototype.addAnimator=function(t,e){var o=this.__zr,l=this;t.during(function(){l.updateDuringAnimation(e)}).done(function(){var f=l.animators,h=ae(f,t);h>=0&&f.splice(h,1)}),this.animators.push(t),o&&o.animation.addAnimator(t),o&&o.wakeUp()},a.prototype.updateDuringAnimation=function(t){this.markRedraw()},a.prototype.stopAnimation=function(t,e){for(var o=this.animators,l=o.length,f=[],h=0;h<l;h++){var v=o[h];!t||t===v.scope?v.stop(e):f.push(v)}return this.animators=f,this},a.prototype.animateTo=function(t,e,o){KN(this,t,e,o)},a.prototype.animateFrom=function(t,e,o){KN(this,t,e,o,!0)},a.prototype._transitionState=function(t,e,o,l){for(var f=KN(this,e,o,l),h=0;h<f.length;h++)f[h].__fromStateTransition=t},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var t=a.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Li;var e={};function o(f,h,v){e[f+h+v]||(console.warn("DEPRECATED: '"+f+"' has been deprecated. use '"+h+"', '"+v+"' instead"),e[f+h+v]=!0)}function l(f,h,v,g){Object.defineProperty(t,f,{get:function(){if(!this[h]){var x=this[h]=[];y(this,x)}return this[h]},set:function(x){this[v]=x[0],this[g]=x[1],this[h]=x,y(this,x)}});function y(x,b){Object.defineProperty(b,0,{get:function(){return x[v]},set:function(T){x[v]=T}}),Object.defineProperty(b,1,{get:function(){return x[g]},set:function(T){x[g]=T}})}}Object.defineProperty&&(l("position","_legacyPos","x","y"),l("scale","_legacyScale","scaleX","scaleY"),l("origin","_legacyOrigin","originX","originY"))}(),a}();or(JN,xi);or(JN,pn);function KN(a,t,e,o,l){e=e||{};var f=[];jQ(a,"",a,t,e,o,f,l);var h=f.length,v=!1,g=e.done,y=e.aborted,x=function(){v=!0,h--,h<=0&&(v?g&&g():y&&y())},b=function(){h--,h<=0&&(v?g&&g():y&&y())};h||g&&g(),f.length>0&&e.during&&f[0].during(function(M,I){e.during(I)});for(var T=0;T<f.length;T++){var C=f[T];x&&C.done(x),b&&C.aborted(b),e.force&&C.duration(e.duration),C.start(e.easing)}return f}function jN(a,t,e){for(var o=0;o<e;o++)a[o]=t[o]}function Izt(a){return Xr(a[0])}function Ezt(a,t,e){if(Xr(t[e]))if(Xr(a[e])||(a[e]=[]),ei(t[e])){var o=t[e].length;a[e].length!==o&&(a[e]=new t[e].constructor(o),jN(a[e],t[e],o))}else{var l=t[e],f=a[e],h=l.length;if(Izt(l))for(var v=l[0].length,g=0;g<h;g++)f[g]?jN(f[g],l[g],v):f[g]=Array.prototype.slice.call(l[g]);else jN(f,l,h);f.length=l.length}else a[e]=t[e]}function Pzt(a,t){return a===t||Xr(a)&&Xr(t)&&Rzt(a,t)}function Rzt(a,t){var e=a.length;if(e!==t.length)return!1;for(var o=0;o<e;o++)if(a[o]!==t[o])return!1;return!0}function jQ(a,t,e,o,l,f,h,v){for(var g=he(o),y=l.duration,x=l.delay,b=l.additive,T=l.setToFinal,C=!Ft(f),M=a.animators,I=[],P=0;P<g.length;P++){var O=g[P],N=o[O];if(N!=null&&e[O]!=null&&(C||f[O]))if(Ft(N)&&!Xr(N)&&!pu(N)){if(t){v||(e[O]=N,a.updateDuringAnimation(t));continue}jQ(a,O,e[O],N,l,f&&f[O],h,v)}else I.push(O);else v||(e[O]=N,a.updateDuringAnimation(t),I.push(O))}var V=I.length;if(!b&&V)for(var F=0;F<M.length;F++){var U=M[F];if(U.targetName===t){var H=U.stopTracks(I);if(H){var Z=ae(M,U);M.splice(Z,1)}}}if(l.force||(I=Ee(I,function(rt){return!Pzt(o[rt],e[rt])}),V=I.length),V>0||l.force&&!h.length){var $=void 0,K=void 0,Q=void 0;if(v){K={},T&&($={});for(var F=0;F<V;F++){var O=I[F];K[O]=e[O],T?$[O]=o[O]:e[O]=o[O]}}else if(T){Q={};for(var F=0;F<V;F++){var O=I[F];Q[O]=Tp(e[O]),Ezt(e,o,O)}}var U=new X_(e,!1,!1,b?Ee(M,function(nt){return nt.targetName===t}):null);U.targetName=t,l.scope&&(U.scope=l.scope),T&&$&&U.whenWithKeys(0,$,I),Q&&U.whenWithKeys(0,Q,I),U.whenWithKeys(y??500,v?K:o,I).delay(x||0),a.addAnimator(U,t),h.push(U)}}var AA=JN;var JQ=function(a){at(t,a);function t(e){var o=a.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(e),o}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var o=this._children,l=0;l<o.length;l++)if(o[l].name===e)return o[l]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,o){if(e&&e!==this&&e.parent!==this&&o&&o.parent===this){var l=this._children,f=l.indexOf(o);f>=0&&(l.splice(f,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,o){var l=ae(this._children,e);return l>=0&&this.replaceAt(o,l),this},t.prototype.replaceAt=function(e,o){var l=this._children,f=l[o];if(e&&e!==this&&e.parent!==this&&e!==f){l[o]=e,f.parent=null;var h=this.__zr;h&&f.removeSelfFromZr(h),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var o=this.__zr;o&&o!==e.__zr&&e.addSelfToZr(o),o&&o.refresh()},t.prototype.remove=function(e){var o=this.__zr,l=this._children,f=ae(l,e);return f<0?this:(l.splice(f,1),e.parent=null,o&&e.removeSelfFromZr(o),o&&o.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,o=this.__zr,l=0;l<e.length;l++){var f=e[l];o&&f.removeSelfFromZr(o),f.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,o){for(var l=this._children,f=0;f<l.length;f++){var h=l[f];e.call(o,h,f)}return this},t.prototype.traverse=function(e,o){for(var l=0;l<this._children.length;l++){var f=this._children[l],h=e.call(o,f);f.isGroup&&!h&&f.traverse(e,o)}return this},t.prototype.addSelfToZr=function(e){a.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){a.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var o=new ie(0,0,0,0),l=e||this._children,f=[],h=null,v=0;v<l.length;v++){var g=l[v];if(!(g.ignore||g.invisible)){var y=g.getBoundingRect(),x=g.getLocalTransform(f);x?(ie.applyTransform(o,y,x),h=h||o.clone(),h.union(o)):(h=h||y.clone(),h.union(y))}}return h||o},t}(AA);JQ.prototype.type="group";var Ut=JQ;var CA={},Ep={};function Ozt(a){delete Ep[a]}function kzt(a){if(!a)return!1;if(typeof a=="string")return wp(a,1)<q_;if(a.colorStops){for(var t=a.colorStops,e=0,o=t.length,l=0;l<o;l++)e+=wp(t[l].color,1);return e/=o,e<q_}return!1}var Nzt=function(){function a(t,e,o){var l=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=e,this.id=t;var f=new dQ,h=o.renderer||"canvas";CA[h]||(h=he(CA)[0]),o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var v=new CA[h](e,f,o,t),g=o.ssr||v.ssrOnly;this.storage=f,this.painter=v;var y=!Ie.node&&!Ie.worker&&!g?new WQ(v.getViewportRoot(),v.root):null,x=o.useCoarsePointer,b=x==null||x==="auto"?Ie.touchEventsSupported:!!x,T=44,C;b&&(C=oe(o.pointerSize,T)),this.handler=new uQ(f,v,y,v.root,C),this.animation=new BQ({stage:{update:g?null:function(){return l._flush(!0)}}}),g||this.animation.start()}return a.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},a.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},a.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=kzt(t))},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(t){this._darkMode=t},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},a.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},a.prototype.flush=function(){this._disposed||this._flush(!1)},a.prototype._flush=function(t){var e,o=Ap();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var l=Ap();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:l-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},a.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},a.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},a.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},a.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},a.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},a.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},a.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},a.prototype.on=function(t,e,o){return this._disposed||this.handler.on(t,e,o),this},a.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},a.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},a.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ut&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},a.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Ozt(this.id))},a}();function DA(a,t){var e=new Nzt(M_(),a,t);return Ep[e.id]=e,e}function zzt(a){a.dispose()}function Vzt(){for(var a in Ep)Ep.hasOwnProperty(a)&&Ep[a].dispose();Ep={}}function Bzt(a){return Ep[a]}function tz(a,t){CA[a]=t}var QN;function ez(a){if(typeof QN=="function")return QN(a)}function rz(a){QN=a}var Fzt="5.6.1";var QQ=1e-4,ttt=20;function Uzt(a){return a.replace(/^\s+|\s+$/g,"")}function $e(a,t,e,o){var l=t[0],f=t[1],h=e[0],v=e[1],g=f-l,y=v-h;if(g===0)return y===0?h:(h+v)/2;if(o)if(g>0){if(a<=l)return h;if(a>=f)return v}else{if(a>=l)return h;if(a<=f)return v}else{if(a===l)return h;if(a===f)return v}return(a-l)/g*y+h}function Pt(a,t){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%";break}return Dt(a)?Uzt(a).match(/%$/)?parseFloat(a)/100*t:parseFloat(a):a==null?NaN:+a}function hr(a,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),ttt),a=(+a).toFixed(t),e?a:+a}function hi(a){return a.sort(function(t,e){return t-e}),a}function oa(a){if(a=+a,isNaN(a))return 0;if(a>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(a*t)/t===a)return e}return iz(a)}function iz(a){var t=a.toString().toLowerCase(),e=t.indexOf("e"),o=e>0?+t.slice(e+1):0,l=e>0?e:t.length,f=t.indexOf("."),h=f<0?0:l-1-f;return Math.max(0,h-o)}function wg(a,t){var e=Math.log,o=Math.LN10,l=Math.floor(e(a[1]-a[0])/o),f=Math.round(e(Math.abs(t[1]-t[0]))/o),h=Math.min(Math.max(-l+f,0),20);return isFinite(h)?h:20}function ett(a,t,e){if(!a[t])return 0;var o=az(a,e);return o[t]||0}function az(a,t){var e=Ai(a,function(C,M){return C+(isNaN(M)?0:M)},0);if(e===0)return[];for(var o=Math.pow(10,t),l=_t(a,function(C){return(isNaN(C)?0:C)/e*o*100}),f=o*100,h=_t(l,function(C){return Math.floor(C)}),v=Ai(h,function(C,M){return C+M},0),g=_t(l,function(C,M){return C-h[M]});v<f;){for(var y=Number.NEGATIVE_INFINITY,x=null,b=0,T=g.length;b<T;++b)g[b]>y&&(y=g[b],x=b);++h[x],g[x]=0,++v}return _t(h,function(C){return C/o})}function rtt(a,t){var e=Math.max(oa(a),oa(t)),o=a+t;return e>ttt?o:hr(o,e)}var j_=9007199254740991;function J_(a){var t=Math.PI*2;return(a%t+t)%t}function _u(a){return a>-QQ&&a<QQ}var Gzt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ei(a){if(a instanceof Date)return a;if(Dt(a)){var t=Gzt.exec(a);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(a==null)return new Date(NaN);return new Date(Math.round(a))}function LA(a){return Math.pow(10,Tg(a))}function Tg(a){if(a===0)return 0;var t=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,t)>=10&&t++,t}function Ag(a,t){var e=Tg(a),o=Math.pow(10,e),l=a/o,f;return t?l<1.5?f=1:l<2.5?f=2:l<4?f=3:l<7?f=5:f=10:l<1?f=1:l<2?f=2:l<3?f=3:l<5?f=5:f=10,a=f*o,e>=-20?+a.toFixed(e<0?-e:0):a}function Cg(a,t){var e=(a.length-1)*t+1,o=Math.floor(e),l=+a[o-1],f=e-o;return f?l+f*(a[o]-l):l}function Q_(a){a.sort(function(g,y){return v(g,y,0)?-1:1});for(var t=-1/0,e=1,o=0;o<a.length;){for(var l=a[o].interval,f=a[o].close,h=0;h<2;h++)l[h]<=t&&(l[h]=t,f[h]=h?1:1-e),t=l[h],e=f[h];l[0]===l[1]&&f[0]*f[1]!==1?a.splice(o,1):o++}return a;function v(g,y,x){return g.interval[x]<y.interval[x]||g.interval[x]===y.interval[x]&&(g.close[x]-y.close[x]===(x?-1:1)||!x&&v(g,y,1))}}function dn(a){var t=parseFloat(a);return t==a&&(t!==0||!Dt(a)||a.indexOf("x")<=0)?t:NaN}function Pp(a){return!isNaN(dn(a))}function IA(){return Math.round(Math.random()*9)}function itt(a,t){return t===0?a:itt(t,a%t)}function nz(a,t){return a==null?t:t==null?a:a*t/itt(a,t)}var Hzt="[ECharts] ",att={},Wzt=typeof console<"u"&&console.warn&&console.log;function Yzt(a,t,e){if(Wzt){if(e){if(att[t])return;att[t]=!0}console[a](Hzt+t)}}function ntt(a,t){Yzt("warn",a,t)}function Qe(a){throw new Error(a)}function ott(a,t,e){return(t-a)*e+a}var stt="series\0",ltt="\0_ec_\0";function qe(a){return a instanceof Array?a:a==null?[]:[a]}function Zn(a,t,e){if(a){a[t]=a[t]||{},a.emphasis=a.emphasis||{},a.emphasis[t]=a.emphasis[t]||{};for(var o=0,l=e.length;o<l;o++){var f=e[o];!a.emphasis[t].hasOwnProperty(f)&&a[t].hasOwnProperty(f)&&(a.emphasis[t][f]=a[t][f])}}}var oz=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function As(a){return Ft(a)&&!yt(a)&&!(a instanceof Date)?a.value:a}function utt(a){return Ft(a)&&!(a instanceof Array)}function EA(a,t,e){var o=e==="normalMerge",l=e==="replaceMerge",f=e==="replaceAll";a=a||[],t=(t||[]).slice();var h=Rt();X(t,function(g,y){if(!Ft(g)){t[y]=null;return}});var v=Zzt(a,h,e);return(o||l)&&Xzt(v,a,h,t),o&&qzt(v,t),o||l?$zt(v,t,l):f&&Kzt(v,t),jzt(v),v}function Zzt(a,t,e){var o=[];if(e==="replaceAll")return o;for(var l=0;l<a.length;l++){var f=a[l];f&&f.id!=null&&t.set(f.id,l),o.push({existing:e==="replaceMerge"||Dg(f)?null:f,newOption:null,keyInfo:null,brandNew:null})}return o}function Xzt(a,t,e,o){X(o,function(l,f){if(!(!l||l.id==null)){var h=tx(l.id),v=e.get(h);if(v!=null){var g=a[v];Tr(!g.newOption,'Duplicated option on id "'+h+'".'),g.newOption=l,g.existing=t[v],o[f]=null}}})}function qzt(a,t){X(t,function(e,o){if(!(!e||e.name==null))for(var l=0;l<a.length;l++){var f=a[l].existing;if(!a[l].newOption&&f&&(f.id==null||e.id==null)&&!Dg(e)&&!Dg(f)&&ftt("name",f,e)){a[l].newOption=e,t[o]=null;return}}})}function $zt(a,t,e){X(t,function(o){if(o){for(var l,f=0;(l=a[f])&&(l.newOption||Dg(l.existing)||l.existing&&o.id!=null&&!ftt("id",o,l.existing));)f++;l?(l.newOption=o,l.brandNew=e):a.push({newOption:o,brandNew:e,existing:null,keyInfo:null}),f++}})}function Kzt(a,t){X(t,function(e){a.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function jzt(a){var t=Rt();X(a,function(e){var o=e.existing;o&&t.set(o.id,e)}),X(a,function(e){var o=e.newOption;Tr(!o||o.id==null||!t.get(o.id)||t.get(o.id)===e,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&t.set(o.id,e),!e.keyInfo&&(e.keyInfo={})}),X(a,function(e,o){var l=e.existing,f=e.newOption,h=e.keyInfo;if(Ft(f)){if(h.name=f.name!=null?tx(f.name):l?l.name:stt+o,l)h.id=tx(l.id);else if(f.id!=null)h.id=tx(f.id);else{var v=0;do h.id="\0"+h.name+"\0"+v++;while(t.get(h.id))}t.set(h.id,e)}})}function ftt(a,t,e){var o=kr(t[a],null),l=kr(e[a],null);return o!=null&&l!=null&&o===l}function tx(a){return kr(a,"")}function kr(a,t){return a==null?t:Dt(a)?a:ye(a)||sg(a)?a+"":t}function Mg(a){var t=a.name;return!!(t&&t.indexOf(stt))}function Dg(a){return a&&a.id!=null&&tx(a.id).indexOf(ltt)===0}function ctt(a){return ltt+a}function htt(a,t,e){X(a,function(o){var l=o.newOption;Ft(l)&&(o.keyInfo.mainType=t,o.keyInfo.subType=Jzt(t,l,o.existing,e))})}function Jzt(a,t,e,o){var l=t.type?t.type:e?e.subType:o.determineSubType(a,t);return l}function ptt(a,t){var e={},o={};return l(a||[],e),l(t||[],o,e),[f(e),f(o)];function l(h,v,g){for(var y=0,x=h.length;y<x;y++){var b=kr(h[y].seriesId,null);if(b==null)return;for(var T=qe(h[y].dataIndex),C=g&&g[b],M=0,I=T.length;M<I;M++){var P=T[M];C&&C[P]?C[P]=null:(v[b]||(v[b]={}))[P]=1}}}function f(h,v){var g=[];for(var y in h)if(h.hasOwnProperty(y)&&h[y]!=null)if(v)g.push(+y);else{var x=f(h[y],!0);x.length&&g.push({seriesId:y,dataIndex:x})}return g}}function Po(a,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return yt(t.dataIndex)?_t(t.dataIndex,function(e){return a.indexOfRawIndex(e)}):a.indexOfRawIndex(t.dataIndex);if(t.name!=null)return yt(t.name)?_t(t.name,function(e){return a.indexOfName(e)}):a.indexOfName(t.name)}function ue(){var a="__ec_inner_"+Qzt++;return function(t){return t[a]||(t[a]={})}}var Qzt=IA();function Kf(a,t,e){var o=ex(t,e),l=o.mainTypeSpecified,f=o.queryOptionMap,h=o.others,v=h,g=e?e.defaultMainType:null;return!l&&g&&f.set(g,{}),f.each(function(y,x){var b=jf(a,x,y,{useDefault:g===x,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});v[x+"Models"]=b.models,v[x+"Model"]=b.models[0]}),v}function ex(a,t){var e;if(Dt(a)){var o={};o[a+"Index"]=0,e=o}else e=a;var l=Rt(),f={},h=!1;return X(e,function(v,g){if(g==="dataIndex"||g==="dataIndexInside"){f[g]=v;return}var y=g.match(/^(\w+)(Index|Id|Name)$/)||[],x=y[1],b=(y[2]||"").toLowerCase();if(!(!x||!b||t&&t.includeMainTypes&&ae(t.includeMainTypes,x)<0)){h=h||!!x;var T=l.get(x)||l.set(x,{});T[b]=v}}),{mainTypeSpecified:h,queryOptionMap:l,others:f}}var pr={useDefault:!0,enableAll:!1,enableNone:!1},vtt={useDefault:!1,enableAll:!0,enableNone:!0};function jf(a,t,e,o){o=o||pr;var l=e.index,f=e.id,h=e.name,v={models:null,specified:l!=null||f!=null||h!=null};if(!v.specified){var g=void 0;return v.models=o.useDefault&&(g=a.getComponent(t))?[g]:[],v}return l==="none"||l===!1?(Tr(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),v.models=[],v):(l==="all"&&(Tr(o.enableAll,'`"all"` is not a valid value on index option.'),l=f=h=null),v.models=a.queryComponents({mainType:t,index:l,id:f,name:h}),v)}function sz(a,t,e){a.setAttribute?a.setAttribute(t,e):a[t]=e}function dtt(a,t){return a.getAttribute?a.getAttribute(t):a[t]}function gtt(a){return a==="auto"?Ie.domSupported?"html":"richText":a||"html"}function rx(a,t){var e=Rt(),o=[];return X(a,function(l){var f=t(l);(e.get(f)||(o.push(f),e.set(f,[]))).push(l)}),{keys:o,buckets:e}}function PA(a,t,e,o,l){var f=t==null||t==="auto";if(o==null)return o;if(ye(o)){var h=ott(e||0,o,l);return hr(h,f?Math.max(oa(e||0),oa(o)):t)}else{if(Dt(o))return l<1?e:o;for(var v=[],g=e,y=o,x=Math.max(g?g.length:0,y.length),b=0;b<x;++b){var T=a.getDimensionInfo(b);if(T&&T.type==="ordinal")v[b]=(l<1&&g?g:y)[b];else{var C=g&&g[b]?g[b]:0,M=y[b],h=ott(C,M,l);v[b]=hr(h,f?Math.max(oa(C),oa(M)):t)}}return v}}var tVt=".",Rp="___EC__COMPONENT__CONTAINER___",mtt="___EC__EXTENDED_CLASS___";function mn(a){var t={main:"",sub:""};if(a){var e=a.split(tVt);t.main=e[0]||"",t.sub=e[1]||""}return t}function eVt(a){Tr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function ytt(a){return!!(a&&a[mtt])}function Lg(a,t){a.$constructor=a,a.extend=function(e){var o=this,l;return rVt(o)?l=function(f){at(h,f);function h(){return f.apply(this,arguments)||this}return h}(o):(l=function(){(e.$constructor||o).apply(this,arguments)},L_(l,this)),mt(l.prototype,e),l[mtt]=!0,l.extend=this.extend,l.superCall=aVt,l.superApply=nVt,l.superClass=o,l}}function rVt(a){return Nt(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function RA(a,t){a.extend=t.extend}var iVt=Math.round(Math.random()*10);function _tt(a){var t=["__\0is_clz",iVt++].join("_");a.prototype[t]=!0,a.isInstance=function(e){return!!(e&&e[t])}}function aVt(a,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return this.superClass.prototype[t].apply(a,e)}function nVt(a,t,e){return this.superClass.prototype[t].apply(a,e)}function Jf(a){var t={};a.registerClass=function(o){var l=o.type||o.prototype.type;if(l){eVt(l),o.prototype.type=l;var f=mn(l);if(!f.sub)t[f.main]=o;else if(f.sub!==Rp){var h=e(f);h[f.sub]=o}}return o},a.getClass=function(o,l,f){var h=t[o];if(h&&h[Rp]&&(h=l?h[l]:null),f&&!h)throw new Error(l?"Component "+o+"."+(l||"")+" is used but not imported.":o+".type should be specified.");return h},a.getClassesByMainType=function(o){var l=mn(o),f=[],h=t[l.main];return h&&h[Rp]?X(h,function(v,g){g!==Rp&&f.push(v)}):f.push(h),f},a.hasClass=function(o){var l=mn(o);return!!t[l.main]},a.getAllClassMainTypes=function(){var o=[];return X(t,function(l,f){o.push(f)}),o},a.hasSubTypes=function(o){var l=mn(o),f=t[l.main];return f&&f[Rp]};function e(o){var l=t[o.main];return(!l||!l[Rp])&&(l=t[o.main]={},l[Rp]=!0),l}}function yn(a,t){for(var e=0;e<a.length;e++)a[e][1]||(a[e][1]=a[e][0]);return t=t||!1,function(o,l,f){for(var h={},v=0;v<a.length;v++){var g=a[v][1];if(!(l&&ae(l,g)>=0||f&&ae(f,g)<0)){var y=o.getShallow(g,t);y!=null&&(h[a[v][0]]=y)}}return h}}var oVt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],sVt=yn(oVt),xtt=function(){function a(){}return a.prototype.getAreaStyle=function(t,e){return sVt(this,t,e)},a}();var uz=new mu(50);function btt(a){if(typeof a=="string"){var t=uz.get(a);return t&&t.image}else return a}function ix(a,t,e,o,l){if(a)if(typeof a=="string"){if(t&&t.__zrImageSrc===a||!e)return t;var f=uz.get(a),h={hostEl:e,cb:o,cbPayload:l};return f?(t=f.image,!Ig(t)&&f.pending.push(h)):(t=$i.loadImage(a,Stt,Stt),t.__zrImageSrc=a,uz.put(a,t.__cachedImgObj={image:t,pending:[h]})),t}else return a;else return t}function Stt(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<a.pending.length;t++){var e=a.pending[t],o=e.cb;o&&o(this,e.cbPayload),e.hostEl.dirty()}a.pending.length=0}function Ig(a){return a&&a.width&&a.height}var fz=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function hz(a,t,e,o,l){var f={};return Ttt(f,a,t,e,o,l),f.text}function Ttt(a,t,e,o,l,f){if(!e){a.text="",a.isTruncated=!1;return}var h=(t+"").split(`
`);f=Att(e,o,l,f);for(var v=!1,g={},y=0,x=h.length;y<x;y++)Ctt(g,h[y],f),h[y]=g.textLine,v=v||g.isTruncated;a.text=h.join(`
`),a.isTruncated=v}function Att(a,t,e,o){o=o||{};var l=mt({},o);l.font=t,e=oe(e,"..."),l.maxIterations=oe(o.maxIterations,2);var f=l.minChar=oe(o.minChar,0);l.cnCharWidth=vn("\u56FD",t);var h=l.ascCharWidth=vn("a",t);l.placeholder=oe(o.placeholder,"");for(var v=a=Math.max(0,a-1),g=0;g<f&&v>=h;g++)v-=h;var y=vn(e,t);return y>v&&(e="",y=0),v=a-y,l.ellipsis=e,l.ellipsisWidth=y,l.contentWidth=v,l.containerWidth=a,l}function Ctt(a,t,e){var o=e.containerWidth,l=e.font,f=e.contentWidth;if(!o){a.textLine="",a.isTruncated=!1;return}var h=vn(t,l);if(h<=o){a.textLine=t,a.isTruncated=!1;return}for(var v=0;;v++){if(h<=f||v>=e.maxIterations){t+=e.ellipsis;break}var g=v===0?uVt(t,f,e.ascCharWidth,e.cnCharWidth):h>0?Math.floor(t.length*f/h):0;t=t.substr(0,g),h=vn(t,l)}t===""&&(t=e.placeholder),a.textLine=t,a.isTruncated=!0}function uVt(a,t,e,o){for(var l=0,f=0,h=a.length;f<h&&l<t;f++){var v=a.charCodeAt(f);l+=0<=v&&v<=127?e:o}return f}function Dtt(a,t){a!=null&&(a+="");var e=t.overflow,o=t.padding,l=t.font,f=e==="truncate",h=Sg(l),v=oe(t.lineHeight,h),g=!!t.backgroundColor,y=t.lineOverflow==="truncate",x=!1,b=t.width,T;b!=null&&(e==="break"||e==="breakAll")?T=a?Ltt(a,t.font,b,e==="breakAll",0).lines:[]:T=a?a.split(`
`):[];var C=T.length*v,M=oe(t.height,C);if(C>M&&y){var I=Math.floor(M/v);x=x||T.length>I,T=T.slice(0,I)}if(a&&f&&b!=null)for(var P=Att(b,l,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),O={},N=0;N<T.length;N++)Ctt(O,T[N],P),T[N]=O.textLine,x=x||O.isTruncated;for(var V=M,F=0,N=0;N<T.length;N++)F=Math.max(vn(T[N],l),F);b==null&&(b=F);var U=F;return o&&(V+=o[0]+o[2],U+=o[1]+o[3],b+=o[1]+o[3]),g&&(U=b),{lines:T,height:M,outerWidth:U,outerHeight:V,lineHeight:v,calculatedLineHeight:h,contentWidth:F,contentHeight:C,width:b,isTruncated:x}}var fVt=function(){function a(){}return a}(),wtt=function(){function a(t){this.tokens=[],t&&(this.tokens=t)}return a}(),cVt=function(){function a(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return a}();function Mtt(a,t){var e=new cVt;if(a!=null&&(a+=""),!a)return e;for(var o=t.width,l=t.height,f=t.overflow,h=(f==="break"||f==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:f==="breakAll"}:null,v=fz.lastIndex=0,g;(g=fz.exec(a))!=null;){var y=g.index;y>v&&cz(e,a.substring(v,y),t,h),cz(e,g[2],t,h,g[1]),v=fz.lastIndex}v<a.length&&cz(e,a.substring(v,a.length),t,h);var x=[],b=0,T=0,C=t.padding,M=f==="truncate",I=t.lineOverflow==="truncate",P={};function O(Et,At,Zt){Et.width=At,Et.lineHeight=Zt,b+=Zt,T=Math.max(T,At)}t:for(var N=0;N<e.lines.length;N++){for(var V=e.lines[N],F=0,U=0,H=0;H<V.tokens.length;H++){var Z=V.tokens[H],$=Z.styleName&&t.rich[Z.styleName]||{},K=Z.textPadding=$.padding,Q=K?K[1]+K[3]:0,rt=Z.font=$.font||t.font;Z.contentHeight=Sg(rt);var nt=oe($.height,Z.contentHeight);if(Z.innerHeight=nt,K&&(nt+=K[0]+K[2]),Z.height=nt,Z.lineHeight=Ci($.lineHeight,t.lineHeight,nt),Z.align=$&&$.align||t.align,Z.verticalAlign=$&&$.verticalAlign||"middle",I&&l!=null&&b+Z.lineHeight>l){var ot=e.lines.length;H>0?(V.tokens=V.tokens.slice(0,H),O(V,U,F),e.lines=e.lines.slice(0,N+1)):e.lines=e.lines.slice(0,N),e.isTruncated=e.isTruncated||e.lines.length<ot;break t}var ft=$.width,lt=ft==null||ft==="auto";if(typeof ft=="string"&&ft.charAt(ft.length-1)==="%")Z.percentWidth=ft,x.push(Z),Z.contentWidth=vn(Z.text,rt);else{if(lt){var pt=$.backgroundColor,xt=pt&&pt.image;xt&&(xt=btt(xt),Ig(xt)&&(Z.width=Math.max(Z.width,xt.width*nt/xt.height)))}var st=M&&o!=null?o-U:null;st!=null&&st<Z.width?!lt||st<Q?(Z.text="",Z.width=Z.contentWidth=0):(Ttt(P,Z.text,st-Q,rt,t.ellipsis,{minChar:t.truncateMinChar}),Z.text=P.text,e.isTruncated=e.isTruncated||P.isTruncated,Z.width=Z.contentWidth=vn(Z.text,rt)):Z.contentWidth=vn(Z.text,rt)}Z.width+=Q,U+=Z.width,$&&(F=Math.max(F,Z.lineHeight))}O(V,U,F)}e.outerWidth=e.width=oe(o,T),e.outerHeight=e.height=oe(l,b),e.contentHeight=b,e.contentWidth=T,C&&(e.outerWidth+=C[1]+C[3],e.outerHeight+=C[0]+C[2]);for(var N=0;N<x.length;N++){var Z=x[N],dt=Z.percentWidth;Z.width=parseInt(dt,10)/100*e.width}return e}function cz(a,t,e,o,l){var f=t==="",h=l&&e.rich[l]||{},v=a.lines,g=h.font||e.font,y=!1,x,b;if(o){var T=h.padding,C=T?T[1]+T[3]:0;if(h.width!=null&&h.width!=="auto"){var M=na(h.width,o.width)+C;v.length>0&&M+o.accumWidth>o.width&&(x=t.split(`
`),y=!0),o.accumWidth=M}else{var I=Ltt(t,g,o.width,o.breakAll,o.accumWidth);o.accumWidth=I.accumWidth+C,b=I.linesWidths,x=I.lines}}else x=t.split(`
`);for(var P=0;P<x.length;P++){var O=x[P],N=new fVt;if(N.styleName=l,N.text=O,N.isLineHolder=!O&&!f,typeof h.width=="number"?N.width=h.width:N.width=b?b[P]:vn(O,g),!P&&!y){var V=(v[v.length-1]||(v[0]=new wtt)).tokens,F=V.length;F===1&&V[0].isLineHolder?V[0]=N:(O||!F||f)&&V.push(N)}else v.push(new wtt([N]))}}function hVt(a){var t=a.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var pVt=Ai(",&?/;] ".split(""),function(a,t){return a[t]=!0,a},{});function vVt(a){return hVt(a)?!!pVt[a]:!0}function Ltt(a,t,e,o,l){for(var f=[],h=[],v="",g="",y=0,x=0,b=0;b<a.length;b++){var T=a.charAt(b);if(T===`
`){g&&(v+=g,x+=y),f.push(v),h.push(x),v="",g="",y=0,x=0;continue}var C=vn(T,t),M=o?!1:!vVt(T);if(f.length?x+C>e:l+x+C>e){x?(v||g)&&(M?(v||(v=g,g="",y=0,x=y),f.push(v),h.push(x-y),g+=T,y+=C,v="",x=y):(g&&(v+=g,g="",y=0),f.push(v),h.push(x),v=T,x=C)):M?(f.push(g),h.push(y),g=T,y=C):(f.push(T),h.push(C));continue}x+=C,M?(g+=T,y+=C):(g&&(v+=g,g="",y=0),v+=T)}return!f.length&&!v&&(v=a,g="",y=0),g&&(v+=g),v&&(f.push(v),h.push(x)),f.length===1&&(x+=l),{accumWidth:x,lines:f,linesWidths:h}}var dz="__zr_style_"+Math.round(Math.random()*10),xl={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Op={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};xl[dz]=!0;var Itt=["z","z2","invisible"],dVt=["invisible"],gVt=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype._init=function(e){for(var o=he(e),l=0;l<o.length;l++){var f=o[l];f==="style"?this.useStyle(e[f]):a.prototype.attrKV.call(this,f,e[f])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,o,l,f){var h=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&mVt(this,e,o)||h&&!h[0]&&!h[3])return!1;if(l&&this.__clipPaths){for(var v=0;v<this.__clipPaths.length;++v)if(this.__clipPaths[v].isZeroArea())return!1}if(f&&this.parent)for(var g=this.parent;g;){if(g.ignore)return!1;g=g.parent}return!0},t.prototype.contain=function(e,o){return this.rectContain(e,o)},t.prototype.traverse=function(e,o){e.call(o,this)},t.prototype.rectContain=function(e,o){var l=this.transformCoordToLocal(e,o),f=this.getBoundingRect();return f.contain(l[0],l[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,l=this.getBoundingRect(),f=this.style,h=f.shadowBlur||0,v=f.shadowOffsetX||0,g=f.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new ie(0,0,0,0)),o?ie.applyTransform(e,l,o):e.copy(l),(h||v||g)&&(e.width+=h*2+Math.abs(v),e.height+=h*2+Math.abs(g),e.x=Math.min(e.x,e.x+v-h),e.y=Math.min(e.y,e.y+g-h));var y=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-y),e.y=Math.floor(e.y-y),e.width=Math.ceil(e.width+1+y*2),e.height=Math.ceil(e.height+1+y*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new ie(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,o){e!=="style"?a.prototype.attrKV.call(this,e,o):this.style?this.setStyle(o):this.useStyle(o)},t.prototype.setStyle=function(e,o){return typeof e=="string"?this.style[e]=o:mt(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=xp,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&xp)},t.prototype.styleUpdated=function(){this.__dirty&=~xp},t.prototype.createStyle=function(e){return du(xl,e)},t.prototype.useStyle=function(e){e[dz]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[dz]},t.prototype._innerSaveToNormal=function(e){a.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,o,Itt)},t.prototype._applyStateObj=function(e,o,l,f,h,v){a.prototype._applyStateObj.call(this,e,o,l,f,h,v);var g=!(o&&f),y;if(o&&o.style?h?f?y=o.style:(y=this._mergeStyle(this.createStyle(),l.style),this._mergeStyle(y,o.style)):(y=this._mergeStyle(this.createStyle(),f?this.style:l.style),this._mergeStyle(y,o.style)):g&&(y=l.style),y)if(h){var x=this.style;if(this.style=this.createStyle(g?{}:x),g)for(var b=he(x),T=0;T<b.length;T++){var C=b[T];C in y&&(y[C]=y[C],this.style[C]=x[C])}for(var M=he(y),T=0;T<M.length;T++){var C=M[T];this.style[C]=this.style[C]}this._transitionState(e,{style:y},v,this.getAnimationStyleProps())}else this.useStyle(y);for(var I=this.__inHover?dVt:Itt,T=0;T<I.length;T++){var C=I[T];o&&o[C]!=null?this[C]=o[C]:g&&l[C]!=null&&(this[C]=l[C])}},t.prototype._mergeStates=function(e){for(var o=a.prototype._mergeStates.call(this,e),l,f=0;f<e.length;f++){var h=e[f];h.style&&(l=l||{},this._mergeStyle(l,h.style))}return l&&(o.style=l),o},t.prototype._mergeStyle=function(e,o){return mt(e,o),e},t.prototype.getAnimationStyleProps=function(){return Op},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Li|xp}(),t}(AA),pz=new ie(0,0,0,0),vz=new ie(0,0,0,0);function mVt(a,t,e){return pz.copy(a.getBoundingRect()),a.transform&&pz.applyTransform(a.transform),vz.width=t,vz.height=e,!pz.intersect(vz)}var ai=gVt;var _n=Math.min,xn=Math.max,gz=Math.sin,mz=Math.cos,kp=Math.PI*2,OA=bs(),kA=bs(),NA=bs();function Np(a,t,e){if(a.length!==0){for(var o=a[0],l=o[0],f=o[0],h=o[1],v=o[1],g=1;g<a.length;g++)o=a[g],l=_n(l,o[0]),f=xn(f,o[0]),h=_n(h,o[1]),v=xn(v,o[1]);t[0]=l,t[1]=h,e[0]=f,e[1]=v}}function yz(a,t,e,o,l,f){l[0]=_n(a,e),l[1]=_n(t,o),f[0]=xn(a,e),f[1]=xn(t,o)}var Ett=[],Ptt=[];function Rtt(a,t,e,o,l,f,h,v,g,y){var x=aA,b=jr,T=x(a,e,l,h,Ett);g[0]=1/0,g[1]=1/0,y[0]=-1/0,y[1]=-1/0;for(var C=0;C<T;C++){var M=b(a,e,l,h,Ett[C]);g[0]=_n(M,g[0]),y[0]=xn(M,y[0])}T=x(t,o,f,v,Ptt);for(var C=0;C<T;C++){var I=b(t,o,f,v,Ptt[C]);g[1]=_n(I,g[1]),y[1]=xn(I,y[1])}g[0]=_n(a,g[0]),y[0]=xn(a,y[0]),g[0]=_n(h,g[0]),y[0]=xn(h,y[0]),g[1]=_n(t,g[1]),y[1]=xn(t,y[1]),g[1]=_n(v,g[1]),y[1]=xn(v,y[1])}function Ott(a,t,e,o,l,f,h,v){var g=oA,y=ii,x=xn(_n(g(a,e,l),1),0),b=xn(_n(g(t,o,f),1),0),T=y(a,e,l,x),C=y(t,o,f,b);h[0]=_n(a,l,T),h[1]=_n(t,f,C),v[0]=xn(a,l,T),v[1]=xn(t,f,C)}function ktt(a,t,e,o,l,f,h,v,g){var y=ln,x=un,b=Math.abs(l-f);if(b%kp<1e-4&&b>1e-4){v[0]=a-e,v[1]=t-o,g[0]=a+e,g[1]=t+o;return}if(OA[0]=mz(l)*e+a,OA[1]=gz(l)*o+t,kA[0]=mz(f)*e+a,kA[1]=gz(f)*o+t,y(v,OA,kA),x(g,OA,kA),l=l%kp,l<0&&(l=l+kp),f=f%kp,f<0&&(f=f+kp),l>f&&!h?f+=kp:l<f&&h&&(l+=kp),h){var T=f;f=l,l=T}for(var C=0;C<f;C+=Math.PI/2)C>l&&(NA[0]=mz(C)*e+a,NA[1]=gz(C)*o+t,y(v,NA,v),x(g,NA,g))}var Lr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},zp=[],Vp=[],Sl=[],Qf=[],bl=[],wl=[],_z=Math.min,xz=Math.max,Bp=Math.cos,Fp=Math.sin,xu=Math.abs,wz=Math.PI,tc=wz*2,Sz=typeof Float32Array<"u",ax=[];function bz(a){var t=Math.round(a/wz*1e8)/1e8;return t%2*wz}function nx(a,t){var e=bz(a[0]);e<0&&(e+=tc);var o=e-a[0],l=a[1];l+=o,!t&&l-e>=tc?l=e+tc:t&&e-l>=tc?l=e-tc:!t&&e>l?l=e+(tc-bz(e-l)):t&&e<l&&(l=e-(tc-bz(l-e))),a[0]=e,a[1]=l}var yVt=function(){function a(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(t,e,o){o=o||0,o>0&&(this._ux=xu(o/Cp/t)||0,this._uy=xu(o/Cp/e)||0)},a.prototype.setDPR=function(t){this.dpr=t},a.prototype.setContext=function(t){this._ctx=t},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Lr.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},a.prototype.lineTo=function(t,e){var o=xu(t-this._xi),l=xu(e-this._yi),f=o>this._ux||l>this._uy;if(this.addData(Lr.L,t,e),this._ctx&&f&&this._ctx.lineTo(t,e),f)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var h=o*o+l*l;h>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=h)}return this},a.prototype.bezierCurveTo=function(t,e,o,l,f,h){return this._drawPendingPt(),this.addData(Lr.C,t,e,o,l,f,h),this._ctx&&this._ctx.bezierCurveTo(t,e,o,l,f,h),this._xi=f,this._yi=h,this},a.prototype.quadraticCurveTo=function(t,e,o,l){return this._drawPendingPt(),this.addData(Lr.Q,t,e,o,l),this._ctx&&this._ctx.quadraticCurveTo(t,e,o,l),this._xi=o,this._yi=l,this},a.prototype.arc=function(t,e,o,l,f,h){this._drawPendingPt(),ax[0]=l,ax[1]=f,nx(ax,h),l=ax[0],f=ax[1];var v=f-l;return this.addData(Lr.A,t,e,o,o,l,v,0,h?0:1),this._ctx&&this._ctx.arc(t,e,o,l,f,h),this._xi=Bp(f)*o+t,this._yi=Fp(f)*o+e,this},a.prototype.arcTo=function(t,e,o,l,f){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,o,l,f),this},a.prototype.rect=function(t,e,o,l){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,o,l),this.addData(Lr.R,t,e,o,l),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(Lr.Z);var t=this._ctx,e=this._x0,o=this._y0;return t&&t.closePath(),this._xi=e,this._yi=o,this},a.prototype.fill=function(t){t&&t.fill(),this.toStatic()},a.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&Sz&&(this.data=new Float32Array(e));for(var o=0;o<e;o++)this.data[o]=t[o];this._len=e},a.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,o=0,l=this._len,f=0;f<e;f++)o+=t[f].len();Sz&&this.data instanceof Float32Array&&(this.data=new Float32Array(l+o));for(var f=0;f<e;f++)for(var h=t[f].data,v=0;v<h.length;v++)this.data[l++]=h[v];this._len=l},a.prototype.addData=function(t,e,o,l,f,h,v,g,y){if(this._saveData){var x=this.data;this._len+arguments.length>x.length&&(this._expandData(),x=this.data);for(var b=0;b<arguments.length;b++)x[this._len++]=arguments[b]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},a.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Sz&&this._len>11&&(this.data=new Float32Array(t)))}},a.prototype.getBoundingRect=function(){Sl[0]=Sl[1]=bl[0]=bl[1]=Number.MAX_VALUE,Qf[0]=Qf[1]=wl[0]=wl[1]=-Number.MAX_VALUE;var t=this.data,e=0,o=0,l=0,f=0,h;for(h=0;h<this._len;){var v=t[h++],g=h===1;switch(g&&(e=t[h],o=t[h+1],l=e,f=o),v){case Lr.M:e=l=t[h++],o=f=t[h++],bl[0]=l,bl[1]=f,wl[0]=l,wl[1]=f;break;case Lr.L:yz(e,o,t[h],t[h+1],bl,wl),e=t[h++],o=t[h++];break;case Lr.C:Rtt(e,o,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],bl,wl),e=t[h++],o=t[h++];break;case Lr.Q:Ott(e,o,t[h++],t[h++],t[h],t[h+1],bl,wl),e=t[h++],o=t[h++];break;case Lr.A:var y=t[h++],x=t[h++],b=t[h++],T=t[h++],C=t[h++],M=t[h++]+C;h+=1;var I=!t[h++];g&&(l=Bp(C)*b+y,f=Fp(C)*T+x),ktt(y,x,b,T,C,M,I,bl,wl),e=Bp(M)*b+y,o=Fp(M)*T+x;break;case Lr.R:l=e=t[h++],f=o=t[h++];var P=t[h++],O=t[h++];yz(l,f,l+P,f+O,bl,wl);break;case Lr.Z:e=l,o=f;break}ln(Sl,Sl,bl),un(Qf,Qf,wl)}return h===0&&(Sl[0]=Sl[1]=Qf[0]=Qf[1]=0),new ie(Sl[0],Sl[1],Qf[0]-Sl[0],Qf[1]-Sl[1])},a.prototype._calculateLength=function(){var t=this.data,e=this._len,o=this._ux,l=this._uy,f=0,h=0,v=0,g=0;this._pathSegLen||(this._pathSegLen=[]);for(var y=this._pathSegLen,x=0,b=0,T=0;T<e;){var C=t[T++],M=T===1;M&&(f=t[T],h=t[T+1],v=f,g=h);var I=-1;switch(C){case Lr.M:f=v=t[T++],h=g=t[T++];break;case Lr.L:{var P=t[T++],O=t[T++],N=P-f,V=O-h;(xu(N)>o||xu(V)>l||T===e-1)&&(I=Math.sqrt(N*N+V*V),f=P,h=O);break}case Lr.C:{var F=t[T++],U=t[T++],P=t[T++],O=t[T++],H=t[T++],Z=t[T++];I=xQ(f,h,F,U,P,O,H,Z,10),f=H,h=Z;break}case Lr.Q:{var F=t[T++],U=t[T++],P=t[T++],O=t[T++];I=bQ(f,h,F,U,P,O,10),f=P,h=O;break}case Lr.A:var $=t[T++],K=t[T++],Q=t[T++],rt=t[T++],nt=t[T++],ot=t[T++],ft=ot+nt;T+=1,M&&(v=Bp(nt)*Q+$,g=Fp(nt)*rt+K),I=xz(Q,rt)*_z(tc,Math.abs(ot)),f=Bp(ft)*Q+$,h=Fp(ft)*rt+K;break;case Lr.R:{v=f=t[T++],g=h=t[T++];var lt=t[T++],pt=t[T++];I=lt*2+pt*2;break}case Lr.Z:{var N=v-f,V=g-h;I=Math.sqrt(N*N+V*V),f=v,h=g;break}}I>=0&&(y[b++]=I,x+=I)}return this._pathLen=x,x},a.prototype.rebuildPath=function(t,e){var o=this.data,l=this._ux,f=this._uy,h=this._len,v,g,y,x,b,T,C=e<1,M,I,P=0,O=0,N,V=0,F,U;if(!(C&&(this._pathSegLen||this._calculateLength(),M=this._pathSegLen,I=this._pathLen,N=e*I,!N)))t:for(var H=0;H<h;){var Z=o[H++],$=H===1;switch($&&(y=o[H],x=o[H+1],v=y,g=x),Z!==Lr.L&&V>0&&(t.lineTo(F,U),V=0),Z){case Lr.M:v=y=o[H++],g=x=o[H++],t.moveTo(y,x);break;case Lr.L:{b=o[H++],T=o[H++];var K=xu(b-y),Q=xu(T-x);if(K>l||Q>f){if(C){var rt=M[O++];if(P+rt>N){var nt=(N-P)/rt;t.lineTo(y*(1-nt)+b*nt,x*(1-nt)+T*nt);break t}P+=rt}t.lineTo(b,T),y=b,x=T,V=0}else{var ot=K*K+Q*Q;ot>V&&(F=b,U=T,V=ot)}break}case Lr.C:{var ft=o[H++],lt=o[H++],pt=o[H++],xt=o[H++],st=o[H++],dt=o[H++];if(C){var rt=M[O++];if(P+rt>N){var nt=(N-P)/rt;Io(y,ft,pt,st,nt,zp),Io(x,lt,xt,dt,nt,Vp),t.bezierCurveTo(zp[1],Vp[1],zp[2],Vp[2],zp[3],Vp[3]);break t}P+=rt}t.bezierCurveTo(ft,lt,pt,xt,st,dt),y=st,x=dt;break}case Lr.Q:{var ft=o[H++],lt=o[H++],pt=o[H++],xt=o[H++];if(C){var rt=M[O++];if(P+rt>N){var nt=(N-P)/rt;Yf(y,ft,pt,nt,zp),Yf(x,lt,xt,nt,Vp),t.quadraticCurveTo(zp[1],Vp[1],zp[2],Vp[2]);break t}P+=rt}t.quadraticCurveTo(ft,lt,pt,xt),y=pt,x=xt;break}case Lr.A:var Et=o[H++],At=o[H++],Zt=o[H++],qt=o[H++],te=o[H++],j=o[H++],Tt=o[H++],lr=!o[H++],jt=Zt>qt?Zt:qt,ve=xu(Zt-qt)>.001,Xt=te+j,fe=!1;if(C){var rt=M[O++];P+rt>N&&(Xt=te+j*(N-P)/rt,fe=!0),P+=rt}if(ve&&t.ellipse?t.ellipse(Et,At,Zt,qt,Tt,te,Xt,lr):t.arc(Et,At,jt,te,Xt,lr),fe)break t;$&&(v=Bp(te)*Zt+Et,g=Fp(te)*qt+At),y=Bp(Xt)*Zt+Et,x=Fp(Xt)*qt+At;break;case Lr.R:v=y=o[H],g=x=o[H+1],b=o[H++],T=o[H++];var Mt=o[H++],ee=o[H++];if(C){var rt=M[O++];if(P+rt>N){var wt=N-P;t.moveTo(b,T),t.lineTo(b+_z(wt,Mt),T),wt-=Mt,wt>0&&t.lineTo(b+Mt,T+_z(wt,ee)),wt-=ee,wt>0&&t.lineTo(b+xz(Mt-wt,0),T+ee),wt-=Mt,wt>0&&t.lineTo(b,T+xz(ee-wt,0));break t}P+=rt}t.rect(b,T,Mt,ee);break;case Lr.Z:if(C){var rt=M[O++];if(P+rt>N){var nt=(N-P)/rt;t.lineTo(y*(1-nt)+v*nt,x*(1-nt)+g*nt);break t}P+=rt}t.closePath(),y=v,x=g}}},a.prototype.clone=function(){var t=new a,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},a.CMD=Lr,a.initDefaultProps=function(){var t=a.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),a}(),Hi=yVt;function Tl(a,t,e,o,l,f,h){if(l===0)return!1;var v=l,g=0,y=a;if(h>t+v&&h>o+v||h<t-v&&h<o-v||f>a+v&&f>e+v||f<a-v&&f<e-v)return!1;if(a!==e)g=(t-o)/(a-e),y=(a*o-e*t)/(a-e);else return Math.abs(f-a)<=v/2;var x=g*f-h+y,b=x*x/(g*g+1);return b<=v/2*v/2}function Vtt(a,t,e,o,l,f,h,v,g,y,x){if(g===0)return!1;var b=g;if(x>t+b&&x>o+b&&x>f+b&&x>v+b||x<t-b&&x<o-b&&x<f-b&&x<v-b||y>a+b&&y>e+b&&y>l+b&&y>h+b||y<a-b&&y<e-b&&y<l-b&&y<h-b)return!1;var T=nA(a,t,e,o,l,f,h,v,y,x,null);return T<=b/2}function zA(a,t,e,o,l,f,h,v,g){if(h===0)return!1;var y=h;if(g>t+y&&g>o+y&&g>f+y||g<t-y&&g<o-y&&g<f-y||v>a+y&&v>e+y&&v>l+y||v<a-y&&v<e-y&&v<l-y)return!1;var x=sA(a,t,e,o,l,f,v,g,null);return x<=y/2}var Ftt=Math.PI*2;function sa(a){return a%=Ftt,a<0&&(a+=Ftt),a}var ox=Math.PI*2;function Utt(a,t,e,o,l,f,h,v,g){if(h===0)return!1;var y=h;v-=a,g-=t;var x=Math.sqrt(v*v+g*g);if(x-y>e||x+y<e)return!1;if(Math.abs(o-l)%ox<1e-4)return!0;if(f){var b=o;o=sa(l),l=sa(b)}else o=sa(o),l=sa(l);o>l&&(l+=ox);var T=Math.atan2(g,v);return T<0&&(T+=ox),T>=o&&T<=l||T+ox>=o&&T+ox<=l}function Ro(a,t,e,o,l,f){if(f>t&&f>o||f<t&&f<o||o===t)return 0;var h=(f-t)/(o-t),v=o<t?1:-1;(h===1||h===0)&&(v=o<t?.5:-.5);var g=h*(e-a)+a;return g===l?1/0:g>l?v:0}var ec=Hi.CMD,Up=Math.PI*2,SVt=1e-4;function bVt(a,t){return Math.abs(a-t)<SVt}var Ya=[-1,-1,-1],Oo=[-1,-1];function wVt(){var a=Oo[0];Oo[0]=Oo[1],Oo[1]=a}function TVt(a,t,e,o,l,f,h,v,g,y){if(y>t&&y>o&&y>f&&y>v||y<t&&y<o&&y<f&&y<v)return 0;var x=Sp(t,o,f,v,y,Ya);if(x===0)return 0;for(var b=0,T=-1,C=void 0,M=void 0,I=0;I<x;I++){var P=Ya[I],O=P===0||P===1?.5:1,N=jr(a,e,l,h,P);N<g||(T<0&&(T=aA(t,o,f,v,Oo),Oo[1]<Oo[0]&&T>1&&wVt(),C=jr(t,o,f,v,Oo[0]),T>1&&(M=jr(t,o,f,v,Oo[1]))),T===2?P<Oo[0]?b+=C<t?O:-O:P<Oo[1]?b+=M<C?O:-O:b+=v<M?O:-O:P<Oo[0]?b+=C<t?O:-O:b+=v<C?O:-O)}return b}function AVt(a,t,e,o,l,f,h,v){if(v>t&&v>o&&v>f||v<t&&v<o&&v<f)return 0;var g=SQ(t,o,f,v,Ya);if(g===0)return 0;var y=oA(t,o,f);if(y>=0&&y<=1){for(var x=0,b=ii(t,o,f,y),T=0;T<g;T++){var C=Ya[T]===0||Ya[T]===1?.5:1,M=ii(a,e,l,Ya[T]);M<h||(Ya[T]<y?x+=b<t?C:-C:x+=f<b?C:-C)}return x}else{var C=Ya[0]===0||Ya[0]===1?.5:1,M=ii(a,e,l,Ya[0]);return M<h?0:f<t?C:-C}}function CVt(a,t,e,o,l,f,h,v){if(v-=t,v>e||v<-e)return 0;var g=Math.sqrt(e*e-v*v);Ya[0]=-g,Ya[1]=g;var y=Math.abs(o-l);if(y<1e-4)return 0;if(y>=Up-1e-4){o=0,l=Up;var x=f?1:-1;return h>=Ya[0]+a&&h<=Ya[1]+a?x:0}if(o>l){var b=o;o=l,l=b}o<0&&(o+=Up,l+=Up);for(var T=0,C=0;C<2;C++){var M=Ya[C];if(M+a>h){var I=Math.atan2(v,M),x=f?1:-1;I<0&&(I=Up+I),(I>=o&&I<=l||I+Up>=o&&I+Up<=l)&&(I>Math.PI/2&&I<Math.PI*1.5&&(x=-x),T+=x)}}return T}function Gtt(a,t,e,o,l){for(var f=a.data,h=a.len(),v=0,g=0,y=0,x=0,b=0,T,C,M=0;M<h;){var I=f[M++],P=M===1;switch(I===ec.M&&M>1&&(e||(v+=Ro(g,y,x,b,o,l))),P&&(g=f[M],y=f[M+1],x=g,b=y),I){case ec.M:x=f[M++],b=f[M++],g=x,y=b;break;case ec.L:if(e){if(Tl(g,y,f[M],f[M+1],t,o,l))return!0}else v+=Ro(g,y,f[M],f[M+1],o,l)||0;g=f[M++],y=f[M++];break;case ec.C:if(e){if(Vtt(g,y,f[M++],f[M++],f[M++],f[M++],f[M],f[M+1],t,o,l))return!0}else v+=TVt(g,y,f[M++],f[M++],f[M++],f[M++],f[M],f[M+1],o,l)||0;g=f[M++],y=f[M++];break;case ec.Q:if(e){if(zA(g,y,f[M++],f[M++],f[M],f[M+1],t,o,l))return!0}else v+=AVt(g,y,f[M++],f[M++],f[M],f[M+1],o,l)||0;g=f[M++],y=f[M++];break;case ec.A:var O=f[M++],N=f[M++],V=f[M++],F=f[M++],U=f[M++],H=f[M++];M+=1;var Z=!!(1-f[M++]);T=Math.cos(U)*V+O,C=Math.sin(U)*F+N,P?(x=T,b=C):v+=Ro(g,y,T,C,o,l);var $=(o-O)*F/V+O;if(e){if(Utt(O,N,F,U,U+H,Z,t,$,l))return!0}else v+=CVt(O,N,F,U,U+H,Z,$,l);g=Math.cos(U+H)*V+O,y=Math.sin(U+H)*F+N;break;case ec.R:x=g=f[M++],b=y=f[M++];var K=f[M++],Q=f[M++];if(T=x+K,C=b+Q,e){if(Tl(x,b,T,b,t,o,l)||Tl(T,b,T,C,t,o,l)||Tl(T,C,x,C,t,o,l)||Tl(x,C,x,b,t,o,l))return!0}else v+=Ro(T,b,T,C,o,l),v+=Ro(x,C,x,b,o,l);break;case ec.Z:if(e){if(Tl(g,y,x,b,t,o,l))return!0}else v+=Ro(g,y,x,b,o,l);g=x,y=b;break}}return!e&&!bVt(y,b)&&(v+=Ro(g,y,x,b,o,l)||0),v!==0}function Htt(a,t,e){return Gtt(a,0,!1,t,e)}function Wtt(a,t,e,o){return Gtt(a,t,!0,e,o)}var Eg=zt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},xl),MVt={style:zt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Op.style)},Tz=Yn.concat(["invisible","culling","z","z2","zlevel","parent"]),LVt=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.update=function(){var e=this;a.prototype.update.call(this);var o=this.style;if(o.decal){var l=this._decalEl=this._decalEl||new t;l.buildPath===t.prototype.buildPath&&(l.buildPath=function(g){e.buildPath(g,e.shape)}),l.silent=!0;var f=l.style;for(var h in o)f[h]!==o[h]&&(f[h]=o[h]);f.fill=o.fill?o.decal:null,f.decal=null,f.shadowColor=null,o.strokeFirst&&(f.stroke=null);for(var v=0;v<Tz.length;++v)l[Tz[v]]=this[Tz[v]];l.__dirty|=Li}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var o=he(e);this.shape=this.getDefaultShape();var l=this.getDefaultStyle();l&&this.useStyle(l);for(var f=0;f<o.length;f++){var h=o[f],v=e[h];h==="style"?this.style?mt(this.style,v):this.useStyle(v):h==="shape"?mt(this.shape,v):a.prototype.attrKV.call(this,h,v)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(Dt(e)){var o=wp(e,0);return o>.5?$_:o>.2?ZQ:K_}else if(e)return K_}return $_},t.prototype.getInsideTextStroke=function(e){var o=this.style.fill;if(Dt(o)){var l=this.__zr,f=!!(l&&l.isDarkMode()),h=wp(e,0)<q_;if(f===h)return o}},t.prototype.buildPath=function(e,o,l){},t.prototype.pathUpdated=function(){this.__dirty&=~Gf},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Hi(!1)},t.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return!(o==null||o==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,o=e.fill;return o!=null&&o!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,o=this.style,l=!e;if(l){var f=!1;this.path||(f=!0,this.createPathProxy());var h=this.path;(f||this.__dirty&Gf)&&(h.beginPath(),this.buildPath(h,this.shape,!1),this.pathUpdated()),e=h.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var v=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||l){v.copy(e);var g=o.strokeNoScale?this.getLineScale():1,y=o.lineWidth;if(!this.hasFill()){var x=this.strokeContainThreshold;y=Math.max(y,x??4)}g>1e-10&&(v.width+=y/g,v.height+=y/g,v.x-=y/g/2,v.y-=y/g/2)}return v}return e},t.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),f=this.getBoundingRect(),h=this.style;if(e=l[0],o=l[1],f.contain(e,o)){var v=this.path;if(this.hasStroke()){var g=h.lineWidth,y=h.strokeNoScale?this.getLineScale():1;if(y>1e-10&&(this.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),Wtt(v,g/y,e,o)))return!0}if(this.hasFill())return Htt(v,e,o)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Gf,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,o){e==="shape"?this.setShape(o):a.prototype.attrKV.call(this,e,o)},t.prototype.setShape=function(e,o){var l=this.shape;return l||(l=this.shape={}),typeof e=="string"?l[e]=o:mt(l,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Gf)},t.prototype.createStyle=function(e){return du(Eg,e)},t.prototype._innerSaveToNormal=function(e){a.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.shape&&!o.shape&&(o.shape=mt({},this.shape))},t.prototype._applyStateObj=function(e,o,l,f,h,v){a.prototype._applyStateObj.call(this,e,o,l,f,h,v);var g=!(o&&f),y;if(o&&o.shape?h?f?y=o.shape:(y=mt({},l.shape),mt(y,o.shape)):(y=mt({},f?this.shape:l.shape),mt(y,o.shape)):g&&(y=l.shape),y)if(h){this.shape=mt({},this.shape);for(var x={},b=he(y),T=0;T<b.length;T++){var C=b[T];typeof y[C]=="object"?this.shape[C]=y[C]:x[C]=y[C]}this._transitionState(e,{shape:x},v)}else this.shape=y,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var o=a.prototype._mergeStates.call(this,e),l,f=0;f<e.length;f++){var h=e[f];h.shape&&(l=l||{},this._mergeStyle(l,h.shape))}return l&&(o.shape=l),o},t.prototype.getAnimationStyleProps=function(){return MVt},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var o=function(f){at(h,f);function h(v){var g=f.call(this,v)||this;return e.init&&e.init.call(g,v),g}return h.prototype.getDefaultStyle=function(){return Ht(e.style)},h.prototype.getDefaultShape=function(){return Ht(e.shape)},h}(t);for(var l in e)typeof e[l]=="function"&&(o.prototype[l]=e[l]);return o},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Li|xp|Gf}(),t}(ai),se=LVt;var IVt=zt({strokeFirst:!0,font:Un,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Eg),Ytt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return o!=null&&o!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,o=e.fill;return o!=null&&o!=="none"},t.prototype.createStyle=function(e){return du(IVt,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var o=e.text;o!=null?o+="":o="";var l=_l(o,e.font,e.textAlign,e.textBaseline);if(l.x+=e.x||0,l.y+=e.y||0,this.hasStroke()){var f=e.lineWidth;l.x-=f/2,l.y-=f/2,l.width+=f,l.height+=f}this._rect=l}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(ai);Ytt.prototype.type="tspan";var Su=Ytt;var EVt=zt({x:0,y:0},xl),PVt={style:zt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Op.style)};function RVt(a){return!!(a&&typeof a!="string"&&a.width&&a.height)}var Ztt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return du(EVt,e)},t.prototype._getSize=function(e){var o=this.style,l=o[e];if(l!=null)return l;var f=RVt(o.image)?o.image:this.__image;if(!f)return 0;var h=e==="width"?"height":"width",v=o[h];return v==null?f[e]:f[e]/f[h]*v},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return PVt},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ie(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ai);Ztt.prototype.type="image";var yr=Ztt;function Xtt(a,t){var e=t.x,o=t.y,l=t.width,f=t.height,h=t.r,v,g,y,x;l<0&&(e=e+l,l=-l),f<0&&(o=o+f,f=-f),typeof h=="number"?v=g=y=x=h:h instanceof Array?h.length===1?v=g=y=x=h[0]:h.length===2?(v=y=h[0],g=x=h[1]):h.length===3?(v=h[0],g=x=h[1],y=h[2]):(v=h[0],g=h[1],y=h[2],x=h[3]):v=g=y=x=0;var b;v+g>l&&(b=v+g,v*=l/b,g*=l/b),y+x>l&&(b=y+x,y*=l/b,x*=l/b),g+y>f&&(b=g+y,g*=f/b,y*=f/b),v+x>f&&(b=v+x,v*=f/b,x*=f/b),a.moveTo(e+v,o),a.lineTo(e+l-g,o),g!==0&&a.arc(e+l-g,o+g,g,-Math.PI/2,0),a.lineTo(e+l,o+f-y),y!==0&&a.arc(e+l-y,o+f-y,y,0,Math.PI/2),a.lineTo(e+x,o+f),x!==0&&a.arc(e+x,o+f-x,x,Math.PI/2,Math.PI),a.lineTo(e,o+v),v!==0&&a.arc(e+v,o+v,v,Math.PI,Math.PI*1.5)}var Pg=Math.round;function VA(a,t,e){if(t){var o=t.x1,l=t.x2,f=t.y1,h=t.y2;a.x1=o,a.x2=l,a.y1=f,a.y2=h;var v=e&&e.lineWidth;return v&&(Pg(o*2)===Pg(l*2)&&(a.x1=a.x2=rc(o,v,!0)),Pg(f*2)===Pg(h*2)&&(a.y1=a.y2=rc(f,v,!0))),a}}function BA(a,t,e){if(t){var o=t.x,l=t.y,f=t.width,h=t.height;a.x=o,a.y=l,a.width=f,a.height=h;var v=e&&e.lineWidth;return v&&(a.x=rc(o,v,!0),a.y=rc(l,v,!0),a.width=Math.max(rc(o+f,v,!1)-a.x,f===0?0:1),a.height=Math.max(rc(l+h,v,!1)-a.y,h===0?0:1)),a}}function rc(a,t,e){if(!t)return a;var o=Pg(a*2);return(o+Pg(t))%2===0?o/2:(o+(e?1:-1))/2}var NVt=function(){function a(){this.x=0,this.y=0,this.width=0,this.height=0}return a}();var zVt={},qtt=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new NVt},t.prototype.buildPath=function(e,o){var l,f,h,v;if(this.subPixelOptimize){var g=BA(zVt,o,this.style);l=g.x,f=g.y,h=g.width,v=g.height,g.r=o.r,o=g}else l=o.x,f=o.y,h=o.width,v=o.height;o.r?Xtt(e,o):e.rect(l,f,h,v)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(se);qtt.prototype.type="rect";var ge=qtt;var $tt={fill:"#000"},Ktt=2,VVt={style:zt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Op.style)},aet=function(a){at(t,a);function t(e){var o=a.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=$tt,o.attr(e),o}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var o=this._children[e];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):a.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var o=this.innerTransformable;return o?o.getLocalTransform(e):a.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,UVt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){a.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=e},t.prototype.removeSelfFromZr=function(e){a.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ie(0,0,0,0),o=this._children,l=[],f=null,h=0;h<o.length;h++){var v=o[h],g=v.getBoundingRect(),y=v.getLocalTransform(l);y?(e.copy(g),e.applyTransform(y),f=f||e.clone(),f.union(e)):(f=f||g.clone(),f.union(g))}this._rect=f||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||$tt},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,o){if(!o)return e;var l=o.rich,f=e.rich||l&&{};return mt(e,o),l&&f?(this._mergeRich(f,l),e.rich=f):f&&(e.rich=f),e},t.prototype._mergeRich=function(e,o){for(var l=he(o),f=0;f<l.length;f++){var h=l[f];e[h]=e[h]||{},mt(e[h],o[h])}},t.prototype.getAnimationStyleProps=function(){return VVt},t.prototype._getOrCreateChild=function(e){var o=this._children[this._childCursor];return(!o||!(o instanceof e))&&(o=new e),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},t.prototype._updatePlainTexts=function(){var e=this.style,o=e.font||Un,l=e.padding,f=iet(e),h=Dtt(f,e),v=Az(e),g=!!e.backgroundColor,y=h.outerHeight,x=h.outerWidth,b=h.contentWidth,T=h.lines,C=h.lineHeight,M=this._defaultStyle;this.isTruncated=!!h.isTruncated;var I=e.x||0,P=e.y||0,O=e.align||M.align||"left",N=e.verticalAlign||M.verticalAlign||"top",V=I,F=Lp(P,h.contentHeight,N);if(v||l){var U=xg(I,x,O),H=Lp(P,y,N);v&&this._renderBackground(e,e,U,H,x,y)}F+=C/2,l&&(V=ret(I,O,l),N==="top"?F+=l[0]:N==="bottom"&&(F-=l[2]));for(var Z=0,$=!1,K=eet("fill"in e?e.fill:($=!0,M.fill)),Q=tet("stroke"in e?e.stroke:!g&&(!M.autoStroke||$)?(Z=Ktt,M.stroke):null),rt=e.textShadowBlur>0,nt=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),ot=h.calculatedLineHeight,ft=0;ft<T.length;ft++){var lt=this._getOrCreateChild(Su),pt=lt.createStyle();lt.useStyle(pt),pt.text=T[ft],pt.x=V,pt.y=F,O&&(pt.textAlign=O),pt.textBaseline="middle",pt.opacity=e.opacity,pt.strokeFirst=!0,rt&&(pt.shadowBlur=e.textShadowBlur||0,pt.shadowColor=e.textShadowColor||"transparent",pt.shadowOffsetX=e.textShadowOffsetX||0,pt.shadowOffsetY=e.textShadowOffsetY||0),pt.stroke=Q,pt.fill=K,Q&&(pt.lineWidth=e.lineWidth||Z,pt.lineDash=e.lineDash,pt.lineDashOffset=e.lineDashOffset||0),pt.font=o,Jtt(pt,e),F+=C,nt&&lt.setBoundingRect(new ie(xg(pt.x,b,pt.textAlign),Lp(pt.y,ot,pt.textBaseline),b,ot))}},t.prototype._updateRichTexts=function(){var e=this.style,o=iet(e),l=Mtt(o,e),f=l.width,h=l.outerWidth,v=l.outerHeight,g=e.padding,y=e.x||0,x=e.y||0,b=this._defaultStyle,T=e.align||b.align,C=e.verticalAlign||b.verticalAlign;this.isTruncated=!!l.isTruncated;var M=xg(y,h,T),I=Lp(x,v,C),P=M,O=I;g&&(P+=g[3],O+=g[0]);var N=P+f;Az(e)&&this._renderBackground(e,e,M,I,h,v);for(var V=!!e.backgroundColor,F=0;F<l.lines.length;F++){for(var U=l.lines[F],H=U.tokens,Z=H.length,$=U.lineHeight,K=U.width,Q=0,rt=P,nt=N,ot=Z-1,ft=void 0;Q<Z&&(ft=H[Q],!ft.align||ft.align==="left");)this._placeToken(ft,e,$,O,rt,"left",V),K-=ft.width,rt+=ft.width,Q++;for(;ot>=0&&(ft=H[ot],ft.align==="right");)this._placeToken(ft,e,$,O,nt,"right",V),K-=ft.width,nt-=ft.width,ot--;for(rt+=(f-(rt-P)-(N-nt)-K)/2;Q<=ot;)ft=H[Q],this._placeToken(ft,e,$,O,rt+ft.width/2,"center",V),rt+=ft.width,Q++;O+=$}},t.prototype._placeToken=function(e,o,l,f,h,v,g){var y=o.rich[e.styleName]||{};y.text=e.text;var x=e.verticalAlign,b=f+l/2;x==="top"?b=f+e.height/2:x==="bottom"&&(b=f+l-e.height/2);var T=!e.isLineHolder&&Az(y);T&&this._renderBackground(y,o,v==="right"?h-e.width:v==="center"?h-e.width/2:h,b-e.height/2,e.width,e.height);var C=!!y.backgroundColor,M=e.textPadding;M&&(h=ret(h,v,M),b-=e.height/2-M[0]-e.innerHeight/2);var I=this._getOrCreateChild(Su),P=I.createStyle();I.useStyle(P);var O=this._defaultStyle,N=!1,V=0,F=eet("fill"in y?y.fill:"fill"in o?o.fill:(N=!0,O.fill)),U=tet("stroke"in y?y.stroke:"stroke"in o?o.stroke:!C&&!g&&(!O.autoStroke||N)?(V=Ktt,O.stroke):null),H=y.textShadowBlur>0||o.textShadowBlur>0;P.text=e.text,P.x=h,P.y=b,H&&(P.shadowBlur=y.textShadowBlur||o.textShadowBlur||0,P.shadowColor=y.textShadowColor||o.textShadowColor||"transparent",P.shadowOffsetX=y.textShadowOffsetX||o.textShadowOffsetX||0,P.shadowOffsetY=y.textShadowOffsetY||o.textShadowOffsetY||0),P.textAlign=v,P.textBaseline="middle",P.font=e.font||Un,P.opacity=Ci(y.opacity,o.opacity,1),Jtt(P,y),U&&(P.lineWidth=Ci(y.lineWidth,o.lineWidth,V),P.lineDash=oe(y.lineDash,o.lineDash),P.lineDashOffset=o.lineDashOffset||0,P.stroke=U),F&&(P.fill=F);var Z=e.contentWidth,$=e.contentHeight;I.setBoundingRect(new ie(xg(P.x,Z,P.textAlign),Lp(P.y,$,P.textBaseline),Z,$))},t.prototype._renderBackground=function(e,o,l,f,h,v){var g=e.backgroundColor,y=e.borderWidth,x=e.borderColor,b=g&&g.image,T=g&&!b,C=e.borderRadius,M=this,I,P;if(T||e.lineHeight||y&&x){I=this._getOrCreateChild(ge),I.useStyle(I.createStyle()),I.style.fill=null;var O=I.shape;O.x=l,O.y=f,O.width=h,O.height=v,O.r=C,I.dirtyShape()}if(T){var N=I.style;N.fill=g||null,N.fillOpacity=oe(e.fillOpacity,1)}else if(b){P=this._getOrCreateChild(yr),P.onload=function(){M.dirtyStyle()};var V=P.style;V.image=g.image,V.x=l,V.y=f,V.width=h,V.height=v}if(y&&x){var N=I.style;N.lineWidth=y,N.stroke=x,N.strokeOpacity=oe(e.strokeOpacity,1),N.lineDash=e.borderDash,N.lineDashOffset=e.borderDashOffset||0,I.strokeContainThreshold=0,I.hasFill()&&I.hasStroke()&&(N.strokeFirst=!0,N.lineWidth*=2)}var F=(I||P).style;F.shadowBlur=e.shadowBlur||0,F.shadowColor=e.shadowColor||"transparent",F.shadowOffsetX=e.shadowOffsetX||0,F.shadowOffsetY=e.shadowOffsetY||0,F.opacity=Ci(e.opacity,o.opacity,1)},t.makeFont=function(e){var o="";return Dz(e)&&(o=[e.fontStyle,e.fontWeight,Cz(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),o&&Di(o)||e.textFont||e.font},t}(ai),BVt={left:!0,right:1,center:1},FVt={top:1,bottom:1,middle:1},jtt=["fontStyle","fontWeight","fontSize","fontFamily"];function Cz(a){return typeof a=="string"&&(a.indexOf("px")!==-1||a.indexOf("rem")!==-1||a.indexOf("em")!==-1)?a:isNaN(+a)?HT+"px":a+"px"}function Jtt(a,t){for(var e=0;e<jtt.length;e++){var o=jtt[e],l=t[o];l!=null&&(a[o]=l)}}function Dz(a){return a.fontSize!=null||a.fontFamily||a.fontWeight}function UVt(a){return Qtt(a),X(a.rich,Qtt),a}function Qtt(a){if(a){a.font=aet.makeFont(a);var t=a.align;t==="middle"&&(t="center"),a.align=t==null||BVt[t]?t:"left";var e=a.verticalAlign;e==="center"&&(e="middle"),a.verticalAlign=e==null||FVt[e]?e:"top";var o=a.padding;o&&(a.padding=fp(a.padding))}}function tet(a,t){return a==null||t<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function eet(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function ret(a,t,e){return t==="right"?a-e[1]:t==="center"?a+e[3]/2-e[1]/2:a+e[3]}function iet(a){var t=a.text;return t!=null&&(t+=""),t}function Az(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}var _e=aet;var Kt=ue(),sx=function(a,t,e,o){if(o){var l=Kt(o);l.dataIndex=e,l.dataType=t,l.seriesIndex=a,l.ssrType="chart",o.type==="group"&&o.traverse(function(f){var h=Kt(f);h.seriesIndex=a,h.dataIndex=e,h.dataType=t,h.ssrType="chart"})}};var net=1,oet={},het=ue(),Iz=ue(),Ez=0,Gp=1,lx=2,Pi=["emphasis","blur","select"],ic=["normal","emphasis","blur","select"],bu=10,GVt=9,ac="highlight",ux="downplay",Og="select",fx="unselect",kg="toggleSelect";function Rg(a){return a!=null&&a!=="none"}function UA(a,t,e){a.onHoverStateChange&&(a.hoverState||0)!==e&&a.onHoverStateChange(t),a.hoverState=e}function pet(a){UA(a,"emphasis",lx)}function vet(a){a.hoverState===lx&&UA(a,"normal",Ez)}function Pz(a){UA(a,"blur",Gp)}function det(a){a.hoverState===Gp&&UA(a,"normal",Ez)}function HVt(a){a.selected=!0}function WVt(a){a.selected=!1}function set(a,t,e){t(a,e)}function wu(a,t,e){set(a,t,e),a.isGroup&&a.traverse(function(o){set(o,t,e)})}function Hp(a,t){switch(t){case"emphasis":a.hoverState=lx;break;case"normal":a.hoverState=Ez;break;case"blur":a.hoverState=Gp;break;case"select":a.selected=!0}}function YVt(a,t,e,o){for(var l=a.style,f={},h=0;h<t.length;h++){var v=t[h],g=l[v];f[v]=g??(o&&o[v])}for(var h=0;h<a.animators.length;h++){var y=a.animators[h];y.__fromStateTransition&&y.__fromStateTransition.indexOf(e)<0&&y.targetName==="style"&&y.saveTo(f,t)}return f}function ZVt(a,t,e,o){var l=e&&ae(e,"select")>=0,f=!1;if(a instanceof se){var h=het(a),v=l&&h.selectFill||h.normalFill,g=l&&h.selectStroke||h.normalStroke;if(Rg(v)||Rg(g)){o=o||{};var y=o.style||{};y.fill==="inherit"?(f=!0,o=mt({},o),y=mt({},y),y.fill=v):!Rg(y.fill)&&Rg(v)?(f=!0,o=mt({},o),y=mt({},y),y.fill=mg(v)):!Rg(y.stroke)&&Rg(g)&&(f||(o=mt({},o),y=mt({},y)),y.stroke=mg(g)),o.style=y}}if(o&&o.z2==null){f||(o=mt({},o));var x=a.z2EmphasisLift;o.z2=a.z2+(x??bu)}return o}function XVt(a,t,e){if(e&&e.z2==null){e=mt({},e);var o=a.z2SelectLift;e.z2=a.z2+(o??GVt)}return e}function qVt(a,t,e){var o=ae(a.currentStates,t)>=0,l=a.style.opacity,f=o?null:YVt(a,["opacity"],t,{opacity:1});e=e||{};var h=e.style||{};return h.opacity==null&&(e=mt({},e),h=mt({opacity:o?l:f.opacity*.1},h),e.style=h),e}function Mz(a,t){var e=this.states[a];if(this.style){if(a==="emphasis")return ZVt(this,a,t,e);if(a==="blur")return qVt(this,a,e);if(a==="select")return XVt(this,a,e)}return e}function Cs(a){a.stateProxy=Mz;var t=a.getTextContent(),e=a.getTextGuideLine();t&&(t.stateProxy=Mz),e&&(e.stateProxy=Mz)}function uet(a,t){!get(a,t)&&!a.__highByOuter&&wu(a,pet)}function fet(a,t){!get(a,t)&&!a.__highByOuter&&wu(a,vet)}function Aa(a,t){a.__highByOuter|=1<<(t||0),wu(a,pet)}function Ca(a,t){!(a.__highByOuter&=~(1<<(t||0)))&&wu(a,vet)}function GA(a){wu(a,Pz)}function cx(a){wu(a,det)}function Rz(a){wu(a,HVt)}function Oz(a){wu(a,WVt)}function get(a,t){return a.__highDownSilentOnTouch&&t.zrByTouch}function kz(a){var t=a.getModel(),e=[],o=[];t.eachComponent(function(l,f){var h=Iz(f),v=l==="series",g=v?a.getViewOfSeriesModel(f):a.getViewOfComponentModel(f);!v&&o.push(g),h.isBlured&&(g.group.traverse(function(y){det(y)}),v&&e.push(f)),h.isBlured=!1}),X(o,function(l){l&&l.toggleBlurSeries&&l.toggleBlurSeries(e,!1,t)})}function Lz(a,t,e,o){var l=o.getModel();e=e||"coordinateSystem";function f(y,x){for(var b=0;b<x.length;b++){var T=y.getItemGraphicEl(x[b]);T&&cx(T)}}if(a!=null&&!(!t||t==="none")){var h=l.getSeriesByIndex(a),v=h.coordinateSystem;v&&v.master&&(v=v.master);var g=[];l.eachSeries(function(y){var x=h===y,b=y.coordinateSystem;b&&b.master&&(b=b.master);var T=b&&v?b===v:x;if(!(e==="series"&&!x||e==="coordinateSystem"&&!T||t==="series"&&x)){var C=o.getViewOfSeriesModel(y);if(C.group.traverse(function(P){P.__highByOuter&&x&&t==="self"||Pz(P)}),Xr(t))f(y.getData(),t);else if(Ft(t))for(var M=he(t),I=0;I<M.length;I++)f(y.getData(M[I]),t[M[I]]);g.push(y),Iz(y).isBlured=!0}}),l.eachComponent(function(y,x){if(y!=="series"){var b=o.getViewOfComponentModel(x);b&&b.toggleBlurSeries&&b.toggleBlurSeries(g,!0,l)}})}}function FA(a,t,e){if(!(a==null||t==null)){var o=e.getModel().getComponent(a,t);if(o){Iz(o).isBlured=!0;var l=e.getViewOfComponentModel(o);!l||!l.focusBlurEnabled||l.group.traverse(function(f){Pz(f)})}}}function met(a,t,e){var o=a.seriesIndex,l=a.getData(t.dataType);if(l){var f=Po(l,t);f=(yt(f)?f[0]:f)||0;var h=l.getItemGraphicEl(f);if(!h)for(var v=l.count(),g=0;!h&&g<v;)h=l.getItemGraphicEl(g++);if(h){var y=Kt(h);Lz(o,y.focus,y.blurScope,e)}else{var x=a.get(["emphasis","focus"]),b=a.get(["emphasis","blurScope"]);x!=null&&Lz(o,x,b,e)}}}function HA(a,t,e,o){var l={focusSelf:!1,dispatchers:null};if(a==null||a==="series"||t==null||e==null)return l;var f=o.getModel().getComponent(a,t);if(!f)return l;var h=o.getViewOfComponentModel(f);if(!h||!h.findHighDownDispatchers)return l;for(var v=h.findHighDownDispatchers(e),g,y=0;y<v.length;y++)if(Kt(v[y]).focus==="self"){g=!0;break}return{focusSelf:g,dispatchers:v}}function yet(a,t,e){var o=Kt(a),l=HA(o.componentMainType,o.componentIndex,o.componentHighDownName,e),f=l.dispatchers,h=l.focusSelf;f?(h&&FA(o.componentMainType,o.componentIndex,e),X(f,function(v){return uet(v,t)})):(Lz(o.seriesIndex,o.focus,o.blurScope,e),o.focus==="self"&&FA(o.componentMainType,o.componentIndex,e),uet(a,t))}function _et(a,t,e){kz(e);var o=Kt(a),l=HA(o.componentMainType,o.componentIndex,o.componentHighDownName,e).dispatchers;l?X(l,function(f){return fet(f,t)}):fet(a,t)}function xet(a,t,e){if(YA(t)){var o=t.dataType,l=a.getData(o),f=Po(l,t);yt(f)||(f=[f]),a[t.type===kg?"toggleSelect":t.type===Og?"select":"unselect"](f,o)}}function Nz(a){var t=a.getAllData();X(t,function(e){var o=e.data,l=e.type;o.eachItemGraphicEl(function(f,h){a.isSelected(h,l)?Rz(f):Oz(f)})})}function bet(a){var t=[];return a.eachSeries(function(e){var o=e.getAllData();X(o,function(l){var f=l.data,h=l.type,v=e.getSelectedDataIndices();if(v.length>0){var g={dataIndex:v,seriesIndex:e.seriesIndex};h!=null&&(g.dataType=h),t.push(g)}})}),t}function ko(a,t,e){Tu(a,!0),wu(a,Cs),WA(a,t,e)}function $Vt(a){Tu(a,!1)}function Ke(a,t,e,o){o?$Vt(a):ko(a,t,e)}function WA(a,t,e){var o=Kt(a);t!=null?(o.focus=t,o.blurScope=e):o.focus&&(o.focus=null)}var cet=["emphasis","blur","select"],KVt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ir(a,t,e,o){e=e||"itemStyle";for(var l=0;l<cet.length;l++){var f=cet[l],h=t.getModel([f,e]),v=a.ensureState(f);v.style=o?o(h):h[KVt[e]]()}}function Tu(a,t){var e=t===!1,o=a;a.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!e||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!e)}function nc(a){return!!(a&&a.__highDownDispatcher)}function wet(a,t,e){var o=Kt(a);o.componentMainType=t.mainType,o.componentIndex=t.componentIndex,o.componentHighDownName=e}function Tet(a){var t=oet[a];return t==null&&net<=32&&(t=oet[a]=net++),t}function YA(a){var t=a.type;return t===Og||t===fx||t===kg}function zz(a){var t=a.type;return t===ac||t===ux}function Aet(a){var t=het(a);t.normalFill=a.style.fill,t.normalStroke=a.style.stroke;var e=a.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var be={};sn(be,{Arc:()=>Zp,BezierCurve:()=>Cu,BoundingRect:()=>ie,Circle:()=>la,CompoundPath:()=>oc,Ellipse:()=>Wp,Group:()=>Ut,Image:()=>yr,IncrementalDisplayable:()=>eC,Line:()=>Er,LinearGradient:()=>No,OrientedBoundingRect:()=>Fg,Path:()=>se,Point:()=>Le,Polygon:()=>Br,Polyline:()=>Nr,RadialGradient:()=>Bg,Rect:()=>ge,Ring:()=>Au,Sector:()=>$r,Text:()=>_e,applyTransform:()=>ua,clipPointsByRect:()=>mx,clipRectByRect:()=>Xz,createIcon:()=>Ms,extendPath:()=>Zz,extendShape:()=>Yz,getShapeClass:()=>$p,getTransform:()=>qn,groupTransition:()=>Iu,initProps:()=>je,isElementRemoved:()=>Du,lineLineIntersect:()=>ert,linePolygonIntersect:()=>Ug,makeImage:()=>dx,makePath:()=>sc,mergePath:()=>ji,registerShape:()=>Xn,removeElement:()=>zo,removeElementWithFadeOut:()=>Mu,resizePath:()=>aC,setTooltipConfig:()=>Vo,subPixelOptimize:()=>gx,subPixelOptimizeLine:()=>Lu,subPixelOptimizeRect:()=>ABt,transformDirection:()=>Kp,traverseElements:()=>Za,updateProps:()=>we});var Ng=Hi.CMD,jVt=[[],[],[]],Cet=Math.sqrt,JVt=Math.atan2;function ZA(a,t){if(t){var e=a.data,o=a.len(),l,f,h,v,g,y,x=Ng.M,b=Ng.C,T=Ng.L,C=Ng.R,M=Ng.A,I=Ng.Q;for(h=0,v=0;h<o;){switch(l=e[h++],v=h,f=0,l){case x:f=1;break;case T:f=1;break;case b:f=3;break;case I:f=2;break;case M:var P=t[4],O=t[5],N=Cet(t[0]*t[0]+t[1]*t[1]),V=Cet(t[2]*t[2]+t[3]*t[3]),F=JVt(-t[1]/V,t[0]/N);e[h]*=N,e[h++]+=P,e[h]*=V,e[h++]+=O,e[h++]*=N,e[h++]*=V,e[h++]+=F,e[h++]+=F,h+=2,v=h;break;case C:y[0]=e[h++],y[1]=e[h++],qr(y,y,t),e[v++]=y[0],e[v++]=y[1],y[0]+=e[h++],y[1]+=e[h++],qr(y,y,t),e[v++]=y[0],e[v++]=y[1]}for(g=0;g<f;g++){var U=jVt[g];U[0]=e[h++],U[1]=e[h++],qr(U,U,t),e[v++]=U[0],e[v++]=U[1]}}a.increaseVersion()}}var Vz=Math.sqrt,XA=Math.sin,qA=Math.cos,hx=Math.PI;function Det(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Bz(a,t){return(a[0]*t[0]+a[1]*t[1])/(Det(a)*Det(t))}function Met(a,t){return(a[0]*t[1]<a[1]*t[0]?-1:1)*Math.acos(Bz(a,t))}function Let(a,t,e,o,l,f,h,v,g,y,x){var b=g*(hx/180),T=qA(b)*(a-e)/2+XA(b)*(t-o)/2,C=-1*XA(b)*(a-e)/2+qA(b)*(t-o)/2,M=T*T/(h*h)+C*C/(v*v);M>1&&(h*=Vz(M),v*=Vz(M));var I=(l===f?-1:1)*Vz((h*h*(v*v)-h*h*(C*C)-v*v*(T*T))/(h*h*(C*C)+v*v*(T*T)))||0,P=I*h*C/v,O=I*-v*T/h,N=(a+e)/2+qA(b)*P-XA(b)*O,V=(t+o)/2+XA(b)*P+qA(b)*O,F=Met([1,0],[(T-P)/h,(C-O)/v]),U=[(T-P)/h,(C-O)/v],H=[(-1*T-P)/h,(-1*C-O)/v],Z=Met(U,H);if(Bz(U,H)<=-1&&(Z=hx),Bz(U,H)>=1&&(Z=0),Z<0){var $=Math.round(Z/hx*1e6)/1e6;Z=hx*2+$%2*hx}x.addData(y,N,V,h,v,F,Z,b,f)}var QVt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,tBt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function eBt(a){var t=new Hi;if(!a)return t;var e=0,o=0,l=e,f=o,h,v=Hi.CMD,g=a.match(QVt);if(!g)return t;for(var y=0;y<g.length;y++){for(var x=g[y],b=x.charAt(0),T=void 0,C=x.match(tBt)||[],M=C.length,I=0;I<M;I++)C[I]=parseFloat(C[I]);for(var P=0;P<M;){var O=void 0,N=void 0,V=void 0,F=void 0,U=void 0,H=void 0,Z=void 0,$=e,K=o,Q=void 0,rt=void 0;switch(b){case"l":e+=C[P++],o+=C[P++],T=v.L,t.addData(T,e,o);break;case"L":e=C[P++],o=C[P++],T=v.L,t.addData(T,e,o);break;case"m":e+=C[P++],o+=C[P++],T=v.M,t.addData(T,e,o),l=e,f=o,b="l";break;case"M":e=C[P++],o=C[P++],T=v.M,t.addData(T,e,o),l=e,f=o,b="L";break;case"h":e+=C[P++],T=v.L,t.addData(T,e,o);break;case"H":e=C[P++],T=v.L,t.addData(T,e,o);break;case"v":o+=C[P++],T=v.L,t.addData(T,e,o);break;case"V":o=C[P++],T=v.L,t.addData(T,e,o);break;case"C":T=v.C,t.addData(T,C[P++],C[P++],C[P++],C[P++],C[P++],C[P++]),e=C[P-2],o=C[P-1];break;case"c":T=v.C,t.addData(T,C[P++]+e,C[P++]+o,C[P++]+e,C[P++]+o,C[P++]+e,C[P++]+o),e+=C[P-2],o+=C[P-1];break;case"S":O=e,N=o,Q=t.len(),rt=t.data,h===v.C&&(O+=e-rt[Q-4],N+=o-rt[Q-3]),T=v.C,$=C[P++],K=C[P++],e=C[P++],o=C[P++],t.addData(T,O,N,$,K,e,o);break;case"s":O=e,N=o,Q=t.len(),rt=t.data,h===v.C&&(O+=e-rt[Q-4],N+=o-rt[Q-3]),T=v.C,$=e+C[P++],K=o+C[P++],e+=C[P++],o+=C[P++],t.addData(T,O,N,$,K,e,o);break;case"Q":$=C[P++],K=C[P++],e=C[P++],o=C[P++],T=v.Q,t.addData(T,$,K,e,o);break;case"q":$=C[P++]+e,K=C[P++]+o,e+=C[P++],o+=C[P++],T=v.Q,t.addData(T,$,K,e,o);break;case"T":O=e,N=o,Q=t.len(),rt=t.data,h===v.Q&&(O+=e-rt[Q-4],N+=o-rt[Q-3]),e=C[P++],o=C[P++],T=v.Q,t.addData(T,O,N,e,o);break;case"t":O=e,N=o,Q=t.len(),rt=t.data,h===v.Q&&(O+=e-rt[Q-4],N+=o-rt[Q-3]),e+=C[P++],o+=C[P++],T=v.Q,t.addData(T,O,N,e,o);break;case"A":V=C[P++],F=C[P++],U=C[P++],H=C[P++],Z=C[P++],$=e,K=o,e=C[P++],o=C[P++],T=v.A,Let($,K,e,o,H,Z,V,F,U,T,t);break;case"a":V=C[P++],F=C[P++],U=C[P++],H=C[P++],Z=C[P++],$=e,K=o,e+=C[P++],o+=C[P++],T=v.A,Let($,K,e,o,H,Z,V,F,U,T,t);break}}(b==="z"||b==="Z")&&(T=v.Z,t.addData(T),e=l,o=f),h=T}return t.toStatic(),t}var Iet=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t}(se);function Eet(a){return a.setData!=null}function Pet(a,t){var e=eBt(a),o=mt({},t);return o.buildPath=function(l){if(Eet(l)){l.setData(e.data);var f=l.getContext();f&&l.rebuildPath(f,1)}else{var f=l;e.rebuildPath(f,1)}},o.applyTransform=function(l){ZA(e,l),this.dirtyShape()},o}function $A(a,t){return new Iet(Pet(a,t))}function Ret(a,t){var e=Pet(a,t),o=function(l){at(f,l);function f(h){var v=l.call(this,h)||this;return v.applyTransform=e.applyTransform,v.buildPath=e.buildPath,v}return f}(Iet);return o}function Oet(a,t){for(var e=[],o=a.length,l=0;l<o;l++){var f=a[l];e.push(f.getUpdatedPathProxy(!0))}var h=new se(t);return h.createPathProxy(),h.buildPath=function(v){if(Eet(v)){v.appendPath(e);var g=v.getContext();g&&v.rebuildPath(g,1)}},h}function zg(a,t){t=t||{};var e=new se;return a.shape&&e.setShape(a.shape),e.setStyle(a.style),t.bakeTransform?ZA(e.path,a.getComputedTransform()):t.toLocal?e.setLocalTransform(a.getComputedTransform()):e.copyTransform(a),e.buildPath=a.buildPath,e.applyTransform=e.applyTransform,e.z=a.z,e.z2=a.z2,e.zlevel=a.zlevel,e}var iBt=function(){function a(){this.cx=0,this.cy=0,this.r=0}return a}();var ket=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new iBt},t.prototype.buildPath=function(e,o){e.moveTo(o.cx+o.r,o.cy),e.arc(o.cx,o.cy,o.r,0,Math.PI*2)},t}(se);ket.prototype.type="circle";var la=ket;var aBt=function(){function a(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return a}();var Net=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new aBt},t.prototype.buildPath=function(e,o){var l=.5522848,f=o.cx,h=o.cy,v=o.rx,g=o.ry,y=v*l,x=g*l;e.moveTo(f-v,h),e.bezierCurveTo(f-v,h-x,f-y,h-g,f,h-g),e.bezierCurveTo(f+y,h-g,f+v,h-x,f+v,h),e.bezierCurveTo(f+v,h+x,f+y,h+g,f,h+g),e.bezierCurveTo(f-y,h+g,f-v,h+x,f-v,h),e.closePath()},t}(se);Net.prototype.type="ellipse";var Wp=Net;var Vet=Math.PI,Fz=Vet*2,Yp=Math.sin,Vg=Math.cos,nBt=Math.acos,Da=Math.atan2,zet=Math.abs,vx=Math.sqrt,px=Math.max,Al=Math.min,Ds=1e-4;function oBt(a,t,e,o,l,f,h,v){var g=e-a,y=o-t,x=h-l,b=v-f,T=b*g-x*y;if(!(T*T<Ds))return T=(x*(t-f)-b*(a-l))/T,[a+T*g,t+T*y]}function KA(a,t,e,o,l,f,h){var v=a-e,g=t-o,y=(h?f:-f)/vx(v*v+g*g),x=y*g,b=-y*v,T=a+x,C=t+b,M=e+x,I=o+b,P=(T+M)/2,O=(C+I)/2,N=M-T,V=I-C,F=N*N+V*V,U=l-f,H=T*I-M*C,Z=(V<0?-1:1)*vx(px(0,U*U*F-H*H)),$=(H*V-N*Z)/F,K=(-H*N-V*Z)/F,Q=(H*V+N*Z)/F,rt=(-H*N+V*Z)/F,nt=$-P,ot=K-O,ft=Q-P,lt=rt-O;return nt*nt+ot*ot>ft*ft+lt*lt&&($=Q,K=rt),{cx:$,cy:K,x0:-x,y0:-b,x1:$*(l/U-1),y1:K*(l/U-1)}}function sBt(a){var t;if(yt(a)){var e=a.length;if(!e)return a;e===1?t=[a[0],a[0],0,0]:e===2?t=[a[0],a[0],a[1],a[1]]:e===3?t=a.concat(a[2]):t=a}else t=[a,a,a,a];return t}function Bet(a,t){var e,o=px(t.r,0),l=px(t.r0||0,0),f=o>0,h=l>0;if(!(!f&&!h)){if(f||(o=l,l=0),l>o){var v=o;o=l,l=v}var g=t.startAngle,y=t.endAngle;if(!(isNaN(g)||isNaN(y))){var x=t.cx,b=t.cy,T=!!t.clockwise,C=zet(y-g),M=C>Fz&&C%Fz;if(M>Ds&&(C=M),!(o>Ds))a.moveTo(x,b);else if(C>Fz-Ds)a.moveTo(x+o*Vg(g),b+o*Yp(g)),a.arc(x,b,o,g,y,!T),l>Ds&&(a.moveTo(x+l*Vg(y),b+l*Yp(y)),a.arc(x,b,l,y,g,T));else{var I=void 0,P=void 0,O=void 0,N=void 0,V=void 0,F=void 0,U=void 0,H=void 0,Z=void 0,$=void 0,K=void 0,Q=void 0,rt=void 0,nt=void 0,ot=void 0,ft=void 0,lt=o*Vg(g),pt=o*Yp(g),xt=l*Vg(y),st=l*Yp(y),dt=C>Ds;if(dt){var Et=t.cornerRadius;Et&&(e=sBt(Et),I=e[0],P=e[1],O=e[2],N=e[3]);var At=zet(o-l)/2;if(V=Al(At,O),F=Al(At,N),U=Al(At,I),H=Al(At,P),K=Z=px(V,F),Q=$=px(U,H),(Z>Ds||$>Ds)&&(rt=o*Vg(y),nt=o*Yp(y),ot=l*Vg(g),ft=l*Yp(g),C<Vet)){var Zt=oBt(lt,pt,ot,ft,rt,nt,xt,st);if(Zt){var qt=lt-Zt[0],te=pt-Zt[1],j=rt-Zt[0],Tt=nt-Zt[1],lr=1/Yp(nBt((qt*j+te*Tt)/(vx(qt*qt+te*te)*vx(j*j+Tt*Tt)))/2),jt=vx(Zt[0]*Zt[0]+Zt[1]*Zt[1]);K=Al(Z,(o-jt)/(lr+1)),Q=Al($,(l-jt)/(lr-1))}}}if(!dt)a.moveTo(x+lt,b+pt);else if(K>Ds){var ve=Al(O,K),Xt=Al(N,K),fe=KA(ot,ft,lt,pt,o,ve,T),Mt=KA(rt,nt,xt,st,o,Xt,T);a.moveTo(x+fe.cx+fe.x0,b+fe.cy+fe.y0),K<Z&&ve===Xt?a.arc(x+fe.cx,b+fe.cy,K,Da(fe.y0,fe.x0),Da(Mt.y0,Mt.x0),!T):(ve>0&&a.arc(x+fe.cx,b+fe.cy,ve,Da(fe.y0,fe.x0),Da(fe.y1,fe.x1),!T),a.arc(x,b,o,Da(fe.cy+fe.y1,fe.cx+fe.x1),Da(Mt.cy+Mt.y1,Mt.cx+Mt.x1),!T),Xt>0&&a.arc(x+Mt.cx,b+Mt.cy,Xt,Da(Mt.y1,Mt.x1),Da(Mt.y0,Mt.x0),!T))}else a.moveTo(x+lt,b+pt),a.arc(x,b,o,g,y,!T);if(!(l>Ds)||!dt)a.lineTo(x+xt,b+st);else if(Q>Ds){var ve=Al(I,Q),Xt=Al(P,Q),fe=KA(xt,st,rt,nt,l,-Xt,T),Mt=KA(lt,pt,ot,ft,l,-ve,T);a.lineTo(x+fe.cx+fe.x0,b+fe.cy+fe.y0),Q<$&&ve===Xt?a.arc(x+fe.cx,b+fe.cy,Q,Da(fe.y0,fe.x0),Da(Mt.y0,Mt.x0),!T):(Xt>0&&a.arc(x+fe.cx,b+fe.cy,Xt,Da(fe.y0,fe.x0),Da(fe.y1,fe.x1),!T),a.arc(x,b,l,Da(fe.cy+fe.y1,fe.cx+fe.x1),Da(Mt.cy+Mt.y1,Mt.cx+Mt.x1),T),ve>0&&a.arc(x+Mt.cx,b+Mt.cy,ve,Da(Mt.y1,Mt.x1),Da(Mt.y0,Mt.x0),!T))}else a.lineTo(x+xt,b+st),a.arc(x,b,l,y,g,T)}a.closePath()}}}var uBt=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return a}();var Fet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new uBt},t.prototype.buildPath=function(e,o){Bet(e,o)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(se);Fet.prototype.type="sector";var $r=Fet;var fBt=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return a}();var Uet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new fBt},t.prototype.buildPath=function(e,o){var l=o.cx,f=o.cy,h=Math.PI*2;e.moveTo(l+o.r,f),e.arc(l,f,o.r,0,h,!1),e.moveTo(l+o.r0,f),e.arc(l,f,o.r0,0,h,!0)},t}(se);Uet.prototype.type="ring";var Au=Uet;function Uz(a,t,e,o){var l=[],f=[],h=[],v=[],g,y,x,b;if(o){x=[1/0,1/0],b=[-1/0,-1/0];for(var T=0,C=a.length;T<C;T++)ln(x,x,a[T]),un(b,b,a[T]);ln(x,x,o[0]),un(b,b,o[1])}for(var T=0,C=a.length;T<C;T++){var M=a[T];if(e)g=a[T?T-1:C-1],y=a[(T+1)%C];else if(T===0||T===C-1){l.push(Ga(a[T]));continue}else g=a[T-1],y=a[T+1];Mo(f,y,g),hp(f,f,t);var I=P_(M,g),P=P_(M,y),O=I+P;O!==0&&(I/=O,P/=O),hp(h,f,-I),hp(v,f,P);var N=XT([],M,h),V=XT([],M,v);o&&(un(N,N,x),ln(N,N,b),un(V,V,x),ln(V,V,b)),l.push(N),l.push(V)}return e&&l.push(l.shift()),l}function jA(a,t,e){var o=t.smooth,l=t.points;if(l&&l.length>=2){if(o){var f=Uz(l,o,e,t.smoothConstraint);a.moveTo(l[0][0],l[0][1]);for(var h=l.length,v=0;v<(e?h:h-1);v++){var g=f[v*2],y=f[v*2+1],x=l[(v+1)%h];a.bezierCurveTo(g[0],g[1],y[0],y[1],x[0],x[1])}}else{a.moveTo(l[0][0],l[0][1]);for(var v=1,b=l.length;v<b;v++)a.lineTo(l[v][0],l[v][1])}e&&a.closePath()}}var cBt=function(){function a(){this.points=null,this.smooth=0,this.smoothConstraint=null}return a}();var Het=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new cBt},t.prototype.buildPath=function(e,o){jA(e,o,!0)},t}(se);Het.prototype.type="polygon";var Br=Het;var hBt=function(){function a(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return a}();var Wet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hBt},t.prototype.buildPath=function(e,o){jA(e,o,!1)},t}(se);Wet.prototype.type="polyline";var Nr=Wet;var pBt={},vBt=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}();var Yet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vBt},t.prototype.buildPath=function(e,o){var l,f,h,v;if(this.subPixelOptimize){var g=VA(pBt,o,this.style);l=g.x1,f=g.y1,h=g.x2,v=g.y2}else l=o.x1,f=o.y1,h=o.x2,v=o.y2;var y=o.percent;y!==0&&(e.moveTo(l,f),y<1&&(h=l*(1-y)+h*y,v=f*(1-y)+v*y),e.lineTo(h,v))},t.prototype.pointAt=function(e){var o=this.shape;return[o.x1*(1-e)+o.x2*e,o.y1*(1-e)+o.y2*e]},t}(se);Yet.prototype.type="line";var Er=Yet;var Sn=[],dBt=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return a}();function Zet(a,t,e){var o=a.cpx2,l=a.cpy2;return o!=null||l!=null?[(e?LN:jr)(a.x1,a.cpx1,a.cpx2,a.x2,t),(e?LN:jr)(a.y1,a.cpy1,a.cpy2,a.y2,t)]:[(e?B_:ii)(a.x1,a.cpx1,a.x2,t),(e?B_:ii)(a.y1,a.cpy1,a.y2,t)]}var Xet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dBt},t.prototype.buildPath=function(e,o){var l=o.x1,f=o.y1,h=o.x2,v=o.y2,g=o.cpx1,y=o.cpy1,x=o.cpx2,b=o.cpy2,T=o.percent;T!==0&&(e.moveTo(l,f),x==null||b==null?(T<1&&(Yf(l,g,h,T,Sn),g=Sn[1],h=Sn[2],Yf(f,y,v,T,Sn),y=Sn[1],v=Sn[2]),e.quadraticCurveTo(g,y,h,v)):(T<1&&(Io(l,g,x,h,T,Sn),g=Sn[1],x=Sn[2],h=Sn[3],Io(f,y,b,v,T,Sn),y=Sn[1],b=Sn[2],v=Sn[3]),e.bezierCurveTo(g,y,x,b,h,v)))},t.prototype.pointAt=function(e){return Zet(this.shape,e,!1)},t.prototype.tangentAt=function(e){var o=Zet(this.shape,e,!0);return Gn(o,o)},t}(se);Xet.prototype.type="bezier-curve";var Cu=Xet;var gBt=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}();var qet=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gBt},t.prototype.buildPath=function(e,o){var l=o.cx,f=o.cy,h=Math.max(o.r,0),v=o.startAngle,g=o.endAngle,y=o.clockwise,x=Math.cos(v),b=Math.sin(v);e.moveTo(x*h+l,b*h+f),e.arc(l,f,h,v,g,!y)},t}(se);qet.prototype.type="arc";var Zp=qet;var mBt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,o=this.shapeChanged(),l=0;l<e.length;l++)o=o||e[l].shapeChanged();o&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],o=this.getGlobalScale(),l=0;l<e.length;l++)e[l].path||e[l].createPathProxy(),e[l].path.setScale(o[0],o[1],e[l].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,o){for(var l=o.paths||[],f=0;f<l.length;f++)l[f].buildPath(e,l[f].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],o=0;o<e.length;o++)e[o].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),se.prototype.getBoundingRect.call(this)},t}(se),oc=mBt;var yBt=function(){function a(t){this.colorStops=t||[]}return a.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},a}(),JA=yBt;var _Bt=function(a){at(t,a);function t(e,o,l,f,h,v){var g=a.call(this,h)||this;return g.x=e??0,g.y=o??0,g.x2=l??1,g.y2=f??0,g.type="linear",g.global=v||!1,g}return t}(JA),No=_Bt;var xBt=function(a){at(t,a);function t(e,o,l,f,h){var v=a.call(this,f)||this;return v.x=e??.5,v.y=o??.5,v.r=l??.5,v.type="radial",v.global=h||!1,v}return t}(JA),Bg=xBt;var Xp=[0,0],qp=[0,0],QA=new Le,tC=new Le,SBt=function(){function a(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Le;for(var o=0;o<2;o++)this._axes[o]=new Le;t&&this.fromBoundingRect(t,e)}return a.prototype.fromBoundingRect=function(t,e){var o=this._corners,l=this._axes,f=t.x,h=t.y,v=f+t.width,g=h+t.height;if(o[0].set(f,h),o[1].set(v,h),o[2].set(v,g),o[3].set(f,g),e)for(var y=0;y<4;y++)o[y].transform(e);Le.sub(l[0],o[1],o[0]),Le.sub(l[1],o[3],o[0]),l[0].normalize(),l[1].normalize();for(var y=0;y<2;y++)this._origin[y]=l[y].dot(o[0])},a.prototype.intersect=function(t,e){var o=!0,l=!e;return QA.set(1/0,1/0),tC.set(0,0),!this._intersectCheckOneSide(this,t,QA,tC,l,1)&&(o=!1,l)||!this._intersectCheckOneSide(t,this,QA,tC,l,-1)&&(o=!1,l)||l||Le.copy(e,o?QA:tC),o},a.prototype._intersectCheckOneSide=function(t,e,o,l,f,h){for(var v=!0,g=0;g<2;g++){var y=this._axes[g];if(this._getProjMinMaxOnAxis(g,t._corners,Xp),this._getProjMinMaxOnAxis(g,e._corners,qp),Xp[1]<qp[0]||Xp[0]>qp[1]){if(v=!1,f)return v;var x=Math.abs(qp[0]-Xp[1]),b=Math.abs(Xp[0]-qp[1]);Math.min(x,b)>l.len()&&(x<b?Le.scale(l,y,-x*h):Le.scale(l,y,b*h))}else if(o){var x=Math.abs(qp[0]-Xp[1]),b=Math.abs(Xp[0]-qp[1]);Math.min(x,b)<o.len()&&(x<b?Le.scale(o,y,x*h):Le.scale(o,y,-b*h))}}return v},a.prototype._getProjMinMaxOnAxis=function(t,e,o){for(var l=this._axes[t],f=this._origin,h=e[0].dot(l)+f[t],v=h,g=h,y=1;y<e.length;y++){var x=e[y].dot(l)+f[t];v=Math.min(x,v),g=Math.max(x,g)}o[0]=v,o[1]=g},a}(),Fg=SBt;var bBt=[],wBt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,o){e.call(o,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,o){o?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,o){o=o||!1;for(var l=0;l<e.length;l++)this.addDisplayable(e[l],o)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var o=this._cursor;o<this._displayables.length;o++)e&&e(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)e&&e(this._temporaryDisplayables[o])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var o=this._displayables[e];o.parent=this,o.update(),o.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var o=this._temporaryDisplayables[e];o.parent=this,o.update(),o.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ie(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var l=this._displayables[o],f=l.getBoundingRect().clone();l.needLocalTransform()&&f.applyTransform(l.getLocalTransform(bBt)),e.union(f)}this._rect=e}return this._rect},t.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),f=this.getBoundingRect();if(f.contain(l[0],l[1]))for(var h=0;h<this._displayables.length;h++){var v=this._displayables[h];if(v.contain(e,o))return!0}return!1},t}(ai),eC=wBt;var Ket=ue();function Cl(a,t,e,o,l){var f;if(t&&t.ecModel){var h=t.ecModel.getUpdatePayload();f=h&&h.animation}var v=t&&t.isAnimationEnabled(),g=a==="update";if(v){var y=void 0,x=void 0,b=void 0;o?(y=oe(o.duration,200),x=oe(o.easing,"cubicOut"),b=0):(y=t.getShallow(g?"animationDurationUpdate":"animationDuration"),x=t.getShallow(g?"animationEasingUpdate":"animationEasing"),b=t.getShallow(g?"animationDelayUpdate":"animationDelay")),f&&(f.duration!=null&&(y=f.duration),f.easing!=null&&(x=f.easing),f.delay!=null&&(b=f.delay)),Nt(b)&&(b=b(e,l)),Nt(y)&&(y=y(e));var T={duration:y||0,delay:b,easing:x};return T}else return null}function Gz(a,t,e,o,l,f,h){var v=!1,g;Nt(l)?(h=f,f=l,l=null):Ft(l)&&(f=l.cb,h=l.during,v=l.isFrom,g=l.removeOpt,l=l.dataIndex);var y=a==="leave";y||t.stopAnimation("leave");var x=Cl(a,o,l,y?g||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(t,l):null);if(x&&x.duration>0){var b=x.duration,T=x.delay,C=x.easing,M={duration:b,delay:T||0,easing:C,done:f,force:!!f||!!h,setToFinal:!y,scope:a,during:h};v?t.animateFrom(e,M):t.animateTo(e,M)}else t.stopAnimation(),!v&&t.attr(e),h&&h(1),f&&f()}function we(a,t,e,o,l,f){Gz("update",a,t,e,o,l,f)}function je(a,t,e,o,l,f){Gz("enter",a,t,e,o,l,f)}function Du(a){if(!a.__zr)return!0;for(var t=0;t<a.animators.length;t++){var e=a.animators[t];if(e.scope==="leave")return!0}return!1}function zo(a,t,e,o,l,f){Du(a)||Gz("leave",a,t,e,o,l,f)}function $et(a,t,e,o){a.removeTextContent(),a.removeTextGuideLine(),zo(a,{style:{opacity:0}},t,e,o)}function Mu(a,t,e){function o(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(l){l.isGroup||$et(l,t,e,o)}):$et(a,t,e,o)}function Si(a){Ket(a).oldStyle=a.style}function jet(a){return Ket(a).oldStyle}var rC=Math.max,iC=Math.min,Wz={};function Yz(a){return se.extend(a)}var TBt=Ret;function Zz(a,t){return TBt(a,t)}function Xn(a,t){Wz[a]=t}function $p(a){if(Wz.hasOwnProperty(a))return Wz[a]}function sc(a,t,e,o){var l=$A(a,t);return e&&(o==="center"&&(e=trt(e,l.getBoundingRect())),aC(l,e)),l}function dx(a,t,e){var o=new yr({style:{image:a,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(l){if(e==="center"){var f={width:l.width,height:l.height};o.setStyle(trt(t,f))}}});return o}function trt(a,t){var e=t.width/t.height,o=a.height*e,l;o<=a.width?l=a.height:(o=a.width,l=o/e);var f=a.x+a.width/2,h=a.y+a.height/2;return{x:f-o/2,y:h-l/2,width:o,height:l}}var ji=Oet;function aC(a,t){if(a.applyTransform){var e=a.getBoundingRect(),o=e.calculateTransform(t);a.applyTransform(o)}}function Lu(a,t){return VA(a,a,{lineWidth:t}),a}function ABt(a){return BA(a.shape,a.shape,a.style),a}var gx=rc;function qn(a,t){for(var e=gu([]);a&&a!==t;)Ha(e,a.getLocalTransform(),e),a=a.parent;return e}function ua(a,t,e){return t&&!Xr(t)&&(t=pn.getLocalTransform(t)),e&&(t=Wn([],t)),qr([],a,t)}function Kp(a,t,e){var o=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),l=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),f=[a==="left"?-o:a==="right"?o:0,a==="top"?-l:a==="bottom"?l:0];return f=ua(f,t,e),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"}function Jet(a){return!a.isGroup}function CBt(a){return a.shape!=null}function Iu(a,t,e){if(!a||!t)return;function o(h){var v={};return h.traverse(function(g){Jet(g)&&g.anid&&(v[g.anid]=g)}),v}function l(h){var v={x:h.x,y:h.y,rotation:h.rotation};return CBt(h)&&(v.shape=mt({},h.shape)),v}var f=o(a);t.traverse(function(h){if(Jet(h)&&h.anid){var v=f[h.anid];if(v){var g=l(h);h.attr(l(v)),we(h,g,e,Kt(h).dataIndex)}}})}function mx(a,t){return _t(a,function(e){var o=e[0];o=rC(o,t.x),o=iC(o,t.x+t.width);var l=e[1];return l=rC(l,t.y),l=iC(l,t.y+t.height),[o,l]})}function Xz(a,t){var e=rC(a.x,t.x),o=iC(a.x+a.width,t.x+t.width),l=rC(a.y,t.y),f=iC(a.y+a.height,t.y+t.height);if(o>=e&&f>=l)return{x:e,y:l,width:o-e,height:f-l}}function Ms(a,t,e){var o=mt({rectHover:!0},t),l=o.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},a)return a.indexOf("image://")===0?(l.image=a.slice(8),zt(l,e),new yr(o)):sc(a.replace("path://",""),o,e,"center")}function Ug(a,t,e,o,l){for(var f=0,h=l[l.length-1];f<l.length;f++){var v=l[f];if(ert(a,t,e,o,v[0],v[1],h[0],h[1]))return!0;h=v}}function ert(a,t,e,o,l,f,h,v){var g=e-a,y=o-t,x=h-l,b=v-f,T=Hz(x,b,g,y);if(DBt(T))return!1;var C=a-l,M=t-f,I=Hz(C,M,g,y)/T;if(I<0||I>1)return!1;var P=Hz(C,M,x,b)/T;return!(P<0||P>1)}function Hz(a,t,e,o){return a*o-e*t}function DBt(a){return a<=1e-6&&a>=-1e-6}function Vo(a){var t=a.itemTooltipOption,e=a.componentModel,o=a.itemName,l=Dt(t)?{formatter:t}:t,f=e.mainType,h=e.componentIndex,v={componentType:f,name:o,$vars:["name"]};v[f+"Index"]=h;var g=a.formatterParamsExtra;g&&X(he(g),function(x){Yt(v,x)||(v[x]=g[x],v.$vars.push(x))});var y=Kt(a.el);y.componentMainType=f,y.componentIndex=h,y.tooltipConfig={name:o,option:zt({content:o,encodeHTMLContent:!0,formatterParams:v},l)}}function Qet(a,t){var e;a.isGroup&&(e=t(a)),e||a.traverse(t)}function Za(a,t){if(a)if(yt(a))for(var e=0;e<a.length;e++)Qet(a[e],t);else Qet(a,t)}Xn("circle",la);Xn("ellipse",Wp);Xn("sector",$r);Xn("ring",Au);Xn("polygon",Br);Xn("polyline",Nr);Xn("rect",ge);Xn("line",Er);Xn("bezierCurve",Cu);Xn("arc",Zp);var nC={};function ort(a,t){for(var e=0;e<Pi.length;e++){var o=Pi[e],l=t[o],f=a.ensureState(o);f.style=f.style||{},f.style.text=l}var h=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:t.normal}),a.useStates(h,!0)}function qz(a,t,e){var o=a.labelFetcher,l=a.labelDataIndex,f=a.labelDimIndex,h=t.normal,v;o&&(v=o.getFormattedLabel(l,"normal",null,f,h&&h.get("formatter"),e!=null?{interpolatedValue:e}:null)),v==null&&(v=Nt(a.defaultText)?a.defaultText(l,a,e):a.defaultText);for(var g={normal:v},y=0;y<Pi.length;y++){var x=Pi[y],b=t[x];g[x]=oe(o?o.getFormattedLabel(l,x,null,f,b&&b.get("formatter")):null,v)}return g}function _r(a,t,e,o){e=e||nC;for(var l=a instanceof _e,f=!1,h=0;h<ic.length;h++){var v=t[ic[h]];if(v&&v.getShallow("show")){f=!0;break}}var g=l?a:a.getTextContent();if(f){l||(g||(g=new _e,a.setTextContent(g)),a.stateProxy&&(g.stateProxy=a.stateProxy));var y=qz(e,t),x=t.normal,b=!!x.getShallow("show"),T=Je(x,o&&o.normal,e,!1,!l);T.text=y.normal,l||a.setTextConfig(yx(x,e,!1));for(var h=0;h<Pi.length;h++){var C=Pi[h],v=t[C];if(v){var M=g.ensureState(C),I=!!oe(v.getShallow("show"),b);if(I!==b&&(M.ignore=!I),M.style=Je(v,o&&o[C],e,!0,!l),M.style.text=y[C],!l){var P=a.ensureState(C);P.textConfig=yx(v,e,!0)}}}g.silent=!!x.getShallow("silent"),g.style.x!=null&&(T.x=g.style.x),g.style.y!=null&&(T.y=g.style.y),g.ignore=!b,g.useStyle(T),g.dirty(),e.enableTextSetter&&(Eu(g).setLabelText=function(O){var N=qz(e,t,O);ort(g,N)})}else g&&(g.ignore=!0);a.dirty()}function cr(a,t){t=t||"label";for(var e={normal:a.getModel(t)},o=0;o<Pi.length;o++){var l=Pi[o];e[l]=a.getModel([l,t])}return e}function Je(a,t,e,o,l){var f={};return MBt(f,a,e,o,l),t&&mt(f,t),f}function yx(a,t,e){t=t||{};var o={},l,f=a.getShallow("rotate"),h=oe(a.getShallow("distance"),e?null:5),v=a.getShallow("offset");return l=a.getShallow("position")||(e?null:"inside"),l==="outside"&&(l=t.defaultOutsidePosition||"top"),l!=null&&(o.position=l),v!=null&&(o.offset=v),f!=null&&(f*=Math.PI/180,o.rotation=f),h!=null&&(o.distance=h),o.outsideFill=a.get("color")==="inherit"?t.inheritColor||null:"auto",o}function MBt(a,t,e,o,l){e=e||nC;var f=t.ecModel,h=f&&f.option.textStyle,v=LBt(t),g;if(v){g={};for(var y in v)if(v.hasOwnProperty(y)){var x=t.getModel(["rich",y]);nrt(g[y]={},x,h,e,o,l,!1,!0)}}g&&(a.rich=g);var b=t.get("overflow");b&&(a.overflow=b);var T=t.get("minMargin");T!=null&&(a.margin=T),nrt(a,t,h,e,o,l,!0,!1)}function LBt(a){for(var t;a&&a!==a.ecModel;){var e=(a.option||nC).rich;if(e){t=t||{};for(var o=he(e),l=0;l<o.length;l++){var f=o[l];t[f]=1}}a=a.parentModel}return t}var rrt=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],irt=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],art=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function nrt(a,t,e,o,l,f,h,v){e=!l&&e||nC;var g=o&&o.inheritColor,y=t.getShallow("color"),x=t.getShallow("textBorderColor"),b=oe(t.getShallow("opacity"),e.opacity);(y==="inherit"||y==="auto")&&(g?y=g:y=null),(x==="inherit"||x==="auto")&&(g?x=g:x=null),f||(y=y||e.color,x=x||e.textBorderColor),y!=null&&(a.fill=y),x!=null&&(a.stroke=x);var T=oe(t.getShallow("textBorderWidth"),e.textBorderWidth);T!=null&&(a.lineWidth=T);var C=oe(t.getShallow("textBorderType"),e.textBorderType);C!=null&&(a.lineDash=C);var M=oe(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);M!=null&&(a.lineDashOffset=M),!l&&b==null&&!v&&(b=o&&o.defaultOpacity),b!=null&&(a.opacity=b),!l&&!f&&a.fill==null&&o.inheritColor&&(a.fill=o.inheritColor);for(var I=0;I<rrt.length;I++){var P=rrt[I],O=oe(t.getShallow(P),e[P]);O!=null&&(a[P]=O)}for(var I=0;I<irt.length;I++){var P=irt[I],O=t.getShallow(P);O!=null&&(a[P]=O)}if(a.verticalAlign==null){var N=t.getShallow("baseline");N!=null&&(a.verticalAlign=N)}if(!h||!o.disableBox){for(var I=0;I<art.length;I++){var P=art[I],O=t.getShallow(P);O!=null&&(a[P]=O)}var V=t.getShallow("borderType");V!=null&&(a.borderDash=V),(a.backgroundColor==="auto"||a.backgroundColor==="inherit")&&g&&(a.backgroundColor=g),(a.borderColor==="auto"||a.borderColor==="inherit")&&g&&(a.borderColor=g)}}function Gg(a,t){var e=t&&t.getModel("textStyle");return Di([a.fontStyle||e&&e.getShallow("fontStyle")||"",a.fontWeight||e&&e.getShallow("fontWeight")||"",(a.fontSize||e&&e.getShallow("fontSize")||12)+"px",a.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Eu=ue();function oC(a,t,e,o){if(a){var l=Eu(a);l.prevValue=l.value,l.value=e;var f=t.normal;l.valueAnimation=f.get("valueAnimation"),l.valueAnimation&&(l.precision=f.get("precision"),l.defaultInterpolatedText=o,l.statesModels=t)}}function sC(a,t,e,o,l){var f=Eu(a);if(!f.valueAnimation||f.prevValue===f.value)return;var h=f.defaultInterpolatedText,v=oe(f.interpolatedValue,f.prevValue),g=f.value;function y(x){var b=PA(e,f.precision,v,g,x);f.interpolatedValue=x===1?null:b;var T=qz({labelDataIndex:t,labelFetcher:l,defaultText:h?h(b):b+""},f.statesModels,b);ort(a,T)}a.percent=0,(f.prevValue==null?je:we)(a,{percent:1},o,t,null,y)}var EBt=["textStyle","color"],$z=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Kz=new _e,PBt=function(){function a(){}return a.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(EBt):null)},a.prototype.getFont=function(){return Gg({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<$z.length;o++)e[$z[o]]=this.getShallow($z[o]);return Kz.useStyle(e),Kz.update(),Kz.getBoundingRect()},a}(),srt=PBt;var jz=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],RBt=yn(jz),lrt=function(){function a(){}return a.prototype.getLineStyle=function(t){return RBt(this,t)},a}();var Jz=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],OBt=yn(Jz),urt=function(){function a(){}return a.prototype.getItemStyle=function(t,e){return OBt(this,t,e)},a}();var jp=function(){function a(t,e,o){this.parentModel=e,this.ecModel=o,this.option=t}return a.prototype.init=function(t,e,o){for(var l=[],f=3;f<arguments.length;f++)l[f-3]=arguments[f]},a.prototype.mergeOption=function(t,e){ne(this.option,t,!0)},a.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},a.prototype.getShallow=function(t,e){var o=this.option,l=o==null?o:o[t];if(l==null&&!e){var f=this.parentModel;f&&(l=f.getShallow(t))}return l},a.prototype.getModel=function(t,e){var o=t!=null,l=o?this.parsePath(t):null,f=o?this._doGet(l):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(l)),new a(f,e,this.ecModel)},a.prototype.isEmpty=function(){return this.option==null},a.prototype.restoreData=function(){},a.prototype.clone=function(){var t=this.constructor;return new t(Ht(this.option))},a.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},a.prototype.resolveParentPath=function(t){return t},a.prototype.isAnimationEnabled=function(){if(!Ie.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(t,e){var o=this.option;if(!t)return o;for(var l=0;l<t.length&&!(t[l]&&(o=o&&typeof o=="object"?o[t[l]]:null,o==null));l++);return o==null&&e&&(o=e._doGet(this.resolveParentPath(t),e.parentModel)),o},a}();Lg(jp);_tt(jp);or(jp,lrt);or(jp,urt);or(jp,xtt);or(jp,srt);var Fe=jp;var kBt=Math.round(Math.random()*10);function Bo(a){return[a||"",kBt++].join("_")}function frt(a){var t={};a.registerSubTypeDefaulter=function(e,o){var l=mn(e);t[l.main]=o},a.determineSubType=function(e,o){var l=o.type;if(!l){var f=mn(e).main;a.hasSubTypes(e)&&t[f]&&(l=t[f](o))}return l}}function crt(a,t){a.topologicalTravel=function(f,h,v,g){if(!f.length)return;var y=e(h),x=y.graph,b=y.noEntryList,T={};for(X(f,function(N){T[N]=!0});b.length;){var C=b.pop(),M=x[C],I=!!T[C];I&&(v.call(g,C,M.originalDeps.slice()),delete T[C]),X(M.successor,I?O:P)}X(T,function(){var N="";throw new Error(N)});function P(N){x[N].entryCount--,x[N].entryCount===0&&b.push(N)}function O(N){T[N]=!0,P(N)}};function e(f){var h={},v=[];return X(f,function(g){var y=o(h,g),x=y.originalDeps=t(g),b=l(x,f);y.entryCount=b.length,y.entryCount===0&&v.push(g),X(b,function(T){ae(y.predecessor,T)<0&&y.predecessor.push(T);var C=o(h,T);ae(C.successor,T)<0&&C.successor.push(g)})}),{graph:h,noEntryList:v}}function o(f,h){return f[h]||(f[h]={predecessor:[],successor:[]}),f[h]}function l(f,h){var v=[];return X(f,function(g){ae(h,g)>=0&&v.push(g)}),v}}function Ma(a,t){return ne(ne({},a,!0),t,!0)}var hrt={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var prt={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var uC="ZH",tV="EN",Hg=tV,lC={},eV={},fC=Ie.domSupported?function(){var a=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Hg).toUpperCase();return a.indexOf(uC)>-1?uC:Hg}():Hg;function cC(a,t){a=a.toUpperCase(),eV[a]=new Fe(t),lC[a]=t}function vrt(a){if(Dt(a)){var t=lC[a.toUpperCase()]||{};return a===uC||a===tV?Ht(t):ne(Ht(t),Ht(lC[Hg]),!1)}else return ne(Ht(a),Ht(lC[Hg]),!1)}function _x(a){return eV[a]}function drt(){return eV[Hg]}cC(tV,hrt);cC(uC,prt);var pC=1e3,vC=pC*60,Yg=vC*60,$n=Yg*24,iV=$n*365,xx={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},hC="{yyyy}-{MM}-{dd}",aV={year:"{yyyy}",month:"{yyyy}-{MM}",day:hC,hour:hC+" "+xx.hour,minute:hC+" "+xx.minute,second:hC+" "+xx.second,millisecond:xx.none},rV=["year","month","day","hour","minute","second","millisecond"],nV=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function La(a,t){return a+="","0000".substr(0,t-a.length)+a}function Qp(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function grt(a){return a===Qp(a)}function mrt(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Pu(a,t,e,o){var l=Ei(a),f=l[dC(e)](),h=l[Jp(e)]()+1,v=Math.floor((h-1)/3)+1,g=l[Sx(e)](),y=l["get"+(e?"UTC":"")+"Day"](),x=l[Wg(e)](),b=(x-1)%12+1,T=l[bx(e)](),C=l[Tx(e)](),M=l[Ax(e)](),I=x>=12?"pm":"am",P=I.toUpperCase(),O=o instanceof Fe?o:_x(o||fC)||drt(),N=O.getModel("time"),V=N.get("month"),F=N.get("monthAbbr"),U=N.get("dayOfWeek"),H=N.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,I+"").replace(/{A}/g,P+"").replace(/{yyyy}/g,f+"").replace(/{yy}/g,La(f%100+"",2)).replace(/{Q}/g,v+"").replace(/{MMMM}/g,V[h-1]).replace(/{MMM}/g,F[h-1]).replace(/{MM}/g,La(h,2)).replace(/{M}/g,h+"").replace(/{dd}/g,La(g,2)).replace(/{d}/g,g+"").replace(/{eeee}/g,U[y]).replace(/{ee}/g,H[y]).replace(/{e}/g,y+"").replace(/{HH}/g,La(x,2)).replace(/{H}/g,x+"").replace(/{hh}/g,La(b+"",2)).replace(/{h}/g,b+"").replace(/{mm}/g,La(T,2)).replace(/{m}/g,T+"").replace(/{ss}/g,La(C,2)).replace(/{s}/g,C+"").replace(/{SSS}/g,La(M,3)).replace(/{S}/g,M+"")}function yrt(a,t,e,o,l){var f=null;if(Dt(e))f=e;else if(Nt(e))f=e(a.value,t,{level:a.level});else{var h=mt({},xx);if(a.level>0)for(var v=0;v<rV.length;++v)h[rV[v]]="{primary|"+h[rV[v]]+"}";var g=e?e.inherit===!1?e:zt(e,h):h,y=_rt(a.value,l);if(g[y])f=g[y];else if(g.inherit){for(var x=nV.indexOf(y),v=x-1;v>=0;--v)if(g[y]){f=g[y];break}f=f||h.none}if(yt(f)){var b=a.level==null?0:a.level>=0?a.level:f.length+a.level;b=Math.min(b,f.length-1),f=f[b]}}return Pu(new Date(a.value),f,l,o)}function _rt(a,t){var e=Ei(a),o=e[Jp(t)]()+1,l=e[Sx(t)](),f=e[Wg(t)](),h=e[bx(t)](),v=e[Tx(t)](),g=e[Ax(t)](),y=g===0,x=y&&v===0,b=x&&h===0,T=b&&f===0,C=T&&l===1,M=C&&o===1;return M?"year":C?"month":T?"day":b?"hour":x?"minute":y?"second":"millisecond"}function oV(a,t,e){var o=ye(a)?Ei(a):a;switch(t=t||_rt(a,e),t){case"year":return o[dC(e)]();case"half-year":return o[Jp(e)]()>=6?1:0;case"quarter":return Math.floor((o[Jp(e)]()+1)/4);case"month":return o[Jp(e)]();case"day":return o[Sx(e)]();case"half-day":return o[Wg(e)]()/24;case"hour":return o[Wg(e)]();case"minute":return o[bx(e)]();case"second":return o[Tx(e)]();case"millisecond":return o[Ax(e)]()}}function dC(a){return a?"getUTCFullYear":"getFullYear"}function Jp(a){return a?"getUTCMonth":"getMonth"}function Sx(a){return a?"getUTCDate":"getDate"}function Wg(a){return a?"getUTCHours":"getHours"}function bx(a){return a?"getUTCMinutes":"getMinutes"}function Tx(a){return a?"getUTCSeconds":"getSeconds"}function Ax(a){return a?"getUTCMilliseconds":"getMilliseconds"}function xrt(a){return a?"setUTCFullYear":"setFullYear"}function sV(a){return a?"setUTCMonth":"setMonth"}function lV(a){return a?"setUTCDate":"setDate"}function uV(a){return a?"setUTCHours":"setHours"}function fV(a){return a?"setUTCMinutes":"setMinutes"}function cV(a){return a?"setUTCSeconds":"setSeconds"}function hV(a){return a?"setUTCMilliseconds":"setMilliseconds"}function pV(a,t,e,o,l,f,h,v){var g=new _e({style:{text:a,font:t,align:e,verticalAlign:o,padding:l,rich:f,overflow:h?"truncate":null,lineHeight:v}});return g.getBoundingRect()}function Cx(a){if(!Pp(a))return Dt(a)?a:"-";var t=(a+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Zg(a,t){return a=(a||"").toLowerCase().replace(/-(.)/g,function(e,o){return o.toUpperCase()}),t&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var Kn=fp;function gC(a,t,e){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function l(x){return x&&Di(x)?x:"-"}function f(x){return!!(x!=null&&!isNaN(x)&&isFinite(x))}var h=t==="time",v=a instanceof Date;if(h||v){var g=h?Ei(a):a;if(isNaN(+g)){if(v)return"-"}else return Pu(g,o,e)}if(t==="ordinal")return sg(a)?l(a):ye(a)&&f(a)?a+"":"-";var y=dn(a);return f(y)?Cx(y):sg(a)?l(a):typeof a=="boolean"?a+"":"-"}var Srt=["a","b","c","d","e","f","g"],vV=function(a,t){return"{"+a+(t??"")+"}"};function Xg(a,t,e){yt(t)||(t=[t]);var o=t.length;if(!o)return"";for(var l=t[0].$vars||[],f=0;f<l.length;f++){var h=Srt[f];a=a.replace(vV(h),vV(h,0))}for(var v=0;v<o;v++)for(var g=0;g<l.length;g++){var y=t[v][l[g]];a=a.replace(vV(Srt[g],v),e?ci(y):y)}return a}function brt(a,t,e){return X(t,function(o,l){a=a.replace("{"+l+"}",e?ci(o):o)}),a}function mC(a,t){var e=Dt(a)?{color:a,extraCssText:t}:a||{},o=e.color,l=e.type;t=e.extraCssText;var f=e.renderMode||"html";if(!o)return"";if(f==="html")return l==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ci(o)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ci(o)+";"+(t||"")+'"></span>';var h=e.markerId||"markerX";return{renderMode:f,content:"{"+h+"|}  ",style:l==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function wrt(a,t,e){(a==="week"||a==="month"||a==="quarter"||a==="half-year"||a==="year")&&(a=`MM-dd
yyyy`);var o=Ei(t),l=e?"getUTC":"get",f=o[l+"FullYear"](),h=o[l+"Month"]()+1,v=o[l+"Date"](),g=o[l+"Hours"](),y=o[l+"Minutes"](),x=o[l+"Seconds"](),b=o[l+"Milliseconds"]();return a=a.replace("MM",La(h,2)).replace("M",h).replace("yyyy",f).replace("yy",La(f%100+"",2)).replace("dd",La(v,2)).replace("d",v).replace("hh",La(g,2)).replace("h",g).replace("mm",La(y,2)).replace("m",y).replace("ss",La(x,2)).replace("s",x).replace("SSS",La(b,3)),a}function Trt(a){return a&&a.charAt(0).toUpperCase()+a.substr(1)}function Ls(a,t){return t=t||"transparent",Dt(a)?a:Ft(a)&&a.colorStops&&(a.colorStops[0]||{}).color||t}function tv(a,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=a}else window.open(a,t)}var yC=X,dV=["left","right","top","bottom","width","height"],ev=[["width","left","right"],["height","top","bottom"]];function gV(a,t,e,o,l){var f=0,h=0;o==null&&(o=1/0),l==null&&(l=1/0);var v=0;t.eachChild(function(g,y){var x=g.getBoundingRect(),b=t.childAt(y+1),T=b&&b.getBoundingRect(),C,M;if(a==="horizontal"){var I=x.width+(T?-T.x+x.x:0);C=f+I,C>o||g.newline?(f=0,C=I,h+=v+e,v=x.height):v=Math.max(v,x.height)}else{var P=x.height+(T?-T.y+x.y:0);M=h+P,M>l||g.newline?(f+=v+e,h=0,M=P,v=x.width):v=Math.max(v,x.width)}g.newline||(g.x=f,g.y=h,g.markRedraw(),a==="horizontal"?f=C+e:h=M+e)})}var Is=gV,Vee=Qt(gV,"vertical"),Bee=Qt(gV,"horizontal");function Art(a,t,e){var o=t.width,l=t.height,f=Pt(a.left,o),h=Pt(a.top,l),v=Pt(a.right,o),g=Pt(a.bottom,l);return(isNaN(f)||isNaN(parseFloat(a.left)))&&(f=0),(isNaN(v)||isNaN(parseFloat(a.right)))&&(v=o),(isNaN(h)||isNaN(parseFloat(a.top)))&&(h=0),(isNaN(g)||isNaN(parseFloat(a.bottom)))&&(g=l),e=Kn(e||0),{width:Math.max(v-f-e[1]-e[3],0),height:Math.max(g-h-e[0]-e[2],0)}}function ar(a,t,e){e=Kn(e||0);var o=t.width,l=t.height,f=Pt(a.left,o),h=Pt(a.top,l),v=Pt(a.right,o),g=Pt(a.bottom,l),y=Pt(a.width,o),x=Pt(a.height,l),b=e[2]+e[0],T=e[1]+e[3],C=a.aspect;switch(isNaN(y)&&(y=o-v-T-f),isNaN(x)&&(x=l-g-b-h),C!=null&&(isNaN(y)&&isNaN(x)&&(C>o/l?y=o*.8:x=l*.8),isNaN(y)&&(y=C*x),isNaN(x)&&(x=y/C)),isNaN(f)&&(f=o-v-y-T),isNaN(h)&&(h=l-g-x-b),a.left||a.right){case"center":f=o/2-y/2-e[3];break;case"right":f=o-y-T;break}switch(a.top||a.bottom){case"middle":case"center":h=l/2-x/2-e[0];break;case"bottom":h=l-x-b;break}f=f||0,h=h||0,isNaN(y)&&(y=o-T-f-(v||0)),isNaN(x)&&(x=l-b-h-(g||0));var M=new ie(f+e[3],h+e[0],y,x);return M.margin=e,M}function lc(a,t,e,o,l,f){var h=!l||!l.hv||l.hv[0],v=!l||!l.hv||l.hv[1],g=l&&l.boundingMode||"all";if(f=f||a,f.x=a.x,f.y=a.y,!h&&!v)return!1;var y;if(g==="raw")y=a.type==="group"?new ie(0,0,+t.width||0,+t.height||0):a.getBoundingRect();else if(y=a.getBoundingRect(),a.needLocalTransform()){var x=a.getLocalTransform();y=y.clone(),y.applyTransform(x)}var b=ar(zt({width:y.width,height:y.height},t),e,o),T=h?b.x-y.x:0,C=v?b.y-y.y:0;return g==="raw"?(f.x=T,f.y=C):(f.x+=T,f.y+=C),f===a&&a.markRedraw(),!0}function Crt(a,t){return a[ev[t][0]]!=null||a[ev[t][1]]!=null&&a[ev[t][2]]!=null}function uc(a){var t=a.layoutMode||a.constructor.layoutMode;return Ft(t)?t:t?{type:t}:null}function bn(a,t,e){var o=e&&e.ignoreSize;!yt(o)&&(o=[o,o]);var l=h(ev[0],0),f=h(ev[1],1);y(ev[0],a,l),y(ev[1],a,f);function h(x,b){var T={},C=0,M={},I=0,P=2;if(yC(x,function(V){M[V]=a[V]}),yC(x,function(V){v(t,V)&&(T[V]=M[V]=t[V]),g(T,V)&&C++,g(M,V)&&I++}),o[b])return g(t,x[1])?M[x[2]]=null:g(t,x[2])&&(M[x[1]]=null),M;if(I===P||!C)return M;if(C>=P)return T;for(var O=0;O<x.length;O++){var N=x[O];if(!v(T,N)&&v(a,N)){T[N]=a[N];break}}return T}function v(x,b){return x.hasOwnProperty(b)}function g(x,b){return x[b]!=null&&x[b]!=="auto"}function y(x,b,T){yC(x,function(C){b[C]=T[C]})}}function Fo(a){return mV({},a)}function mV(a,t){return t&&a&&yC(dV,function(e){t.hasOwnProperty(e)&&(a[e]=t[e])}),a}var NBt=ue(),qg=function(a){at(t,a);function t(e,o,l){var f=a.call(this,e,o,l)||this;return f.uid=Bo("ec_cpt_model"),f}return t.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l)},t.prototype.mergeDefaultAndTheme=function(e,o){var l=uc(this),f=l?Fo(e):{},h=o.getTheme();ne(e,h.get(this.mainType)),ne(e,this.getDefaultOption()),l&&bn(e,f,l)},t.prototype.mergeOption=function(e,o){ne(this.option,e,!0);var l=uc(this);l&&bn(this.option,e,l)},t.prototype.optionUpdated=function(e,o){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!ytt(e))return e.defaultOption;var o=NBt(this);if(!o.defaultOption){for(var l=[],f=e;f;){var h=f.prototype.defaultOption;h&&l.push(h),f=f.superClass}for(var v={},g=l.length-1;g>=0;g--)v=ne(v,l[g],!0);o.defaultOption=v}return o.defaultOption},t.prototype.getReferringComponents=function(e,o){var l=e+"Index",f=e+"Id";return jf(this.ecModel,e,{index:this.get(l,!0),id:this.get(f,!0)},o)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Fe);RA(qg,Fe);Jf(qg);frt(qg);crt(qg,zBt);function zBt(a){var t=[];return X(qg.getClassesByMainType(a),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=_t(t,function(e){return mn(e).main}),a!=="dataset"&&ae(t,"dataset")<=0&&t.unshift("dataset"),t}var xe=qg;var Drt="";typeof navigator<"u"&&(Drt=navigator.platform||"");var $g="rgba(0, 0, 0, 0.2)",Mrt={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:$g,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:$g,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:$g,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:$g,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:$g,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:$g,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Drt.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var _C=Rt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ji="original",pi="arrayRows",ca="objectRows",jn="keyedColumns",Jn="typedArray",yV="unknown",wn="column",Ru="row";var Wi={Must:1,Might:2,Not:3},Lrt=ue();function Irt(a){Lrt(a).datasetMap=Rt()}function xC(a,t,e){var o={},l=SC(t);if(!l||!a)return o;var f=[],h=[],v=t.ecModel,g=Lrt(v).datasetMap,y=l.uid+"_"+e.seriesLayoutBy,x,b;a=a.slice(),X(a,function(I,P){var O=Ft(I)?I:a[P]={name:I};O.type==="ordinal"&&x==null&&(x=P,b=M(O)),o[O.name]=[]});var T=g.get(y)||g.set(y,{categoryWayDim:b,valueWayDim:0});X(a,function(I,P){var O=I.name,N=M(I);if(x==null){var V=T.valueWayDim;C(o[O],V,N),C(h,V,N),T.valueWayDim+=N}else if(x===P)C(o[O],0,N),C(f,0,N);else{var V=T.categoryWayDim;C(o[O],V,N),C(h,V,N),T.categoryWayDim+=N}});function C(I,P,O){for(var N=0;N<O;N++)I.push(P+N)}function M(I){var P=I.dimsDef;return P?P.length:1}return f.length&&(o.itemName=f),h.length&&(o.seriesName=h),o}function Kg(a,t,e){var o={},l=SC(a);if(!l)return o;var f=t.sourceFormat,h=t.dimensionsDefine,v;(f===ca||f===jn)&&X(h,function(x,b){(Ft(x)?x.name:x)==="name"&&(v=b)});var g=function(){for(var x={},b={},T=[],C=0,M=Math.min(5,e);C<M;C++){var I=Prt(t.data,f,t.seriesLayoutBy,h,t.startIndex,C);T.push(I);var P=I===Wi.Not;if(P&&x.v==null&&C!==v&&(x.v=C),(x.n==null||x.n===x.v||!P&&T[x.n]===Wi.Not)&&(x.n=C),O(x)&&T[x.n]!==Wi.Not)return x;P||(I===Wi.Might&&b.v==null&&C!==v&&(b.v=C),(b.n==null||b.n===b.v)&&(b.n=C))}function O(N){return N.v!=null&&N.n!=null}return O(x)?x:O(b)?b:null}();if(g){o.value=[g.v];var y=v??g.n;o.itemName=[y],o.seriesName=[y]}return o}function SC(a){var t=a.get("data",!0);if(!t)return jf(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},pr).models[0]}function Ert(a){return!a.get("transform",!0)&&!a.get("fromTransformResult",!0)?[]:jf(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},pr).models}function bC(a,t){return Prt(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,t)}function Prt(a,t,e,o,l,f){var h,v=5;if(ei(a))return Wi.Not;var g,y;if(o){var x=o[f];Ft(x)?(g=x.name,y=x.type):Dt(x)&&(g=x)}if(y!=null)return y==="ordinal"?Wi.Must:Wi.Not;if(t===pi){var b=a;if(e===Ru){for(var T=b[f],C=0;C<(T||[]).length&&C<v;C++)if((h=F(T[l+C]))!=null)return h}else for(var C=0;C<b.length&&C<v;C++){var M=b[l+C];if(M&&(h=F(M[f]))!=null)return h}}else if(t===ca){var I=a;if(!g)return Wi.Not;for(var C=0;C<I.length&&C<v;C++){var P=I[C];if(P&&(h=F(P[g]))!=null)return h}}else if(t===jn){var O=a;if(!g)return Wi.Not;var T=O[g];if(!T||ei(T))return Wi.Not;for(var C=0;C<T.length&&C<v;C++)if((h=F(T[C]))!=null)return h}else if(t===Ji)for(var N=a,C=0;C<N.length&&C<v;C++){var P=N[C],V=As(P);if(!yt(V))return Wi.Not;if((h=F(V[f]))!=null)return h}function F(U){var H=Dt(U);if(U!=null&&Number.isFinite(Number(U))&&U!=="")return H?Wi.Might:Wi.Not;if(H&&U!=="-")return Wi.Must}return Wi.Not}var _V=Rt();function Rrt(a,t){Tr(_V.get(a)==null&&t),_V.set(a,t)}function Ort(a,t,e){var o=_V.get(t);if(!o)return e;var l=o(a);if(!l)return e;if(0)for(var f;f<l.length;f++);return e.concat(l)}var krt=ue(),VBt=ue(),Mx=function(){function a(){}return a.prototype.getColorFromPalette=function(t,e,o){var l=qe(this.get("color",!0)),f=this.get("colorLayer",!0);return Nrt(this,krt,l,f,t,e,o)},a.prototype.clearColorPalette=function(){FBt(this,krt)},a}();function Lx(a,t,e,o){var l=qe(a.get(["aria","decal","decals"]));return Nrt(a,VBt,l,null,t,e,o)}function BBt(a,t){for(var e=a.length,o=0;o<e;o++)if(a[o].length>t)return a[o];return a[e-1]}function Nrt(a,t,e,o,l,f,h){f=f||a;var v=t(f),g=v.paletteIdx||0,y=v.paletteNameMap=v.paletteNameMap||{};if(y.hasOwnProperty(l))return y[l];var x=h==null||!o?e:BBt(o,h);if(x=x||e,!(!x||!x.length)){var b=x[g];return l&&(y[l]=b),v.paletteIdx=(g+1)%x.length,b}}function FBt(a,t){t(a).paletteIdx=0,t(a).paletteNameMap={}}var wC,Ix,zrt,Vrt="\0_ec_inner",UBt=1;var Grt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e,o,l,f,h,v){f=f||{},this.option=null,this._theme=new Fe(f),this._locale=new Fe(h),this._optionManager=v},t.prototype.setOption=function(e,o,l){var f=Urt(o);this._optionManager.setOption(e,l,f),this._resetOption(null,f)},t.prototype.resetOption=function(e,o){return this._resetOption(e,Urt(o))},t.prototype._resetOption=function(e,o){var l=!1,f=this._optionManager;if(!e||e==="recreate"){var h=f.mountOption(e==="recreate");!this.option||e==="recreate"?zrt(this,h):(this.restoreData(),this._mergeOption(h,o)),l=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var v=f.getTimelineOption(this);v&&(l=!0,this._mergeOption(v,o))}if(!e||e==="recreate"||e==="media"){var g=f.getMediaOption(this);g.length&&X(g,function(y){l=!0,this._mergeOption(y,o)},this)}return l},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,o){var l=this.option,f=this._componentsMap,h=this._componentsCount,v=[],g=Rt(),y=o&&o.replaceMergeMainTypeMap;Irt(this),X(e,function(b,T){b!=null&&(xe.hasClass(T)?T&&(v.push(T),g.set(T,!0)):l[T]=l[T]==null?Ht(b):ne(l[T],b,!0))}),y&&y.each(function(b,T){xe.hasClass(T)&&!g.get(T)&&(v.push(T),g.set(T,!0))}),xe.topologicalTravel(v,xe.getAllClassMainTypes(),x,this);function x(b){var T=Ort(this,b,qe(e[b])),C=f.get(b),M=C?y&&y.get(b)?"replaceMerge":"normalMerge":"replaceAll",I=EA(C,T,M);htt(I,b,xe),l[b]=null,f.set(b,null),h.set(b,0);var P=[],O=[],N=0,V,F;X(I,function(U,H){var Z=U.existing,$=U.newOption;if(!$)Z&&(Z.mergeOption({},this),Z.optionUpdated({},!1));else{var K=b==="series",Q=xe.getClass(b,U.keyInfo.subType,!K);if(!Q){if(0)var rt,nt;return}if(b==="tooltip"){if(V)return;V=!0}if(Z&&Z.constructor===Q)Z.name=U.keyInfo.name,Z.mergeOption($,this),Z.optionUpdated($,!1);else{var ot=mt({componentIndex:H},U.keyInfo);Z=new Q($,this,this,ot),mt(Z,ot),U.brandNew&&(Z.__requireNewView=!0),Z.init($,this,this),Z.optionUpdated(null,!0)}}Z?(P.push(Z.option),O.push(Z),N++):(P.push(void 0),O.push(void 0))},this),l[b]=P,f.set(b,O),h.set(b,N),b==="series"&&wC(this)}this._seriesIndices||wC(this)},t.prototype.getOption=function(){var e=Ht(this.option);return X(e,function(o,l){if(xe.hasClass(l)){for(var f=qe(o),h=f.length,v=!1,g=h-1;g>=0;g--)f[g]&&!Dg(f[g])?v=!0:(f[g]=null,!v&&h--);f.length=h,e[l]=f}}),delete e[Vrt],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,o){var l=this._componentsMap.get(e);if(l){var f=l[o||0];if(f)return f;if(o==null){for(var h=0;h<l.length;h++)if(l[h])return l[h]}}},t.prototype.queryComponents=function(e){var o=e.mainType;if(!o)return[];var l=e.index,f=e.id,h=e.name,v=this._componentsMap.get(o);if(!v||!v.length)return[];var g;return l!=null?(g=[],X(qe(l),function(y){v[y]&&g.push(v[y])})):f!=null?g=Brt("id",f,v):h!=null?g=Brt("name",h,v):g=Ee(v,function(y){return!!y}),Frt(g,e)},t.prototype.findComponents=function(e){var o=e.query,l=e.mainType,f=v(o),h=f?this.queryComponents(f):Ee(this._componentsMap.get(l),function(y){return!!y});return g(Frt(h,e));function v(y){var x=l+"Index",b=l+"Id",T=l+"Name";return y&&(y[x]!=null||y[b]!=null||y[T]!=null)?{mainType:l,index:y[x],id:y[b],name:y[T]}:null}function g(y){return e.filter?Ee(y,e.filter):y}},t.prototype.eachComponent=function(e,o,l){var f=this._componentsMap;if(Nt(e)){var h=o,v=e;f.each(function(b,T){for(var C=0;b&&C<b.length;C++){var M=b[C];M&&v.call(h,T,M,M.componentIndex)}})}else for(var g=Dt(e)?f.get(e):Ft(e)?this.findComponents(e):null,y=0;g&&y<g.length;y++){var x=g[y];x&&o.call(l,x,x.componentIndex)}},t.prototype.getSeriesByName=function(e){var o=kr(e,null);return Ee(this._componentsMap.get("series"),function(l){return!!l&&o!=null&&l.name===o})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Ee(this._componentsMap.get("series"),function(o){return!!o&&o.subType===e})},t.prototype.getSeries=function(){return Ee(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,o){Ix(this),X(this._seriesIndices,function(l){var f=this._componentsMap.get("series")[l];e.call(o,f,l)},this)},t.prototype.eachRawSeries=function(e,o){X(this._componentsMap.get("series"),function(l){l&&e.call(o,l,l.componentIndex)})},t.prototype.eachSeriesByType=function(e,o,l){Ix(this),X(this._seriesIndices,function(f){var h=this._componentsMap.get("series")[f];h.subType===e&&o.call(l,h,f)},this)},t.prototype.eachRawSeriesByType=function(e,o,l){return X(this.getSeriesByType(e),o,l)},t.prototype.isSeriesFiltered=function(e){return Ix(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,o){Ix(this);var l=[];X(this._seriesIndices,function(f){var h=this._componentsMap.get("series")[f];e.call(o,h,f)&&l.push(f)},this),this._seriesIndices=l,this._seriesIndicesMap=Rt(l)},t.prototype.restoreData=function(e){wC(this);var o=this._componentsMap,l=[];o.each(function(f,h){xe.hasClass(h)&&l.push(h)}),xe.topologicalTravel(l,xe.getAllClassMainTypes(),function(f){X(o.get(f),function(h){h&&(f!=="series"||!GBt(h,e))&&h.restoreData()})})},t.internalField=function(){wC=function(e){var o=e._seriesIndices=[];X(e._componentsMap.get("series"),function(l){l&&o.push(l.componentIndex)}),e._seriesIndicesMap=Rt(o)},Ix=function(e){},zrt=function(e,o){e.option={},e.option[Vrt]=UBt,e._componentsMap=Rt({series:[]}),e._componentsCount=Rt();var l=o.aria;Ft(l)&&l.enabled==null&&(l.enabled=!0),HBt(o,e._theme.option),ne(o,Mrt,!1),e._mergeOption(o,null)}}(),t}(Fe);function GBt(a,t){if(t){var e=t.seriesIndex,o=t.seriesId,l=t.seriesName;return e!=null&&a.componentIndex!==e||o!=null&&a.id!==o||l!=null&&a.name!==l}}function HBt(a,t){var e=a.color&&!a.colorLayer;X(t,function(o,l){l==="colorLayer"&&e||xe.hasClass(l)||(typeof o=="object"?a[l]=a[l]?ne(a[l],o,!1):Ht(o):a[l]==null&&(a[l]=o))})}function Brt(a,t,e){if(yt(t)){var o=Rt();return X(t,function(f){if(f!=null){var h=kr(f,null);h!=null&&o.set(f,!0)}}),Ee(e,function(f){return f&&o.get(f[a])})}else{var l=kr(t,null);return Ee(e,function(f){return f&&l!=null&&f[a]===l})}}function Frt(a,t){return t.hasOwnProperty("subType")?Ee(a,function(e){return e&&e.subType===t.subType}):a}function Urt(a){var t=Rt();return a&&X(qe(a.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}or(Grt,Mx);var TC=Grt;var WBt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],YBt=function(){function a(t){X(WBt,function(e){this[e]=It(t[e],t)},this)}return a}(),AC=YBt;var xV={},ZBt=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(t,e){var o=[];X(xV,function(l,f){var h=l.create(t,e);o=o.concat(h||[])}),this._coordinateSystems=o},a.prototype.update=function(t,e){X(this._coordinateSystems,function(o){o.update&&o.update(t,e)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(t,e){xV[t]=e},a.get=function(t){return xV[t]},a}(),Dl=ZBt;var XBt=/^(min|max)?(.+)$/,qBt=function(){function a(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return a.prototype.setOption=function(t,e,o){t&&(X(qe(t.series),function(h){h&&h.data&&ei(h.data)&&Uf(h.data)}),X(qe(t.dataset),function(h){h&&h.source&&ei(h.source)&&Uf(h.source)})),t=Ht(t);var l=this._optionBackup,f=$Bt(t,e,!l);this._newBaseOption=f.baseOption,l?(f.timelineOptions.length&&(l.timelineOptions=f.timelineOptions),f.mediaList.length&&(l.mediaList=f.mediaList),f.mediaDefault&&(l.mediaDefault=f.mediaDefault)):this._optionBackup=f},a.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Ht(t?e.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(t){var e,o=this._timelineOptions;if(o.length){var l=t.getComponent("timeline");l&&(e=Ht(o[l.getCurrentIndex()]))}return e},a.prototype.getMediaOption=function(t){var e=this._api.getWidth(),o=this._api.getHeight(),l=this._mediaList,f=this._mediaDefault,h=[],v=[];if(!l.length&&!f)return v;for(var g=0,y=l.length;g<y;g++)KBt(l[g].query,e,o)&&h.push(g);return!h.length&&f&&(h=[-1]),h.length&&!JBt(h,this._currentMediaIndices)&&(v=_t(h,function(x){return Ht(x===-1?f.option:l[x].option)})),this._currentMediaIndices=h,v},a}();function $Bt(a,t,e){var o=[],l,f,h=a.baseOption,v=a.timeline,g=a.options,y=a.media,x=!!a.media,b=!!(g||v||h&&h.timeline);h?(f=h,f.timeline||(f.timeline=v)):((b||x)&&(a.options=a.media=null),f=a),x&&yt(y)&&X(y,function(C){C&&C.option&&(C.query?o.push(C):l||(l=C))}),T(f),X(g,function(C){return T(C)}),X(o,function(C){return T(C.option)});function T(C){X(t,function(M){M(C,e)})}return{baseOption:f,timelineOptions:g||[],mediaDefault:l,mediaList:o}}function KBt(a,t,e){var o={width:t,height:e,aspectratio:t/e},l=!0;return X(a,function(f,h){var v=h.match(XBt);if(!(!v||!v[1]||!v[2])){var g=v[1],y=v[2].toLowerCase();jBt(o[y],f,g)||(l=!1)}}),l}function jBt(a,t,e){return e==="min"?a>=t:e==="max"?a<=t:a===t}function JBt(a,t){return a.join(",")===t.join(",")}var Hrt=qBt;var Es=X,Px=Ft,Wrt=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function SV(a){var t=a&&a.itemStyle;if(t)for(var e=0,o=Wrt.length;e<o;e++){var l=Wrt[e],f=t.normal,h=t.emphasis;f&&f[l]&&(a[l]=a[l]||{},a[l].normal?ne(a[l].normal,f[l]):a[l].normal=f[l],f[l]=null),h&&h[l]&&(a[l]=a[l]||{},a[l].emphasis?ne(a[l].emphasis,h[l]):a[l].emphasis=h[l],h[l]=null)}}function Ia(a,t,e){if(a&&a[t]&&(a[t].normal||a[t].emphasis)){var o=a[t].normal,l=a[t].emphasis;o&&(e?(a[t].normal=a[t].emphasis=null,zt(a[t],o)):a[t]=o),l&&(a.emphasis=a.emphasis||{},a.emphasis[t]=l,l.focus&&(a.emphasis.focus=l.focus),l.blurScope&&(a.emphasis.blurScope=l.blurScope))}}function Ex(a){Ia(a,"itemStyle"),Ia(a,"lineStyle"),Ia(a,"areaStyle"),Ia(a,"label"),Ia(a,"labelLine"),Ia(a,"upperLabel"),Ia(a,"edgeLabel")}function bi(a,t){var e=Px(a)&&a[t],o=Px(e)&&e.textStyle;if(o)for(var l=0,f=oz.length;l<f;l++){var h=oz[l];o.hasOwnProperty(h)&&(e[h]=o[h])}}function Uo(a){a&&(Ex(a),bi(a,"label"),a.emphasis&&bi(a.emphasis,"label"))}function QBt(a){if(Px(a)){SV(a),Ex(a),bi(a,"label"),bi(a,"upperLabel"),bi(a,"edgeLabel"),a.emphasis&&(bi(a.emphasis,"label"),bi(a.emphasis,"upperLabel"),bi(a.emphasis,"edgeLabel"));var t=a.markPoint;t&&(SV(t),Uo(t));var e=a.markLine;e&&(SV(e),Uo(e));var o=a.markArea;o&&Uo(o);var l=a.data;if(a.type==="graph"){l=l||a.nodes;var f=a.links||a.edges;if(f&&!ei(f))for(var h=0;h<f.length;h++)Uo(f[h]);X(a.categories,function(y){Ex(y)})}if(l&&!ei(l))for(var h=0;h<l.length;h++)Uo(l[h]);if(t=a.markPoint,t&&t.data)for(var v=t.data,h=0;h<v.length;h++)Uo(v[h]);if(e=a.markLine,e&&e.data)for(var g=e.data,h=0;h<g.length;h++)yt(g[h])?(Uo(g[h][0]),Uo(g[h][1])):Uo(g[h]);a.type==="gauge"?(bi(a,"axisLabel"),bi(a,"title"),bi(a,"detail")):a.type==="treemap"?(Ia(a.breadcrumb,"itemStyle"),X(a.levels,function(y){Ex(y)})):a.type==="tree"&&Ex(a.leaves)}}function Ou(a){return yt(a)?a:a?[a]:[]}function Yrt(a){return(yt(a)?a[0]:a)||{}}function bV(a,t){Es(Ou(a.series),function(o){Px(o)&&QBt(o)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Es(e,function(o){Es(Ou(a[o]),function(l){l&&(bi(l,"axisLabel"),bi(l.axisPointer,"label"))})}),Es(Ou(a.parallel),function(o){var l=o&&o.parallelAxisDefault;bi(l,"axisLabel"),bi(l&&l.axisPointer,"label")}),Es(Ou(a.calendar),function(o){Ia(o,"itemStyle"),bi(o,"dayLabel"),bi(o,"monthLabel"),bi(o,"yearLabel")}),Es(Ou(a.radar),function(o){bi(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),Es(Ou(a.geo),function(o){Px(o)&&(Uo(o),Es(Ou(o.regions),function(l){Uo(l)}))}),Es(Ou(a.timeline),function(o){Uo(o),Ia(o,"label"),Ia(o,"itemStyle"),Ia(o,"controlStyle",!0);var l=o.data;yt(l)&&X(l,function(f){Ft(f)&&(Ia(f,"label"),Ia(f,"itemStyle"))})}),Es(Ou(a.toolbox),function(o){Ia(o,"iconStyle"),Es(o.feature,function(l){Ia(l,"iconStyle")})}),bi(Yrt(a.axisPointer),"label"),bi(Yrt(a.tooltip).axisPointer,"label")}function tFt(a,t){for(var e=t.split(","),o=a,l=0;l<e.length&&(o=o&&o[e[l]],o!=null);l++);return o}function eFt(a,t,e,o){for(var l=t.split(","),f=a,h,v=0;v<l.length-1;v++)h=l[v],f[h]==null&&(f[h]={}),f=f[h];(o||f[l[v]]==null)&&(f[l[v]]=e)}function Zrt(a){a&&X(rFt,function(t){t[0]in a&&!(t[1]in a)&&(a[t[1]]=a[t[0]])})}var rFt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],iFt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],wV=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Rx(a){var t=a&&a.itemStyle;if(t)for(var e=0;e<wV.length;e++){var o=wV[e][1],l=wV[e][0];t[o]!=null&&(t[l]=t[o])}}function Xrt(a){a&&a.alignTo==="edge"&&a.margin!=null&&a.edgeDistance==null&&(a.edgeDistance=a.margin)}function qrt(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay)}function aFt(a){a&&a.focusNodeAdjacency!=null&&(a.emphasis=a.emphasis||{},a.emphasis.focus==null&&(a.emphasis.focus="adjacency"))}function $rt(a,t){if(a)for(var e=0;e<a.length;e++)t(a[e]),a[e]&&$rt(a[e].children,t)}function CC(a,t){bV(a,t),a.series=qe(a.series),X(a.series,function(e){if(Ft(e)){var o=e.type;if(o==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(o==="pie"||o==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),Xrt(e.label);var l=e.data;if(l&&!ei(l))for(var f=0;f<l.length;f++)Xrt(l[f]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(o==="gauge"){var h=tFt(e,"pointer.color");h!=null&&eFt(e,"itemStyle.color",h)}else if(o==="bar"){Rx(e),Rx(e.backgroundStyle),Rx(e.emphasis);var l=e.data;if(l&&!ei(l))for(var f=0;f<l.length;f++)typeof l[f]=="object"&&(Rx(l[f]),Rx(l[f]&&l[f].emphasis))}else if(o==="sunburst"){var v=e.highlightPolicy;v&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=v)),qrt(e),$rt(e.data,qrt)}else o==="graph"||o==="sankey"?aFt(e):o==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&zt(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),Zrt(e)}}),a.dataRange&&(a.visualMap=a.dataRange),X(iFt,function(e){var o=a[e];o&&(yt(o)||(o=[o]),X(o,function(l){Zrt(l)}))})}function TV(a){var t=Rt();a.eachSeries(function(e){var o=e.get("stack");if(o){var l=t.get(o)||t.set(o,[]),f=e.getData(),h={stackResultDimension:f.getCalculationInfo("stackResultDimension"),stackedOverDimension:f.getCalculationInfo("stackedOverDimension"),stackedDimension:f.getCalculationInfo("stackedDimension"),stackedByDimension:f.getCalculationInfo("stackedByDimension"),isStackedByIndex:f.getCalculationInfo("isStackedByIndex"),data:f,seriesModel:e};if(!h.stackedDimension||!(h.isStackedByIndex||h.stackedByDimension))return;l.length&&f.setCalculationInfo("stackedOnSeries",l[l.length-1].seriesModel),l.push(h)}}),t.each(nFt)}function nFt(a){X(a,function(t,e){var o=[],l=[NaN,NaN],f=[t.stackResultDimension,t.stackedOverDimension],h=t.data,v=t.isStackedByIndex,g=t.seriesModel.get("stackStrategy")||"samesign";h.modify(f,function(y,x,b){var T=h.get(t.stackedDimension,b);if(isNaN(T))return l;var C,M;v?M=h.getRawIndex(b):C=h.get(t.stackedByDimension,b);for(var I=NaN,P=e-1;P>=0;P--){var O=a[P];if(v||(M=O.data.rawIndexOf(O.stackedByDimension,C)),M>=0){var N=O.data.getByRawIndex(O.stackResultDimension,M);if(g==="all"||g==="positive"&&N>0||g==="negative"&&N<0||g==="samesign"&&T>=0&&N>0||g==="samesign"&&T<=0&&N<0){T=rtt(T,N),I=N;break}}}return o[0]=T,o[1]=I,o})})}var DC=function(){function a(t){this.data=t.data||(t.sourceFormat===jn?{}:[]),this.sourceFormat=t.sourceFormat||yV,this.seriesLayoutBy=t.seriesLayoutBy||wn,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var o=0;o<e.length;o++){var l=e[o];l.type==null&&bC(this,o)===Wi.Must&&(l.type="ordinal")}}return a}();function jg(a){return a instanceof DC}function Ox(a,t,e){e=e||AV(a);var o=t.seriesLayoutBy,l=oFt(a,e,o,t.sourceHeader,t.dimensions),f=new DC({data:a,sourceFormat:e,seriesLayoutBy:o,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:Ht(t)});return f}function Jg(a){return new DC({data:a,sourceFormat:ei(a)?Jn:Ji})}function Jrt(a){return new DC({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:Ht(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount})}function AV(a){var t=yV;if(ei(a))t=Jn;else if(yt(a)){a.length===0&&(t=pi);for(var e=0,o=a.length;e<o;e++){var l=a[e];if(l!=null){if(yt(l)||ei(l)){t=pi;break}else if(Ft(l)){t=ca;break}}}}else if(Ft(a)){for(var f in a)if(Yt(a,f)&&Xr(a[f])){t=jn;break}}return t}function oFt(a,t,e,o,l){var f,h;if(!a)return{dimensionsDefine:Krt(l),startIndex:h,dimensionsDetectedCount:f};if(t===pi){var v=a;o==="auto"||o==null?jrt(function(y){y!=null&&y!=="-"&&(Dt(y)?h==null&&(h=1):h=0)},e,v,10):h=ye(o)?o:o?1:0,!l&&h===1&&(l=[],jrt(function(y,x){l[x]=y!=null?y+"":""},e,v,1/0)),f=l?l.length:e===Ru?v.length:v[0]?v[0].length:null}else if(t===ca)l||(l=sFt(a));else if(t===jn)l||(l=[],X(a,function(y,x){l.push(x)}));else if(t===Ji){var g=As(a[0]);f=yt(g)&&g.length||1}return{startIndex:h,dimensionsDefine:Krt(l),dimensionsDetectedCount:f}}function sFt(a){for(var t=0,e;t<a.length&&!(e=a[t++]););if(e)return he(e)}function Krt(a){if(a){var t=Rt();return _t(a,function(e,o){e=Ft(e)?e:{name:e};var l={name:e.name,displayName:e.displayName,type:e.type};if(l.name==null)return l;l.name+="",l.displayName==null&&(l.displayName=l.name);var f=t.get(l.name);return f?l.name+="-"+f.count++:t.set(l.name,{count:1}),l})}}function jrt(a,t,e,o){if(t===Ru)for(var l=0;l<e.length&&l<o;l++)a(e[l]?e[l][0]:null,l);else for(var f=e[0]||[],l=0;l<f.length&&l<o;l++)a(f[l],l)}function MC(a){var t=a.sourceFormat;return t===ca||t===jn}var rv,iv,av,Qrt,tit,LC=function(){function a(t,e){var o=jg(t)?t:Jg(t);this._source=o;var l=this._data=o.data;o.sourceFormat===Jn&&(this._offset=0,this._dimSize=e,this._data=l),tit(this,l,o)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(t,e){},a.prototype.appendData=function(t){},a.prototype.clean=function(){},a.protoInitialize=function(){var t=a.prototype;t.pure=!1,t.persistent=!0}(),a.internalField=function(){var t;tit=function(h,v,g){var y=g.sourceFormat,x=g.seriesLayoutBy,b=g.startIndex,T=g.dimensionsDefine,C=Qrt[IV(y,x)];if(mt(h,C),y===Jn)h.getItem=e,h.count=l,h.fillStorage=o;else{var M=DV(y,x);h.getItem=It(M,null,v,b,T);var I=MV(y,x);h.count=It(I,null,v,b,T)}};var e=function(h,v){h=h-this._offset,v=v||[];for(var g=this._data,y=this._dimSize,x=y*h,b=0;b<y;b++)v[b]=g[x+b];return v},o=function(h,v,g,y){for(var x=this._data,b=this._dimSize,T=0;T<b;T++){for(var C=y[T],M=C[0]==null?1/0:C[0],I=C[1]==null?-1/0:C[1],P=v-h,O=g[T],N=0;N<P;N++){var V=x[N*b+T];O[h+N]=V,V<M&&(M=V),V>I&&(I=V)}C[0]=M,C[1]=I}},l=function(){return this._data?this._data.length/this._dimSize:0};Qrt=(t={},t[pi+"_"+wn]={pure:!0,appendData:f},t[pi+"_"+Ru]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ca]={pure:!0,appendData:f},t[jn]={pure:!0,appendData:function(h){var v=this._data;X(h,function(g,y){for(var x=v[y]||(v[y]=[]),b=0;b<(g||[]).length;b++)x.push(g[b])})}},t[Ji]={appendData:f},t[Jn]={persistent:!1,pure:!0,appendData:function(h){this._data=h},clean:function(){this._offset+=this.count(),this._data=null}},t);function f(h){for(var v=0;v<h.length;v++)this._data.push(h[v])}}(),a}();var eit=function(a,t,e,o){return a[o]},lFt=(rv={},rv[pi+"_"+wn]=function(a,t,e,o){return a[o+t]},rv[pi+"_"+Ru]=function(a,t,e,o,l){o+=t;for(var f=l||[],h=a,v=0;v<h.length;v++){var g=h[v];f[v]=g?g[o]:null}return f},rv[ca]=eit,rv[jn]=function(a,t,e,o,l){for(var f=l||[],h=0;h<e.length;h++){var v=e[h].name,g=a[v];f[h]=g?g[o]:null}return f},rv[Ji]=eit,rv);function DV(a,t){var e=lFt[IV(a,t)];return e}var rit=function(a,t,e){return a.length},uFt=(iv={},iv[pi+"_"+wn]=function(a,t,e){return Math.max(0,a.length-t)},iv[pi+"_"+Ru]=function(a,t,e){var o=a[0];return o?Math.max(0,o.length-t):0},iv[ca]=rit,iv[jn]=function(a,t,e){var o=e[0].name,l=a[o];return l?l.length:0},iv[Ji]=rit,iv);function MV(a,t){var e=uFt[IV(a,t)];return e}var CV=function(a,t,e){return a[t]},fFt=(av={},av[pi]=CV,av[ca]=function(a,t,e){return a[e]},av[jn]=CV,av[Ji]=function(a,t,e){var o=As(a);return o instanceof Array?o[t]:o},av[Jn]=CV,av);function LV(a){var t=fFt[a];return t}function IV(a,t){return a===pi?a+"_"+t:a}function ku(a,t,e){if(a){var o=a.getRawDataItem(t);if(o!=null){var l=a.getStore(),f=l.getSource().sourceFormat;if(e!=null){var h=a.getDimensionIndex(e),v=l.getDimensionProperty(h);return LV(f)(o,h,v)}else{var g=o;return f===Ji&&(g=As(o)),g}}}}var cFt=/\{@(.+?)\}/g,nv=function(){function a(){}return a.prototype.getDataParams=function(t,e){var o=this.getData(e),l=this.getRawValue(t,e),f=o.getRawIndex(t),h=o.getName(t),v=o.getRawDataItem(t),g=o.getItemVisual(t,"style"),y=g&&g[o.getItemVisual(t,"drawType")||"fill"],x=g&&g.stroke,b=this.mainType,T=b==="series",C=o.userOutput&&o.userOutput.get();return{componentType:b,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:T?this.subType:null,seriesIndex:this.seriesIndex,seriesId:T?this.id:null,seriesName:T?this.name:null,name:h,dataIndex:f,data:v,dataType:e,value:l,color:y,borderColor:x,dimensionNames:C?C.fullDimensions:null,encode:C?C.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(t,e,o,l,f,h){e=e||"normal";var v=this.getData(o),g=this.getDataParams(t,o);if(h&&(g.value=h.interpolatedValue),l!=null&&yt(g.value)&&(g.value=g.value[l]),!f){var y=v.getItemModel(t);f=y.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(Nt(f))return g.status=e,g.dimensionIndex=l,f(g);if(Dt(f)){var x=Xg(f,g);return x.replace(cFt,function(b,T){var C=T.length,M=T;M.charAt(0)==="["&&M.charAt(C-1)==="]"&&(M=+M.slice(1,C-1));var I=ku(v,t,M);if(h&&yt(h.interpolatedValue)){var P=v.getDimensionIndex(M);P>=0&&(I=h.interpolatedValue[P])}return I!=null?I+"":""})}},a.prototype.getRawValue=function(t,e){return ku(this.getData(e),t)},a.prototype.formatTooltip=function(t,e,o){},a}();function EV(a){var t,e;return Ft(a)?a.type&&(e=a):t=a,{text:t,frag:e}}function fc(a){return new hFt(a)}var hFt=function(){function a(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return a.prototype.perform=function(t){var e=this._upstream,o=t&&t.skip;if(this._dirty&&e){var l=this.context;l.data=l.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var f;this._plan&&!o&&(f=this._plan(this.context));var h=x(this._modBy),v=this._modDataCount||0,g=x(t&&t.modBy),y=t&&t.modDataCount||0;(h!==g||v!==y)&&(f="reset");function x(N){return!(N>=1)&&(N=1),N}var b;(this._dirty||f==="reset")&&(this._dirty=!1,b=this._doReset(o)),this._modBy=g,this._modDataCount=y;var T=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var C=this._dueIndex,M=Math.min(T!=null?this._dueIndex+T:1/0,this._dueEnd);if(!o&&(b||C<M)){var I=this._progress;if(yt(I))for(var P=0;P<I.length;P++)this._doProgress(I[P],C,M,g,y);else this._doProgress(I,C,M,g,y)}this._dueIndex=M;var O=this._settedOutputEnd!=null?this._settedOutputEnd:M;this._outputDueEnd=O}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(t,e,o,l,f){iit.reset(e,o,l,f),this._callingProgress=t,this._callingProgress({start:e,end:o,count:o-e,next:iit.next},this.context)},a.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,o;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(o=e.forceFirstProgress,e=e.progress),yt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var l=this._downstream;return l&&l.dirty(),o},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},a}();var iit=function(){var a,t,e,o,l,f={reset:function(g,y,x,b){t=g,a=y,e=x,o=b,l=Math.ceil(o/e),f.next=e>1&&o>0?v:h}};return f;function h(){return t<a?t++:null}function v(){var g=t%l*e+Math.ceil(t/l),y=t>=a?null:g<o?g:t;return t++,y}}();function Go(a,t){var e=t&&t.type;return e==="ordinal"?a:(e==="time"&&!ye(a)&&a!=null&&a!=="-"&&(a=+Ei(a)),a==null||a===""?NaN:Number(a))}var pFt=Rt({number:function(a){return parseFloat(a)},time:function(a){return+Ei(a)},trim:function(a){return Dt(a)?Di(a):a}});function IC(a){return pFt.get(a)}var ait={lt:function(a,t){return a<t},lte:function(a,t){return a<=t},gt:function(a,t){return a>t},gte:function(a,t){return a>=t}},vFt=function(){function a(t,e){if(!ye(e)){var o="";Qe(o)}this._opFn=ait[t],this._rvalFloat=dn(e)}return a.prototype.evaluate=function(t){return ye(t)?this._opFn(t,this._rvalFloat):this._opFn(dn(t),this._rvalFloat)},a}(),EC=function(){function a(t,e){var o=t==="desc";this._resultLT=o?1:-1,e==null&&(e=o?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return a.prototype.evaluate=function(t,e){var o=ye(t)?t:dn(t),l=ye(e)?e:dn(e),f=isNaN(o),h=isNaN(l);if(f&&(o=this._incomparable),h&&(l=this._incomparable),f&&h){var v=Dt(t),g=Dt(e);v&&(o=g?t:0),g&&(l=v?e:0)}return o<l?this._resultLT:o>l?-this._resultLT:0},a}();var dFt=function(){function a(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=dn(e)}return a.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var o=typeof t;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(e=dn(t)===this._rvalFloat)}return this._isEQ?e:!e},a}();function nit(a,t){return a==="eq"||a==="ne"?new dFt(a==="eq",t):Yt(ait,a)?new vFt(a,t):null}var gFt=function(){function a(){}return a.prototype.getRawData=function(){throw new Error("not supported")},a.prototype.getRawDataItem=function(t){throw new Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(t){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(t,e){},a.prototype.retrieveValueFromItem=function(t,e){},a.prototype.convertValue=function(t,e){return Go(t,e)},a}();function mFt(a,t){var e=new gFt,o=a.data,l=e.sourceFormat=a.sourceFormat,f=a.startIndex,h="";a.seriesLayoutBy!==wn&&Qe(h);var v=[],g={},y=a.dimensionsDefine;if(y)X(y,function(I,P){var O=I.name,N={index:P,name:O,displayName:I.displayName};if(v.push(N),O!=null){var V="";Yt(g,O)&&Qe(V),g[O]=N}});else for(var x=0;x<a.dimensionsDetectedCount;x++)v.push({index:x});var b=DV(l,wn);t.__isBuiltIn&&(e.getRawDataItem=function(I){return b(o,f,v,I)},e.getRawData=It(yFt,null,a)),e.cloneRawData=It(_Ft,null,a);var T=MV(l,wn);e.count=It(T,null,o,f,v);var C=LV(l);e.retrieveValue=function(I,P){var O=b(o,f,v,I);return M(O,P)};var M=e.retrieveValueFromItem=function(I,P){if(I!=null){var O=v[P];if(O)return C(I,P,O.name)}};return e.getDimensionInfo=It(xFt,null,v,g),e.cloneAllDimensionInfo=It(SFt,null,v),e}function yFt(a){var t=a.sourceFormat;if(!PV(t)){var e="";Qe(e)}return a.data}function _Ft(a){var t=a.sourceFormat,e=a.data;if(!PV(t)){var o="";Qe(o)}if(t===pi){for(var l=[],f=0,h=e.length;f<h;f++)l.push(e[f].slice());return l}else if(t===ca){for(var l=[],f=0,h=e.length;f<h;f++)l.push(mt({},e[f]));return l}}function xFt(a,t,e){if(e!=null){if(ye(e)||!isNaN(e)&&!Yt(t,e))return a[e];if(Yt(t,e))return t[e]}}function SFt(a){return Ht(a)}var oit=Rt();function sit(a){a=Ht(a);var t=a.type,e="";t||Qe(e);var o=t.split(":");o.length!==2&&Qe(e);var l=!1;o[0]==="echarts"&&(t=o[1],l=!0),a.__isBuiltIn=l,oit.set(t,a)}function lit(a,t,e){var o=qe(a),l=o.length,f="";l||Qe(f);for(var h=0,v=l;h<v;h++){var g=o[h];t=bFt(g,t,e,l===1?null:h),h!==v-1&&(t.length=Math.max(t.length,1))}return t}function bFt(a,t,e,o){var l="";t.length||Qe(l),Ft(a)||Qe(l);var f=a.type,h=oit.get(f);h||Qe(l);var v=_t(t,function(x){return mFt(x,h)}),g=qe(h.transform({upstream:v[0],upstreamList:v,config:Ht(a.config)}));if(0&&a.print)var y;return _t(g,function(x,b){var T="";Ft(x)||Qe(T),x.data||Qe(T);var C=AV(x.data);PV(C)||Qe(T);var M,I=t[0];if(I&&b===0&&!x.dimensions){var P=I.startIndex;P&&(x.data=I.data.slice(0,P).concat(x.data)),M={seriesLayoutBy:wn,sourceHeader:P,dimensions:I.metaRawOption.dimensions}}else M={seriesLayoutBy:wn,sourceHeader:0,dimensions:x.dimensions};return Ox(x.data,M,null)})}function PV(a){return a===pi||a===ca}var PC="undefined",wFt=typeof Uint32Array===PC?Array:Uint32Array,TFt=typeof Uint16Array===PC?Array:Uint16Array,OV=typeof Int32Array===PC?Array:Int32Array,uit=typeof Float64Array===PC?Array:Float64Array,cit={float:uit,int:OV,ordinal:Array,number:Array,time:uit},RV;function Qg(a){return a>65535?wFt:TFt}function tm(){return[1/0,-1/0]}function AFt(a){var t=a.constructor;return t===Array?a.slice():new t(a)}function fit(a,t,e,o,l){var f=cit[e||"float"];if(l){var h=a[t],v=h&&h.length;if(v!==o){for(var g=new f(o),y=0;y<v;y++)g[y]=h[y];a[t]=g}}else a[t]=new f(o)}var CFt=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Rt()}return a.prototype.initData=function(t,e,o){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var l=t.getSource(),f=this.defaultDimValueGetter=RV[l.sourceFormat];this._dimValueGetter=o||f,this._rawExtent=[];var h=MC(l);this._dimensions=_t(e,function(v){return{type:v.type,property:v.property}}),this._initDataFromProvider(0,t.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(t,e){var o=this._calcDimNameToIdx,l=this._dimensions,f=o.get(t);if(f!=null){if(l[f].type===e)return f}else f=l.length;return l[f]={type:e},o.set(t,f),this._chunks[f]=new cit[e||"float"](this._rawCount),this._rawExtent[f]=tm(),f},a.prototype.collectOrdinalMeta=function(t,e){var o=this._chunks[t],l=this._dimensions[t],f=this._rawExtent,h=l.ordinalOffset||0,v=o.length;h===0&&(f[t]=tm());for(var g=f[t],y=h;y<v;y++){var x=o[y]=e.parseAndCollect(o[y]);isNaN(x)||(g[0]=Math.min(x,g[0]),g[1]=Math.max(x,g[1]))}l.ordinalMeta=e,l.ordinalOffset=v,l.type="ordinal"},a.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],o=e.ordinalMeta;return o},a.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},a.prototype.appendData=function(t){var e=this._provider,o=this.count();e.appendData(t);var l=e.count();return e.persistent||(l+=o),o<l&&this._initDataFromProvider(o,l,!0),[o,l]},a.prototype.appendValues=function(t,e){for(var o=this._chunks,l=this._dimensions,f=l.length,h=this._rawExtent,v=this.count(),g=v+Math.max(t.length,e||0),y=0;y<f;y++){var x=l[y];fit(o,y,x.type,g,!0)}for(var b=[],T=v;T<g;T++)for(var C=T-v,M=0;M<f;M++){var x=l[M],I=RV.arrayRows.call(this,t[C]||b,x.property,C,M);o[M][T]=I;var P=h[M];I<P[0]&&(P[0]=I),I>P[1]&&(P[1]=I)}return this._rawCount=this._count=g,{start:v,end:g}},a.prototype._initDataFromProvider=function(t,e,o){for(var l=this._provider,f=this._chunks,h=this._dimensions,v=h.length,g=this._rawExtent,y=_t(h,function(N){return N.property}),x=0;x<v;x++){var b=h[x];g[x]||(g[x]=tm()),fit(f,x,b.type,e,o)}if(l.fillStorage)l.fillStorage(t,e,f,g);else for(var T=[],C=t;C<e;C++){T=l.getItem(C,T);for(var M=0;M<v;M++){var I=f[M],P=this._dimValueGetter(T,y[M],C,M);I[C]=P;var O=g[M];P<O[0]&&(O[0]=P),P>O[1]&&(O[1]=P)}}!l.persistent&&l.clean&&l.clean(),this._rawCount=this._count=e,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var o=this._chunks[t];return o?o[this.getRawIndex(e)]:NaN},a.prototype.getValues=function(t,e){var o=[],l=[];if(e==null){e=t,t=[];for(var f=0;f<this._dimensions.length;f++)l.push(f)}else l=t;for(var f=0,h=l.length;f<h;f++)o.push(this.get(l[f],e));return o},a.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var o=this._chunks[t];return o?o[e]:NaN},a.prototype.getSum=function(t){var e=this._chunks[t],o=0;if(e)for(var l=0,f=this.count();l<f;l++){var h=this.get(t,l);isNaN(h)||(o+=h)}return o},a.prototype.getMedian=function(t){var e=[];this.each([t],function(f){isNaN(f)||e.push(f)});var o=e.sort(function(f,h){return f-h}),l=this.count();return l===0?0:l%2===1?o[(l-1)/2]:(o[l/2]+o[l/2-1])/2},a.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,o=e[t];if(o!=null&&o<this._count&&o===t)return t;for(var l=0,f=this._count-1;l<=f;){var h=(l+f)/2|0;if(e[h]<t)l=h+1;else if(e[h]>t)f=h-1;else return h}return-1},a.prototype.indicesOfNearest=function(t,e,o){var l=this._chunks,f=l[t],h=[];if(!f)return h;o==null&&(o=1/0);for(var v=1/0,g=-1,y=0,x=0,b=this.count();x<b;x++){var T=this.getRawIndex(x),C=e-f[T],M=Math.abs(C);M<=o&&((M<v||M===v&&C>=0&&g<0)&&(v=M,g=C,y=0),C===g&&(h[y++]=x))}return h.length=y,h},a.prototype.getIndices=function(){var t,e=this._indices;if(e){var o=e.constructor,l=this._count;if(o===Array){t=new o(l);for(var f=0;f<l;f++)t[f]=e[f]}else t=new o(e.buffer,0,l)}else{var o=Qg(this._rawCount);t=new o(this.count());for(var f=0;f<t.length;f++)t[f]=f}return t},a.prototype.filter=function(t,e){if(!this._count)return this;for(var o=this.clone(),l=o.count(),f=Qg(o._rawCount),h=new f(l),v=[],g=t.length,y=0,x=t[0],b=o._chunks,T=0;T<l;T++){var C=void 0,M=o.getRawIndex(T);if(g===0)C=e(T);else if(g===1){var I=b[x][M];C=e(I,T)}else{for(var P=0;P<g;P++)v[P]=b[t[P]][M];v[P]=T,C=e.apply(null,v)}C&&(h[y++]=M)}return y<l&&(o._indices=h),o._count=y,o._extent=[],o._updateGetRawIdx(),o},a.prototype.selectRange=function(t){var e=this.clone(),o=e._count;if(!o)return this;var l=he(t),f=l.length;if(!f)return this;var h=e.count(),v=Qg(e._rawCount),g=new v(h),y=0,x=l[0],b=t[x][0],T=t[x][1],C=e._chunks,M=!1;if(!e._indices){var I=0;if(f===1){for(var P=C[l[0]],O=0;O<o;O++){var N=P[O];(N>=b&&N<=T||isNaN(N))&&(g[y++]=I),I++}M=!0}else if(f===2){for(var P=C[l[0]],V=C[l[1]],F=t[l[1]][0],U=t[l[1]][1],O=0;O<o;O++){var N=P[O],H=V[O];(N>=b&&N<=T||isNaN(N))&&(H>=F&&H<=U||isNaN(H))&&(g[y++]=I),I++}M=!0}}if(!M)if(f===1)for(var O=0;O<h;O++){var Z=e.getRawIndex(O),N=C[l[0]][Z];(N>=b&&N<=T||isNaN(N))&&(g[y++]=Z)}else for(var O=0;O<h;O++){for(var $=!0,Z=e.getRawIndex(O),K=0;K<f;K++){var Q=l[K],N=C[Q][Z];(N<t[Q][0]||N>t[Q][1])&&($=!1)}$&&(g[y++]=e.getRawIndex(O))}return y<h&&(e._indices=g),e._count=y,e._extent=[],e._updateGetRawIdx(),e},a.prototype.map=function(t,e){var o=this.clone(t);return this._updateDims(o,t,e),o},a.prototype.modify=function(t,e){this._updateDims(this,t,e)},a.prototype._updateDims=function(t,e,o){for(var l=t._chunks,f=[],h=e.length,v=t.count(),g=[],y=t._rawExtent,x=0;x<e.length;x++)y[e[x]]=tm();for(var b=0;b<v;b++){for(var T=t.getRawIndex(b),C=0;C<h;C++)g[C]=l[e[C]][T];g[h]=b;var M=o&&o.apply(null,g);if(M!=null){typeof M!="object"&&(f[0]=M,M=f);for(var x=0;x<M.length;x++){var I=e[x],P=M[x],O=y[I],N=l[I];N&&(N[T]=P),P<O[0]&&(O[0]=P),P>O[1]&&(O[1]=P)}}}},a.prototype.lttbDownSample=function(t,e){var o=this.clone([t],!0),l=o._chunks,f=l[t],h=this.count(),v=0,g=Math.floor(1/e),y=this.getRawIndex(0),x,b,T,C=new(Qg(this._rawCount))(Math.min((Math.ceil(h/g)+2)*2,h));C[v++]=y;for(var M=1;M<h-1;M+=g){for(var I=Math.min(M+g,h-1),P=Math.min(M+g*2,h),O=(P+I)/2,N=0,V=I;V<P;V++){var F=this.getRawIndex(V),U=f[F];isNaN(U)||(N+=U)}N/=P-I;var H=M,Z=Math.min(M+g,h),$=M-1,K=f[y];x=-1,T=H;for(var Q=-1,rt=0,V=H;V<Z;V++){var F=this.getRawIndex(V),U=f[F];if(isNaN(U)){rt++,Q<0&&(Q=F);continue}b=Math.abs(($-O)*(U-K)-($-V)*(N-K)),b>x&&(x=b,T=F)}rt>0&&rt<Z-H&&(C[v++]=Math.min(Q,T),T=Math.max(Q,T)),C[v++]=T,y=T}return C[v++]=this.getRawIndex(h-1),o._count=v,o._indices=C,o.getRawIndex=this._getRawIdx,o},a.prototype.minmaxDownSample=function(t,e){for(var o=this.clone([t],!0),l=o._chunks,f=Math.floor(1/e),h=l[t],v=this.count(),g=new(Qg(this._rawCount))(Math.ceil(v/f)*2),y=0,x=0;x<v;x+=f){var b=x,T=h[this.getRawIndex(b)],C=x,M=h[this.getRawIndex(C)],I=f;x+f>v&&(I=v-x);for(var P=0;P<I;P++){var O=this.getRawIndex(x+P),N=h[O];N<T&&(T=N,b=x+P),N>M&&(M=N,C=x+P)}var V=this.getRawIndex(b),F=this.getRawIndex(C);b<C?(g[y++]=V,g[y++]=F):(g[y++]=F,g[y++]=V)}return o._count=y,o._indices=g,o._updateGetRawIdx(),o},a.prototype.downSample=function(t,e,o,l){for(var f=this.clone([t],!0),h=f._chunks,v=[],g=Math.floor(1/e),y=h[t],x=this.count(),b=f._rawExtent[t]=tm(),T=new(Qg(this._rawCount))(Math.ceil(x/g)),C=0,M=0;M<x;M+=g){g>x-M&&(g=x-M,v.length=g);for(var I=0;I<g;I++){var P=this.getRawIndex(M+I);v[I]=y[P]}var O=o(v),N=this.getRawIndex(Math.min(M+l(v,O)||0,x-1));y[N]=O,O<b[0]&&(b[0]=O),O>b[1]&&(b[1]=O),T[C++]=N}return f._count=C,f._indices=T,f._updateGetRawIdx(),f},a.prototype.each=function(t,e){if(this._count)for(var o=t.length,l=this._chunks,f=0,h=this.count();f<h;f++){var v=this.getRawIndex(f);switch(o){case 0:e(f);break;case 1:e(l[t[0]][v],f);break;case 2:e(l[t[0]][v],l[t[1]][v],f);break;default:for(var g=0,y=[];g<o;g++)y[g]=l[t[g]][v];y[g]=f,e.apply(null,y)}}},a.prototype.getDataExtent=function(t){var e=this._chunks[t],o=tm();if(!e)return o;var l=this.count(),f=!this._indices,h;if(f)return this._rawExtent[t].slice();if(h=this._extent[t],h)return h.slice();h=o;for(var v=h[0],g=h[1],y=0;y<l;y++){var x=this.getRawIndex(y),b=e[x];b<v&&(v=b),b>g&&(g=b)}return h=[v,g],this._extent[t]=h,h},a.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var o=[],l=this._chunks,f=0;f<l.length;f++)o.push(l[f][e]);return o},a.prototype.clone=function(t,e){var o=new a,l=this._chunks,f=t&&Ai(t,function(v,g){return v[g]=!0,v},{});if(f)for(var h=0;h<l.length;h++)o._chunks[h]=f[h]?AFt(l[h]):l[h];else o._chunks=l;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},a.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Ht(this._extent),t._rawExtent=Ht(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var o=this._indices.length;e=new t(o);for(var l=0;l<o;l++)e[l]=this._indices[l]}else e=new t(this._indices);return e}return null},a.prototype._getRawIdxIdentity=function(t){return t},a.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function t(e,o,l,f){return Go(e[f],this._dimensions[f])}RV={arrayRows:t,objectRows:function(e,o,l,f){return Go(e[o],this._dimensions[f])},keyedColumns:t,original:function(e,o,l,f){var h=e&&(e.value==null?e:e.value);return Go(h instanceof Array?h[f]:h,this._dimensions[f])},typedArray:function(e,o,l,f){return e[f]}}}(),a}(),kx=CFt;var OC=function(){function a(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),o=!!e.length,l,f;if(RC(t)){var h=t,v=void 0,g=void 0,y=void 0;if(o){var x=e[0];x.prepareSource(),y=x.getSource(),v=y.data,g=y.sourceFormat,f=[x._getVersionSign()]}else v=h.get("data",!0),g=ei(v)?Jn:Ji,f=[];var b=this._getSourceMetaRawOption()||{},T=y&&y.metaRawOption||{},C=oe(b.seriesLayoutBy,T.seriesLayoutBy)||null,M=oe(b.sourceHeader,T.sourceHeader),I=oe(b.dimensions,T.dimensions),P=C!==T.seriesLayoutBy||!!M!=!!T.sourceHeader||I;l=P?[Ox(v,{seriesLayoutBy:C,sourceHeader:M,dimensions:I},g)]:[]}else{var O=t;if(o){var N=this._applyTransform(e);l=N.sourceList,f=N.upstreamSignList}else{var V=O.get("source",!0);l=[Ox(V,this._getSourceMetaRawOption(),null)],f=[]}}this._setLocalSource(l,f)},a.prototype._applyTransform=function(t){var e=this._sourceHost,o=e.get("transform",!0),l=e.get("fromTransformResult",!0);if(l!=null){var f="";t.length!==1&&hit(f)}var h,v=[],g=[];return X(t,function(y){y.prepareSource();var x=y.getSource(l||0),b="";l!=null&&!x&&hit(b),v.push(x),g.push(y._getVersionSign())}),o?h=lit(o,v,{datasetIndex:e.componentIndex}):l!=null&&(h=[Jrt(v[0])]),{sourceList:h,upstreamSignList:g}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var o=t[e];if(o._isDirty()||this._upstreamSignList[e]!==o._getVersionSign())return!0}},a.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(t)}return e},a.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},a.prototype._innerGetDataStore=function(t,e,o){var l=0,f=this._storeList,h=f[l];h||(h=f[l]={});var v=h[o];if(!v){var g=this._getUpstreamSourceManagers()[0];RC(this._sourceHost)&&g?v=g._innerGetDataStore(t,e,o):(v=new kx,v.initData(new LC(e,t.length),t)),h[o]=v}return v},a.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(RC(t)){var e=SC(t);return e?[e.getSourceManager()]:[]}else return _t(Ert(t),function(o){return o.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,o,l;if(RC(t))e=t.get("seriesLayoutBy",!0),o=t.get("sourceHeader",!0),l=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var f=t;e=f.get("seriesLayoutBy",!0),o=f.get("sourceHeader",!0),l=f.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:o,dimensions:l}},a}();function kV(a){var t=a.option.transform;t&&Uf(a.option.transform)}function RC(a){return a.mainType==="series"}function hit(a){throw new Error(a)}var DFt="line-height:1";function pit(a){var t=a.lineHeight;return t==null?DFt:"line-height:"+ci(t+"")+"px"}function vit(a,t){var e=a.color||"#6e7079",o=a.fontSize||12,l=a.fontWeight||"400",f=a.color||"#464646",h=a.fontSize||14,v=a.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+ci(o+"")+"px;color:"+ci(e)+";font-weight:"+ci(l+""),valueStyle:"font-size:"+ci(h+"")+"px;color:"+ci(f)+";font-weight:"+ci(v+"")}:{nameStyle:{fontSize:o,fill:e,fontWeight:l},valueStyle:{fontSize:h,fill:f,fontWeight:v}}}var MFt=[0,10,20,30],LFt=["",`
`,`

`,`


`];function Ar(a,t){return t.type=a,t}function NV(a){return a.type==="section"}function dit(a){return NV(a)?IFt:EFt}function git(a){if(NV(a)){var t=0,e=a.blocks.length,o=e>1||e>0&&!a.noHeader;return X(a.blocks,function(l){var f=git(l);f>=t&&(t=f+ +(o&&(!f||NV(l)&&!l.noHeader)))}),t}return 0}function IFt(a,t,e,o){var l=t.noHeader,f=PFt(git(t)),h=[],v=t.blocks||[];Tr(!v||yt(v)),v=v||[];var g=a.orderMode;if(t.sortBlocks&&g){v=v.slice();var y={valueAsc:"asc",valueDesc:"desc"};if(Yt(y,g)){var x=new EC(y[g],null);v.sort(function(I,P){return x.evaluate(I.sortParam,P.sortParam)})}else g==="seriesDesc"&&v.reverse()}X(v,function(I,P){var O=t.valueFormatter,N=dit(I)(O?mt(mt({},a),{valueFormatter:O}):a,I,P>0?f.html:0,o);N!=null&&h.push(N)});var b=a.renderMode==="richText"?h.join(f.richText):zV(o,h.join(""),l?e:f.html);if(l)return b;var T=gC(t.header,"ordinal",a.useUTC),C=vit(o,a.renderMode).nameStyle,M=pit(o);return a.renderMode==="richText"?mit(a,T,C)+f.richText+b:zV(o,'<div style="'+C+";"+M+';">'+ci(T)+"</div>"+b,e)}function EFt(a,t,e,o){var l=a.renderMode,f=t.noName,h=t.noValue,v=!t.markerType,g=t.name,y=a.useUTC,x=t.valueFormatter||a.valueFormatter||function(F){return F=yt(F)?F:[F],_t(F,function(U,H){return gC(U,yt(C)?C[H]:C,y)})};if(!(f&&h)){var b=v?"":a.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",l),T=f?"":gC(g,"ordinal",y),C=t.valueType,M=h?[]:x(t.value,t.dataIndex),I=!v||!f,P=!v&&f,O=vit(o,l),N=O.nameStyle,V=O.valueStyle;return l==="richText"?(v?"":b)+(f?"":mit(a,T,N))+(h?"":kFt(a,M,I,P,V)):zV(o,(v?"":b)+(f?"":RFt(T,!v,N))+(h?"":OFt(M,I,P,V)),e)}}function VV(a,t,e,o,l,f){if(a){var h=dit(a),v={useUTC:l,renderMode:e,orderMode:o,markupStyleCreator:t,valueFormatter:a.valueFormatter};return h(v,a,0,f)}}function PFt(a){return{html:MFt[a],richText:LFt[a]}}function zV(a,t,e){var o='<div style="clear:both"></div>',l="margin: "+e+"px 0 0",f=pit(a);return'<div style="'+l+";"+f+';">'+t+o+"</div>"}function RFt(a,t,e){var o=t?"margin-left:2px":"";return'<span style="'+e+";"+o+'">'+ci(a)+"</span>"}function OFt(a,t,e,o){var l=e?"10px":"20px",f=t?"float:right;margin-left:"+l:"";return a=yt(a)?a:[a],'<span style="'+f+";"+o+'">'+_t(a,function(h){return ci(h)}).join("&nbsp;&nbsp;")+"</span>"}function mit(a,t,e){return a.markupStyleCreator.wrapRichTextStyle(t,e)}function kFt(a,t,e,o,l){var f=[l],h=o?10:20;return e&&f.push({padding:[0,0,0,h],align:"right"}),a.markupStyleCreator.wrapRichTextStyle(yt(t)?t.join("  "):t,f)}function kC(a,t){var e=a.getData().getItemVisual(t,"style"),o=e[a.visualDrawType];return Ls(o)}function NC(a,t){var e=a.get("padding");return e??(t==="richText"?[8,10]:10)}var zC=function(){function a(){this.richTextStyles={},this._nextStyleNameId=IA()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(t,e,o){var l=o==="richText"?this._generateStyleName():null,f=mC({color:e,type:t,renderMode:o,markerId:l});return Dt(f)?f:(this.richTextStyles[l]=f.style,f.content)},a.prototype.wrapRichTextStyle=function(t,e){var o={};yt(e)?X(e,function(f){return mt(o,f)}):mt(o,e);var l=this._generateStyleName();return this.richTextStyles[l]=o,"{"+l+"|"+t+"}"},a}();function VC(a){var t=a.series,e=a.dataIndex,o=a.multipleSeries,l=t.getData(),f=l.mapDimensionsAll("defaultedTooltip"),h=f.length,v=t.getRawValue(e),g=yt(v),y=kC(t,e),x,b,T,C;if(h>1||g&&!h){var M=NFt(v,t,e,f,y);x=M.inlineValues,b=M.inlineValueTypes,T=M.blocks,C=M.inlineValues[0]}else if(h){var I=l.getDimensionInfo(f[0]);C=x=ku(l,e,f[0]),b=I.type}else C=x=g?v[0]:v;var P=Mg(t),O=P&&t.name||"",N=l.getName(e),V=o?O:N;return Ar("section",{header:O,noHeader:o||!P,sortParam:C,blocks:[Ar("nameValue",{markerType:"item",markerColor:y,name:V,noName:!Di(V),value:x,valueType:b,dataIndex:e})].concat(T||[])})}function NFt(a,t,e,o,l){var f=t.getData(),h=Ai(a,function(b,T,C){var M=f.getDimensionInfo(C);return b=b||M&&M.tooltip!==!1&&M.displayName!=null},!1),v=[],g=[],y=[];o.length?X(o,function(b){x(ku(f,e,b),b)}):X(a,x);function x(b,T){var C=f.getDimensionInfo(T);!C||C.otherDims.tooltip===!1||(h?y.push(Ar("nameValue",{markerType:"subItem",markerColor:l,name:C.displayName,value:b,valueType:C.type})):(v.push(b),g.push(C.type)))}return{inlineValues:v,inlineValueTypes:g,blocks:y}}var cc=ue();function BC(a,t){return a.getName(t)||a.getId(t)}var Nx="__universalTransitionEnabled",FC=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,o,l){this.seriesIndex=this.componentIndex,this.dataTask=fc({count:VFt,reset:BFt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,l);var f=cc(this).sourceManager=new OC(this);f.prepareSource();var h=this.getInitialData(e,l);_it(h,this),this.dataTask.context.data=h,cc(this).dataBeforeProcessed=h,yit(this),this._initSelectedMapFromData(h)},t.prototype.mergeDefaultAndTheme=function(e,o){var l=uc(this),f=l?Fo(e):{},h=this.subType;xe.hasClass(h)&&(h+="Series"),ne(e,o.getTheme().get(this.subType)),ne(e,this.getDefaultOption()),Zn(e,"label",["show"]),this.fillDataTextStyle(e.data),l&&bn(e,f,l)},t.prototype.mergeOption=function(e,o){e=ne(this.option,e,!0),this.fillDataTextStyle(e.data);var l=uc(this);l&&bn(this.option,e,l);var f=cc(this).sourceManager;f.dirty(),f.prepareSource();var h=this.getInitialData(e,o);_it(h,this),this.dataTask.dirty(),this.dataTask.context.data=h,cc(this).dataBeforeProcessed=h,yit(this),this._initSelectedMapFromData(h)},t.prototype.fillDataTextStyle=function(e){if(e&&!ei(e))for(var o=["show"],l=0;l<e.length;l++)e[l]&&e[l].label&&Zn(e[l],"label",o)},t.prototype.getInitialData=function(e,o){},t.prototype.appendData=function(e){var o=this.getRawData();o.appendData(e.data)},t.prototype.getData=function(e){var o=BV(this);if(o){var l=o.context.data;return e==null||!l.getLinkedData?l:l.getLinkedData(e)}else return cc(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var o=BV(this);if(o){var l=o.context;l.outputData=e,o!==this.dataTask&&(l.data=e)}cc(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Rt(e)},t.prototype.getSourceManager=function(){return cc(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return cc(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,o,l){return VC({series:this,dataIndex:e,multipleSeries:o})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Ie.node&&!(e&&e.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,o,l){var f=this.ecModel,h=Mx.prototype.getColorFromPalette.call(this,e,o,l);return h||(h=f.getColorFromPalette(e,o,l)),h},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,o){this._innerSelect(this.getData(o),e)},t.prototype.unselect=function(e,o){var l=this.option.selectedMap;if(l){var f=this.option.selectedMode,h=this.getData(o);if(f==="series"||l==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var v=0;v<e.length;v++){var g=e[v],y=BC(h,g);l[y]=!1,this._selectedDataIndicesMap[y]=-1}}},t.prototype.toggleSelect=function(e,o){for(var l=[],f=0;f<e.length;f++)l[0]=e[f],this.isSelected(e[f],o)?this.unselect(l,o):this.select(l,o)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,o=he(e),l=[],f=0;f<o.length;f++){var h=e[o[f]];h>=0&&l.push(h)}return l},t.prototype.isSelected=function(e,o){var l=this.option.selectedMap;if(!l)return!1;var f=this.getData(o);return(l==="all"||l[BC(f,e)])&&!f.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Nx])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,o){var l,f,h=this.option,v=h.selectedMode,g=o.length;if(!(!v||!g)){if(v==="series")h.selectedMap="all";else if(v==="multiple"){Ft(h.selectedMap)||(h.selectedMap={});for(var y=h.selectedMap,x=0;x<g;x++){var b=o[x],T=BC(e,b);y[T]=!0,this._selectedDataIndicesMap[T]=e.getRawIndex(b)}}else if(v==="single"||v===!0){var C=o[g-1],T=BC(e,C);h.selectedMap=(l={},l[T]=!0,l),this._selectedDataIndicesMap=(f={},f[T]=e.getRawIndex(C),f)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var o=[];e.hasItemOption&&e.each(function(l){var f=e.getRawDataItem(l);f&&f.selected&&o.push(l)}),o.length>0&&this._innerSelect(e,o)}},t.registerClass=function(e){return xe.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(xe);or(FC,nv);or(FC,Mx);RA(FC,xe);function yit(a){var t=a.name;Mg(a)||(a.name=zFt(a)||t)}function zFt(a){var t=a.getRawData(),e=t.mapDimensionsAll("seriesName"),o=[];return X(e,function(l){var f=t.getDimensionInfo(l);f.displayName&&o.push(f.displayName)}),o.join(" ")}function VFt(a){return a.model.getRawData().count()}function BFt(a){var t=a.model;return t.setData(t.getRawData().cloneShallow()),FFt}function FFt(a,t){t.outputData&&a.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function _it(a,t){X(dl(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(e){a.wrapMethod(e,Qt(UFt,t))})}function UFt(a,t){var e=BV(a);return e&&e.setOutputEnd((t||this).count()),t}function BV(a){var t=(a.ecModel||{}).scheduler,e=t&&t.getPipeline(a.uid);if(e){var o=e.currentTask;if(o){var l=o.agentStubMap;l&&(o=l.get(a.uid))}return o}}var Ue=FC;var FV=function(){function a(){this.group=new Ut,this.uid=Bo("viewComponent")}return a.prototype.init=function(t,e){},a.prototype.render=function(t,e,o,l){},a.prototype.dispose=function(t,e){},a.prototype.updateView=function(t,e,o,l){},a.prototype.updateLayout=function(t,e,o,l){},a.prototype.updateVisual=function(t,e,o,l){},a.prototype.toggleBlurSeries=function(t,e,o){},a.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},a}();Lg(FV);Jf(FV);var He=FV;function Qn(){var a=ue();return function(t){var e=a(t),o=t.pipelineContext,l=!!e.large,f=!!e.progressiveRender,h=e.large=!!(o&&o.large),v=e.progressiveRender=!!(o&&o.progressiveRender);return(l!==h||f!==v)&&"reset"}}var bit=ue(),GFt=Qn(),UV=function(){function a(){this.group=new Ut,this.uid=Bo("viewChart"),this.renderTask=fc({plan:HFt,reset:WFt}),this.renderTask.context={view:this}}return a.prototype.init=function(t,e){},a.prototype.render=function(t,e,o,l){},a.prototype.highlight=function(t,e,o,l){var f=t.getData(l&&l.dataType);f&&Sit(f,l,"emphasis")},a.prototype.downplay=function(t,e,o,l){var f=t.getData(l&&l.dataType);f&&Sit(f,l,"normal")},a.prototype.remove=function(t,e){this.group.removeAll()},a.prototype.dispose=function(t,e){},a.prototype.updateView=function(t,e,o,l){this.render(t,e,o,l)},a.prototype.updateLayout=function(t,e,o,l){this.render(t,e,o,l)},a.prototype.updateVisual=function(t,e,o,l){this.render(t,e,o,l)},a.prototype.eachRendered=function(t){Za(this.group,t)},a.markUpdateMethod=function(t,e){bit(t).updateMethod=e},a.protoInitialize=function(){var t=a.prototype;t.type="chart"}(),a}();function xit(a,t,e){a&&nc(a)&&(t==="emphasis"?Aa:Ca)(a,e)}function Sit(a,t,e){var o=Po(a,t),l=t&&t.highlightKey!=null?Tet(t.highlightKey):null;o!=null?X(qe(o),function(f){xit(a.getItemGraphicEl(f),e,l)}):a.eachItemGraphicEl(function(f){xit(f,e,l)})}Lg(UV,["dispose"]);Jf(UV);function HFt(a){return GFt(a.model)}function WFt(a){var t=a.model,e=a.ecModel,o=a.api,l=a.payload,f=t.pipelineContext.progressiveRender,h=a.view,v=l&&bit(l).updateMethod,g=f?"incrementalPrepareRender":v&&h[v]?v:"render";return g!=="render"&&h[g](t,e,o,l),YFt[g]}var YFt={incrementalPrepareRender:{progress:function(a,t){t.view.incrementalRender(a,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(a,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},ke=UV;var UC="\0__throttleOriginMethod",wit="\0__throttleRate",Tit="\0__throttleType";function ov(a,t,e){var o,l=0,f=0,h=null,v,g,y,x;t=t||0;function b(){f=new Date().getTime(),h=null,a.apply(g,y||[])}var T=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];o=new Date().getTime(),g=this,y=C;var I=x||t,P=x||e;x=null,v=o-(P?l:f)-I,clearTimeout(h),P?h=setTimeout(b,I):v>=0?b():h=setTimeout(b,-v),l=o};return T.clear=function(){h&&(clearTimeout(h),h=null)},T.debounceNextCall=function(C){x=C},T}function Ho(a,t,e,o){var l=a[t];if(l){var f=l[UC]||l,h=l[Tit],v=l[wit];if(v!==e||h!==o){if(e==null||!o)return a[t]=f;l=a[t]=ov(f,e,o==="debounce"),l[UC]=f,l[Tit]=o,l[wit]=e}return l}}function Nu(a,t){var e=a[t];e&&e[UC]&&(e.clear&&e.clear(),a[t]=e[UC])}var Ait=ue(),Cit={itemStyle:yn(Jz,!0),lineStyle:yn(jz,!0)},ZFt={lineStyle:"stroke",itemStyle:"fill"};function Dit(a,t){var e=a.visualStyleMapper||Cit[t];return e||(console.warn("Unknown style type '"+t+"'."),Cit.itemStyle)}function Mit(a,t){var e=a.visualDrawType||ZFt[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var Lit={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){var e=a.getData(),o=a.visualStyleAccessPath||"itemStyle",l=a.getModel(o),f=Dit(a,o),h=f(l),v=l.getShallow("decal");v&&(e.setVisual("decal",v),v.dirty=!0);var g=Mit(a,o),y=h[g],x=Nt(y)?y:null,b=h.fill==="auto"||h.stroke==="auto";if(!h[g]||x||b){var T=a.getColorFromPalette(a.name,null,t.getSeriesCount());h[g]||(h[g]=T,e.setVisual("colorFromPalette",!0)),h.fill=h.fill==="auto"||Nt(h.fill)?T:h.fill,h.stroke=h.stroke==="auto"||Nt(h.stroke)?T:h.stroke}if(e.setVisual("style",h),e.setVisual("drawType",g),!t.isSeriesFiltered(a)&&x)return e.setVisual("colorFromPalette",!1),{dataEach:function(C,M){var I=a.getDataParams(M),P=mt({},h);P[g]=x(I),C.setItemVisual(M,"style",P)}}}},zx=new Fe,Iit={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){if(!(a.ignoreStyleOnData||t.isSeriesFiltered(a))){var e=a.getData(),o=a.visualStyleAccessPath||"itemStyle",l=Dit(a,o),f=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(h,v){var g=h.getRawDataItem(v);if(g&&g[o]){zx.option=g[o];var y=l(zx),x=h.ensureUniqueItemVisual(v,"style");mt(x,y),zx.option.decal&&(h.setItemVisual(v,"decal",zx.option.decal),zx.option.decal.dirty=!0),f in y&&h.setItemVisual(v,"colorFromPalette",!1)}}:null}}}},Eit={performRawSeries:!0,overallReset:function(a){var t=Rt();a.eachSeries(function(e){var o=e.getColorBy();if(!e.isColorBySeries()){var l=e.type+"-"+o,f=t.get(l);f||(f={},t.set(l,f)),Ait(e).scope=f}}),a.eachSeries(function(e){if(!(e.isColorBySeries()||a.isSeriesFiltered(e))){var o=e.getRawData(),l={},f=e.getData(),h=Ait(e).scope,v=e.visualStyleAccessPath||"itemStyle",g=Mit(e,v);f.each(function(y){var x=f.getRawIndex(y);l[x]=y}),o.each(function(y){var x=l[y],b=f.getItemVisual(x,"colorFromPalette");if(b){var T=f.ensureUniqueItemVisual(x,"style"),C=o.getName(y)||y+"",M=o.count();T[g]=e.getColorFromPalette(C,h,M)}})}})}};var HC=Math.PI;function GV(a,t){t=t||{},zt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ut,o=new ge({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(o);var l=new _e({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),f=new ge({style:{fill:"none"},textContent:l,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(f);var h;return t.showSpinner&&(h=new Zp({shape:{startAngle:-HC/2,endAngle:-HC/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),h.animateShape(!0).when(1e3,{endAngle:HC*3/2}).start("circularInOut"),h.animateShape(!0).when(1e3,{startAngle:HC*3/2}).delay(300).start("circularInOut"),e.add(h)),e.resize=function(){var v=l.getBoundingRect().width,g=t.showSpinner?t.spinnerRadius:0,y=(a.getWidth()-g*2-(t.showSpinner&&v?10:0)-v)/2-(t.showSpinner&&v?0:5+v/2)+(t.showSpinner?0:v/2)+(v?0:g),x=a.getHeight()/2;t.showSpinner&&h.setShape({cx:y,cy:x}),f.setShape({x:y-g,y:x-g,width:g*2,height:g*2}),o.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},e.resize(),e}var XFt=function(){function a(t,e,o,l){this._stageTaskMap=Rt(),this.ecInstance=t,this.api=e,o=this._dataProcessorHandlers=o.slice(),l=this._visualHandlers=l.slice(),this._allHandlers=o.concat(l)}return a.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(o){var l=o.overallTask;l&&l.dirty()})},a.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var o=this._pipelineMap.get(t.__pipeline.id),l=o.context,f=!e&&o.progressiveEnabled&&(!l||l.progressiveRender)&&t.__idxInPipeline>o.blockIndex,h=f?o.step:null,v=l&&l.modDataCount,g=v!=null?Math.ceil(v/h):null;return{step:h,modBy:g,modDataCount:v}}},a.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},a.prototype.updateStreamModes=function(t,e){var o=this._pipelineMap.get(t.uid),l=t.getData(),f=l.count(),h=o.progressiveEnabled&&e.incrementalPrepareRender&&f>=o.threshold,v=t.get("large")&&f>=t.get("largeThreshold"),g=t.get("progressiveChunkMode")==="mod"?f:null;t.pipelineContext=o.context={progressiveRender:h,modDataCount:g,large:v}},a.prototype.restorePipelines=function(t){var e=this,o=e._pipelineMap=Rt();t.eachSeries(function(l){var f=l.getProgressive(),h=l.uid;o.set(h,{id:h,head:null,tail:null,threshold:l.getProgressiveThreshold(),progressiveEnabled:f&&!(l.preventIncremental&&l.preventIncremental()),blockIndex:-1,step:Math.round(f||700),count:0}),e._pipe(l,l.dataTask)})},a.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),o=this.api;X(this._allHandlers,function(l){var f=t.get(l.uid)||t.set(l.uid,{}),h="";Tr(!(l.reset&&l.overallReset),h),l.reset&&this._createSeriesStageTask(l,f,e,o),l.overallReset&&this._createOverallStageTask(l,f,e,o)},this)},a.prototype.prepareView=function(t,e,o,l){var f=t.renderTask,h=f.context;h.model=e,h.ecModel=o,h.api=l,f.__block=!t.incrementalPrepareRender,this._pipe(e,f)},a.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},a.prototype.performVisualTasks=function(t,e,o){this._performStageTasks(this._visualHandlers,t,e,o)},a.prototype._performStageTasks=function(t,e,o,l){l=l||{};var f=!1,h=this;X(t,function(g,y){if(!(l.visualType&&l.visualType!==g.visualType)){var x=h._stageTaskMap.get(g.uid),b=x.seriesTaskMap,T=x.overallTask;if(T){var C,M=T.agentStubMap;M.each(function(P){v(l,P)&&(P.dirty(),C=!0)}),C&&T.dirty(),h.updatePayload(T,o);var I=h.getPerformArgs(T,l.block);M.each(function(P){P.perform(I)}),T.perform(I)&&(f=!0)}else b&&b.each(function(P,O){v(l,P)&&P.dirty();var N=h.getPerformArgs(P,l.block);N.skip=!g.performRawSeries&&e.isSeriesFiltered(P.context.model),h.updatePayload(P,o),P.perform(N)&&(f=!0)})}});function v(g,y){return g.setDirty&&(!g.dirtyMap||g.dirtyMap.get(y.__pipeline.id))}this.unfinished=f||this.unfinished},a.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(o){e=o.dataTask.perform()||e}),this.unfinished=e||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},a.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},a.prototype._createSeriesStageTask=function(t,e,o,l){var f=this,h=e.seriesTaskMap,v=e.seriesTaskMap=Rt(),g=t.seriesType,y=t.getTargetSeries;t.createOnAllSeries?o.eachRawSeries(x):g?o.eachRawSeriesByType(g,x):y&&y(o,l).each(x);function x(b){var T=b.uid,C=v.set(T,h&&h.get(T)||fc({plan:JFt,reset:QFt,count:eUt}));C.context={model:b,ecModel:o,api:l,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:f},f._pipe(b,C)}},a.prototype._createOverallStageTask=function(t,e,o,l){var f=this,h=e.overallTask=e.overallTask||fc({reset:qFt});h.context={ecModel:o,api:l,overallReset:t.overallReset,scheduler:f};var v=h.agentStubMap,g=h.agentStubMap=Rt(),y=t.seriesType,x=t.getTargetSeries,b=!0,T=!1,C="";Tr(!t.createOnAllSeries,C),y?o.eachRawSeriesByType(y,M):x?x(o,l).each(M):(b=!1,X(o.getSeries(),M));function M(I){var P=I.uid,O=g.set(P,v&&v.get(P)||(T=!0,fc({reset:$Ft,onDirty:jFt})));O.context={model:I,overallProgress:b},O.agent=h,O.__block=b,f._pipe(I,O)}T&&h.dirty()},a.prototype._pipe=function(t,e){var o=t.uid,l=this._pipelineMap.get(o);!l.head&&(l.head=e),l.tail&&l.tail.pipe(e),l.tail=e,e.__idxInPipeline=l.count++,e.__pipeline=l},a.wrapStageHandler=function(t,e){return Nt(t)&&(t={overallReset:t,seriesType:rUt(t)}),t.uid=Bo("stageHandler"),e&&(t.visualType=e),t},a}();function qFt(a){a.overallReset(a.ecModel,a.api,a.payload)}function $Ft(a){return a.overallProgress&&KFt}function KFt(){this.agent.dirty(),this.getDownstream().dirty()}function jFt(){this.agent&&this.agent.dirty()}function JFt(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function QFt(a){a.useClearVisual&&a.data.clearAllVisual();var t=a.resetDefines=qe(a.reset(a.model,a.ecModel,a.api,a.payload));return t.length>1?_t(t,function(e,o){return Pit(o)}):tUt}var tUt=Pit(0);function Pit(a){return function(t,e){var o=e.data,l=e.resetDefines[a];if(l&&l.dataEach)for(var f=t.start;f<t.end;f++)l.dataEach(o,f);else l&&l.progress&&l.progress(t,o)}}function eUt(a){return a.data.count()}function rUt(a){WC=null;try{a(Vx,Rit)}catch{}return WC}var Vx={},Rit={},WC;Oit(Vx,TC);Oit(Rit,AC);Vx.eachSeriesByType=Vx.eachRawSeriesByType=function(a){WC=a};Vx.eachComponent=function(a){a.mainType==="series"&&a.subType&&(WC=a.subType)};function Oit(a,t){for(var e in t.prototype)a[e]=mr}var HV=XFt;var kit=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Nit={color:kit,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kit]};var Ea="#B9B8CE",zit="#100C2A",YC=function(){return{axisLine:{lineStyle:{color:Ea}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Vit=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Bit={darkMode:!0,color:Vit,backgroundColor:zit,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ea},pageTextStyle:{color:Ea}},textStyle:{color:Ea},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ea}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ea},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ea}},timeline:{lineStyle:{color:Ea},label:{color:Ea},controlStyle:{color:Ea,borderColor:Ea}},calendar:{itemStyle:{color:zit},dayLabel:{color:Ea},monthLabel:{color:Ea},yearLabel:{color:Ea}},timeAxis:YC(),logAxis:YC(),valueAxis:YC(),categoryAxis:YC(),line:{symbol:"circle"},graph:{color:Vit},gauge:{title:{color:Ea},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ea},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Bit.categoryAxis.splitLine.show=!1;var Fit=Bit;var Uit=function(){function a(){}return a.prototype.normalizeQuery=function(t){var e={},o={},l={};if(Dt(t)){var f=mn(t);e.mainType=f.main||null,e.subType=f.sub||null}else{var h=["Index","Name","Id"],v={name:1,dataIndex:1,dataType:1};X(t,function(g,y){for(var x=!1,b=0;b<h.length;b++){var T=h[b],C=y.lastIndexOf(T);if(C>0&&C===y.length-T.length){var M=y.slice(0,C);M!=="data"&&(e.mainType=M,e[T.toLowerCase()]=g,x=!0)}}v.hasOwnProperty(y)&&(o[y]=g,x=!0),x||(l[y]=g)})}return{cptQuery:e,dataQuery:o,otherQuery:l}},a.prototype.filter=function(t,e){var o=this.eventInfo;if(!o)return!0;var l=o.targetEl,f=o.packedEvent,h=o.model,v=o.view;if(!h||!v)return!0;var g=e.cptQuery,y=e.dataQuery;return x(g,h,"mainType")&&x(g,h,"subType")&&x(g,h,"index","componentIndex")&&x(g,h,"name")&&x(g,h,"id")&&x(y,f,"name")&&x(y,f,"dataIndex")&&x(y,f,"dataType")&&(!v.filterForExposedEvent||v.filterForExposedEvent(t,e.otherQuery,l,f));function x(b,T,C,M){return b[C]==null||T[M||C]===b[C]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}();var WV=["symbol","symbolSize","symbolRotate","symbolOffset"],Git=WV.concat(["symbolKeepAspect"]),Hit={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){var e=a.getData();if(a.legendIcon&&e.setVisual("legendIcon",a.legendIcon),!a.hasSymbolVisual)return;for(var o={},l={},f=!1,h=0;h<WV.length;h++){var v=WV[h],g=a.get(v);Nt(g)?(f=!0,l[v]=g):o[v]=g}if(o.symbol=o.symbol||a.defaultSymbol,e.setVisual(mt({legendIcon:a.legendIcon||o.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},o)),t.isSeriesFiltered(a))return;var y=he(l);function x(b,T){for(var C=a.getRawValue(T),M=a.getDataParams(T),I=0;I<y.length;I++){var P=y[I];b.setItemVisual(T,P,l[P](C,M))}}return{dataEach:f?x:null}}},Wit={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,t){if(!a.hasSymbolVisual||t.isSeriesFiltered(a))return;var e=a.getData();function o(l,f){for(var h=l.getItemModel(f),v=0;v<Git.length;v++){var g=Git[v],y=h.getShallow(g,!0);y!=null&&l.setItemVisual(f,g,y)}}return{dataEach:e.hasItemOption?o:null}}};function Bx(a,t,e){switch(e){case"color":var o=a.getItemVisual(t,"style");return o[a.getVisual("drawType")];case"opacity":return a.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(t,e);default:}}function Ml(a,t){switch(t){case"color":var e=a.getVisual("style");return e[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(t);default:}}function YV(a,t,e,o){switch(e){case"color":var l=a.ensureUniqueItemVisual(t,"style");l[a.getVisual("drawType")]=o,a.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(t,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(t,e,o);break;default:}}function ZC(a,t){function e(o,l){var f=[];return o.eachComponent({mainType:"series",subType:a,query:l},function(h){f.push(h.seriesIndex)}),f}X([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(o){t(o[0],function(l,f,h){l=mt({},l),h.dispatchAction(mt(l,{type:o[1],seriesIndex:e(f,l)}))})})}function em(a,t,e,o,l){var f=a+t;e.isSilent(f)||o.eachComponent({mainType:"series",subType:"pie"},function(h){for(var v=h.seriesIndex,g=h.option.selectedMap,y=l.selected,x=0;x<y.length;x++)if(y[x].seriesIndex===v){var b=h.getData(),T=Po(b,l.fromActionPayload);e.trigger(f,{type:f,seriesId:h.id,name:yt(T)?b.getName(T[0]):b.getName(T),selected:Dt(g)?g:mt({},g)})}})}function Yit(a,t,e){a.on("selectchanged",function(o){var l=e.getModel();o.isFromClick?(em("map","selectchanged",t,l,o),em("pie","selectchanged",t,l,o)):o.fromAction==="select"?(em("map","selected",t,l,o),em("pie","selected",t,l,o)):o.fromAction==="unselect"&&(em("map","unselected",t,l,o),em("pie","unselected",t,l,o))})}function Ps(a,t,e){for(var o;a&&!(t(a)&&(o=a,e));)a=a.__hostTarget||a.parent;return o}var iUt=Math.round(Math.random()*9),aUt=typeof Object.defineProperty=="function",nUt=function(){function a(){this._id="__ec_inner_"+iUt++}return a.prototype.get=function(t){return this._guard(t)[this._id]},a.prototype.set=function(t,e){var o=this._guard(t);return aUt?Object.defineProperty(o,this._id,{value:e,enumerable:!1,configurable:!0}):o[this._id]=e,this},a.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},a.prototype.has=function(t){return!!this._guard(t)[this._id]},a.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},a}(),Zit=nUt;var oUt=se.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,t){var e=t.cx,o=t.cy,l=t.width/2,f=t.height/2;a.moveTo(e,o-f),a.lineTo(e+l,o+f),a.lineTo(e-l,o+f),a.closePath()}}),sUt=se.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,t){var e=t.cx,o=t.cy,l=t.width/2,f=t.height/2;a.moveTo(e,o-f),a.lineTo(e+l,o),a.lineTo(e,o+f),a.lineTo(e-l,o),a.closePath()}}),lUt=se.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,t){var e=t.x,o=t.y,l=t.width/5*3,f=Math.max(l,t.height),h=l/2,v=h*h/(f-h),g=o-f+h+v,y=Math.asin(v/h),x=Math.cos(y)*h,b=Math.sin(y),T=Math.cos(y),C=h*.6,M=h*.7;a.moveTo(e-x,g+v),a.arc(e,g,h,Math.PI-y,Math.PI*2+y),a.bezierCurveTo(e+x-b*C,g+v+T*C,e,o-M,e,o),a.bezierCurveTo(e,o-M,e-x+b*C,g+v+T*C,e-x,g+v),a.closePath()}}),uUt=se.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,t){var e=t.height,o=t.width,l=t.x,f=t.y,h=o/3*2;a.moveTo(l,f),a.lineTo(l+h,f+e),a.lineTo(l,f+e/4*3),a.lineTo(l-h,f+e),a.lineTo(l,f),a.closePath()}}),fUt={line:Er,rect:ge,roundRect:ge,square:ge,circle:la,diamond:sUt,pin:lUt,arrow:uUt,triangle:oUt},cUt={line:function(a,t,e,o,l){l.x1=a,l.y1=t+o/2,l.x2=a+e,l.y2=t+o/2},rect:function(a,t,e,o,l){l.x=a,l.y=t,l.width=e,l.height=o},roundRect:function(a,t,e,o,l){l.x=a,l.y=t,l.width=e,l.height=o,l.r=Math.min(e,o)/4},square:function(a,t,e,o,l){var f=Math.min(e,o);l.x=a,l.y=t,l.width=f,l.height=f},circle:function(a,t,e,o,l){l.cx=a+e/2,l.cy=t+o/2,l.r=Math.min(e,o)/2},diamond:function(a,t,e,o,l){l.cx=a+e/2,l.cy=t+o/2,l.width=e,l.height=o},pin:function(a,t,e,o,l){l.x=a+e/2,l.y=t+o/2,l.width=e,l.height=o},arrow:function(a,t,e,o,l){l.x=a+e/2,l.y=t+o/2,l.width=e,l.height=o},triangle:function(a,t,e,o,l){l.cx=a+e/2,l.cy=t+o/2,l.width=e,l.height=o}},Fx={};X(fUt,function(a,t){Fx[t]=new a});var hUt=se.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,t,e){var o=Ip(a,t,e),l=this.shape;return l&&l.symbolType==="pin"&&t.position==="inside"&&(o.y=e.y+e.height*.4),o},buildPath:function(a,t,e){var o=t.symbolType;if(o!=="none"){var l=Fx[o];l||(o="rect",l=Fx[o]),cUt[o](t.x,t.y,t.width,t.height,l.shape),l.buildPath(a,l.shape,e)}}});function pUt(a,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=a,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=a:e.fill=a,this.markRedraw()}}function nr(a,t,e,o,l,f,h){var v=a.indexOf("empty")===0;v&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var g;return a.indexOf("image://")===0?g=dx(a.slice(8),new ie(t,e,o,l),h?"center":"cover"):a.indexOf("path://")===0?g=sc(a.slice(7),{},new ie(t,e,o,l),h?"center":"cover"):g=new hUt({shape:{symbolType:a,x:t,y:e,width:o,height:l}}),g.__isEmptyBrush=v,g.setColor=pUt,f&&g.setColor(f),g}function Rs(a){return yt(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function to(a,t){if(a!=null)return yt(a)||(a=[a,a]),[Pt(a[0],t[0])||0,Pt(oe(a[1],a[0]),t[1])||0]}function sv(a){return isFinite(a)}function vUt(a,t,e){var o=t.x==null?0:t.x,l=t.x2==null?1:t.x2,f=t.y==null?0:t.y,h=t.y2==null?0:t.y2;t.global||(o=o*e.width+e.x,l=l*e.width+e.x,f=f*e.height+e.y,h=h*e.height+e.y),o=sv(o)?o:0,l=sv(l)?l:1,f=sv(f)?f:0,h=sv(h)?h:0;var v=a.createLinearGradient(o,f,l,h);return v}function dUt(a,t,e){var o=e.width,l=e.height,f=Math.min(o,l),h=t.x==null?.5:t.x,v=t.y==null?.5:t.y,g=t.r==null?.5:t.r;t.global||(h=h*o+e.x,v=v*l+e.y,g=g*f),h=sv(h)?h:.5,v=sv(v)?v:.5,g=g>=0&&sv(g)?g:.5;var y=a.createRadialGradient(h,v,0,h,v,g);return y}function Ux(a,t,e){for(var o=t.type==="radial"?dUt(a,t,e):vUt(a,t,e),l=t.colorStops,f=0;f<l.length;f++)o.addColorStop(l[f].offset,l[f].color);return o}function qit(a,t){if(a===t||!a&&!t)return!1;if(!a||!t||a.length!==t.length)return!0;for(var e=0;e<a.length;e++)if(a[e]!==t[e])return!0;return!1}function XC(a){return parseInt(a,10)}function hc(a,t,e){var o=["width","height"][t],l=["clientWidth","clientHeight"][t],f=["paddingLeft","paddingTop"][t],h=["paddingRight","paddingBottom"][t];if(e[o]!=null&&e[o]!=="auto")return parseFloat(e[o]);var v=document.defaultView.getComputedStyle(a);return(a[l]||XC(v[o])||XC(a.style[o]))-(XC(v[f])||0)-(XC(v[h])||0)|0}function gUt(a,t){return!a||a==="solid"||!(t>0)?null:a==="dashed"?[4*t,2*t]:a==="dotted"?[t]:ye(a)?[a]:yt(a)?a:null}function Gx(a){var t=a.style,e=t.lineDash&&t.lineWidth>0&&gUt(t.lineDash,t.lineWidth),o=t.lineDashOffset;if(e){var l=t.strokeNoScale&&a.getLineScale?a.getLineScale():1;l&&l!==1&&(e=_t(e,function(f){return f/l}),o/=l)}return[e,o]}var mUt=new Hi(!0);function qC(a){var t=a.stroke;return!(t==null||t==="none"||!(a.lineWidth>0))}function $it(a){return typeof a=="string"&&a!=="none"}function $C(a){var t=a.fill;return t!=null&&t!=="none"}function Kit(a,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=a.globalAlpha;a.globalAlpha=t.fillOpacity*t.opacity,a.fill(),a.globalAlpha=e}else a.fill()}function jit(a,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=a.globalAlpha;a.globalAlpha=t.strokeOpacity*t.opacity,a.stroke(),a.globalAlpha=e}else a.stroke()}function KC(a,t,e){var o=ix(t.image,t.__image,e);if(Ig(o)){var l=a.createPattern(o,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&l&&l.setTransform){var f=new DOMMatrix;f.translateSelf(t.x||0,t.y||0),f.rotateSelf(0,0,(t.rotation||0)*cp),f.scaleSelf(t.scaleX||1,t.scaleY||1),l.setTransform(f)}return l}}function yUt(a,t,e,o){var l,f=qC(e),h=$C(e),v=e.strokePercent,g=v<1,y=!t.path;(!t.silent||g)&&y&&t.createPathProxy();var x=t.path||mUt,b=t.__dirty;if(!o){var T=e.fill,C=e.stroke,M=h&&!!T.colorStops,I=f&&!!C.colorStops,P=h&&!!T.image,O=f&&!!C.image,N=void 0,V=void 0,F=void 0,U=void 0,H=void 0;(M||I)&&(H=t.getBoundingRect()),M&&(N=b?Ux(a,T,H):t.__canvasFillGradient,t.__canvasFillGradient=N),I&&(V=b?Ux(a,C,H):t.__canvasStrokeGradient,t.__canvasStrokeGradient=V),P&&(F=b||!t.__canvasFillPattern?KC(a,T,t):t.__canvasFillPattern,t.__canvasFillPattern=F),O&&(U=b||!t.__canvasStrokePattern?KC(a,C,t):t.__canvasStrokePattern,t.__canvasStrokePattern=F),M?a.fillStyle=N:P&&(F?a.fillStyle=F:h=!1),I?a.strokeStyle=V:O&&(U?a.strokeStyle=U:f=!1)}var Z=t.getGlobalScale();x.setScale(Z[0],Z[1],t.segmentIgnoreThreshold);var $,K;a.setLineDash&&e.lineDash&&(l=Gx(t),$=l[0],K=l[1]);var Q=!0;(y||b&Gf)&&(x.setDPR(a.dpr),g?x.setContext(null):(x.setContext(a),Q=!1),x.reset(),t.buildPath(x,t.shape,o),x.toStatic(),t.pathUpdated()),Q&&x.rebuildPath(a,g?v:1),$&&(a.setLineDash($),a.lineDashOffset=K),o||(e.strokeFirst?(f&&jit(a,e),h&&Kit(a,e)):(h&&Kit(a,e),f&&jit(a,e))),$&&a.setLineDash([])}function _Ut(a,t,e){var o=t.__image=ix(e.image,t.__image,t,t.onload);if(!(!o||!Ig(o))){var l=e.x||0,f=e.y||0,h=t.getWidth(),v=t.getHeight(),g=o.width/o.height;if(h==null&&v!=null?h=v*g:v==null&&h!=null?v=h/g:h==null&&v==null&&(h=o.width,v=o.height),e.sWidth&&e.sHeight){var y=e.sx||0,x=e.sy||0;a.drawImage(o,y,x,e.sWidth,e.sHeight,l,f,h,v)}else if(e.sx&&e.sy){var y=e.sx,x=e.sy,b=h-y,T=v-x;a.drawImage(o,y,x,b,T,l,f,h,v)}else a.drawImage(o,l,f,h,v)}}function xUt(a,t,e){var o,l=e.text;if(l!=null&&(l+=""),l){a.font=e.font||Un,a.textAlign=e.textAlign,a.textBaseline=e.textBaseline;var f=void 0,h=void 0;a.setLineDash&&e.lineDash&&(o=Gx(t),f=o[0],h=o[1]),f&&(a.setLineDash(f),a.lineDashOffset=h),e.strokeFirst?(qC(e)&&a.strokeText(l,e.x,e.y),$C(e)&&a.fillText(l,e.x,e.y)):($C(e)&&a.fillText(l,e.x,e.y),qC(e)&&a.strokeText(l,e.x,e.y)),f&&a.setLineDash([])}}var Jit=["shadowBlur","shadowOffsetX","shadowOffsetY"],Qit=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function nat(a,t,e,o,l){var f=!1;if(!o&&(e=e||{},t===e))return!1;if(o||t.opacity!==e.opacity){Tn(a,l),f=!0;var h=Math.max(Math.min(t.opacity,1),0);a.globalAlpha=isNaN(h)?xl.opacity:h}(o||t.blend!==e.blend)&&(f||(Tn(a,l),f=!0),a.globalCompositeOperation=t.blend||xl.blend);for(var v=0;v<Jit.length;v++){var g=Jit[v];(o||t[g]!==e[g])&&(f||(Tn(a,l),f=!0),a[g]=a.dpr*(t[g]||0))}return(o||t.shadowColor!==e.shadowColor)&&(f||(Tn(a,l),f=!0),a.shadowColor=t.shadowColor||xl.shadowColor),f}function tat(a,t,e,o,l){var f=Hx(t,l.inHover),h=o?null:e&&Hx(e,l.inHover)||{};if(f===h)return!1;var v=nat(a,f,h,o,l);if((o||f.fill!==h.fill)&&(v||(Tn(a,l),v=!0),$it(f.fill)&&(a.fillStyle=f.fill)),(o||f.stroke!==h.stroke)&&(v||(Tn(a,l),v=!0),$it(f.stroke)&&(a.strokeStyle=f.stroke)),(o||f.opacity!==h.opacity)&&(v||(Tn(a,l),v=!0),a.globalAlpha=f.opacity==null?1:f.opacity),t.hasStroke()){var g=f.lineWidth,y=g/(f.strokeNoScale&&t.getLineScale?t.getLineScale():1);a.lineWidth!==y&&(v||(Tn(a,l),v=!0),a.lineWidth=y)}for(var x=0;x<Qit.length;x++){var b=Qit[x],T=b[0];(o||f[T]!==h[T])&&(v||(Tn(a,l),v=!0),a[T]=f[T]||b[1])}return v}function SUt(a,t,e,o,l){return nat(a,Hx(t,l.inHover),e&&Hx(e,l.inHover),o,l)}function oat(a,t){var e=t.transform,o=a.dpr||1;e?a.setTransform(o*e[0],o*e[1],o*e[2],o*e[3],o*e[4],o*e[5]):a.setTransform(o,0,0,o,0,0)}function bUt(a,t,e){for(var o=!1,l=0;l<a.length;l++){var f=a[l];o=o||f.isZeroArea(),oat(t,f),t.beginPath(),f.buildPath(t,f.shape),t.clip()}e.allClipped=o}function wUt(a,t){return a&&t?a[0]!==t[0]||a[1]!==t[1]||a[2]!==t[2]||a[3]!==t[3]||a[4]!==t[4]||a[5]!==t[5]:!(!a&&!t)}var eat=1,rat=2,iat=3,aat=4;function TUt(a){var t=$C(a),e=qC(a);return!(a.lineDash||!(+t^+e)||t&&typeof a.fill!="string"||e&&typeof a.stroke!="string"||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)}function Tn(a,t){t.batchFill&&a.fill(),t.batchStroke&&a.stroke(),t.batchFill="",t.batchStroke=""}function Hx(a,t){return t&&a.__hoverStyle||a.style}function rm(a,t){pc(a,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function pc(a,t,e,o){var l=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Li,t.__isRendered=!1;return}var f=t.__clipPaths,h=e.prevElClipPaths,v=!1,g=!1;if((!h||qit(f,h))&&(h&&h.length&&(Tn(a,e),a.restore(),g=v=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),f&&f.length&&(Tn(a,e),a.save(),bUt(f,a,e),v=!0),e.prevElClipPaths=f),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var y=e.prevEl;y||(g=v=!0);var x=t instanceof se&&t.autoBatch&&TUt(t.style);v||wUt(l,y.transform)?(Tn(a,e),oat(a,t)):x||Tn(a,e);var b=Hx(t,e.inHover);t instanceof se?(e.lastDrawType!==eat&&(g=!0,e.lastDrawType=eat),tat(a,t,y,g,e),(!x||!e.batchFill&&!e.batchStroke)&&a.beginPath(),yUt(a,t,b,x),x&&(e.batchFill=b.fill||"",e.batchStroke=b.stroke||"")):t instanceof Su?(e.lastDrawType!==iat&&(g=!0,e.lastDrawType=iat),tat(a,t,y,g,e),xUt(a,t,b)):t instanceof yr?(e.lastDrawType!==rat&&(g=!0,e.lastDrawType=rat),SUt(a,t,y,g,e),_Ut(a,t,b)):t.getTemporalDisplayables&&(e.lastDrawType!==aat&&(g=!0,e.lastDrawType=aat),AUt(a,t,e)),x&&o&&Tn(a,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function AUt(a,t,e){var o=t.getDisplayables(),l=t.getTemporalDisplayables();a.save();var f={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},h,v;for(h=t.getCursor(),v=o.length;h<v;h++){var g=o[h];g.beforeBrush&&g.beforeBrush(),g.innerBeforeBrush(),pc(a,g,f,h===v-1),g.innerAfterBrush(),g.afterBrush&&g.afterBrush(),f.prevEl=g}for(var y=0,x=l.length;y<x;y++){var g=l[y];g.beforeBrush&&g.beforeBrush(),g.innerBeforeBrush(),pc(a,g,f,y===x-1),g.innerAfterBrush(),g.afterBrush&&g.afterBrush(),f.prevEl=g}t.clearTemporalDisplayables(),t.notClear=!0,a.restore()}var ZV=new Zit,sat=new mu(100),lat=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Os(a,t){if(a==="none")return null;var e=t.getDevicePixelRatio(),o=t.getZr(),l=o.painter.type==="svg";a.dirty&&ZV.delete(a);var f=ZV.get(a);if(f)return f;var h=zt(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});h.backgroundColor==="none"&&(h.backgroundColor=null);var v={repeat:"repeat"};return g(v),v.rotation=h.rotation,v.scaleX=v.scaleY=l?1:1/e,ZV.set(a,v),a.dirty=!1,v;function g(y){for(var x=[e],b=!0,T=0;T<lat.length;++T){var C=h[lat[T]];if(C!=null&&!yt(C)&&!Dt(C)&&!ye(C)&&typeof C!="boolean"){b=!1;break}x.push(C)}var M;if(b){M=x.join(",")+(l?"-svg":"");var I=sat.get(M);I&&(l?y.svgElement=I:y.image=I)}var P=fat(h.dashArrayX),O=CUt(h.dashArrayY),N=uat(h.symbol),V=DUt(P),F=cat(O),U=!l&&$i.createCanvas(),H=l&&{tag:"g",attrs:{},key:"dcl",children:[]},Z=K(),$;U&&(U.width=Z.width*e,U.height=Z.height*e,$=U.getContext("2d")),Q(),b&&sat.put(M,U||H),y.image=U,y.svgElement=H,y.svgWidth=Z.width,y.svgHeight=Z.height;function K(){for(var rt=1,nt=0,ot=V.length;nt<ot;++nt)rt=nz(rt,V[nt]);for(var ft=1,nt=0,ot=N.length;nt<ot;++nt)ft=nz(ft,N[nt].length);rt*=ft;var lt=F*V.length*N.length;if(0)var pt;return{width:Math.max(1,Math.min(rt,h.maxTileWidth)),height:Math.max(1,Math.min(lt,h.maxTileHeight))}}function Q(){$&&($.clearRect(0,0,U.width,U.height),h.backgroundColor&&($.fillStyle=h.backgroundColor,$.fillRect(0,0,U.width,U.height)));for(var rt=0,nt=0;nt<O.length;++nt)rt+=O[nt];if(rt<=0)return;for(var ot=-F,ft=0,lt=0,pt=0;ot<Z.height;){if(ft%2===0){for(var xt=lt/2%N.length,st=0,dt=0,Et=0;st<Z.width*2;){for(var At=0,nt=0;nt<P[pt].length;++nt)At+=P[pt][nt];if(At<=0)break;if(dt%2===0){var Zt=(1-h.symbolSize)*.5,qt=st+P[pt][dt]*Zt,te=ot+O[ft]*Zt,j=P[pt][dt]*h.symbolSize,Tt=O[ft]*h.symbolSize,lr=Et/2%N[xt].length;jt(qt,te,j,Tt,N[xt][lr])}st+=P[pt][dt],++Et,++dt,dt===P[pt].length&&(dt=0)}++pt,pt===P.length&&(pt=0)}ot+=O[ft],++lt,++ft,ft===O.length&&(ft=0)}function jt(ve,Xt,fe,Mt,ee){var wt=l?1:e,Gt=nr(ee,ve*wt,Xt*wt,fe*wt,Mt*wt,h.color,h.symbolKeepAspect);if(l){var kt=o.painter.renderOneToVNode(Gt);kt&&H.children.push(kt)}else rm($,Gt)}}}}function uat(a){if(!a||a.length===0)return[["rect"]];if(Dt(a))return[[a]];for(var t=!0,e=0;e<a.length;++e)if(!Dt(a[e])){t=!1;break}if(t)return uat([a]);for(var o=[],e=0;e<a.length;++e)Dt(a[e])?o.push([a[e]]):o.push(a[e]);return o}function fat(a){if(!a||a.length===0)return[[0,0]];if(ye(a)){var t=Math.ceil(a);return[[t,t]]}for(var e=!0,o=0;o<a.length;++o)if(!ye(a[o])){e=!1;break}if(e)return fat([a]);for(var l=[],o=0;o<a.length;++o)if(ye(a[o])){var t=Math.ceil(a[o]);l.push([t,t])}else{var t=_t(a[o],function(v){return Math.ceil(v)});t.length%2===1?l.push(t.concat(t)):l.push(t)}return l}function CUt(a){if(!a||typeof a=="object"&&a.length===0)return[0,0];if(ye(a)){var t=Math.ceil(a);return[t,t]}var e=_t(a,function(o){return Math.ceil(o)});return a.length%2?e.concat(e):e}function DUt(a){return _t(a,function(t){return cat(t)})}function cat(a){for(var t=0,e=0;e<a.length;++e)t+=a[e];return a.length%2===1?t*2:t}function XV(a,t){a.eachRawSeries(function(e){if(!a.isSeriesFiltered(e)){var o=e.getData();o.hasItemVisual()&&o.each(function(h){var v=o.getItemVisual(h,"decal");if(v){var g=o.ensureUniqueItemVisual(h,"style");g.decal=Os(v,t)}});var l=o.getVisual("decal");if(l){var f=o.getVisual("style");f.decal=Os(l,t)}}})}var MUt=new xi,Wo=MUt;var hat={};function pat(a,t){hat[a]=t}function qV(a){return hat[a]}var LUt="5.6.0",IUt={zrender:"5.6.1"},EUt=1,PUt=800,RUt=900,OUt=1e3,kUt=2e3,NUt=5e3,bat=1e3,zUt=1100,nB=2e3,wat=3e3,VUt=4e3,iD=4500,BUt=4600,FUt=5e3,UUt=6e3,Tat=7e3,oB={PROCESSOR:{FILTER:OUt,SERIES_FILTER:PUt,STATISTIC:NUt},VISUAL:{LAYOUT:bat,PROGRESSIVE_LAYOUT:zUt,GLOBAL:nB,CHART:wat,POST_CHART_LAYOUT:BUt,COMPONENT:VUt,BRUSH:FUt,CHART_ITEM:iD,ARIA:UUt,DECAL:Tat}},Pa="__flagInMainProcess",An="__pendingUpdate",$V="__needsUpdateStatus",vat=/^[a-zA-Z0-9_]+$/,KV="__connectUpdateStatus",dat=0,GUt=1,HUt=2;function Aat(a){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return Dat(this,a,t)}}function Cat(a){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Dat(this,a,t)}}function Dat(a,t,e){return e[0]=e[0]&&e[0].toLowerCase(),xi.prototype[t].apply(a,e)}var Mat=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(xi),Lat=Mat.prototype;Lat.on=Cat("on");Lat.off=Cat("off");var im,jV,jC,vc,JV,QV,tB,Wx,Yx,gat,mat,eB,yat,JC,_at,Iat,Yo,xat,QC=function(a){at(t,a);function t(e,o,l){var f=a.call(this,new Uit)||this;f._chartsViews=[],f._chartsMap={},f._componentsViews=[],f._componentsMap={},f._pendingActions=[],l=l||{},Dt(o)&&(o=Eat[o]),f._dom=e;var h="canvas",v="auto",g=!1;if(0)var y;l.ssr&&rz(function(C){var M=Kt(C),I=M.dataIndex;if(I!=null){var P=Rt();return P.set("series_index",M.seriesIndex),P.set("data_index",I),M.ssrType&&P.set("ssr_type",M.ssrType),P}});var x=f._zr=DA(e,{renderer:l.renderer||h,devicePixelRatio:l.devicePixelRatio,width:l.width,height:l.height,ssr:l.ssr,useDirtyRect:oe(l.useDirtyRect,g),useCoarsePointer:oe(l.useCoarsePointer,v),pointerSize:l.pointerSize});f._ssr=l.ssr,f._throttledZrFlush=ov(It(x.flush,x),17),o=Ht(o),o&&CC(o,!0),f._theme=o,f._locale=vrt(l.locale||fC),f._coordSysMgr=new Dl;var b=f._api=_at(f);function T(C,M){return C.__prio-M.__prio}return _p(eD,T),_p(rB,T),f._scheduler=new HV(f,b,rB,eD),f._messageCenter=new Mat,f._initEvents(),f.resize=It(f.resize,f),x.animation.on("frame",f._onframe,f),gat(x,f),mat(x,f),Uf(f),f}return t.prototype._onframe=function(){if(!this._disposed){xat(this);var e=this._scheduler;if(this[An]){var o=this[An].silent;this[Pa]=!0;try{im(this),vc.update.call(this,null,this[An].updateParams)}catch(g){throw this[Pa]=!1,this[An]=null,g}this._zr.flush(),this[Pa]=!1,this[An]=null,Wx.call(this,o),Yx.call(this,o)}else if(e.unfinished){var l=EUt,f=this._model,h=this._api;e.unfinished=!1;do{var v=+new Date;e.performSeriesTasks(f),e.performDataProcessorTasks(f),QV(this,f),e.performVisualTasks(f),JC(this,this._model,h,"remain",{}),l-=+new Date-v}while(l>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,o,l){if(!this[Pa]){if(this._disposed){this.id;return}var f,h,v;if(Ft(o)&&(l=o.lazyUpdate,f=o.silent,h=o.replaceMerge,v=o.transition,o=o.notMerge),this[Pa]=!0,!this._model||o){var g=new Hrt(this._api),y=this._theme,x=this._model=new TC;x.scheduler=this._scheduler,x.ssr=this._ssr,x.init(null,null,null,y,this._locale,g)}this._model.setOption(e,{replaceMerge:h},iB);var b={seriesTransition:v,optionChanged:!0};if(l)this[An]={silent:f,updateParams:b},this[Pa]=!1,this.getZr().wakeUp();else{try{im(this),vc.update.call(this,null,b)}catch(T){throw this[An]=null,this[Pa]=!1,T}this._ssr||this._zr.flush(),this[An]=null,this[Pa]=!1,Wx.call(this,f),Yx.call(this,f)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ie.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var o=this._zr.painter;return o.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var o=this._zr.painter;return o.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(Ie.svgSupported){var e=this._zr,o=e.storage.getDisplayList();return X(o,function(l){l.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var o=e.excludeComponents,l=this._model,f=[],h=this;X(o,function(g){l.eachComponent({mainType:g},function(y){var x=h._componentsMap[y.__viewId];x.group.ignore||(f.push(x),x.group.ignore=!0)})});var v=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return X(f,function(g){g.group.ignore=!1}),v},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var o=e.type==="svg",l=this.group,f=Math.min,h=Math.max,v=1/0;if(rD[l]){var g=v,y=v,x=-v,b=-v,T=[],C=e&&e.pixelRatio||this.getDevicePixelRatio();X(lv,function(V,F){if(V.group===l){var U=o?V.getZr().painter.getSvgDom().innerHTML:V.renderToCanvas(Ht(e)),H=V.getDom().getBoundingClientRect();g=f(H.left,g),y=f(H.top,y),x=h(H.right,x),b=h(H.bottom,b),T.push({dom:U,left:H.left,top:H.top})}}),g*=C,y*=C,x*=C,b*=C;var M=x-g,I=b-y,P=$i.createCanvas(),O=DA(P,{renderer:o?"svg":"canvas"});if(O.resize({width:M,height:I}),o){var N="";return X(T,function(V){var F=V.left-g,U=V.top-y;N+='<g transform="translate('+F+","+U+')">'+V.dom+"</g>"}),O.painter.getSvgRoot().innerHTML=N,e.connectedBackgroundColor&&O.painter.setBackgroundColor(e.connectedBackgroundColor),O.refreshImmediately(),O.painter.toDataURL()}else return e.connectedBackgroundColor&&O.add(new ge({shape:{x:0,y:0,width:M,height:I},style:{fill:e.connectedBackgroundColor}})),X(T,function(V){var F=new yr({style:{x:V.left*C-g,y:V.top*C-y,image:V.dom}});O.add(F)}),O.refreshImmediately(),P.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,o){return JV(this,"convertToPixel",e,o)},t.prototype.convertFromPixel=function(e,o){return JV(this,"convertFromPixel",e,o)},t.prototype.containPixel=function(e,o){if(this._disposed){this.id;return}var l=this._model,f,h=Kf(l,e);return X(h,function(v,g){g.indexOf("Models")>=0&&X(v,function(y){var x=y.coordinateSystem;if(x&&x.containPoint)f=f||!!x.containPoint(o);else if(g==="seriesModels"){var b=this._chartsMap[y.__viewId];b&&b.containPoint&&(f=f||b.containPoint(o,y))}},this)},this),!!f},t.prototype.getVisual=function(e,o){var l=this._model,f=Kf(l,e,{defaultMainType:"series"}),h=f.seriesModel,v=h.getData(),g=f.hasOwnProperty("dataIndexInside")?f.dataIndexInside:f.hasOwnProperty("dataIndex")?v.indexOfRawIndex(f.dataIndex):null;return g!=null?Bx(v,g,o):Ml(v,o)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;X(WUt,function(o){var l=function(f){var h=e.getModel(),v=f.target,g,y=o==="globalout";if(y?g={}:v&&Ps(v,function(M){var I=Kt(M);if(I&&I.dataIndex!=null){var P=I.dataModel||h.getSeriesByIndex(I.seriesIndex);return g=P&&P.getDataParams(I.dataIndex,I.dataType,v)||{},!0}else if(I.eventData)return g=mt({},I.eventData),!0},!0),g){var x=g.componentType,b=g.componentIndex;(x==="markLine"||x==="markPoint"||x==="markArea")&&(x="series",b=g.seriesIndex);var T=x&&b!=null&&h.getComponent(x,b),C=T&&e[T.mainType==="series"?"_chartsMap":"_componentsMap"][T.__viewId];g.event=f,g.type=o,e._$eventProcessor.eventInfo={targetEl:v,packedEvent:g,model:T,view:C},e.trigger(o,g)}};l.zrEventfulCallAtLast=!0,e._zr.on(o,l,e)}),X(Zx,function(o,l){e._messageCenter.on(l,function(f){this.trigger(l,f)},e)}),X(["selectchanged"],function(o){e._messageCenter.on(o,function(l){this.trigger(o,l)},e)}),Yit(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&sz(this.getDom(),lB,"");var o=this,l=o._api,f=o._model;X(o._componentsViews,function(h){h.dispose(f,l)}),X(o._chartsViews,function(h){h.dispose(f,l)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete lv[o.id]},t.prototype.resize=function(e){if(!this[Pa]){if(this._disposed){this.id;return}this._zr.resize(e);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var l=o.resetOption("media"),f=e&&e.silent;this[An]&&(f==null&&(f=this[An].silent),l=!0,this[An]=null),this[Pa]=!0;try{l&&im(this),vc.update.call(this,{type:"resize",animation:mt({duration:0},e&&e.animation)})}catch(h){throw this[Pa]=!1,h}this[Pa]=!1,Wx.call(this,f),Yx.call(this,f)}}},t.prototype.showLoading=function(e,o){if(this._disposed){this.id;return}if(Ft(e)&&(o=e,e=""),e=e||"default",this.hideLoading(),!!aB[e]){var l=aB[e](this._api,o),f=this._zr;this._loadingFX=l,f.add(l)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var o=mt({},e);return o.type=Zx[e.type],o},t.prototype.dispatchAction=function(e,o){if(this._disposed){this.id;return}if(Ft(o)||(o={silent:!!o}),!!tD[e.type]&&this._model){if(this[Pa]){this._pendingActions.push(e);return}var l=o.silent;tB.call(this,e,l);var f=o.flush;f?this._zr.flush():f!==!1&&Ie.browser.weChat&&this._throttledZrFlush(),Wx.call(this,l),Yx.call(this,l)}},t.prototype.updateLabelLayout=function(){Wo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var o=e.seriesIndex,l=this.getModel(),f=l.getSeriesByIndex(o);f.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){im=function(b){var T=b._scheduler;T.restorePipelines(b._model),T.prepareStageTasks(),jV(b,!0),jV(b,!1),T.plan()},jV=function(b,T){for(var C=b._model,M=b._scheduler,I=T?b._componentsViews:b._chartsViews,P=T?b._componentsMap:b._chartsMap,O=b._zr,N=b._api,V=0;V<I.length;V++)I[V].__alive=!1;T?C.eachComponent(function(H,Z){H!=="series"&&F(Z)}):C.eachSeries(F);function F(H){var Z=H.__requireNewView;H.__requireNewView=!1;var $="_ec_"+H.id+"_"+H.type,K=!Z&&P[$];if(!K){var Q=mn(H.type),rt=T?He.getClass(Q.main,Q.sub):ke.getClass(Q.sub);K=new rt,K.init(C,N),P[$]=K,I.push(K),O.add(K.group)}H.__viewId=K.__id=$,K.__alive=!0,K.__model=H,K.group.__ecComponentInfo={mainType:H.mainType,index:H.componentIndex},!T&&M.prepareView(K,H,C,N)}for(var V=0;V<I.length;){var U=I[V];U.__alive?V++:(!T&&U.renderTask.dispose(),O.remove(U.group),U.dispose(C,N),I.splice(V,1),P[U.__id]===U&&delete P[U.__id],U.__id=U.group.__ecComponentInfo=null)}},jC=function(b,T,C,M,I){var P=b._model;if(P.setUpdatePayload(C),!M){X([].concat(b._componentsViews).concat(b._chartsViews),U);return}var O={};O[M+"Id"]=C[M+"Id"],O[M+"Index"]=C[M+"Index"],O[M+"Name"]=C[M+"Name"];var N={mainType:M,query:O};I&&(N.subType=I);var V=C.excludeSeriesId,F;V!=null&&(F=Rt(),X(qe(V),function(H){var Z=kr(H,null);Z!=null&&F.set(Z,!0)})),P&&P.eachComponent(N,function(H){var Z=F&&F.get(H.id)!=null;if(!Z)if(zz(C))if(H instanceof Ue)C.type===ac&&!C.notBlur&&!H.get(["emphasis","disabled"])&&met(H,C,b._api);else{var $=HA(H.mainType,H.componentIndex,C.name,b._api),K=$.focusSelf,Q=$.dispatchers;C.type===ac&&K&&!C.notBlur&&FA(H.mainType,H.componentIndex,b._api),Q&&X(Q,function(rt){C.type===ac?Aa(rt):Ca(rt)})}else YA(C)&&H instanceof Ue&&(xet(H,C,b._api),Nz(H),Yo(b))},b),P&&P.eachComponent(N,function(H){var Z=F&&F.get(H.id)!=null;Z||U(b[M==="series"?"_chartsMap":"_componentsMap"][H.__viewId])},b);function U(H){H&&H.__alive&&H[T]&&H[T](H.__model,P,b._api,C)}},vc={prepareAndUpdate:function(b){im(this),vc.update.call(this,b,{optionChanged:b.newOption!=null})},update:function(b,T){var C=this._model,M=this._api,I=this._zr,P=this._coordSysMgr,O=this._scheduler;if(C){C.setUpdatePayload(b),O.restoreData(C,b),O.performSeriesTasks(C),P.create(C,M),O.performDataProcessorTasks(C,b),QV(this,C),P.update(C,M),e(C),O.performVisualTasks(C,b),eB(this,C,M,b,T);var N=C.get("backgroundColor")||"transparent",V=C.get("darkMode");I.setBackgroundColor(N),V!=null&&V!=="auto"&&I.setDarkMode(V),Wo.trigger("afterupdate",C,M)}},updateTransform:function(b){var T=this,C=this._model,M=this._api;if(C){C.setUpdatePayload(b);var I=[];C.eachComponent(function(O,N){if(O!=="series"){var V=T.getViewOfComponentModel(N);if(V&&V.__alive)if(V.updateTransform){var F=V.updateTransform(N,C,M,b);F&&F.update&&I.push(V)}else I.push(V)}});var P=Rt();C.eachSeries(function(O){var N=T._chartsMap[O.__viewId];if(N.updateTransform){var V=N.updateTransform(O,C,M,b);V&&V.update&&P.set(O.uid,1)}else P.set(O.uid,1)}),e(C),this._scheduler.performVisualTasks(C,b,{setDirty:!0,dirtyMap:P}),JC(this,C,M,b,{},P),Wo.trigger("afterupdate",C,M)}},updateView:function(b){var T=this._model;T&&(T.setUpdatePayload(b),ke.markUpdateMethod(b,"updateView"),e(T),this._scheduler.performVisualTasks(T,b,{setDirty:!0}),eB(this,T,this._api,b,{}),Wo.trigger("afterupdate",T,this._api))},updateVisual:function(b){var T=this,C=this._model;C&&(C.setUpdatePayload(b),C.eachSeries(function(M){M.getData().clearAllVisual()}),ke.markUpdateMethod(b,"updateVisual"),e(C),this._scheduler.performVisualTasks(C,b,{visualType:"visual",setDirty:!0}),C.eachComponent(function(M,I){if(M!=="series"){var P=T.getViewOfComponentModel(I);P&&P.__alive&&P.updateVisual(I,C,T._api,b)}}),C.eachSeries(function(M){var I=T._chartsMap[M.__viewId];I.updateVisual(M,C,T._api,b)}),Wo.trigger("afterupdate",C,this._api))},updateLayout:function(b){vc.update.call(this,b)}},JV=function(b,T,C,M){if(b._disposed){b.id;return}for(var I=b._model,P=b._coordSysMgr.getCoordinateSystems(),O,N=Kf(I,C),V=0;V<P.length;V++){var F=P[V];if(F[T]&&(O=F[T](I,N,M))!=null)return O}},QV=function(b,T){var C=b._chartsMap,M=b._scheduler;T.eachSeries(function(I){M.updateStreamModes(I,C[I.__viewId])})},tB=function(b,T){var C=this,M=this.getModel(),I=b.type,P=b.escapeConnect,O=tD[I],N=O.actionInfo,V=(N.update||"update").split(":"),F=V.pop(),U=V[0]!=null&&mn(V[0]);this[Pa]=!0;var H=[b],Z=!1;b.batch&&(Z=!0,H=_t(b.batch,function(ft){return ft=zt(mt({},ft),b),ft.batch=null,ft}));var $=[],K,Q=YA(b),rt=zz(b);if(rt&&kz(this._api),X(H,function(ft){if(K=O.action(ft,C._model,C._api),K=K||mt({},ft),K.type=N.event||K.type,$.push(K),rt){var lt=ex(b),pt=lt.queryOptionMap,xt=lt.mainTypeSpecified,st=xt?pt.keys()[0]:"series";jC(C,F,ft,st),Yo(C)}else Q?(jC(C,F,ft,"series"),Yo(C)):U&&jC(C,F,ft,U.main,U.sub)}),F!=="none"&&!rt&&!Q&&!U)try{this[An]?(im(this),vc.update.call(this,b),this[An]=null):vc[F].call(this,b)}catch(ft){throw this[Pa]=!1,ft}if(Z?K={type:N.event||I,escapeConnect:P,batch:$}:K=$[0],this[Pa]=!1,!T){var nt=this._messageCenter;if(nt.trigger(K.type,K),Q){var ot={type:"selectchanged",escapeConnect:P,selected:bet(M),isFromClick:b.isFromClick||!1,fromAction:b.type,fromActionPayload:b};nt.trigger(ot.type,ot)}}},Wx=function(b){for(var T=this._pendingActions;T.length;){var C=T.shift();tB.call(this,C,b)}},Yx=function(b){!b&&this.trigger("updated")},gat=function(b,T){b.on("rendered",function(C){T.trigger("rendered",C),b.animation.isFinished()&&!T[An]&&!T._scheduler.unfinished&&!T._pendingActions.length&&T.trigger("finished")})},mat=function(b,T){b.on("mouseover",function(C){var M=C.target,I=Ps(M,nc);I&&(yet(I,C,T._api),Yo(T))}).on("mouseout",function(C){var M=C.target,I=Ps(M,nc);I&&(_et(I,C,T._api),Yo(T))}).on("click",function(C){var M=C.target,I=Ps(M,function(N){return Kt(N).dataIndex!=null},!0);if(I){var P=I.selected?"unselect":"select",O=Kt(I);T._api.dispatchAction({type:P,dataType:O.dataType,dataIndexInside:O.dataIndex,seriesIndex:O.seriesIndex,isFromClick:!0})}})};function e(b){b.clearColorPalette(),b.eachSeries(function(T){T.clearColorPalette()})}function o(b){var T=[],C=[],M=!1;if(b.eachComponent(function(N,V){var F=V.get("zlevel")||0,U=V.get("z")||0,H=V.getZLevelKey();M=M||!!H,(N==="series"?C:T).push({zlevel:F,z:U,idx:V.componentIndex,type:N,key:H})}),M){var I=T.concat(C),P,O;_p(I,function(N,V){return N.zlevel===V.zlevel?N.z-V.z:N.zlevel-V.zlevel}),X(I,function(N){var V=b.getComponent(N.type,N.idx),F=N.zlevel,U=N.key;P!=null&&(F=Math.max(P,F)),U?(F===P&&U!==O&&F++,O=U):O&&(F===P&&F++,O=""),P=F,V.setZLevel(F)})}}eB=function(b,T,C,M,I){o(T),yat(b,T,C,M,I),X(b._chartsViews,function(P){P.__alive=!1}),JC(b,T,C,M,I),X(b._chartsViews,function(P){P.__alive||P.remove(T,C)})},yat=function(b,T,C,M,I,P){X(P||b._componentsViews,function(O){var N=O.__model;y(N,O),O.render(N,T,C,M),v(N,O),x(N,O)})},JC=function(b,T,C,M,I,P){var O=b._scheduler;I=mt(I||{},{updatedSeries:T.getSeries()}),Wo.trigger("series:beforeupdate",T,C,I);var N=!1;T.eachSeries(function(V){var F=b._chartsMap[V.__viewId];F.__alive=!0;var U=F.renderTask;O.updatePayload(U,M),y(V,F),P&&P.get(V.uid)&&U.dirty(),U.perform(O.getPerformArgs(U))&&(N=!0),F.group.silent=!!V.get("silent"),h(V,F),Nz(V)}),O.unfinished=N||O.unfinished,Wo.trigger("series:layoutlabels",T,C,I),Wo.trigger("series:transition",T,C,I),T.eachSeries(function(V){var F=b._chartsMap[V.__viewId];v(V,F),x(V,F)}),f(b,T),Wo.trigger("series:afterupdate",T,C,I)},Yo=function(b){b[$V]=!0,b.getZr().wakeUp()},xat=function(b){b[$V]&&(b.getZr().storage.traverse(function(T){Du(T)||l(T)}),b[$V]=!1)};function l(b){for(var T=[],C=b.currentStates,M=0;M<C.length;M++){var I=C[M];I==="emphasis"||I==="blur"||I==="select"||T.push(I)}b.selected&&b.states.select&&T.push("select"),b.hoverState===lx&&b.states.emphasis?T.push("emphasis"):b.hoverState===Gp&&b.states.blur&&T.push("blur"),b.useStates(T)}function f(b,T){var C=b._zr,M=C.storage,I=0;M.traverse(function(P){P.isGroup||I++}),I>T.get("hoverLayerThreshold")&&!Ie.node&&!Ie.worker&&T.eachSeries(function(P){if(!P.preventUsingHoverLayer){var O=b._chartsMap[P.__viewId];O.__alive&&O.eachRendered(function(N){N.states.emphasis&&(N.states.emphasis.hoverLayer=!0)})}})}function h(b,T){var C=b.get("blendMode")||null;T.eachRendered(function(M){M.isGroup||(M.style.blend=C)})}function v(b,T){if(!b.preventAutoZ){var C=b.get("z")||0,M=b.get("zlevel")||0;T.eachRendered(function(I){return g(I,C,M,-1/0),!0})}}function g(b,T,C,M){var I=b.getTextContent(),P=b.getTextGuideLine(),O=b.isGroup;if(O)for(var N=b.childrenRef(),V=0;V<N.length;V++)M=Math.max(g(N[V],T,C,M),M);else b.z=T,b.zlevel=C,M=Math.max(b.z2,M);if(I&&(I.z=T,I.zlevel=C,isFinite(M)&&(I.z2=M+2)),P){var F=b.textGuideLineConfig;P.z=T,P.zlevel=C,isFinite(M)&&(P.z2=M+(F&&F.showAbove?1:-1))}return M}function y(b,T){T.eachRendered(function(C){if(!Du(C)){var M=C.getTextContent(),I=C.getTextGuideLine();C.stateTransition&&(C.stateTransition=null),M&&M.stateTransition&&(M.stateTransition=null),I&&I.stateTransition&&(I.stateTransition=null),C.hasState()?(C.prevStates=C.currentStates,C.clearStates()):C.prevStates&&(C.prevStates=null)}})}function x(b,T){var C=b.getModel("stateAnimation"),M=b.isAnimationEnabled(),I=C.get("duration"),P=I>0?{duration:I,delay:C.get("delay"),easing:C.get("easing")}:null;T.eachRendered(function(O){if(O.states&&O.states.emphasis){if(Du(O))return;if(O instanceof se&&Aet(O),O.__dirty){var N=O.prevStates;N&&O.useStates(N)}if(M){O.stateTransition=P;var V=O.getTextContent(),F=O.getTextGuideLine();V&&(V.stateTransition=P),F&&(F.stateTransition=P)}O.__dirty&&l(O)}})}_at=function(b){return new(function(T){at(C,T);function C(){return T!==null&&T.apply(this,arguments)||this}return C.prototype.getCoordinateSystems=function(){return b._coordSysMgr.getCoordinateSystems()},C.prototype.getComponentByElement=function(M){for(;M;){var I=M.__ecComponentInfo;if(I!=null)return b._model.getComponent(I.mainType,I.index);M=M.parent}},C.prototype.enterEmphasis=function(M,I){Aa(M,I),Yo(b)},C.prototype.leaveEmphasis=function(M,I){Ca(M,I),Yo(b)},C.prototype.enterBlur=function(M){GA(M),Yo(b)},C.prototype.leaveBlur=function(M){cx(M),Yo(b)},C.prototype.enterSelect=function(M){Rz(M),Yo(b)},C.prototype.leaveSelect=function(M){Oz(M),Yo(b)},C.prototype.getModel=function(){return b.getModel()},C.prototype.getViewOfComponentModel=function(M){return b.getViewOfComponentModel(M)},C.prototype.getViewOfSeriesModel=function(M){return b.getViewOfSeriesModel(M)},C}(AC))(b)},Iat=function(b){function T(C,M){for(var I=0;I<C.length;I++){var P=C[I];P[KV]=M}}X(Zx,function(C,M){b._messageCenter.on(M,function(I){if(rD[b.group]&&b[KV]!==dat){if(I&&I.escapeConnect)return;var P=b.makeActionFromEvent(I),O=[];X(lv,function(N){N!==b&&N.group===b.group&&O.push(N)}),T(O,dat),X(O,function(N){N[KV]!==GUt&&N.dispatchAction(P)}),T(O,HUt)}})})}}(),t}(xi),sB=QC.prototype;sB.on=Aat("on");sB.off=Aat("off");sB.one=function(a,t,e){var o=this;function l(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];t&&t.apply&&t.apply(this,f),o.off(a,l)}this.on.call(this,a,l,e)};var WUt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var tD={},Zx={},rB=[],iB=[],eD=[],Eat={},aB={},lv={},rD={},YUt=+new Date-0,ZUt=+new Date-0,lB="_echarts_instance_";function XUt(a,t,e){var o=!(e&&e.ssr);if(o){var l=uB(a);if(l)return l}var f=new QC(a,t,e);return f.id="ec_"+YUt++,lv[f.id]=f,o&&sz(a,lB,f.id),Iat(f),Wo.trigger("afterinit",f),f}function qUt(a){if(yt(a)){var t=a;a=null,X(t,function(e){e.group!=null&&(a=e.group)}),a=a||"g_"+ZUt++,X(t,function(e){e.group=a})}return rD[a]=!0,a}function Pat(a){rD[a]=!1}var $Ut=Pat;function KUt(a){Dt(a)?a=lv[a]:a instanceof QC||(a=uB(a)),a instanceof QC&&!a.isDisposed()&&a.dispose()}function uB(a){return lv[dtt(a,lB)]}function jUt(a){return lv[a]}function Xx(a,t){Eat[a]=t}function aD(a){ae(iB,a)<0&&iB.push(a)}function nD(a,t){vB(rB,a,t,kUt)}function fB(a){qx("afterinit",a)}function cB(a){qx("afterupdate",a)}function qx(a,t){Wo.on(a,t)}function Ra(a,t,e){Nt(t)&&(e=t,t="");var o=Ft(a)?a.type:[a,a={event:t}][0];a.event=(a.event||o).toLowerCase(),t=a.event,!Zx[t]&&(Tr(vat.test(o)&&vat.test(t)),tD[o]||(tD[o]={action:e,actionInfo:a}),Zx[t]=o)}function hB(a,t){Dl.register(a,t)}function JUt(a){var t=Dl.get(a);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function pB(a,t){vB(eD,a,t,bat,"layout")}function zu(a,t){vB(eD,a,t,wat,"visual")}var Sat=[];function vB(a,t,e,o,l){if((Nt(t)||Ft(t))&&(e=t,t=o),!(ae(Sat,e)>=0)){Sat.push(e);var f=HV.wrapStageHandler(e,l);f.__prio=t,f.__raw=e,a.push(f)}}function oD(a,t){aB[a]=t}function QUt(a){WT({createCanvas:a})}function dB(a,t,e){var o=qV("registerMap");o&&o(a,t,e)}function tGt(a){var t=qV("getMap");return t&&t(a)}var gB=sit;zu(nB,Lit);zu(iD,Iit);zu(iD,Eit);zu(nB,Hit);zu(iD,Wit);zu(Tat,XV);aD(CC);nD(RUt,TV);oD("default",GV);Ra({type:ac,event:ac,update:ac},mr);Ra({type:ux,event:ux,update:ux},mr);Ra({type:Og,event:Og,update:Og},mr);Ra({type:fx,event:fx,update:fx},mr);Ra({type:kg,event:kg,update:kg},mr);Xx("light",Nit);Xx("dark",Fit);var eGt={};var Rat=[],rGt={registerPreprocessor:aD,registerProcessor:nD,registerPostInit:fB,registerPostUpdate:cB,registerUpdateLifecycle:qx,registerAction:Ra,registerCoordinateSystem:hB,registerLayout:pB,registerVisual:zu,registerTransform:gB,registerLoading:oD,registerMap:dB,registerImpl:pat,PRIORITY:oB,ComponentModel:xe,ComponentView:He,SeriesModel:Ue,ChartView:ke,registerComponentModel:function(a){xe.registerClass(a)},registerComponentView:function(a){He.registerClass(a)},registerSeriesModel:function(a){Ue.registerClass(a)},registerChartView:function(a){ke.registerClass(a)},registerSubTypeDefaulter:function(a,t){xe.registerSubTypeDefaulter(a,t)},registerPainter:function(a,t){tz(a,t)}};function Ae(a){if(yt(a)){X(a,function(t){Ae(t)});return}ae(Rat,a)>=0||(Rat.push(a),Nt(a)&&(a={install:a}),a.install(rGt))}function $x(a){return a==null?0:a.length||1}function Oat(a){return a}var iGt=function(){function a(t,e,o,l,f,h){this._old=t,this._new=e,this._oldKeyGetter=o||Oat,this._newKeyGetter=l||Oat,this.context=f,this._diffModeMultiple=h==="multiple"}return a.prototype.add=function(t){return this._add=t,this},a.prototype.update=function(t){return this._update=t,this},a.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},a.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},a.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},a.prototype.remove=function(t){return this._remove=t,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var t=this._old,e=this._new,o={},l=new Array(t.length),f=new Array(e.length);this._initIndexMap(t,null,l,"_oldKeyGetter"),this._initIndexMap(e,o,f,"_newKeyGetter");for(var h=0;h<t.length;h++){var v=l[h],g=o[v],y=$x(g);if(y>1){var x=g.shift();g.length===1&&(o[v]=g[0]),this._update&&this._update(x,h)}else y===1?(o[v]=null,this._update&&this._update(g,h)):this._remove&&this._remove(h)}this._performRestAdd(f,o)},a.prototype._executeMultiple=function(){var t=this._old,e=this._new,o={},l={},f=[],h=[];this._initIndexMap(t,o,f,"_oldKeyGetter"),this._initIndexMap(e,l,h,"_newKeyGetter");for(var v=0;v<f.length;v++){var g=f[v],y=o[g],x=l[g],b=$x(y),T=$x(x);if(b>1&&T===1)this._updateManyToOne&&this._updateManyToOne(x,y),l[g]=null;else if(b===1&&T>1)this._updateOneToMany&&this._updateOneToMany(x,y),l[g]=null;else if(b===1&&T===1)this._update&&this._update(x,y),l[g]=null;else if(b>1&&T>1)this._updateManyToMany&&this._updateManyToMany(x,y),l[g]=null;else if(b>1)for(var C=0;C<b;C++)this._remove&&this._remove(y[C]);else this._remove&&this._remove(y)}this._performRestAdd(h,l)},a.prototype._performRestAdd=function(t,e){for(var o=0;o<t.length;o++){var l=t[o],f=e[l],h=$x(f);if(h>1)for(var v=0;v<h;v++)this._add&&this._add(f[v]);else h===1&&this._add&&this._add(f);e[l]=null}},a.prototype._initIndexMap=function(t,e,o,l){for(var f=this._diffModeMultiple,h=0;h<t.length;h++){var v="_ec_"+this[l](t[h],h);if(f||(o[h]=v),!!e){var g=e[v],y=$x(g);y===0?(e[v]=h,f&&o.push(v)):y===1?e[v]=[g,h]:g.push(h)}}},a}(),ha=iGt;var aGt=function(){function a(t,e){this._encode=t,this._schema=e}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function kat(a,t){var e={},o=e.encode={},l=Rt(),f=[],h=[],v={};X(a.dimensions,function(T){var C=a.getDimensionInfo(T),M=C.coordDim;if(M){var I=C.coordDimIndex;mB(o,M)[I]=T,C.isExtraCoord||(l.set(M,1),nGt(C.type)&&(f[0]=T),mB(v,M)[I]=a.getDimensionIndex(C.name)),C.defaultTooltip&&h.push(T)}_C.each(function(P,O){var N=mB(o,O),V=C.otherDims[O];V!=null&&V!==!1&&(N[V]=C.name)})});var g=[],y={};l.each(function(T,C){var M=o[C];y[C]=M[0],g=g.concat(M)}),e.dataDimsOnCoord=g,e.dataDimIndicesOnCoord=_t(g,function(T){return a.getDimensionInfo(T).storeDimIndex}),e.encodeFirstDimNotExtra=y;var x=o.label;x&&x.length&&(f=x.slice());var b=o.tooltip;return b&&b.length?h=b.slice():h.length||(h=f.slice()),o.defaultedLabel=f,o.defaultedTooltip=h,e.userOutput=new aGt(v,t),e}function mB(a,t){return a.hasOwnProperty(t)||(a[t]=[]),a[t]}function uv(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function nGt(a){return!(a==="ordinal"||a==="time")}var oGt=function(){function a(t){this.otherDims={},t!=null&&mt(this,t)}return a}(),am=oGt;var sGt=ue(),lGt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},yB=function(){function a(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=xB(this.source)))},a.prototype.getSourceDimensionIndex=function(t){return oe(this._dimNameMap.get(t),-1)},a.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},a.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=MC(this.source),o=!SB(t),l="",f=[],h=0,v=0;h<t;h++){var g=void 0,y=void 0,x=void 0,b=this.dimensions[v];if(b&&b.storeDimIndex===h)g=e?b.name:null,y=b.type,x=b.ordinalMeta,v++;else{var T=this.getSourceDimension(h);T&&(g=e?T.name:null,y=T.type)}f.push({property:g,type:y,ordinalMeta:x}),e&&g!=null&&(!b||!b.isCalculationCoord)&&(l+=o?g.replace(/\`/g,"`1").replace(/\$/g,"`2"):g),l+="$",l+=lGt[y]||"f",x&&(l+=x.uid),l+="$"}var C=this.source,M=[C.seriesLayoutBy,C.startIndex,l].join("$$");return{dimensions:f,hash:M}},a.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,o=0;e<this._fullDimCount;e++){var l=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===e)f.isCalculationCoord||(l=f.name),o++;else{var h=this.getSourceDimension(e);h&&(l=h.name)}t.push(l)}return t},a.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function lD(a){return a instanceof yB}function _B(a){for(var t=Rt(),e=0;e<(a||[]).length;e++){var o=a[e],l=Ft(o)?o.name:o;l!=null&&t.get(l)==null&&t.set(l,e)}return t}function xB(a){var t=sGt(a);return t.dimNameMap||(t.dimNameMap=_B(a.dimensionsDefine))}function SB(a){return a>30}var Kx=Ft,dc=_t,uGt=typeof Int32Array>"u"?Array:Int32Array,fGt="e\0\0",Nat=-1,cGt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],hGt=["_approximateExtent"],zat,uD,jx,Jx,bB,Qx,wB,pGt=function(){function a(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var o,l=!1;lD(t)?(o=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(l=!0,o=t),o=o||["x","y"];for(var f={},h=[],v={},g=!1,y={},x=0;x<o.length;x++){var b=o[x],T=Dt(b)?new am({name:b}):b instanceof am?b:new am(b),C=T.name;T.type=T.type||"float",T.coordDim||(T.coordDim=C,T.coordDimIndex=0);var M=T.otherDims=T.otherDims||{};h.push(C),f[C]=T,y[C]!=null&&(g=!0),T.createInvertedIndices&&(v[C]=[]),M.itemName===0&&(this._nameDimIdx=x),M.itemId===0&&(this._idDimIdx=x),l&&(T.storeDimIndex=x)}if(this.dimensions=h,this._dimInfos=f,this._initGetDimensionInfo(g),this.hostModel=e,this._invertedIndicesMap=v,this._dimOmitted){var I=this._dimIdxToName=Rt();X(h,function(P){I.set(f[P].storeDimIndex,P)})}}return a.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var o=this._dimIdxToName.get(e);if(o!=null)return o;var l=this._schema.getSourceDimension(e);if(l)return l.name},a.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var o=this._getDimInfo(t);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},a.prototype._recognizeDimIndex=function(t){if(ye(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},a.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},a.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},a.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(o){return e.hasOwnProperty(o)?e[o]:void 0}:function(o){return e[o]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(t,e){var o=this._dimSummary;if(e==null)return o.encodeFirstDimNotExtra[t];var l=o.encode[t];return l?l[e]:null},a.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,o=e.encode[t];return(o||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(t,e,o){var l=this,f;if(t instanceof kx&&(f=t),!f){var h=this.dimensions,v=jg(t)||Xr(t)?new LC(t,h.length):t;f=new kx;var g=dc(h,function(y){return{type:l._dimInfos[y].type,property:y}});f.initData(v,g,o)}this._store=f,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,f.count()),this._dimSummary=kat(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},a.prototype.appendValues=function(t,e){var o=this._store.appendValues(t,e&&e.length),l=o.start,f=o.end,h=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var v=l;v<f;v++){var g=v-l;this._nameList[v]=e[g],h&&wB(this,v)}},a.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,o=0;o<e.length;o++){var l=this._dimInfos[e[o]];l.ordinalMeta&&t.collectOrdinalMeta(l.storeDimIndex,l.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Jn&&!t.fillStorage},a.prototype._doInit=function(t,e){if(!(t>=e)){var o=this._store,l=o.getProvider();this._updateOrdinalMeta();var f=this._nameList,h=this._idList,v=l.getSource().sourceFormat,g=v===Ji;if(g&&!l.pure)for(var y=[],x=t;x<e;x++){var b=l.getItem(x,y);if(!this.hasItemOption&&utt(b)&&(this.hasItemOption=!0),b){var T=b.name;f[x]==null&&T!=null&&(f[x]=kr(T,null));var C=b.id;h[x]==null&&C!=null&&(h[x]=kr(C,null))}}if(this._shouldMakeIdFromName())for(var x=t;x<e;x++)wB(this,x);zat(this)}},a.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},a.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},a.prototype.setCalculationInfo=function(t,e){Kx(t)?mt(this._calculationInfo,t):this._calculationInfo[t]=e},a.prototype.getName=function(t){var e=this.getRawIndex(t),o=this._nameList[e];return o==null&&this._nameDimIdx!=null&&(o=jx(this,this._nameDimIdx,e)),o==null&&(o=""),o},a.prototype._getCategory=function(t,e){var o=this._store.get(t,e),l=this._store.getOrdinalMeta(t);return l?l.categories[o]:o},a.prototype.getId=function(t){return uD(this,this.getRawIndex(t))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(t,e){var o=this._store,l=this._dimInfos[t];if(l)return o.get(l.storeDimIndex,e)},a.prototype.getByRawIndex=function(t,e){var o=this._store,l=this._dimInfos[t];if(l)return o.getByRawIndex(l.storeDimIndex,e)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},a.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},a.prototype.getValues=function(t,e){var o=this,l=this._store;return yt(t)?l.getValues(dc(t,function(f){return o._getStoreDimIndex(f)}),e):l.getValues(t)},a.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,o=0,l=e.length;o<l;o++)if(isNaN(this._store.get(e[o],t)))return!1;return!0},a.prototype.indexOfName=function(t){for(var e=0,o=this._store.count();e<o;e++)if(this.getName(e)===t)return e;return-1},a.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},a.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},a.prototype.rawIndexOf=function(t,e){var o=t&&this._invertedIndicesMap[t],l=o&&o[e];return l==null||isNaN(l)?Nat:l},a.prototype.indicesOfNearest=function(t,e,o){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,o)},a.prototype.each=function(t,e,o){"use strict";Nt(t)&&(o=e,e=t,t=[]);var l=o||this,f=dc(Jx(t),this._getStoreDimIndex,this);this._store.each(f,l?It(e,l):e)},a.prototype.filterSelf=function(t,e,o){"use strict";Nt(t)&&(o=e,e=t,t=[]);var l=o||this,f=dc(Jx(t),this._getStoreDimIndex,this);return this._store=this._store.filter(f,l?It(e,l):e),this},a.prototype.selectRange=function(t){"use strict";var e=this,o={},l=he(t),f=[];return X(l,function(h){var v=e._getStoreDimIndex(h);o[v]=t[h],f.push(v)}),this._store=this._store.selectRange(o),this},a.prototype.mapArray=function(t,e,o){"use strict";Nt(t)&&(o=e,e=t,t=[]),o=o||this;var l=[];return this.each(t,function(){l.push(e&&e.apply(this,arguments))},o),l},a.prototype.map=function(t,e,o,l){"use strict";var f=o||l||this,h=dc(Jx(t),this._getStoreDimIndex,this),v=Qx(this);return v._store=this._store.map(h,f?It(e,f):e),v},a.prototype.modify=function(t,e,o,l){var f=this,h=o||l||this,v=dc(Jx(t),this._getStoreDimIndex,this);this._store.modify(v,h?It(e,h):e)},a.prototype.downSample=function(t,e,o,l){var f=Qx(this);return f._store=this._store.downSample(this._getStoreDimIndex(t),e,o,l),f},a.prototype.minmaxDownSample=function(t,e){var o=Qx(this);return o._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),o},a.prototype.lttbDownSample=function(t,e){var o=Qx(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),o},a.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},a.prototype.getItemModel=function(t){var e=this.hostModel,o=this.getRawDataItem(t);return new Fe(o,e,e&&e.ecModel)},a.prototype.diff=function(t){var e=this;return new ha(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(o){return uD(t,o)},function(o){return uD(e,o)})},a.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},a.prototype.setVisual=function(t,e){this._visual=this._visual||{},Kx(t)?mt(this._visual,t):this._visual[t]=e},a.prototype.getItemVisual=function(t,e){var o=this._itemVisuals[t],l=o&&o[e];return l??this.getVisual(e)},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(t,e){var o=this._itemVisuals,l=o[t];l||(l=o[t]={});var f=l[e];return f==null&&(f=this.getVisual(e),yt(f)?f=f.slice():Kx(f)&&(f=mt({},f)),l[e]=f),f},a.prototype.setItemVisual=function(t,e,o){var l=this._itemVisuals[t]||{};this._itemVisuals[t]=l,Kx(e)?mt(l,e):l[e]=o},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(t,e){Kx(t)?mt(this._layout,t):this._layout[t]=e},a.prototype.getLayout=function(t){return this._layout[t]},a.prototype.getItemLayout=function(t){return this._itemLayouts[t]},a.prototype.setItemLayout=function(t,e,o){this._itemLayouts[t]=o?mt(this._itemLayouts[t]||{},e):e},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(t,e){var o=this.hostModel&&this.hostModel.seriesIndex;sx(o,this.dataType,t,e),this._graphicEls[t]=e},a.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},a.prototype.eachItemGraphicEl=function(t,e){X(this._graphicEls,function(o,l){o&&t&&t.call(e,o,l)})},a.prototype.cloneShallow=function(t){return t||(t=new a(this._schema?this._schema:dc(this.dimensions,this._getDimInfo,this),this.hostModel)),bB(t,this),t._store=this._store,t},a.prototype.wrapMethod=function(t,e){var o=this[t];Nt(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var l=o.apply(this,arguments);return e.apply(this,[l].concat(I_(arguments)))})},a.internalField=function(){zat=function(t){var e=t._invertedIndicesMap;X(e,function(o,l){var f=t._dimInfos[l],h=f.ordinalMeta,v=t._store;if(h){o=e[l]=new uGt(h.categories.length);for(var g=0;g<o.length;g++)o[g]=Nat;for(var g=0;g<v.count();g++)o[v.get(f.storeDimIndex,g)]=g}})},jx=function(t,e,o){return kr(t._getCategory(e,o),null)},uD=function(t,e){var o=t._idList[e];return o==null&&t._idDimIdx!=null&&(o=jx(t,t._idDimIdx,e)),o==null&&(o=fGt+e),o},Jx=function(t){return yt(t)||(t=t!=null?[t]:[]),t},Qx=function(t){var e=new a(t._schema?t._schema:dc(t.dimensions,t._getDimInfo,t),t.hostModel);return bB(e,t),e},bB=function(t,e){X(cGt.concat(e.__wrappedMethods||[]),function(o){e.hasOwnProperty(o)&&(t[o]=e[o])}),t.__wrappedMethods=e.__wrappedMethods,X(hGt,function(o){t[o]=Ht(e[o])}),t._calculationInfo=mt({},e._calculationInfo)},wB=function(t,e){var o=t._nameList,l=t._idList,f=t._nameDimIdx,h=t._idDimIdx,v=o[e],g=l[e];if(v==null&&f!=null&&(o[e]=v=jx(t,f,e)),g==null&&h!=null&&(l[e]=g=jx(t,h,e)),g==null&&v!=null){var y=t._nameRepeatCount,x=y[v]=(y[v]||0)+1;g=v,x>1&&(g+="__ec__"+x),l[e]=g}}}(),a}(),Fr=pGt;var PB={};sn(PB,{createDimensions:()=>Vat,createList:()=>qGt,createScale:()=>KGt,createSymbol:()=>nr,createTextStyle:()=>JGt,dataStack:()=>$Gt,enableHoverEmphasis:()=>ko,getECData:()=>Kt,getLayoutRect:()=>ar,mixinAxisModelCommonMethods:()=>jGt});function Vat(a,t){return Zo(a,t).dimensions}function Zo(a,t){jg(a)||(a=Jg(a)),t=t||{};var e=t.coordDimensions||[],o=t.dimensionsDefine||a.dimensionsDefine||[],l=Rt(),f=[],h=dGt(a,e,o,t.dimensionsCount),v=t.canOmitUnusedDimensions&&SB(h),g=o===a.dimensionsDefine,y=g?xB(a):_B(o),x=t.encodeDefine;!x&&t.encodeDefaulter&&(x=t.encodeDefaulter(a,h));for(var b=Rt(x),T=new OV(h),C=0;C<T.length;C++)T[C]=-1;function M(K){var Q=T[K];if(Q<0){var rt=o[K],nt=Ft(rt)?rt:{name:rt},ot=new am,ft=nt.name;ft!=null&&y.get(ft)!=null&&(ot.name=ot.displayName=ft),nt.type!=null&&(ot.type=nt.type),nt.displayName!=null&&(ot.displayName=nt.displayName);var lt=f.length;return T[K]=lt,ot.storeDimIndex=K,f.push(ot),ot}return f[Q]}if(!v)for(var C=0;C<h;C++)M(C);b.each(function(K,Q){var rt=qe(K).slice();if(rt.length===1&&!Dt(rt[0])&&rt[0]<0){b.set(Q,!1);return}var nt=b.set(Q,[]);X(rt,function(ot,ft){var lt=Dt(ot)?y.get(ot):ot;lt!=null&&lt<h&&(nt[ft]=lt,P(M(lt),Q,ft))})});var I=0;X(e,function(K){var Q,rt,nt,ot;if(Dt(K))Q=K,ot={};else{ot=K,Q=ot.name;var ft=ot.ordinalMeta;ot.ordinalMeta=null,ot=mt({},ot),ot.ordinalMeta=ft,rt=ot.dimsDef,nt=ot.otherDims,ot.name=ot.coordDim=ot.coordDimIndex=ot.dimsDef=ot.otherDims=null}var lt=b.get(Q);if(lt!==!1){if(lt=qe(lt),!lt.length)for(var pt=0;pt<(rt&&rt.length||1);pt++){for(;I<h&&M(I).coordDim!=null;)I++;I<h&&lt.push(I++)}X(lt,function(xt,st){var dt=M(xt);if(g&&ot.type!=null&&(dt.type=ot.type),P(zt(dt,ot),Q,st),dt.name==null&&rt){var Et=rt[st];!Ft(Et)&&(Et={name:Et}),dt.name=dt.displayName=Et.name,dt.defaultTooltip=Et.defaultTooltip}nt&&zt(dt.otherDims,nt)})}});function P(K,Q,rt){_C.get(Q)!=null?K.otherDims[Q]=rt:(K.coordDim=Q,K.coordDimIndex=rt,l.set(Q,!0))}var O=t.generateCoord,N=t.generateCoordCount,V=N!=null;N=O?N||1:0;var F=O||"value";function U(K){K.name==null&&(K.name=K.coordDim)}if(v)X(f,function(K){U(K)}),f.sort(function(K,Q){return K.storeDimIndex-Q.storeDimIndex});else for(var H=0;H<h;H++){var Z=M(H),$=Z.coordDim;$==null&&(Z.coordDim=gGt(F,l,V),Z.coordDimIndex=0,(!O||N<=0)&&(Z.isExtraCoord=!0),N--),U(Z),Z.type==null&&(bC(a,H)===Wi.Must||Z.isExtraCoord&&(Z.otherDims.itemName!=null||Z.otherDims.seriesName!=null))&&(Z.type="ordinal")}return vGt(f),new yB({source:a,dimensions:f,fullDimensionCount:h,dimensionOmitted:v})}function vGt(a){for(var t=Rt(),e=0;e<a.length;e++){var o=a[e],l=o.name,f=t.get(l)||0;f>0&&(o.name=l+(f-1)),f++,t.set(l,f)}}function dGt(a,t,e,o){var l=Math.max(a.dimensionsDetectedCount||1,t.length,e.length,o||0);return X(t,function(f){var h;Ft(f)&&(h=f.dimsDef)&&(l=Math.max(l,h.length))}),l}function gGt(a,t,e){if(e||t.hasKey(a)){for(var o=0;t.hasKey(a+o);)o++;a+=o}return t.set(a,!0),a}var mGt=function(){function a(t){this.coordSysDims=[],this.axisMap=Rt(),this.categoryAxisMap=Rt(),this.coordSysName=t}return a}();function Bat(a){var t=a.get("coordinateSystem"),e=new mGt(t),o=yGt[t];if(o)return o(a,e,e.axisMap,e.categoryAxisMap),e}var yGt={cartesian2d:function(a,t,e,o){var l=a.getReferringComponents("xAxis",pr).models[0],f=a.getReferringComponents("yAxis",pr).models[0];t.coordSysDims=["x","y"],e.set("x",l),e.set("y",f),nm(l)&&(o.set("x",l),t.firstCategoryDimIndex=0),nm(f)&&(o.set("y",f),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(a,t,e,o){var l=a.getReferringComponents("singleAxis",pr).models[0];t.coordSysDims=["single"],e.set("single",l),nm(l)&&(o.set("single",l),t.firstCategoryDimIndex=0)},polar:function(a,t,e,o){var l=a.getReferringComponents("polar",pr).models[0],f=l.findAxisModel("radiusAxis"),h=l.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",f),e.set("angle",h),nm(f)&&(o.set("radius",f),t.firstCategoryDimIndex=0),nm(h)&&(o.set("angle",h),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(a,t,e,o){t.coordSysDims=["lng","lat"]},parallel:function(a,t,e,o){var l=a.ecModel,f=l.getComponent("parallel",a.get("parallelIndex")),h=t.coordSysDims=f.dimensions.slice();X(f.parallelAxisIndex,function(v,g){var y=l.getComponent("parallelAxis",v),x=h[g];e.set(x,y),nm(y)&&(o.set(x,y),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=g))})}};function nm(a){return a.get("type")==="category"}function fD(a,t,e){e=e||{};var o=e.byIndex,l=e.stackedCoordDimension,f,h,v;_Gt(t)?f=t:(h=t.schema,f=h.dimensions,v=t.store);var g=!!(a&&a.get("stack")),y,x,b,T;if(X(f,function(N,V){Dt(N)&&(f[V]=N={name:N}),g&&!N.isExtraCoord&&(!o&&!y&&N.ordinalMeta&&(y=N),!x&&N.type!=="ordinal"&&N.type!=="time"&&(!l||l===N.coordDim)&&(x=N))}),x&&!o&&!y&&(o=!0),x){b="__\0ecstackresult_"+a.id,T="__\0ecstackedover_"+a.id,y&&(y.createInvertedIndices=!0);var C=x.coordDim,M=x.type,I=0;X(f,function(N){N.coordDim===C&&I++});var P={name:b,coordDim:C,coordDimIndex:I,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:f.length},O={name:T,coordDim:T,coordDimIndex:I+1,type:M,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:f.length+1};h?(v&&(P.storeDimIndex=v.ensureCalculationDimension(T,M),O.storeDimIndex=v.ensureCalculationDimension(b,M)),h.appendCalculationDimension(P),h.appendCalculationDimension(O)):(f.push(P),f.push(O))}return{stackedDimension:x&&x.name,stackedByDimension:y&&y.name,isStackedByIndex:o,stackedOverDimension:T,stackResultDimension:b}}function _Gt(a){return!lD(a.schema)}function Xa(a,t){return!!t&&t===a.getCalculationInfo("stackedDimension")}function om(a,t){return Xa(a,t)?a.getCalculationInfo("stackResultDimension"):t}function xGt(a,t){var e=a.get("coordinateSystem"),o=Dl.get(e),l;return t&&t.coordSysDims&&(l=_t(t.coordSysDims,function(f){var h={name:f},v=t.axisMap.get(f);if(v){var g=v.get("type");h.type=uv(g)}return h})),l||(l=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),l}function SGt(a,t,e){var o,l;return e&&X(a,function(f,h){var v=f.coordDim,g=e.categoryAxisMap.get(v);g&&(o==null&&(o=h),f.ordinalMeta=g.getOrdinalMeta(),t&&(f.createInvertedIndices=!0)),f.otherDims.itemName!=null&&(l=!0)}),!l&&o!=null&&(a[o].otherDims.itemName=0),o}function bGt(a,t,e){e=e||{};var o=t.getSourceManager(),l,f=!1;a?(f=!0,l=Jg(a)):(l=o.getSource(),f=l.sourceFormat===Ji);var h=Bat(t),v=xGt(t,h),g=e.useEncodeDefaulter,y=Nt(g)?g:g?Qt(xC,v,t):null,x={coordDimensions:v,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:y,canOmitUnusedDimensions:!f},b=Zo(l,x),T=SGt(b.dimensions,e.createInvertedIndices,h),C=f?null:o.getSharedDataStore(b),M=fD(t,{schema:b,store:C}),I=new Fr(b,t);I.setCalculationInfo(M);var P=T!=null&&wGt(l)?function(O,N,V,F){return F===T?V:this.defaultDimValueGetter(O,N,V,F)}:null;return I.hasItemOption=!1,I.initData(f?l:C,null,P),I}function wGt(a){if(a.sourceFormat===Ji){var t=TGt(a.data||[]);return!yt(As(t))}}function TGt(a){for(var t=0;t<a.length&&a[t]==null;)t++;return a[t]}var Ri=bGt;var Fat=function(){function a(t){this._setting=t||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(t){return this._setting[t]},a.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},a.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(t,e){var o=this._extent;isNaN(t)||(o[0]=t),isNaN(e)||(o[1]=e)},a.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(t){this._isBlank=t},a}();Jf(Fat);var Cn=Fat;var AGt=0,CGt=function(){function a(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++AGt}return a.createByAxisModel=function(t){var e=t.option,o=e.data,l=o&&_t(o,DGt);return new a({categories:l,needCollect:!l,deduplication:e.dedplication!==!1})},a.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},a.prototype.parseAndCollect=function(t){var e,o=this._needCollect;if(!Dt(t)&&!o)return t;if(o&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var l=this._getOrCreateMap();return e=l.get(t),e==null&&(o?(e=this.categories.length,this.categories[e]=t,l.set(t,e)):e=NaN),e},a.prototype._getOrCreateMap=function(){return this._map||(this._map=Rt(this.categories))},a}();function DGt(a){return Ft(a)&&a.value!=null?a.value:a+""}var tS=CGt;function eS(a){return a.type==="interval"||a.type==="log"}function Gat(a,t,e,o){var l={},f=a[1]-a[0],h=l.interval=Ag(f/t,!0);e!=null&&h<e&&(h=l.interval=e),o!=null&&h>o&&(h=l.interval=o);var v=l.intervalPrecision=TB(h),g=l.niceTickExtent=[hr(Math.ceil(a[0]/h)*h,v),hr(Math.floor(a[1]/h)*h,v)];return MGt(g,a),l}function cD(a){var t=Math.pow(10,Tg(a)),e=a/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,hr(e*t)}function TB(a){return oa(a)+2}function Uat(a,t,e){a[t]=Math.max(Math.min(a[t],e[1]),e[0])}function MGt(a,t){!isFinite(a[0])&&(a[0]=t[0]),!isFinite(a[1])&&(a[1]=t[1]),Uat(a,0,t),Uat(a,1,t),a[0]>a[1]&&(a[0]=a[1])}function gc(a,t){return a>=t[0]&&a<=t[1]}function mc(a,t){return t[1]===t[0]?.5:(a-t[0])/(t[1]-t[0])}function yc(a,t){return a*(t[1]-t[0])+t[0]}var Hat=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;o.type="ordinal";var l=o.getSetting("ordinalMeta");return l||(l=new tS({})),yt(l)&&(l=new tS({categories:_t(l,function(f){return Ft(f)?f.value:f})})),o._ordinalMeta=l,o._extent=o.getSetting("extent")||[0,l.categories.length-1],o}return t.prototype.parse=function(e){return e==null?NaN:Dt(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),gc(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),mc(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(yc(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],o=this._extent,l=o[0];l<=o[1];)e.push({value:l}),l++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=e.ordinalNumbers,l=this._ordinalNumbersByTick=[],f=this._ticksByOrdinalNumber=[],h=0,v=this._ordinalMeta.categories.length,g=Math.min(v,o.length);h<g;++h){var y=o[h];l[h]=y,f[y]=h}for(var x=0;h<v;++h){for(;f[x]!=null;)x++;l.push(x),f[x]=h}},t.prototype._getTickNumber=function(e){var o=this._ticksByOrdinalNumber;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getRawOrdinalNumber=function(e){var o=this._ordinalNumbersByTick;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var o=this.getRawOrdinalNumber(e.value),l=this._ordinalMeta.categories[o];return l==null?"":l+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Cn);Cn.registerClass(Hat);var rS=Hat;var fv=hr,Wat=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return gc(e,this._extent)},t.prototype.normalize=function(e){return mc(e,this._extent)},t.prototype.scale=function(e){return yc(e,this._extent)},t.prototype.setExtent=function(e,o){var l=this._extent;isNaN(e)||(l[0]=parseFloat(e)),isNaN(o)||(l[1]=parseFloat(o))},t.prototype.unionExtent=function(e){var o=this._extent;e[0]<o[0]&&(o[0]=e[0]),e[1]>o[1]&&(o[1]=e[1]),this.setExtent(o[0],o[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=TB(e)},t.prototype.getTicks=function(e){var o=this._interval,l=this._extent,f=this._niceExtent,h=this._intervalPrecision,v=[];if(!o)return v;var g=1e4;l[0]<f[0]&&(e?v.push({value:fv(f[0]-o,h)}):v.push({value:l[0]}));for(var y=f[0];y<=f[1]&&(v.push({value:y}),y=fv(y+o,h),y!==v[v.length-1].value);)if(v.length>g)return[];var x=v.length?v[v.length-1].value:f[1];return l[1]>x&&(e?v.push({value:fv(x+o,h)}):v.push({value:l[1]})),v},t.prototype.getMinorTicks=function(e){for(var o=this.getTicks(!0),l=[],f=this.getExtent(),h=1;h<o.length;h++){for(var v=o[h],g=o[h-1],y=0,x=[],b=v.value-g.value,T=b/e;y<e-1;){var C=fv(g.value+(y+1)*T);C>f[0]&&C<f[1]&&x.push(C),y++}l.push(x)}return l},t.prototype.getLabel=function(e,o){if(e==null)return"";var l=o&&o.precision;l==null?l=oa(e.value)||0:l==="auto"&&(l=this._intervalPrecision);var f=fv(e.value,l,!0);return Cx(f)},t.prototype.calcNiceTicks=function(e,o,l){e=e||5;var f=this._extent,h=f[1]-f[0];if(isFinite(h)){h<0&&(h=-h,f.reverse());var v=Gat(f,e,o,l);this._intervalPrecision=v.intervalPrecision,this._interval=v.interval,this._niceExtent=v.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var l=Math.abs(o[0]);e.fixMax||(o[1]+=l/2),o[0]-=l/2}else o[1]=1;var f=o[1]-o[0];isFinite(f)||(o[0]=0,o[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var h=this._interval;e.fixMin||(o[0]=fv(Math.floor(o[0]/h)*h)),e.fixMax||(o[1]=fv(Math.ceil(o[1]/h)*h))},t.prototype.setNiceExtent=function(e,o){this._niceExtent=[e,o]},t.type="interval",t}(Cn);Cn.registerClass(Wat);var Dn=Wat;var Yat=typeof Float32Array<"u",LGt=Yat?Float32Array:Array;function qa(a){return yt(a)?Yat?new Float32Array(a):a:new LGt(a)}var AB="__ec_stack_";function CB(a){return a.get("stack")||AB+a.seriesIndex}function DB(a){return a.dim+a.index}function Zat(a){var t=[],e=a.axis,o="axis0";if(e.type==="category"){for(var l=e.getBandWidth(),f=0;f<a.count;f++)t.push(zt({bandWidth:l,axisKey:o,stackId:AB+f},a));for(var h=Xat(t),v=[],f=0;f<a.count;f++){var g=h[o][AB+f];g.offsetCenter=g.offset+g.width/2,v.push(g)}return v}}function MB(a,t){var e=[];return t.eachSeriesByType(a,function(o){$at(o)&&e.push(o)}),e}function IGt(a){var t={};X(a,function(g){var y=g.coordinateSystem,x=y.getBaseAxis();if(!(x.type!=="time"&&x.type!=="value"))for(var b=g.getData(),T=x.dim+"_"+x.index,C=b.getDimensionIndex(b.mapDimension(x.dim)),M=b.getStore(),I=0,P=M.count();I<P;++I){var O=M.get(C,I);t[T]?t[T].push(O):t[T]=[O]}});var e={};for(var o in t)if(t.hasOwnProperty(o)){var l=t[o];if(l){l.sort(function(g,y){return g-y});for(var f=null,h=1;h<l.length;++h){var v=l[h]-l[h-1];v>0&&(f=f===null?v:Math.min(f,v))}e[o]=f}}return e}function LB(a){var t=IGt(a),e=[];return X(a,function(o){var l=o.coordinateSystem,f=l.getBaseAxis(),h=f.getExtent(),v;if(f.type==="category")v=f.getBandWidth();else if(f.type==="value"||f.type==="time"){var g=f.dim+"_"+f.index,y=t[g],x=Math.abs(h[1]-h[0]),b=f.scale.getExtent(),T=Math.abs(b[1]-b[0]);v=y?x/T*y:x}else{var C=o.getData();v=Math.abs(h[1]-h[0])/C.count()}var M=Pt(o.get("barWidth"),v),I=Pt(o.get("barMaxWidth"),v),P=Pt(o.get("barMinWidth")||(Kat(o)?.5:1),v),O=o.get("barGap"),N=o.get("barCategoryGap");e.push({bandWidth:v,barWidth:M,barMaxWidth:I,barMinWidth:P,barGap:O,barCategoryGap:N,axisKey:DB(f),stackId:CB(o)})}),Xat(e)}function Xat(a){var t={};X(a,function(o,l){var f=o.axisKey,h=o.bandWidth,v=t[f]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},g=v.stacks;t[f]=v;var y=o.stackId;g[y]||v.autoWidthCount++,g[y]=g[y]||{width:0,maxWidth:0};var x=o.barWidth;x&&!g[y].width&&(g[y].width=x,x=Math.min(v.remainedWidth,x),v.remainedWidth-=x);var b=o.barMaxWidth;b&&(g[y].maxWidth=b);var T=o.barMinWidth;T&&(g[y].minWidth=T);var C=o.barGap;C!=null&&(v.gap=C);var M=o.barCategoryGap;M!=null&&(v.categoryGap=M)});var e={};return X(t,function(o,l){e[l]={};var f=o.stacks,h=o.bandWidth,v=o.categoryGap;if(v==null){var g=he(f).length;v=Math.max(35-g*4,15)+"%"}var y=Pt(v,h),x=Pt(o.gap,1),b=o.remainedWidth,T=o.autoWidthCount,C=(b-y)/(T+(T-1)*x);C=Math.max(C,0),X(f,function(O){var N=O.maxWidth,V=O.minWidth;if(O.width){var F=O.width;N&&(F=Math.min(F,N)),V&&(F=Math.max(F,V)),O.width=F,b-=F+x*F,T--}else{var F=C;N&&N<F&&(F=Math.min(N,b)),V&&V>F&&(F=V),F!==C&&(O.width=F,b-=F+x*F,T--)}}),C=(b-y)/(T+(T-1)*x),C=Math.max(C,0);var M=0,I;X(f,function(O,N){O.width||(O.width=C),I=O,M+=O.width*(1+x)}),I&&(M-=I.width*x);var P=-M/2;X(f,function(O,N){e[l][N]=e[l][N]||{bandWidth:h,offset:P,width:O.width},P+=O.width*(1+x)})}),e}function qat(a,t,e){if(a&&t){var o=a[DB(t)];return o!=null&&e!=null?o[CB(e)]:o}}function pD(a,t){var e=MB(a,t),o=LB(e);X(e,function(l){var f=l.getData(),h=l.coordinateSystem,v=h.getBaseAxis(),g=CB(l),y=o[DB(v)][g],x=y.offset,b=y.width;f.setLayout({bandWidth:y.bandWidth,offset:x,size:b})})}function vD(a){return{seriesType:a,plan:Qn(),reset:function(t){if($at(t)){var e=t.getData(),o=t.coordinateSystem,l=o.getBaseAxis(),f=o.getOtherAxis(l),h=e.getDimensionIndex(e.mapDimension(f.dim)),v=e.getDimensionIndex(e.mapDimension(l.dim)),g=t.get("showBackground",!0),y=e.mapDimension(f.dim),x=e.getCalculationInfo("stackResultDimension"),b=Xa(e,y)&&!!e.getCalculationInfo("stackedOnSeries"),T=f.isHorizontal(),C=EGt(l,f),M=Kat(t),I=t.get("barMinHeight")||0,P=x&&e.getDimensionIndex(x),O=e.getLayout("size"),N=e.getLayout("offset");return{progress:function(V,F){for(var U=V.count,H=M&&qa(U*3),Z=M&&g&&qa(U*3),$=M&&qa(U),K=o.master.getRect(),Q=T?K.width:K.height,rt,nt=F.getStore(),ot=0;(rt=V.next())!=null;){var ft=nt.get(b?P:h,rt),lt=nt.get(v,rt),pt=C,xt=void 0;b&&(xt=+ft-nt.get(h,rt));var st=void 0,dt=void 0,Et=void 0,At=void 0;if(T){var Zt=o.dataToPoint([ft,lt]);if(b){var qt=o.dataToPoint([xt,lt]);pt=qt[0]}st=pt,dt=Zt[1]+N,Et=Zt[0]-pt,At=O,Math.abs(Et)<I&&(Et=(Et<0?-1:1)*I)}else{var Zt=o.dataToPoint([lt,ft]);if(b){var qt=o.dataToPoint([lt,xt]);pt=qt[1]}st=Zt[0]+N,dt=pt,Et=O,At=Zt[1]-pt,Math.abs(At)<I&&(At=(At<=0?-1:1)*I)}M?(H[ot]=st,H[ot+1]=dt,H[ot+2]=T?Et:At,Z&&(Z[ot]=T?K.x:st,Z[ot+1]=T?dt:K.y,Z[ot+2]=Q),$[rt]=rt):F.setItemLayout(rt,{x:st,y:dt,width:Et,height:At}),ot+=3}M&&F.setLayout({largePoints:H,largeDataIndices:$,largeBackgroundPoints:Z,valueAxisHorizontal:T})}}}}}}function $at(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function Kat(a){return a.pipelineContext&&a.pipelineContext.large}function EGt(a,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var PGt=function(a,t,e,o){for(;e<o;){var l=e+o>>>1;a[l][1]<t?e=l+1:o=l}return e},Jat=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="time",o}return t.prototype.getLabel=function(e){var o=this.getSetting("useUTC");return Pu(e.value,aV[mrt(Qp(this._minLevelUnit))]||aV.second,o,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,o,l){var f=this.getSetting("useUTC"),h=this.getSetting("locale");return yrt(e,o,l,h,f)},t.prototype.getTicks=function(){var e=this._interval,o=this._extent,l=[];if(!e)return l;l.push({value:o[0],level:0});var f=this.getSetting("useUTC"),h=BGt(this._minLevelUnit,this._approxInterval,f,o);return l=l.concat(h),l.push({value:o[1],level:0}),l},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1]&&(o[0]-=$n,o[1]+=$n),o[1]===-1/0&&o[0]===1/0){var l=new Date;o[1]=+new Date(l.getFullYear(),l.getMonth(),l.getDate()),o[0]=o[1]-$n}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,o,l){e=e||10;var f=this._extent,h=f[1]-f[0];this._approxInterval=h/e,o!=null&&this._approxInterval<o&&(this._approxInterval=o),l!=null&&this._approxInterval>l&&(this._approxInterval=l);var v=dD.length,g=Math.min(PGt(dD,this._approxInterval,0,v),v-1);this._interval=dD[g][1],this._minLevelUnit=dD[Math.max(g-1,0)][0]},t.prototype.parse=function(e){return ye(e)?e:+Ei(e)},t.prototype.contain=function(e){return gc(this.parse(e),this._extent)},t.prototype.normalize=function(e){return mc(this.parse(e),this._extent)},t.prototype.scale=function(e){return yc(e,this._extent)},t.type="time",t}(Dn),dD=[["second",pC],["minute",vC],["hour",Yg],["quarter-day",Yg*6],["half-day",Yg*12],["day",$n*1.2],["half-week",$n*3.5],["week",$n*7],["month",$n*31],["quarter",$n*95],["half-year",iV/2],["year",iV]];function RGt(a,t,e,o){var l=Ei(t),f=Ei(e),h=function(M){return oV(l,M,o)===oV(f,M,o)},v=function(){return h("year")},g=function(){return v()&&h("month")},y=function(){return g()&&h("day")},x=function(){return y()&&h("hour")},b=function(){return x()&&h("minute")},T=function(){return b()&&h("second")},C=function(){return T()&&h("millisecond")};switch(a){case"year":return v();case"month":return g();case"day":return y();case"hour":return x();case"minute":return b();case"second":return T();case"millisecond":return C()}}function OGt(a,t){return a/=$n,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function kGt(a){var t=30*$n;return a/=t,a>6?6:a>3?3:a>2?2:1}function NGt(a){return a/=Yg,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function jat(a,t){return a/=t?vC:pC,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function zGt(a){return Ag(a,!0)}function VGt(a,t,e){var o=new Date(a);switch(Qp(t)){case"year":case"month":o[sV(e)](0);case"day":o[lV(e)](1);case"hour":o[uV(e)](0);case"minute":o[fV(e)](0);case"second":o[cV(e)](0),o[hV(e)](0)}return o.getTime()}function BGt(a,t,e,o){var l=1e4,f=nV,h=0;function v(Q,rt,nt,ot,ft,lt,pt){for(var xt=new Date(rt),st=rt,dt=xt[ot]();st<nt&&st<=o[1];)pt.push({value:st}),dt+=Q,xt[ft](dt),st=xt.getTime();pt.push({value:st,notAdd:!0})}function g(Q,rt,nt){var ot=[],ft=!rt.length;if(!RGt(Qp(Q),o[0],o[1],e)){ft&&(rt=[{value:VGt(new Date(o[0]),Q,e)},{value:o[1]}]);for(var lt=0;lt<rt.length-1;lt++){var pt=rt[lt].value,xt=rt[lt+1].value;if(pt!==xt){var st=void 0,dt=void 0,Et=void 0,At=!1;switch(Q){case"year":st=Math.max(1,Math.round(t/$n/365)),dt=dC(e),Et=xrt(e);break;case"half-year":case"quarter":case"month":st=kGt(t),dt=Jp(e),Et=sV(e);break;case"week":case"half-week":case"day":st=OGt(t,31),dt=Sx(e),Et=lV(e),At=!0;break;case"half-day":case"quarter-day":case"hour":st=NGt(t),dt=Wg(e),Et=uV(e);break;case"minute":st=jat(t,!0),dt=bx(e),Et=fV(e);break;case"second":st=jat(t,!1),dt=Tx(e),Et=cV(e);break;case"millisecond":st=zGt(t),dt=Ax(e),Et=hV(e);break}v(st,pt,xt,dt,Et,At,ot),Q==="year"&&nt.length>1&&lt===0&&nt.unshift({value:nt[0].value-st})}}for(var lt=0;lt<ot.length;lt++)nt.push(ot[lt]);return ot}}for(var y=[],x=[],b=0,T=0,C=0;C<f.length&&h++<l;++C){var M=Qp(f[C]);if(grt(f[C])){g(f[C],y[y.length-1]||[],x);var I=f[C+1]?Qp(f[C+1]):null;if(M!==I){if(x.length){T=b,x.sort(function(Q,rt){return Q.value-rt.value});for(var P=[],O=0;O<x.length;++O){var N=x[O].value;(O===0||x[O-1].value!==N)&&(P.push(x[O]),N>=o[0]&&N<=o[1]&&b++)}var V=(o[1]-o[0])/t;if(b>V*1.5&&T>V/1.5||(y.push(P),b>V||a===f[C]))break}x=[]}}}for(var F=Ee(_t(y,function(Q){return Ee(Q,function(rt){return rt.value>=o[0]&&rt.value<=o[1]&&!rt.notAdd})}),function(Q){return Q.length>0}),U=[],H=F.length-1,C=0;C<F.length;++C)for(var Z=F[C],$=0;$<Z.length;++$)U.push({value:Z[$].value,level:H-C});U.sort(function(Q,rt){return Q.value-rt.value});for(var K=[],C=0;C<U.length;++C)(C===0||U[C].value!==U[C-1].value)&&K.push(U[C]);return K}Cn.registerClass(Jat);var gD=Jat;var Qat=Cn.prototype,iS=Dn.prototype,FGt=hr,UGt=Math.floor,GGt=Math.ceil,mD=Math.pow,ks=Math.log,IB=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Dn,e._interval=0,e}return t.prototype.getTicks=function(e){var o=this._originalScale,l=this._extent,f=o.getExtent(),h=iS.getTicks.call(this,e);return _t(h,function(v){var g=v.value,y=hr(mD(this.base,g));return y=g===l[0]&&this._fixMin?yD(y,f[0]):y,y=g===l[1]&&this._fixMax?yD(y,f[1]):y,{value:y}},this)},t.prototype.setExtent=function(e,o){var l=ks(this.base);e=ks(Math.max(0,e))/l,o=ks(Math.max(0,o))/l,iS.setExtent.call(this,e,o)},t.prototype.getExtent=function(){var e=this.base,o=Qat.getExtent.call(this);o[0]=mD(e,o[0]),o[1]=mD(e,o[1]);var l=this._originalScale,f=l.getExtent();return this._fixMin&&(o[0]=yD(o[0],f[0])),this._fixMax&&(o[1]=yD(o[1],f[1])),o},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var o=this.base;e[0]=ks(e[0])/ks(o),e[1]=ks(e[1])/ks(o),Qat.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.calcNiceTicks=function(e){e=e||10;var o=this._extent,l=o[1]-o[0];if(!(l===1/0||l<=0)){var f=LA(l),h=e/l*f;for(h<=.5&&(f*=10);!isNaN(f)&&Math.abs(f)<1&&Math.abs(f)>0;)f*=10;var v=[hr(GGt(o[0]/f)*f),hr(UGt(o[1]/f)*f)];this._interval=f,this._niceExtent=v}},t.prototype.calcNiceExtent=function(e){iS.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=ks(e)/ks(this.base),gc(e,this._extent)},t.prototype.normalize=function(e){return e=ks(e)/ks(this.base),mc(e,this._extent)},t.prototype.scale=function(e){return e=yc(e,this._extent),mD(this.base,e)},t.type="log",t}(Cn),tnt=IB.prototype;tnt.getMinorTicks=iS.getMinorTicks;tnt.getLabel=iS.getLabel;function yD(a,t){return FGt(a,oa(t))}Cn.registerClass(IB);var ent=IB;var HGt=function(){function a(t,e,o){this._prepareParams(t,e,o)}return a.prototype._prepareParams=function(t,e,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var l=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var f=e.get("min",!0);f==null&&(f=e.get("startValue",!0));var h=this._modelMinRaw=f;Nt(h)?this._modelMinNum=_D(t,h({min:o[0],max:o[1]})):h!=="dataMin"&&(this._modelMinNum=_D(t,h));var v=this._modelMaxRaw=e.get("max",!0);if(Nt(v)?this._modelMaxNum=_D(t,v({min:o[0],max:o[1]})):v!=="dataMax"&&(this._modelMaxNum=_D(t,v)),l)this._axisDataLen=e.getCategories().length;else{var g=e.get("boundaryGap"),y=yt(g)?g:[g||0,g||0];typeof y[0]=="boolean"||typeof y[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[na(y[0],1),na(y[1],1)]}},a.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,o=this._dataMax,l=this._axisDataLen,f=this._boundaryGapInner,h=t?null:o-e||Math.abs(e),v=this._modelMinRaw==="dataMin"?e:this._modelMinNum,g=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,y=v!=null,x=g!=null;v==null&&(v=t?l?0:NaN:e-f[0]*h),g==null&&(g=t?l?l-1:NaN:o+f[1]*h),(v==null||!isFinite(v))&&(v=NaN),(g==null||!isFinite(g))&&(g=NaN);var b=vu(v)||vu(g)||t&&!l;this._needCrossZero&&(v>0&&g>0&&!y&&(v=0),v<0&&g<0&&!x&&(g=0));var T=this._determinedMin,C=this._determinedMax;return T!=null&&(v=T,y=!0),C!=null&&(g=C,x=!0),{min:v,max:g,minFixed:y,maxFixed:x,isBlank:b}},a.prototype.modifyDataMinMax=function(t,e){this[YGt[t]]=e},a.prototype.setDeterminedMinMax=function(t,e){var o=WGt[t];this[o]=e},a.prototype.freeze=function(){this.frozen=!0},a}();var WGt={min:"_determinedMin",max:"_determinedMax"},YGt={min:"_dataMin",max:"_dataMax"};function xD(a,t,e){var o=a.rawExtentInfo;return o||(o=new HGt(a,t,e),a.rawExtentInfo=o,o)}function _D(a,t){return t==null?null:vu(t)?NaN:a.parse(t)}function EB(a,t){var e=a.type,o=xD(a,t,a.getExtent()).calculate();a.setBlank(o.isBlank);var l=o.min,f=o.max,h=t.ecModel;if(h&&e==="time"){var v=MB("bar",h),g=!1;if(X(v,function(b){g=g||b.getBaseAxis()===t.axis}),g){var y=LB(v),x=ZGt(l,f,t,y);l=x.min,f=x.max}}return{extent:[l,f],fixMin:o.minFixed,fixMax:o.maxFixed}}function ZGt(a,t,e,o){var l=e.axis.getExtent(),f=Math.abs(l[1]-l[0]),h=qat(o,e.axis);if(h===void 0)return{min:a,max:t};var v=1/0;X(h,function(C){v=Math.min(C.offset,v)});var g=-1/0;X(h,function(C){g=Math.max(C.offset+C.width,g)}),v=Math.abs(v),g=Math.abs(g);var y=v+g,x=t-a,b=1-(v+g)/f,T=x/b-x;return t+=T*(g/y),a-=T*(v/y),{min:a,max:t}}function Xo(a,t){var e=t,o=EB(a,e),l=o.extent,f=e.get("splitNumber");a instanceof ent&&(a.base=e.get("logBase"));var h=a.type,v=e.get("interval"),g=h==="interval"||h==="time";a.setExtent(l[0],l[1]),a.calcNiceExtent({splitNumber:f,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:g?e.get("minInterval"):null,maxInterval:g?e.get("maxInterval"):null}),v!=null&&a.setInterval&&a.setInterval(v)}function Ll(a,t){if(t=t||a.get("type"),t)switch(t){case"category":return new rS({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new gD({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Cn.getClass(t)||Dn)}}function rnt(a){var t=a.scale.getExtent(),e=t[0],o=t[1];return!(e>0&&o>0||e<0&&o<0)}function cv(a){var t=a.getLabelModel().get("formatter"),e=a.type==="category"?a.scale.getExtent()[0]:null;return a.scale.type==="time"?function(o){return function(l,f){return a.scale.getFormattedLabel(l,f,o)}}(t):Dt(t)?function(o){return function(l){var f=a.scale.getLabel(l),h=o.replace("{value}",f??"");return h}}(t):Nt(t)?function(o){return function(l,f){return e!=null&&(f=l.value-e),o(aS(a,l),f,l.level!=null?{level:l.level}:null)}}(t):function(o){return a.scale.getLabel(o)}}function aS(a,t){return a.type==="category"?a.scale.getLabel(t):t.value}function int(a){var t=a.model,e=a.scale;if(!(!t.get(["axisLabel","show"])||e.isBlank())){var o,l,f=e.getExtent();e instanceof rS?l=e.count():(o=e.getTicks(),l=o.length);var h=a.getLabelModel(),v=cv(a),g,y=1;l>40&&(y=Math.ceil(l/40));for(var x=0;x<l;x+=y){var b=o?o[x]:{value:f[0]+x},T=v(b,x),C=h.getTextRect(T),M=XGt(C,h.get("rotate")||0);g?g.union(M):g=M}return g}}function XGt(a,t){var e=t*Math.PI/180,o=a.width,l=a.height,f=o*Math.abs(Math.cos(e))+Math.abs(l*Math.sin(e)),h=o*Math.abs(Math.sin(e))+Math.abs(l*Math.cos(e)),v=new ie(a.x,a.y,f,h);return v}function SD(a){var t=a.get("interval");return t??"auto"}function bD(a){return a.type==="category"&&SD(a.getLabelModel())===0}function sm(a,t){var e={};return X(a.mapDimensionsAll(t),function(o){e[om(a,o)]=!0}),he(e)}function ant(a,t,e){t&&X(sm(t,e),function(o){var l=t.getApproximateExtent(o);l[0]<a[0]&&(a[0]=l[0]),l[1]>a[1]&&(a[1]=l[1])})}var qo=function(){function a(){}return a.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},a.prototype.getCoordSysModel=function(){},a}();function qGt(a){return Ri(null,a)}var $Gt={isDimensionStacked:Xa,enableDataStack:fD,getStackedDimension:om};function KGt(a,t){var e=t;t instanceof Fe||(e=new Fe(t));var o=Ll(e);return o.setExtent(a[0],a[1]),Xo(o,e),o}function jGt(a){or(a,qo)}function JGt(a,t){return t=t||{},Je(a,null,null,t.state!=="normal")}var QGt=1e-8;function nnt(a,t){return Math.abs(a-t)<QGt}function Vu(a,t,e){var o=0,l=a[0];if(!l)return!1;for(var f=1;f<a.length;f++){var h=a[f];o+=Ro(l[0],l[1],h[0],h[1],t,e),l=h}var v=a[0];return(!nnt(l[0],v[0])||!nnt(l[1],v[1]))&&(o+=Ro(l[0],l[1],v[0],v[1],t,e)),o!==0}var t5t=[];function RB(a,t){for(var e=0;e<a.length;e++)qr(a[e],a[e],t)}function snt(a,t,e,o){for(var l=0;l<a.length;l++){var f=a[l];o&&(f=o.project(f)),f&&isFinite(f[0])&&isFinite(f[1])&&(ln(t,t,f),un(e,e,f))}}function e5t(a){for(var t=0,e=0,o=0,l=a.length,f=a[l-1][0],h=a[l-1][1],v=0;v<l;v++){var g=a[v][0],y=a[v][1],x=f*y-g*h;t+=x,e+=(f+g)*x,o+=(h+y)*x,f=g,h=y}return t?[e/t/3,o/t/3,t]:[a[0][0]||0,a[0][1]||0]}var lnt=function(){function a(t){this.name=t}return a.prototype.setCenter=function(t){this._center=t},a.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},a}();var OB=function(){function a(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return a}();var kB=function(){function a(t){this.type="linestring",this.points=t}return a}();var wD=function(a){at(t,a);function t(e,o,l){var f=a.call(this,e)||this;return f.type="geoJSON",f.geometries=o,f._center=l&&[l[0],l[1]],f}return t.prototype.calcCenter=function(){for(var e=this.geometries,o,l=0,f=0;f<e.length;f++){var h=e[f],v=h.exterior,g=v&&v.length;g>l&&(o=h,l=g)}if(o)return e5t(o.exterior);var y=this.getBoundingRect();return[y.x+y.width/2,y.y+y.height/2]},t.prototype.getBoundingRect=function(e){var o=this._rect;if(o&&!e)return o;var l=[1/0,1/0],f=[-1/0,-1/0],h=this.geometries;return X(h,function(v){v.type==="polygon"?snt(v.exterior,l,f,e):X(v.points,function(g){snt(g,l,f,e)})}),isFinite(l[0])&&isFinite(l[1])&&isFinite(f[0])&&isFinite(f[1])||(l[0]=l[1]=f[0]=f[1]=0),o=new ie(l[0],l[1],f[0]-l[0],f[1]-l[1]),e||(this._rect=o),o},t.prototype.contain=function(e){var o=this.getBoundingRect(),l=this.geometries;if(!o.contain(e[0],e[1]))return!1;t:for(var f=0,h=l.length;f<h;f++){var v=l[f];if(v.type==="polygon"){var g=v.exterior,y=v.interiors;if(Vu(g,e[0],e[1])){for(var x=0;x<(y?y.length:0);x++)if(Vu(y[x],e[0],e[1]))continue t;return!0}}}return!1},t.prototype.transformTo=function(e,o,l,f){var h=this.getBoundingRect(),v=h.width/h.height;l?f||(f=l/v):l=v*f;for(var g=new ie(e,o,l,f),y=h.calculateTransform(g),x=this.geometries,b=0;b<x.length;b++){var T=x[b];T.type==="polygon"?(RB(T.exterior,y),X(T.interiors,function(C){RB(C,y)})):X(T.points,function(C){RB(C,y)})}h=this._rect,h.copy(g),this._center=[h.x+h.width/2,h.y+h.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var o=new t(e,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},t}(lnt);var unt=function(a){at(t,a);function t(e,o){var l=a.call(this,e)||this;return l.type="geoSVG",l._elOnlyForCalculate=o,l}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,o=e.getBoundingRect(),l=[o.x+o.width/2,o.y+o.height/2],f=gu(t5t),h=e;h&&!h.isGeoSVGGraphicRoot;)Ha(f,h.getLocalTransform(),f),h=h.parent;return Wn(f,f),qr(l,l,f),l},t}(lnt);function r5t(a){if(!a.UTF8Encoding)return a;var t=a,e=t.UTF8Scale;e==null&&(e=1024);var o=t.features;return X(o,function(l){var f=l.geometry,h=f.encodeOffsets,v=f.coordinates;if(h)switch(f.type){case"LineString":f.coordinates=fnt(v,h,e);break;case"Polygon":NB(v,h,e);break;case"MultiLineString":NB(v,h,e);break;case"MultiPolygon":X(v,function(g,y){return NB(g,h[y],e)})}}),t.UTF8Encoding=!1,t}function NB(a,t,e){for(var o=0;o<a.length;o++)a[o]=fnt(a[o],t[o],e)}function fnt(a,t,e){for(var o=[],l=t[0],f=t[1],h=0;h<a.length;h+=2){var v=a.charCodeAt(h)-64,g=a.charCodeAt(h+1)-64;v=v>>1^-(v&1),g=g>>1^-(g&1),v+=l,g+=f,l=v,f=g,o.push([v/e,g/e])}return o}function lm(a,t){return a=r5t(a),_t(Ee(a.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var o=e.properties,l=e.geometry,f=[];switch(l.type){case"Polygon":var h=l.coordinates;f.push(new OB(h[0],h.slice(1)));break;case"MultiPolygon":X(l.coordinates,function(g){g[0]&&f.push(new OB(g[0],g.slice(1)))});break;case"LineString":f.push(new kB([l.coordinates]));break;case"MultiLineString":f.push(new kB(l.coordinates))}var v=new wD(o[t||"name"],f,o.cp);return v.properties=o,v})}var zB={};sn(zB,{MAX_SAFE_INTEGER:()=>j_,asc:()=>hi,getPercentWithPrecision:()=>ett,getPixelPrecision:()=>wg,getPrecision:()=>oa,getPrecisionSafe:()=>iz,isNumeric:()=>Pp,isRadianAroundZero:()=>_u,linearMap:()=>$e,nice:()=>Ag,numericToNumber:()=>dn,parseDate:()=>Ei,quantile:()=>Cg,quantity:()=>LA,quantityExponent:()=>Tg,reformIntervals:()=>Q_,remRadian:()=>J_,round:()=>hr});var VB={};sn(VB,{format:()=>Pu,parse:()=>Ei});var BB={};sn(BB,{Arc:()=>Zp,BezierCurve:()=>Cu,BoundingRect:()=>ie,Circle:()=>la,CompoundPath:()=>oc,Ellipse:()=>Wp,Group:()=>Ut,Image:()=>yr,IncrementalDisplayable:()=>eC,Line:()=>Er,LinearGradient:()=>No,Polygon:()=>Br,Polyline:()=>Nr,RadialGradient:()=>Bg,Rect:()=>ge,Ring:()=>Au,Sector:()=>$r,Text:()=>_e,clipPointsByRect:()=>mx,clipRectByRect:()=>Xz,createIcon:()=>Ms,extendPath:()=>Zz,extendShape:()=>Yz,getShapeClass:()=>$p,getTransform:()=>qn,initProps:()=>je,makeImage:()=>dx,makePath:()=>sc,mergePath:()=>ji,registerShape:()=>Xn,resizePath:()=>aC,updateProps:()=>we});var FB={};sn(FB,{addCommas:()=>Cx,capitalFirst:()=>Trt,encodeHTML:()=>ci,formatTime:()=>wrt,formatTpl:()=>Xg,getTextRect:()=>pV,getTooltipMarker:()=>mC,normalizeCssArray:()=>Kn,toCamelCase:()=>Zg,truncateText:()=>hz});var UB={};sn(UB,{bind:()=>It,clone:()=>Ht,curry:()=>Qt,defaults:()=>zt,each:()=>X,extend:()=>mt,filter:()=>Ee,indexOf:()=>ae,inherits:()=>L_,isArray:()=>yt,isFunction:()=>Nt,isObject:()=>Ft,isString:()=>Dt,map:()=>_t,merge:()=>ne,reduce:()=>Ai});var oS=ue();function cnt(a,t){var e=_t(t,function(o){return a.scale.parse(o)});return a.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function hnt(a){var t=a.getLabelModel().get("customValues");if(t){var e=cv(a),o=a.scale.getExtent(),l=cnt(a,t),f=Ee(l,function(h){return h>=o[0]&&h<=o[1]});return{labels:_t(f,function(h){var v={value:h};return{formattedLabel:e(v),rawLabel:a.scale.getLabel(v),tickValue:h}})}}return a.type==="category"?i5t(a):n5t(a)}function pnt(a,t){var e=a.getTickModel().get("customValues");if(e){var o=a.scale.getExtent(),l=cnt(a,e);return{ticks:Ee(l,function(f){return f>=o[0]&&f<=o[1]})}}return a.type==="category"?a5t(a,t):{ticks:_t(a.scale.getTicks(),function(f){return f.value})}}function i5t(a){var t=a.getLabelModel(),e=vnt(a,t);return!t.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function vnt(a,t){var e=dnt(a,"labels"),o=SD(t),l=gnt(e,o);if(l)return l;var f,h;return Nt(o)?f=xnt(a,o):(h=o==="auto"?o5t(a):o,f=_nt(a,h)),mnt(e,o,{labels:f,labelCategoryInterval:h})}function a5t(a,t){var e=dnt(a,"ticks"),o=SD(t),l=gnt(e,o);if(l)return l;var f,h;if((!t.get("show")||a.scale.isBlank())&&(f=[]),Nt(o))f=xnt(a,o,!0);else if(o==="auto"){var v=vnt(a,a.getLabelModel());h=v.labelCategoryInterval,f=_t(v.labels,function(g){return g.tickValue})}else h=o,f=_nt(a,h,!0);return mnt(e,o,{ticks:f,tickCategoryInterval:h})}function n5t(a){var t=a.scale.getTicks(),e=cv(a);return{labels:_t(t,function(o,l){return{level:o.level,formattedLabel:e(o,l),rawLabel:a.scale.getLabel(o),tickValue:o.value}})}}function dnt(a,t){return oS(a)[t]||(oS(a)[t]=[])}function gnt(a,t){for(var e=0;e<a.length;e++)if(a[e].key===t)return a[e].value}function mnt(a,t,e){return a.push({key:t,value:e}),e}function o5t(a){var t=oS(a).autoInterval;return t??(oS(a).autoInterval=a.calculateCategoryInterval())}function ynt(a){var t=s5t(a),e=cv(a),o=(t.axisRotate-t.labelRotate)/180*Math.PI,l=a.scale,f=l.getExtent(),h=l.count();if(f[1]-f[0]<1)return 0;var v=1;h>40&&(v=Math.max(1,Math.floor(h/40)));for(var g=f[0],y=a.dataToCoord(g+1)-a.dataToCoord(g),x=Math.abs(y*Math.cos(o)),b=Math.abs(y*Math.sin(o)),T=0,C=0;g<=f[1];g+=v){var M=0,I=0,P=_l(e({value:g}),t.font,"center","top");M=P.width*1.3,I=P.height*1.3,T=Math.max(T,M,7),C=Math.max(C,I,7)}var O=T/x,N=C/b;isNaN(O)&&(O=1/0),isNaN(N)&&(N=1/0);var V=Math.max(0,Math.floor(Math.min(O,N))),F=oS(a.model),U=a.getExtent(),H=F.lastAutoInterval,Z=F.lastTickCount;return H!=null&&Z!=null&&Math.abs(H-V)<=1&&Math.abs(Z-h)<=1&&H>V&&F.axisExtent0===U[0]&&F.axisExtent1===U[1]?V=H:(F.lastTickCount=h,F.lastAutoInterval=V,F.axisExtent0=U[0],F.axisExtent1=U[1]),V}function s5t(a){var t=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function _nt(a,t,e){var o=cv(a),l=a.scale,f=l.getExtent(),h=a.getLabelModel(),v=[],g=Math.max((t||0)+1,1),y=f[0],x=l.count();y!==0&&g>1&&x/g>2&&(y=Math.round(Math.ceil(y/g)*g));var b=bD(a),T=h.get("showMinLabel")||b,C=h.get("showMaxLabel")||b;T&&y!==f[0]&&I(f[0]);for(var M=y;M<=f[1];M+=g)I(M);C&&M-g!==f[1]&&I(f[1]);function I(P){var O={value:P};v.push(e?P:{formattedLabel:o(O),rawLabel:l.getLabel(O),tickValue:P})}return v}function xnt(a,t,e){var o=a.scale,l=cv(a),f=[];return X(o.getTicks(),function(h){var v=o.getLabel(h),g=h.value;t(h.value,v)&&f.push(e?g:{formattedLabel:l(h),rawLabel:v,tickValue:g})}),f}var Snt=[0,1],l5t=function(){function a(t,e,o){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=o||[0,0]}return a.prototype.contain=function(t){var e=this._extent,o=Math.min(e[0],e[1]),l=Math.max(e[0],e[1]);return t>=o&&t<=l},a.prototype.containData=function(t){return this.scale.contain(t)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(t){return wg(t||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(t,e){var o=this._extent;o[0]=t,o[1]=e},a.prototype.dataToCoord=function(t,e){var o=this._extent,l=this.scale;return t=l.normalize(t),this.onBand&&l.type==="ordinal"&&(o=o.slice(),bnt(o,l.count())),$e(t,Snt,o,e)},a.prototype.coordToData=function(t,e){var o=this._extent,l=this.scale;this.onBand&&l.type==="ordinal"&&(o=o.slice(),bnt(o,l.count()));var f=$e(t,o,Snt,e);return this.scale.scale(f)},a.prototype.pointToData=function(t,e){},a.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),o=pnt(this,e),l=o.ticks,f=_t(l,function(v){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(v):v),tickValue:v}},this),h=e.get("alignWithLabel");return u5t(this,f,h,t.clamp),f},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var o=this.scale.getMinorTicks(e),l=_t(o,function(f){return _t(f,function(h){return{coord:this.dataToCoord(h),tickValue:h}},this)},this);return l},a.prototype.getViewLabels=function(){return hnt(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),o=e[1]-e[0]+(this.onBand?1:0);o===0&&(o=1);var l=Math.abs(t[1]-t[0]);return Math.abs(l)/o},a.prototype.calculateCategoryInterval=function(){return ynt(this)},a}();function bnt(a,t){var e=a[1]-a[0],o=t,l=e/o/2;a[0]+=l,a[1]-=l}function u5t(a,t,e,o){var l=t.length;if(!a.onBand||e||!l)return;var f=a.getExtent(),h,v;if(l===1)t[0].coord=f[0],h=t[1]={coord:f[1],tickValue:t[0].tickValue};else{var g=t[l-1].tickValue-t[0].tickValue,y=(t[l-1].coord-t[0].coord)/g;X(t,function(C){C.coord-=y/2});var x=a.scale.getExtent();v=1+x[1]-t[l-1].tickValue,h={coord:t[l-1].coord+y*v,tickValue:x[1]+1},t.push(h)}var b=f[0]>f[1];T(t[0].coord,f[0])&&(o?t[0].coord=f[0]:t.shift()),o&&T(f[0],t[0].coord)&&t.unshift({coord:f[0]}),T(f[1],h.coord)&&(o?h.coord=f[1]:t.pop()),o&&T(h.coord,f[1])&&t.push({coord:f[1]});function T(C,M){return C=hr(C),M=hr(M),b?C>M:C<M}}var Oi=l5t;function f5t(a){var t=xe.extend(a);return xe.registerClass(t),t}function c5t(a){var t=He.extend(a);return He.registerClass(t),t}function h5t(a){var t=Ue.extend(a);return Ue.registerClass(t),t}function p5t(a){var t=ke.extend(a);return ke.registerClass(t),t}var sS=Math.PI*2,hv=Hi.CMD,v5t=["top","right","bottom","left"];function d5t(a,t,e,o,l){var f=e.width,h=e.height;switch(a){case"top":o.set(e.x+f/2,e.y-t),l.set(0,-1);break;case"bottom":o.set(e.x+f/2,e.y+h+t),l.set(0,1);break;case"left":o.set(e.x-t,e.y+h/2),l.set(-1,0);break;case"right":o.set(e.x+f+t,e.y+h/2),l.set(1,0);break}}function g5t(a,t,e,o,l,f,h,v,g){h-=a,v-=t;var y=Math.sqrt(h*h+v*v);h/=y,v/=y;var x=h*e+a,b=v*e+t;if(Math.abs(o-l)%sS<1e-4)return g[0]=x,g[1]=b,y-e;if(f){var T=o;o=sa(l),l=sa(T)}else o=sa(o),l=sa(l);o>l&&(l+=sS);var C=Math.atan2(v,h);if(C<0&&(C+=sS),C>=o&&C<=l||C+sS>=o&&C+sS<=l)return g[0]=x,g[1]=b,y-e;var M=e*Math.cos(o)+a,I=e*Math.sin(o)+t,P=e*Math.cos(l)+a,O=e*Math.sin(l)+t,N=(M-h)*(M-h)+(I-v)*(I-v),V=(P-h)*(P-h)+(O-v)*(O-v);return N<V?(g[0]=M,g[1]=I,Math.sqrt(N)):(g[0]=P,g[1]=O,Math.sqrt(V))}function TD(a,t,e,o,l,f,h,v){var g=l-a,y=f-t,x=e-a,b=o-t,T=Math.sqrt(x*x+b*b);x/=T,b/=T;var C=g*x+y*b,M=C/T;v&&(M=Math.min(Math.max(M,0),1)),M*=T;var I=h[0]=a+M*x,P=h[1]=t+M*b;return Math.sqrt((I-l)*(I-l)+(P-f)*(P-f))}function wnt(a,t,e,o,l,f,h){e<0&&(a=a+e,e=-e),o<0&&(t=t+o,o=-o);var v=a+e,g=t+o,y=h[0]=Math.min(Math.max(l,a),v),x=h[1]=Math.min(Math.max(f,t),g);return Math.sqrt((y-l)*(y-l)+(x-f)*(x-f))}var Ns=[];function m5t(a,t,e){var o=wnt(t.x,t.y,t.width,t.height,a.x,a.y,Ns);return e.set(Ns[0],Ns[1]),o}function y5t(a,t,e){for(var o=0,l=0,f=0,h=0,v,g,y=1/0,x=t.data,b=a.x,T=a.y,C=0;C<x.length;){var M=x[C++];C===1&&(o=x[C],l=x[C+1],f=o,h=l);var I=y;switch(M){case hv.M:f=x[C++],h=x[C++],o=f,l=h;break;case hv.L:I=TD(o,l,x[C],x[C+1],b,T,Ns,!0),o=x[C++],l=x[C++];break;case hv.C:I=nA(o,l,x[C++],x[C++],x[C++],x[C++],x[C],x[C+1],b,T,Ns),o=x[C++],l=x[C++];break;case hv.Q:I=sA(o,l,x[C++],x[C++],x[C],x[C+1],b,T,Ns),o=x[C++],l=x[C++];break;case hv.A:var P=x[C++],O=x[C++],N=x[C++],V=x[C++],F=x[C++],U=x[C++];C+=1;var H=!!(1-x[C++]);v=Math.cos(F)*N+P,g=Math.sin(F)*V+O,C<=1&&(f=v,h=g);var Z=(b-P)*V/N+P;I=g5t(P,O,V,F,F+U,H,Z,T,Ns),o=Math.cos(F+U)*N+P,l=Math.sin(F+U)*V+O;break;case hv.R:f=o=x[C++],h=l=x[C++];var $=x[C++],K=x[C++];I=wnt(f,h,$,K,b,T,Ns);break;case hv.Z:I=TD(o,l,f,h,b,T,Ns,!0),o=f,l=h;break}I<y&&(y=I,e.set(Ns[0],Ns[1]))}return y}var zs=new Le,zr=new Le,vi=new Le,El=new Le,Il=new Le;function HB(a,t){if(a){var e=a.getTextGuideLine(),o=a.getTextContent();if(o&&e){var l=a.textGuideLineConfig||{},f=[[0,0],[0,0],[0,0]],h=l.candidates||v5t,v=o.getBoundingRect().clone();v.applyTransform(o.getComputedTransform());var g=1/0,y=l.anchor,x=a.getComputedTransform(),b=x&&Wn([],x),T=t.get("length2")||0;y&&vi.copy(y);for(var C=0;C<h.length;C++){var M=h[C];d5t(M,0,v,zs,El),Le.scaleAndAdd(zr,zs,El,T),zr.transform(b);var I=a.getBoundingRect(),P=y?y.distance(zr):a instanceof se?y5t(zr,a.path,vi):m5t(zr,I,vi);P<g&&(g=P,zr.transform(x),vi.transform(x),vi.toArray(f[0]),zr.toArray(f[1]),zs.toArray(f[2]))}WB(f,t.get("minTurnAngle")),e.setShape({points:f})}}}var AD=[],$a=new Le;function WB(a,t){if(t<=180&&t>0){t=t/180*Math.PI,zs.fromArray(a[0]),zr.fromArray(a[1]),vi.fromArray(a[2]),Le.sub(El,zs,zr),Le.sub(Il,vi,zr);var e=El.len(),o=Il.len();if(!(e<.001||o<.001)){El.scale(1/e),Il.scale(1/o);var l=El.dot(Il),f=Math.cos(t);if(f<l){var h=TD(zr.x,zr.y,vi.x,vi.y,zs.x,zs.y,AD,!1);$a.fromArray(AD),$a.scaleAndAdd(Il,h/Math.tan(Math.PI-t));var v=vi.x!==zr.x?($a.x-zr.x)/(vi.x-zr.x):($a.y-zr.y)/(vi.y-zr.y);if(isNaN(v))return;v<0?Le.copy($a,zr):v>1&&Le.copy($a,vi),$a.toArray(a[1])}}}}function Tnt(a,t,e){if(e<=180&&e>0){e=e/180*Math.PI,zs.fromArray(a[0]),zr.fromArray(a[1]),vi.fromArray(a[2]),Le.sub(El,zr,zs),Le.sub(Il,vi,zr);var o=El.len(),l=Il.len();if(!(o<.001||l<.001)){El.scale(1/o),Il.scale(1/l);var f=El.dot(t),h=Math.cos(e);if(f<h){var v=TD(zr.x,zr.y,vi.x,vi.y,zs.x,zs.y,AD,!1);$a.fromArray(AD);var g=Math.PI/2,y=Math.acos(Il.dot(t)),x=g+y-e;if(x>=g)Le.copy($a,vi);else{$a.scaleAndAdd(Il,v/Math.tan(Math.PI/2-x));var b=vi.x!==zr.x?($a.x-zr.x)/(vi.x-zr.x):($a.y-zr.y)/(vi.y-zr.y);if(isNaN(b))return;b<0?Le.copy($a,zr):b>1&&Le.copy($a,vi)}$a.toArray(a[1])}}}}function GB(a,t,e,o){var l=e==="normal",f=l?a:a.ensureState(e);f.ignore=t;var h=o.get("smooth");h&&h===!0&&(h=.3),f.shape=f.shape||{},h>0&&(f.shape.smooth=h);var v=o.getModel("lineStyle").getLineStyle();l?a.useStyle(v):f.style=v}function _5t(a,t){var e=t.smooth,o=t.points;if(o)if(a.moveTo(o[0][0],o[0][1]),e>0&&o.length>=3){var l=Hn(o[0],o[1]),f=Hn(o[1],o[2]);if(!l||!f){a.lineTo(o[1][0],o[1][1]),a.lineTo(o[2][0],o[2][1]);return}var h=Math.min(l,f)*e,v=pp([],o[1],o[0],h/l),g=pp([],o[1],o[2],h/f),y=pp([],v,g,.5);a.bezierCurveTo(v[0],v[1],v[0],v[1],y[0],y[1]),a.bezierCurveTo(g[0],g[1],g[0],g[1],o[2][0],o[2][1])}else for(var x=1;x<o.length;x++)a.lineTo(o[x][0],o[x][1])}function um(a,t,e){var o=a.getTextGuideLine(),l=a.getTextContent();if(!l){o&&a.removeTextGuideLine();return}for(var f=t.normal,h=f.get("show"),v=l.ignore,g=0;g<ic.length;g++){var y=ic[g],x=t[y],b=y==="normal";if(x){var T=x.get("show"),C=b?v:oe(l.states[y]&&l.states[y].ignore,v);if(C||!oe(T,h)){var M=b?o:o&&o.states[y];M&&(M.ignore=!0),o&&GB(o,!0,y,x);continue}o||(o=new Nr,a.setTextGuideLine(o),!b&&(v||!h)&&GB(o,!0,"normal",t.normal),a.stateProxy&&(o.stateProxy=a.stateProxy)),GB(o,!1,y,x)}}if(o){zt(o.style,e),o.style.fill=null;var I=f.get("showAbove"),P=a.textGuideLineConfig=a.textGuideLineConfig||{};P.showAbove=I||!1,o.buildPath=_5t}}function fm(a,t){t=t||"labelLine";for(var e={normal:a.getModel(t)},o=0;o<Pi.length;o++){var l=Pi[o];e[l]=a.getModel([l,t])}return e}function CD(a){for(var t=[],e=0;e<a.length;e++){var o=a[e];if(!o.defaultAttr.ignore){var l=o.label,f=l.getComputedTransform(),h=l.getBoundingRect(),v=!f||f[1]<1e-5&&f[2]<1e-5,g=l.style.margin||0,y=h.clone();y.applyTransform(f),y.x-=g/2,y.y-=g/2,y.width+=g,y.height+=g;var x=v?new Fg(h,f):null;t.push({label:l,labelLine:o.labelLine,rect:y,localRect:h,obb:x,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:v,transform:f})}}return t}function Ant(a,t,e,o,l,f){var h=a.length;if(h<2)return;a.sort(function(K,Q){return K.rect[t]-Q.rect[t]});for(var v=0,g,y=!1,x=[],b=0,T=0;T<h;T++){var C=a[T],M=C.rect;g=M[t]-v,g<0&&(M[t]-=g,C.label[t]-=g,y=!0);var I=Math.max(-g,0);x.push(I),b+=I,v=M[t]+M[e]}b>0&&f&&H(-b/h,0,h);var P=a[0],O=a[h-1],N,V;F(),N<0&&Z(-N,.8),V<0&&Z(V,.8),F(),U(N,V,1),U(V,N,-1),F(),N<0&&$(-N),V<0&&$(V);function F(){N=P.rect[t]-o,V=l-O.rect[t]-O.rect[e]}function U(K,Q,rt){if(K<0){var nt=Math.min(Q,-K);if(nt>0){H(nt*rt,0,h);var ot=nt+K;ot<0&&Z(-ot*rt,1)}else Z(-K*rt,1)}}function H(K,Q,rt){K!==0&&(y=!0);for(var nt=Q;nt<rt;nt++){var ot=a[nt],ft=ot.rect;ft[t]+=K,ot.label[t]+=K}}function Z(K,Q){for(var rt=[],nt=0,ot=1;ot<h;ot++){var ft=a[ot-1].rect,lt=Math.max(a[ot].rect[t]-ft[t]-ft[e],0);rt.push(lt),nt+=lt}if(nt){var pt=Math.min(Math.abs(K)/nt,Q);if(K>0)for(var ot=0;ot<h-1;ot++){var xt=rt[ot]*pt;H(xt,0,ot+1)}else for(var ot=h-1;ot>0;ot--){var xt=rt[ot-1]*pt;H(-xt,ot,h)}}}function $(K){var Q=K<0?-1:1;K=Math.abs(K);for(var rt=Math.ceil(K/(h-1)),nt=0;nt<h-1;nt++)if(Q>0?H(rt,0,nt+1):H(-rt,h-nt-1,h),K-=rt,K<=0)return}return y}function Cnt(a,t,e,o){return Ant(a,"x","width",t,e,o)}function DD(a,t,e,o){return Ant(a,"y","height",t,e,o)}function MD(a){var t=[];a.sort(function(I,P){return P.priority-I.priority});var e=new ie(0,0,0,0);function o(I){if(!I.ignore){var P=I.ensureState("emphasis");P.ignore==null&&(P.ignore=!1)}I.ignore=!0}for(var l=0;l<a.length;l++){var f=a[l],h=f.axisAligned,v=f.localRect,g=f.transform,y=f.label,x=f.labelLine;e.copy(f.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var b=f.obb,T=!1,C=0;C<t.length;C++){var M=t[C];if(e.intersect(M.rect)){if(h&&M.axisAligned){T=!0;break}if(M.obb||(M.obb=new Fg(M.localRect,M.transform)),b||(b=new Fg(v,g)),b.intersect(M.obb)){T=!0;break}}}T?(o(y),x&&o(x)):(y.attr("ignore",f.defaultAttr.ignore),x&&x.attr("ignore",f.defaultAttr.labelGuideIgnore),t.push(f))}}function x5t(a){if(a){for(var t=[],e=0;e<a.length;e++)t.push(a[e].slice());return t}}function S5t(a,t){var e=a.label,o=t&&t.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:x5t(o&&o.shape.points)}}var Dnt=["align","verticalAlign","width","height","fontSize"],Ka=new pn,YB=ue(),b5t=ue();function LD(a,t,e){for(var o=0;o<e.length;o++){var l=e[o];t[l]!=null&&(a[l]=t[l])}}var ID=["x","y","rotation"],w5t=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(t,e,o,l,f){var h=l.style,v=l.__hostTarget,g=v.textConfig||{},y=l.getComputedTransform(),x=l.getBoundingRect().plain();ie.applyTransform(x,x,y),y?Ka.setLocalTransform(y):(Ka.x=Ka.y=Ka.rotation=Ka.originX=Ka.originY=0,Ka.scaleX=Ka.scaleY=1),Ka.rotation=sa(Ka.rotation);var b=l.__hostTarget,T;if(b){T=b.getBoundingRect().plain();var C=b.getComputedTransform();ie.applyTransform(T,T,C)}var M=T&&b.getTextGuideLine();this._labelList.push({label:l,labelLine:M,seriesModel:o,dataIndex:t,dataType:e,layoutOption:f,computedLayoutOption:null,rect:x,hostRect:T,priority:T?T.width*T.height:0,defaultAttr:{ignore:l.ignore,labelGuideIgnore:M&&M.ignore,x:Ka.x,y:Ka.y,scaleX:Ka.scaleX,scaleY:Ka.scaleY,rotation:Ka.rotation,style:{x:h.x,y:h.y,align:h.align,verticalAlign:h.verticalAlign,width:h.width,height:h.height,fontSize:h.fontSize},cursor:l.cursor,attachedPos:g.position,attachedRot:g.rotation}})},a.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var o=t.__model,l=o.get("labelLayout");(Nt(l)||he(l).length)&&t.group.traverse(function(f){if(f.ignore)return!0;var h=f.getTextContent(),v=Kt(f);h&&!h.disableLabelLayout&&e._addLabel(v.dataIndex,v.dataType,o,h,l)})},a.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),o=t.getHeight();function l(V,F){return function(){HB(V,F)}}for(var f=0;f<this._labelList.length;f++){var h=this._labelList[f],v=h.label,g=v.__hostTarget,y=h.defaultAttr,x=void 0;Nt(h.layoutOption)?x=h.layoutOption(S5t(h,g)):x=h.layoutOption,x=x||{},h.computedLayoutOption=x;var b=Math.PI/180;g&&g.setTextConfig({local:!1,position:x.x!=null||x.y!=null?null:y.attachedPos,rotation:x.rotate!=null?x.rotate*b:y.attachedRot,offset:[x.dx||0,x.dy||0]});var T=!1;if(x.x!=null?(v.x=Pt(x.x,e),v.setStyle("x",0),T=!0):(v.x=y.x,v.setStyle("x",y.style.x)),x.y!=null?(v.y=Pt(x.y,o),v.setStyle("y",0),T=!0):(v.y=y.y,v.setStyle("y",y.style.y)),x.labelLinePoints){var C=g.getTextGuideLine();C&&(C.setShape({points:x.labelLinePoints}),T=!1)}var M=YB(v);M.needsUpdateLabelLine=T,v.rotation=x.rotate!=null?x.rotate*b:y.rotation,v.scaleX=y.scaleX,v.scaleY=y.scaleY;for(var I=0;I<Dnt.length;I++){var P=Dnt[I];v.setStyle(P,x[P]!=null?x[P]:y.style[P])}if(x.draggable){if(v.draggable=!0,v.cursor="move",g){var O=h.seriesModel;if(h.dataIndex!=null){var N=h.seriesModel.getData(h.dataType);O=N.getItemModel(h.dataIndex)}v.on("drag",l(g,O.getModel("labelLine")))}}else v.off("drag"),v.cursor=y.cursor}},a.prototype.layout=function(t){var e=t.getWidth(),o=t.getHeight(),l=CD(this._labelList),f=Ee(l,function(g){return g.layoutOption.moveOverlap==="shiftX"}),h=Ee(l,function(g){return g.layoutOption.moveOverlap==="shiftY"});Cnt(f,0,e),DD(h,0,o);var v=Ee(l,function(g){return g.layoutOption.hideOverlap});MD(v)},a.prototype.processLabelsOverall=function(){var t=this;X(this._chartViewList,function(e){var o=e.__model,l=e.ignoreLabelLineUpdate,f=o.isAnimationEnabled();e.group.traverse(function(h){if(h.ignore&&!h.forceLabelAnimation)return!0;var v=!l,g=h.getTextContent();!v&&g&&(v=YB(g).needsUpdateLabelLine),v&&t._updateLabelLine(h,o),f&&t._animateLabels(h,o)})})},a.prototype._updateLabelLine=function(t,e){var o=t.getTextContent(),l=Kt(t),f=l.dataIndex;if(o&&f!=null){var h=e.getData(l.dataType),v=h.getItemModel(f),g={},y=h.getItemVisual(f,"style");if(y){var x=h.getVisual("drawType");g.stroke=y[x]}var b=v.getModel("labelLine");um(t,fm(v),g),HB(t,b)}},a.prototype._animateLabels=function(t,e){var o=t.getTextContent(),l=t.getTextGuideLine();if(o&&(t.forceLabelAnimation||!o.ignore&&!o.invisible&&!t.disableLabelAnimation&&!Du(t))){var f=YB(o),h=f.oldLayout,v=Kt(t),g=v.dataIndex,y={x:o.x,y:o.y,rotation:o.rotation},x=e.getData(v.dataType);if(h){o.attr(h);var T=t.prevStates;T&&(ae(T,"select")>=0&&o.attr(f.oldLayoutSelect),ae(T,"emphasis")>=0&&o.attr(f.oldLayoutEmphasis)),we(o,y,e,g)}else if(o.attr(y),!Eu(o).valueAnimation){var b=oe(o.style.opacity,1);o.style.opacity=0,je(o,{style:{opacity:b}},e,g)}if(f.oldLayout=y,o.states.select){var C=f.oldLayoutSelect={};LD(C,y,ID),LD(C,o.states.select,ID)}if(o.states.emphasis){var M=f.oldLayoutEmphasis={};LD(M,y,ID),LD(M,o.states.emphasis,ID)}sC(o,g,x,e,e)}if(l&&!l.ignore&&!l.invisible){var f=b5t(l),h=f.oldLayout,I={points:l.shape.points};h?(l.attr({shape:h}),we(l,{shape:I},e)):(l.setShape(I),l.style.strokePercent=0,je(l,{style:{strokePercent:1}},e)),f.oldLayout=I}},a}(),Mnt=w5t;var ZB=ue();function XB(a){a.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){var l=ZB(e).labelManager;l||(l=ZB(e).labelManager=new Mnt),l.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(t,e,o){var l=ZB(e).labelManager;o.updatedSeries.forEach(function(f){l.addLabelsOfSeries(e.getViewOfSeriesModel(f))}),l.updateLayoutConfig(e),l.layout(e),l.processLabelsOverall()})}var qB=Math.sin,$B=Math.cos,Lnt=Math.PI,pv=Math.PI*2,T5t=180/Lnt,A5t=function(){function a(){}return a.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},a.prototype.moveTo=function(t,e){this._add("M",t,e)},a.prototype.lineTo=function(t,e){this._add("L",t,e)},a.prototype.bezierCurveTo=function(t,e,o,l,f,h){this._add("C",t,e,o,l,f,h)},a.prototype.quadraticCurveTo=function(t,e,o,l){this._add("Q",t,e,o,l)},a.prototype.arc=function(t,e,o,l,f,h){this.ellipse(t,e,o,o,0,l,f,h)},a.prototype.ellipse=function(t,e,o,l,f,h,v,g){var y=v-h,x=!g,b=Math.abs(y),T=yl(b-pv)||(x?y>=pv:-y>=pv),C=y>0?y%pv:y%pv+pv,M=!1;T?M=!0:yl(b)?M=!1:M=C>=Lnt==!!x;var I=t+o*$B(h),P=e+l*qB(h);this._start&&this._add("M",I,P);var O=Math.round(f*T5t);if(T){var N=1/this._p,V=(x?1:-1)*(pv-N);this._add("A",o,l,O,1,+x,t+o*$B(h+V),e+l*qB(h+V)),N>.01&&this._add("A",o,l,O,0,+x,I,P)}else{var F=t+o*$B(v),U=e+l*qB(v);this._add("A",o,l,O,+M,+x,F,U)}},a.prototype.rect=function(t,e,o,l){this._add("M",t,e),this._add("l",o,0),this._add("l",0,l),this._add("l",-o,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(t,e,o,l,f,h,v,g,y){for(var x=[],b=this._p,T=1;T<arguments.length;T++){var C=arguments[T];if(isNaN(C)){this._invalid=!0;return}x.push(Math.round(C*b)/b)}this._d.push(t+x.join(" ")),this._start=t==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),ED=A5t;var lS="none",C5t=Math.round;function D5t(a){var t=a.fill;return t!=null&&t!==lS}function M5t(a){var t=a.stroke;return t!=null&&t!==lS}var KB=["lineCap","miterLimit","lineJoin"],L5t=_t(KB,function(a){return"stroke-"+a.toLowerCase()});function jB(a,t,e,o){var l=t.opacity==null?1:t.opacity;if(e instanceof yr){a("opacity",l);return}if(D5t(t)){var f=$f(t.fill);a("fill",f.color);var h=t.fillOpacity!=null?t.fillOpacity*f.opacity*l:f.opacity*l;(o||h<1)&&a("fill-opacity",h)}else a("fill",lS);if(M5t(t)){var v=$f(t.stroke);a("stroke",v.color);var g=t.strokeNoScale?e.getLineScale():1,y=g?(t.lineWidth||0)/g:0,x=t.strokeOpacity!=null?t.strokeOpacity*v.opacity*l:v.opacity*l,b=t.strokeFirst;if((o||y!==1)&&a("stroke-width",y),(o||b)&&a("paint-order",b?"stroke":"fill"),(o||x<1)&&a("stroke-opacity",x),t.lineDash){var T=Gx(e),C=T[0],M=T[1];C&&(M=C5t(M||0),a("stroke-dasharray",C.join(",")),(M||o)&&a("stroke-dashoffset",M))}else o&&a("stroke-dasharray",lS);for(var I=0;I<KB.length;I++){var P=KB[I];if(o||t[P]!==Eg[P]){var O=t[P]||Eg[P];O&&a(L5t[I],O)}}}else o&&a("stroke",lS)}var Int="http://www.w3.org/2000/svg",JB="http://www.w3.org/1999/xlink",Ent="http://www.w3.org/2000/xmlns/",Pnt="http://www.w3.org/XML/1998/namespace",QB="ecmeta_";function PD(a){return document.createElementNS(Int,a)}function di(a,t,e,o,l){return{tag:a,attrs:e||{},children:o,text:l,key:t}}function I5t(a,t){var e=[];if(t)for(var o in t){var l=t[o],f=o;l!==!1&&(l!==!0&&l!=null&&(f+='="'+l+'"'),e.push(f))}return"<"+a+" "+e.join(" ")+">"}function E5t(a){return"</"+a+">"}function uS(a,t){t=t||{};var e=t.newline?`
`:"";function o(l){var f=l.children,h=l.tag,v=l.attrs,g=l.text;return I5t(h,v)+(h!=="style"?ci(g):g||"")+(f?""+e+_t(f,function(y){return o(y)}).join(e)+e:"")+E5t(h)}return o(a)}function Rnt(a,t,e){e=e||{};var o=e.newline?`
`:"",l=" {"+o,f=o+"}",h=_t(he(a),function(g){return g+l+_t(he(a[g]),function(y){return y+":"+a[g][y]+";"}).join(o)+f}).join(o),v=_t(he(t),function(g){return"@keyframes "+g+l+_t(he(t[g]),function(y){return y+l+_t(he(t[g][y]),function(x){var b=t[g][y][x];return x==="d"&&(b='path("'+b+'")'),x+":"+b+";"}).join(o)+f}).join(o)+f}).join(o);return!h&&!v?"":["<![CDATA[",h,v,"]]>"].join(o)}function fS(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function tF(a,t,e,o){return di("svg","root",{width:a,height:t,xmlns:Int,"xmlns:xlink":JB,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+a+" "+t:!1},e)}var P5t=0;function RD(){return P5t++}var Ont={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},vv="transform-origin";function R5t(a,t,e){var o=mt({},a.shape);mt(o,t),a.buildPath(e,o);var l=new ED;return l.reset(gA(a)),e.rebuildPath(l,1),l.generateStr(),l.getStr()}function O5t(a,t){var e=t.originX,o=t.originY;(e||o)&&(a[vv]=e+"px "+o+"px")}var k5t={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Nnt(a,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=a,e}function N5t(a,t,e){var o=a.shape.paths,l={},f,h;if(X(o,function(g){var y=fS(e.zrId);y.animation=!0,cS(g,{},y,!0);var x=y.cssAnims,b=y.cssNodes,T=he(x),C=T.length;if(C){h=T[C-1];var M=x[h];for(var I in M){var P=M[I];l[I]=l[I]||{d:""},l[I].d+=P.d||""}for(var O in b){var N=b[O].animation;N.indexOf(h)>=0&&(f=N)}}}),!!f){t.d=!1;var v=Nnt(l,e);return f.replace(h,v)}}function knt(a){return Dt(a)?Ont[a]?"cubic-bezier("+Ont[a]+")":vg(a)?a:"":""}function cS(a,t,e,o){var l=a.animators,f=l.length,h=[];if(a instanceof oc){var v=N5t(a,t,e);if(v)h.push(v);else if(!f)return}else if(!f)return;for(var g={},y=0;y<f;y++){var x=l[y],b=[x.getMaxTime()/1e3+"s"],T=knt(x.getClip().easing),C=x.getDelay();T?b.push(T):b.push("linear"),C&&b.push(C/1e3+"s"),x.getLoop()&&b.push("infinite");var M=b.join(" ");g[M]=g[M]||[M,[]],g[M][1].push(x)}function I(N){var V=N[1],F=V.length,U={},H={},Z={},$="animation-timing-function";function K(jt,ve,Xt){for(var fe=jt.getTracks(),Mt=jt.getMaxTime(),ee=0;ee<fe.length;ee++){var wt=fe[ee];if(wt.needsAnimate()){var Gt=wt.keyframes,kt=wt.propName;if(Xt&&(kt=Xt(kt)),kt)for(var Hr=0;Hr<Gt.length;Hr++){var Ne=Gt[Hr],re=Math.round(Ne.time/Mt*100)+"%",os=knt(Ne.easing),Wr=Ne.rawValue;(Dt(Wr)||ye(Wr))&&(ve[re]=ve[re]||{},ve[re][kt]=Ne.rawValue,os&&(ve[re][$]=os))}}}}for(var Q=0;Q<F;Q++){var rt=V[Q],nt=rt.targetName;nt?nt==="shape"&&K(rt,H):!o&&K(rt,U)}for(var ot in U){var ft={};XN(ft,a),mt(ft,U[ot]);var lt=mA(ft),pt=U[ot][$];Z[ot]=lt?{transform:lt}:{},O5t(Z[ot],ft),pt&&(Z[ot][$]=pt)}var xt,st=!0;for(var ot in H){Z[ot]=Z[ot]||{};var dt=!xt,pt=H[ot][$];dt&&(xt=new Hi);var Et=xt.len();xt.reset(),Z[ot].d=R5t(a,H[ot],xt);var At=xt.len();if(!dt&&Et!==At){st=!1;break}pt&&(Z[ot][$]=pt)}if(!st)for(var ot in Z)delete Z[ot].d;if(!o)for(var Q=0;Q<F;Q++){var rt=V[Q],nt=rt.targetName;nt==="style"&&K(rt,Z,function(fe){return k5t[fe]})}for(var Zt=he(Z),qt=!0,te,Q=1;Q<Zt.length;Q++){var j=Zt[Q-1],Tt=Zt[Q];if(Z[j][vv]!==Z[Tt][vv]){qt=!1;break}te=Z[j][vv]}if(qt&&te){for(var ot in Z)Z[ot][vv]&&delete Z[ot][vv];t[vv]=te}if(Ee(Zt,function(jt){return he(Z[jt]).length>0}).length){var lr=Nnt(Z,e);return lr+" "+N[0]+" both"}}for(var P in g){var v=I(g[P]);v&&h.push(v)}if(h.length){var O=e.zrId+"-cls-"+RD();e.cssNodes["."+O]={animation:h.join(",")},t.class=O}}function Vnt(a,t,e){if(!a.ignore)if(a.isSilent()){var o={"pointer-events":"none"};znt(o,t,e,!0)}else{var l=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},f=l.fill;if(!f){var h=a.style&&a.style.fill,v=a.states.select&&a.states.select.style&&a.states.select.style.fill,g=a.currentStates.indexOf("select")>=0&&v||h;g&&(f=mg(g))}var y=l.lineWidth;if(y){var x=!l.strokeNoScale&&a.transform?a.transform[0]:1;y=y/x}var o={cursor:"pointer"};f&&(o.fill=f),l.stroke&&(o.stroke=l.stroke),y&&(o["stroke-width"]=y),znt(o,t,e,!0)}}function znt(a,t,e,o){var l=JSON.stringify(a),f=e.cssStyleCache[l];f||(f=e.zrId+"-cls-"+RD(),e.cssStyleCache[l]=f,e.cssNodes["."+f+(o?":hover":"")]=a),t.class=t.class?t.class+" "+f:f}var hS=Math.round;function Gnt(a){return a&&Dt(a.src)}function Hnt(a){return a&&Nt(a.toDataURL)}function eF(a,t,e,o){jB(function(l,f){var h=l==="fill"||l==="stroke";h&&dA(f)?nF(t,a,l,o):h&&H_(f)?oF(e,a,l,o):a[l]=f,h&&o.ssr&&f==="none"&&(a["pointer-events"]="visible")},t,e,!1),H5t(e,a,o)}function rF(a,t){var e=ez(t);e&&(e.each(function(o,l){o!=null&&(a[(QB+l).toLowerCase()]=o+"")}),t.isSilent()&&(a[QB+"silent"]="true"))}function Bnt(a){return yl(a[0]-1)&&yl(a[1])&&yl(a[2])&&yl(a[3]-1)}function z5t(a){return yl(a[4])&&yl(a[5])}function iF(a,t,e){if(t&&!(z5t(t)&&Bnt(t))){var o=e?10:1e4;a.transform=Bnt(t)?"translate("+hS(t[4]*o)/o+" "+hS(t[5]*o)/o+")":LQ(t)}}function Fnt(a,t,e){for(var o=a.points,l=[],f=0;f<o.length;f++)l.push(hS(o[f][0]*e)/e),l.push(hS(o[f][1]*e)/e);t.points=l.join(" ")}function Unt(a){return!a.smooth}function V5t(a){var t=_t(a,function(e){return typeof e=="string"?[e,e]:e});return function(e,o,l){for(var f=0;f<t.length;f++){var h=t[f],v=e[h[0]];v!=null&&(o[h[1]]=hS(v*l)/l)}}}var B5t={circle:[V5t(["cx","cy","r"])],polyline:[Fnt,Unt],polygon:[Fnt,Unt]};function F5t(a){for(var t=a.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function Wnt(a,t){var e=a.style,o=a.shape,l=B5t[a.type],f={},h=t.animation,v="path",g=a.style.strokePercent,y=t.compress&&gA(a)||4;if(l&&!t.willUpdate&&!(l[1]&&!l[1](o))&&!(h&&F5t(a))&&!(g<1)){v=a.type;var x=Math.pow(10,y);l[0](o,f,x)}else{var b=!a.path||a.shapeChanged();a.path||a.createPathProxy();var T=a.path;b&&(T.beginPath(),a.buildPath(T,a.shape),a.pathUpdated());var C=T.getVersion(),M=a,I=M.__svgPathBuilder;(M.__svgPathVersion!==C||!I||g!==M.__svgPathStrokePercent)&&(I||(I=M.__svgPathBuilder=new ED),I.reset(y),T.rebuildPath(I,g),I.generateStr(),M.__svgPathVersion=C,M.__svgPathStrokePercent=g),f.d=I.getStr()}return iF(f,a.transform),eF(f,e,a,t),rF(f,a),t.animation&&cS(a,f,t),t.emphasis&&Vnt(a,f,t),di(v,a.id+"",f)}function U5t(a,t){var e=a.style,o=e.image;if(o&&!Dt(o)&&(Gnt(o)?o=o.src:Hnt(o)&&(o=o.toDataURL())),!!o){var l=e.x||0,f=e.y||0,h=e.width,v=e.height,g={href:o,width:h,height:v};return l&&(g.x=l),f&&(g.y=f),iF(g,a.transform),eF(g,e,a,t),rF(g,a),t.animation&&cS(a,g,t),di("image",a.id+"",g)}}function G5t(a,t){var e=a.style,o=e.text;if(o!=null&&(o+=""),!(!o||isNaN(e.x)||isNaN(e.y))){var l=e.font||Un,f=e.x||0,h=EQ(e.y||0,Sg(l),e.textBaseline),v=IQ[e.textAlign]||e.textAlign,g={"dominant-baseline":"central","text-anchor":v};if(Dz(e)){var y="",x=e.fontStyle,b=Cz(e.fontSize);if(!parseFloat(b))return;var T=e.fontFamily||lN,C=e.fontWeight;y+="font-size:"+b+";font-family:"+T+";",x&&x!=="normal"&&(y+="font-style:"+x+";"),C&&C!=="normal"&&(y+="font-weight:"+C+";"),g.style=y}else g.style="font: "+l;return o.match(/\s/)&&(g["xml:space"]="preserve"),f&&(g.x=f),h&&(g.y=h),iF(g,a.transform),eF(g,e,a,t),rF(g,a),t.animation&&cS(a,g,t),di("text",a.id+"",g,void 0,o)}}function aF(a,t){if(a instanceof se)return Wnt(a,t);if(a instanceof yr)return U5t(a,t);if(a instanceof Su)return G5t(a,t)}function H5t(a,t,e){var o=a.style;if(PQ(o)){var l=RQ(a),f=e.shadowCache,h=f[l];if(!h){var v=a.getGlobalScale(),g=v[0],y=v[1];if(!g||!y)return;var x=o.shadowOffsetX||0,b=o.shadowOffsetY||0,T=o.shadowBlur,C=$f(o.shadowColor),M=C.opacity,I=C.color,P=T/2/g,O=T/2/y,N=P+" "+O;h=e.zrId+"-s"+e.shadowIdx++,e.defs[h]=di("filter",h,{id:h,x:"-100%",y:"-100%",width:"300%",height:"300%"},[di("feDropShadow","",{dx:x/g,dy:b/y,stdDeviation:N,"flood-color":I,"flood-opacity":M})]),f[l]=h}t.filter=W_(h)}}function nF(a,t,e,o){var l=a[e],f,h={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if(pA(l))f="linearGradient",h.x1=l.x,h.y1=l.y,h.x2=l.x2,h.y2=l.y2;else if(vA(l))f="radialGradient",h.cx=oe(l.x,.5),h.cy=oe(l.y,.5),h.r=oe(l.r,.5);else return;for(var v=l.colorStops,g=[],y=0,x=v.length;y<x;++y){var b=hA(v[y].offset)*100+"%",T=v[y].color,C=$f(T),M=C.color,I=C.opacity,P={offset:b};P["stop-color"]=M,I<1&&(P["stop-opacity"]=I),g.push(di("stop",y+"",P))}var O=di(f,"",h,g),N=uS(O),V=o.gradientCache,F=V[N];F||(F=o.zrId+"-g"+o.gradientIdx++,V[N]=F,h.id=F,o.defs[F]=di(f,F,h,g)),t[e]=W_(F)}function oF(a,t,e,o){var l=a.style[e],f=a.getBoundingRect(),h={},v=l.repeat,g=v==="no-repeat",y=v==="repeat-x",x=v==="repeat-y",b;if(ON(l)){var T=l.imageWidth,C=l.imageHeight,M=void 0,I=l.image;if(Dt(I)?M=I:Gnt(I)?M=I.src:Hnt(I)&&(M=I.toDataURL()),typeof Image>"u"){var P="Image width/height must been given explictly in svg-ssr renderer.";Tr(T,P),Tr(C,P)}else if(T==null||C==null){var O=function(Q,rt){if(Q){var nt=Q.elm,ot=T||rt.width,ft=C||rt.height;Q.tag==="pattern"&&(y?(ft=1,ot/=f.width):x&&(ot=1,ft/=f.height)),Q.attrs.width=ot,Q.attrs.height=ft,nt&&(nt.setAttribute("width",ot),nt.setAttribute("height",ft))}},N=ix(M,null,a,function(Q){g||O(H,Q),O(b,Q)});N&&N.width&&N.height&&(T=T||N.width,C=C||N.height)}b=di("image","img",{href:M,width:T,height:C}),h.width=T,h.height=C}else l.svgElement&&(b=Ht(l.svgElement),h.width=l.svgWidth,h.height=l.svgHeight);if(b){var V,F;g?V=F=1:y?(F=1,V=h.width/f.width):x?(V=1,F=h.height/f.height):h.patternUnits="userSpaceOnUse",V!=null&&!isNaN(V)&&(h.width=V),F!=null&&!isNaN(F)&&(h.height=F);var U=mA(l);U&&(h.patternTransform=U);var H=di("pattern","",h,[b]),Z=uS(H),$=o.patternCache,K=$[Z];K||(K=o.zrId+"-p"+o.patternIdx++,$[Z]=K,h.id=K,H=o.defs[K]=di("pattern",K,h,[b])),t[e]=W_(K)}}function Ynt(a,t,e){var o=e.clipPathCache,l=e.defs,f=o[a.id];if(!f){f=e.zrId+"-c"+e.clipPathIdx++;var h={id:f};o[a.id]=f,l[f]=di("clipPath",f,h,[Wnt(a,e)])}t["clip-path"]=W_(f)}function sF(a){return document.createTextNode(a)}function _c(a,t,e){a.insertBefore(t,e)}function lF(a,t){a.removeChild(t)}function uF(a,t){a.appendChild(t)}function fF(a){return a.parentNode}function cF(a){return a.nextSibling}function OD(a,t){a.textContent=t}var Znt=58,Y5t=120,Z5t=di("","");function hF(a){return a===void 0}function Pl(a){return a!==void 0}function X5t(a,t,e){for(var o={},l=t;l<=e;++l){var f=a[l].key;f!==void 0&&(o[f]=l)}return o}function pS(a,t){var e=a.key===t.key,o=a.tag===t.tag;return o&&e}function vS(a){var t,e=a.children,o=a.tag;if(Pl(o)){var l=a.elm=PD(o);if(ND(Z5t,a),yt(e))for(t=0;t<e.length;++t){var f=e[t];f!=null&&uF(l,vS(f))}else Pl(a.text)&&!Ft(a.text)&&uF(l,sF(a.text))}else a.elm=sF(a.text);return a.elm}function Xnt(a,t,e,o,l){for(;o<=l;++o){var f=e[o];f!=null&&_c(a,vS(f),t)}}function kD(a,t,e,o){for(;e<=o;++e){var l=t[e];if(l!=null)if(Pl(l.tag)){var f=fF(l.elm);lF(f,l.elm)}else lF(a,l.elm)}}function ND(a,t){var e,o=t.elm,l=a&&a.attrs||{},f=t.attrs||{};if(l!==f){for(e in f){var h=f[e],v=l[e];v!==h&&(h===!0?o.setAttribute(e,""):h===!1?o.removeAttribute(e):e==="style"?o.style.cssText=h:e.charCodeAt(0)!==Y5t?o.setAttribute(e,h):e==="xmlns:xlink"||e==="xmlns"?o.setAttributeNS(Ent,e,h):e.charCodeAt(3)===Znt?o.setAttributeNS(Pnt,e,h):e.charCodeAt(5)===Znt?o.setAttributeNS(JB,e,h):o.setAttribute(e,h))}for(e in l)e in f||o.removeAttribute(e)}}function q5t(a,t,e){for(var o=0,l=0,f=t.length-1,h=t[0],v=t[f],g=e.length-1,y=e[0],x=e[g],b,T,C,M;o<=f&&l<=g;)h==null?h=t[++o]:v==null?v=t[--f]:y==null?y=e[++l]:x==null?x=e[--g]:pS(h,y)?(cm(h,y),h=t[++o],y=e[++l]):pS(v,x)?(cm(v,x),v=t[--f],x=e[--g]):pS(h,x)?(cm(h,x),_c(a,h.elm,cF(v.elm)),h=t[++o],x=e[--g]):pS(v,y)?(cm(v,y),_c(a,v.elm,h.elm),v=t[--f],y=e[++l]):(hF(b)&&(b=X5t(t,o,f)),T=b[y.key],hF(T)?_c(a,vS(y),h.elm):(C=t[T],C.tag!==y.tag?_c(a,vS(y),h.elm):(cm(C,y),t[T]=void 0,_c(a,C.elm,h.elm))),y=e[++l]);(o<=f||l<=g)&&(o>f?(M=e[g+1]==null?null:e[g+1].elm,Xnt(a,M,e,l,g)):kD(a,t,o,f))}function cm(a,t){var e=t.elm=a.elm,o=a.children,l=t.children;a!==t&&(ND(a,t),hF(t.text)?Pl(o)&&Pl(l)?o!==l&&q5t(e,o,l):Pl(l)?(Pl(a.text)&&OD(e,""),Xnt(e,null,l,0,l.length-1)):Pl(o)?kD(e,o,0,o.length-1):Pl(a.text)&&OD(e,""):a.text!==t.text&&(Pl(o)&&kD(e,o,0,o.length-1),OD(e,t.text)))}function pF(a,t){if(pS(a,t))cm(a,t);else{var e=a.elm,o=fF(e);vS(t),o!==null&&(_c(o,t.elm,cF(e)),kD(o,[a],0,0))}return t}var $5t=0,K5t=function(){function a(t,e,o){if(this.type="svg",this.refreshHover=qnt("refreshHover"),this.configLayer=qnt("configLayer"),this.storage=e,this._opts=o=mt({},o),this.root=t,this._id="zr"+$5t++,this._oldVNode=tF(o.width,o.height),t&&!o.ssr){var l=this._viewport=document.createElement("div");l.style.cssText="position:relative;overflow:hidden";var f=this._svgDom=this._oldVNode.elm=PD("svg");ND(null,this._oldVNode),l.appendChild(f),t.appendChild(l)}this.resize(o.width,o.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",pF(this._oldVNode,t),this._oldVNode=t}},a.prototype.renderOneToVNode=function(t){return aF(t,fS(this._id))},a.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),o=this._width,l=this._height,f=fS(this._id);f.animation=t.animation,f.willUpdate=t.willUpdate,f.compress=t.compress,f.emphasis=t.emphasis,f.ssr=this._opts.ssr;var h=[],v=this._bgVNode=j5t(o,l,this._backgroundColor,f);v&&h.push(v);var g=t.compress?null:this._mainVNode=di("g","main",{},[]);this._paintList(e,f,g?g.children:h),g&&h.push(g);var y=_t(he(f.defs),function(T){return f.defs[T]});if(y.length&&h.push(di("defs","defs",{},y)),t.animation){var x=Rnt(f.cssNodes,f.cssAnims,{newline:!0});if(x){var b=di("style","stl",{},[],x);h.push(b)}}return tF(o,l,h,t.useViewBox)},a.prototype.renderToString=function(t){return t=t||{},uS(this.renderToVNode({animation:oe(t.cssAnimation,!0),emphasis:oe(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:oe(t.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(t,e,o){for(var l=t.length,f=[],h=0,v,g,y=0,x=0;x<l;x++){var b=t[x];if(!b.invisible){var T=b.__clipPaths,C=T&&T.length||0,M=g&&g.length||0,I=void 0;for(I=Math.max(C-1,M-1);I>=0&&!(T&&g&&T[I]===g[I]);I--);for(var P=M-1;P>I;P--)h--,v=f[h-1];for(var O=I+1;O<C;O++){var N={};Ynt(T[O],N,e);var V=di("g","clip-g-"+y++,N,[]);(v?v.children:o).push(V),f[h++]=V,v=V}g=T;var F=aF(b,e);F&&(v?v.children:o).push(F)}}},a.prototype.resize=function(t,e){var o=this._opts,l=this.root,f=this._viewport;if(t!=null&&(o.width=t),e!=null&&(o.height=e),l&&f&&(f.style.display="none",t=hc(l,0,o),e=hc(l,1,o),f.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,f){var h=f.style;h.width=t+"px",h.height=e+"px"}if(H_(this._backgroundColor))this.refresh();else{var v=this._svgDom;v&&(v.setAttribute("width",t),v.setAttribute("height",e));var g=this._bgVNode&&this._bgVNode.elm;g&&(g.setAttribute("width",t),g.setAttribute("height",e))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(t){var e=this.renderToString(),o="data:image/svg+xml;";return t?(e=OQ(e),e&&o+"base64,"+e):o+"charset=UTF-8,"+encodeURIComponent(e)},a}();function qnt(a){return function(){}}function j5t(a,t,e,o){var l;if(e&&e!=="none")if(l=di("rect","bg",{width:a,height:t,x:"0",y:"0"}),dA(e))nF({fill:e},l.attrs,"fill",o);else if(H_(e))oF({style:{fill:e},dirty:mr,getBoundingRect:function(){return{width:a,height:t}}},l.attrs,"fill",o);else{var f=$f(e),h=f.color,v=f.opacity;l.attrs.fill=h,v<1&&(l.attrs["fill-opacity"]=v)}return l}var $nt=K5t;function vF(a){a.registerPainter("svg",$nt)}function Knt(a,t,e){var o=$i.createCanvas(),l=t.getWidth(),f=t.getHeight(),h=o.style;return h&&(h.position="absolute",h.left="0",h.top="0",h.width=l+"px",h.height=f+"px",o.setAttribute("data-zr-dom-id",a)),o.width=l*e,o.height=f*e,o}var J5t=function(a){at(t,a);function t(e,o,l){var f=a.call(this)||this;f.motionBlur=!1,f.lastFrameAlpha=.7,f.dpr=1,f.virtual=!1,f.config={},f.incremental=!1,f.zlevel=0,f.maxRepaintRectCount=5,f.__dirty=!0,f.__firstTimePaint=!0,f.__used=!1,f.__drawIndex=0,f.__startIndex=0,f.__endIndex=0,f.__prevStartIndex=null,f.__prevEndIndex=null;var h;l=l||Cp,typeof e=="string"?h=Knt(e,o,l):Ft(e)&&(h=e,e=h.id),f.id=e,f.dom=h;var v=h.style;return v&&(E_(h),h.onselectstart=function(){return!1},v.padding="0",v.margin="0",v.borderWidth="0"),f.painter=o,f.dpr=l,f}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Knt("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,o,l,f){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var h=[],v=this.maxRepaintRectCount,g=!1,y=new ie(0,0,0,0);function x(N){if(!(!N.isFinite()||N.isZero()))if(h.length===0){var V=new ie(0,0,0,0);V.copy(N),h.push(V)}else{for(var F=!1,U=1/0,H=0,Z=0;Z<h.length;++Z){var $=h[Z];if($.intersect(N)){var K=new ie(0,0,0,0);K.copy($),K.union(N),h[Z]=K,F=!0;break}else if(g){y.copy(N),y.union($);var Q=N.width*N.height,rt=$.width*$.height,nt=y.width*y.height,ot=nt-Q-rt;ot<U&&(U=ot,H=Z)}}if(g&&(h[H].union(N),F=!0),!F){var V=new ie(0,0,0,0);V.copy(N),h.push(V)}g||(g=h.length>=v)}}for(var b=this.__startIndex;b<this.__endIndex;++b){var T=e[b];if(T){var C=T.shouldBePainted(l,f,!0,!0),M=T.__isRendered&&(T.__dirty&Li||!C)?T.getPrevPaintRect():null;M&&x(M);var I=C&&(T.__dirty&Li||!T.__isRendered)?T.getPaintRect():null;I&&x(I)}}for(var b=this.__prevStartIndex;b<this.__prevEndIndex;++b){var T=o[b],C=T&&T.shouldBePainted(l,f,!0,!0);if(T&&(!C||!T.__zr)&&T.__isRendered){var M=T.getPrevPaintRect();M&&x(M)}}var P;do{P=!1;for(var b=0;b<h.length;){if(h[b].isZero()){h.splice(b,1);continue}for(var O=b+1;O<h.length;)h[b].intersect(h[O])?(P=!0,h[b].union(h[O]),h.splice(O,1)):O++;b++}}while(P);return this._paintRects=h,h},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,o){var l=this.dpr,f=this.dom,h=f.style,v=this.domBack;h&&(h.width=e+"px",h.height=o+"px"),f.width=e*l,f.height=o*l,v&&(v.width=e*l,v.height=o*l,l!==1&&this.ctxBack.scale(l,l))},t.prototype.clear=function(e,o,l){var f=this.dom,h=this.ctx,v=f.width,g=f.height;o=o||this.clearColor;var y=this.motionBlur&&!e,x=this.lastFrameAlpha,b=this.dpr,T=this;y&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(f,0,0,v/b,g/b));var C=this.domBack;function M(I,P,O,N){if(h.clearRect(I,P,O,N),o&&o!=="transparent"){var V=void 0;if(pu(o)){var F=o.global||o.__width===O&&o.__height===N;V=F&&o.__canvasGradient||Ux(h,o,{x:0,y:0,width:O,height:N}),o.__canvasGradient=V,o.__width=O,o.__height=N}else pN(o)&&(o.scaleX=o.scaleX||b,o.scaleY=o.scaleY||b,V=KC(h,o,{dirty:function(){T.setUnpainted(),T.painter.refresh()}}));h.save(),h.fillStyle=V||o,h.fillRect(I,P,O,N),h.restore()}y&&(h.save(),h.globalAlpha=x,h.drawImage(C,I,P,O,N),h.restore())}!l||y?M(0,0,v,g):l.length&&X(l,function(I){M(I.x*b,I.y*b,I.width*b,I.height*b)})},t}(xi),zD=J5t;var jnt=1e5,dv=314159,VD=.01,Q5t=.001;function tHt(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function eHt(a,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+a+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var rHt=function(){function a(t,e,o,l){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var f=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=o=mt({},o||{}),this.dpr=o.devicePixelRatio||Cp,this._singleCanvas=f,this.root=t;var h=t.style;h&&(E_(t),t.innerHTML=""),this.storage=e;var v=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(f){var x=t,b=x.width,T=x.height;o.width!=null&&(b=o.width),o.height!=null&&(T=o.height),this.dpr=o.devicePixelRatio||1,x.width=b*this.dpr,x.height=T*this.dpr,this._width=b,this._height=T;var C=new zD(x,this,this.dpr);C.__builtin__=!0,C.initContext(),g[dv]=C,C.zlevel=dv,v.push(dv),this._domRoot=t}else{this._width=hc(t,0,o),this._height=hc(t,1,o);var y=this._domRoot=eHt(this._width,this._height);t.appendChild(y)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),o=this._prevDisplayList,l=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,o,t,this._redrawId);for(var f=0;f<l.length;f++){var h=l[f],v=this._layers[h];if(!v.__builtin__&&v.refresh){var g=f===0?this._backgroundColor:null;v.refresh(g)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(t){var e=t.length,o=this._hoverlayer;if(o&&o.clear(),!!e){for(var l={inHover:!0,viewWidth:this._width,viewHeight:this._height},f,h=0;h<e;h++){var v=t[h];v.__inHover&&(o||(o=this._hoverlayer=this.getLayer(jnt)),f||(f=o.ctx,f.save()),pc(f,v,l,h===e-1))}f&&f.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(jnt)},a.prototype.paintOne=function(t,e){rm(t,e)},a.prototype._paintList=function(t,e,o,l){if(this._redrawId===l){o=o||!1,this._updateLayerStatus(t);var f=this._doPaintList(t,e,o),h=f.finished,v=f.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),v&&this._paintHoverList(t),h)this.eachLayer(function(y){y.afterBrush&&y.afterBrush()});else{var g=this;V_(function(){g._paintList(t,e,o,l)})}}},a.prototype._compositeManually=function(){var t=this.getLayer(dv).ctx,e=this._domRoot.width,o=this._domRoot.height;t.clearRect(0,0,e,o),this.eachBuiltinLayer(function(l){l.virtual&&t.drawImage(l.dom,0,0,e,o)})},a.prototype._doPaintList=function(t,e,o){for(var l=this,f=[],h=this._opts.useDirtyRect,v=0;v<this._zlevelList.length;v++){var g=this._zlevelList[v],y=this._layers[g];y.__builtin__&&y!==this._hoverlayer&&(y.__dirty||o)&&f.push(y)}for(var x=!0,b=!1,T=function(I){var P=f[I],O=P.ctx,N=h&&P.createRepaintRects(t,e,C._width,C._height),V=o?P.__startIndex:P.__drawIndex,F=!o&&P.incremental&&Date.now,U=F&&Date.now(),H=P.zlevel===C._zlevelList[0]?C._backgroundColor:null;if(P.__startIndex===P.__endIndex)P.clear(!1,H,N);else if(V===P.__startIndex){var Z=t[V];(!Z.incremental||!Z.notClear||o)&&P.clear(!1,H,N)}V===-1&&(console.error("For some unknown reason. drawIndex is -1"),V=P.__startIndex);var $,K=function(ot){var ft={inHover:!1,allClipped:!1,prevEl:null,viewWidth:l._width,viewHeight:l._height};for($=V;$<P.__endIndex;$++){var lt=t[$];if(lt.__inHover&&(b=!0),l._doPaintEl(lt,P,h,ot,ft,$===P.__endIndex-1),F){var pt=Date.now()-U;if(pt>15)break}}ft.prevElClipPaths&&O.restore()};if(N)if(N.length===0)$=P.__endIndex;else for(var Q=C.dpr,rt=0;rt<N.length;++rt){var nt=N[rt];O.save(),O.beginPath(),O.rect(nt.x*Q,nt.y*Q,nt.width*Q,nt.height*Q),O.clip(),K(nt),O.restore()}else O.save(),K(),O.restore();P.__drawIndex=$,P.__drawIndex<P.__endIndex&&(x=!1)},C=this,M=0;M<f.length;M++)T(M);return Ie.wxa&&X(this._layers,function(I){I&&I.ctx&&I.ctx.draw&&I.ctx.draw()}),{finished:x,needsRefreshHover:b}},a.prototype._doPaintEl=function(t,e,o,l,f,h){var v=e.ctx;if(o){var g=t.getPaintRect();(!l||g&&g.intersect(l))&&(pc(v,t,f,h),t.setPrevPaintRect(g))}else pc(v,t,f,h)},a.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=dv);var o=this._layers[t];return o||(o=new zD("zr_"+t,this,this.dpr),o.zlevel=t,o.__builtin__=!0,this._layerConfig[t]?ne(o,this._layerConfig[t],!0):this._layerConfig[t-VD]&&ne(o,this._layerConfig[t-VD],!0),e&&(o.virtual=e),this.insertLayer(t,o),o.initContext()),o},a.prototype.insertLayer=function(t,e){var o=this._layers,l=this._zlevelList,f=l.length,h=this._domRoot,v=null,g=-1;if(!o[t]&&tHt(e)){if(f>0&&t>l[0]){for(g=0;g<f-1&&!(l[g]<t&&l[g+1]>t);g++);v=o[l[g]]}if(l.splice(g+1,0,t),o[t]=e,!e.virtual)if(v){var y=v.dom;y.nextSibling?h.insertBefore(e.dom,y.nextSibling):h.appendChild(e.dom)}else h.firstChild?h.insertBefore(e.dom,h.firstChild):h.appendChild(e.dom);e.painter||(e.painter=this)}},a.prototype.eachLayer=function(t,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var f=o[l];t.call(e,this._layers[f],f)}},a.prototype.eachBuiltinLayer=function(t,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var f=o[l],h=this._layers[f];h.__builtin__&&t.call(e,h,f)}},a.prototype.eachOtherLayer=function(t,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var f=o[l],h=this._layers[f];h.__builtin__||t.call(e,h,f)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(b,T){b.__dirty=b.__used=!1});function e(b){f&&(f.__endIndex!==b&&(f.__dirty=!0),f.__endIndex=b)}if(this._singleCanvas)for(var o=1;o<t.length;o++){var l=t[o];if(l.zlevel!==t[o-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var f=null,h=0,v,g;for(g=0;g<t.length;g++){var l=t[g],y=l.zlevel,x=void 0;v!==y&&(v=y,h=0),l.incremental?(x=this.getLayer(y+Q5t,this._needsManuallyCompositing),x.incremental=!0,h=1):x=this.getLayer(y+(h>0?VD:0),this._needsManuallyCompositing),x.__builtin__||Ff("ZLevel "+y+" has been used by unkown layer "+x.id),x!==f&&(x.__used=!0,x.__startIndex!==g&&(x.__dirty=!0),x.__startIndex=g,x.incremental?x.__drawIndex=-1:x.__drawIndex=g,e(g),f=x),l.__dirty&Li&&!l.__inHover&&(x.__dirty=!0,x.incremental&&x.__drawIndex<0&&(x.__drawIndex=g))}e(g),this.eachBuiltinLayer(function(b,T){!b.__used&&b.getElementCount()>0&&(b.__dirty=!0,b.__startIndex=b.__endIndex=b.__drawIndex=0),b.__dirty&&b.__drawIndex<0&&(b.__drawIndex=b.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(t){t.clear()},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t,X(this._layers,function(e){e.setUnpainted()})},a.prototype.configLayer=function(t,e){if(e){var o=this._layerConfig;o[t]?ne(o[t],e,!0):o[t]=e;for(var l=0;l<this._zlevelList.length;l++){var f=this._zlevelList[l];if(f===t||f===t+VD){var h=this._layers[f];ne(h,o[t],!0)}}}},a.prototype.delLayer=function(t){var e=this._layers,o=this._zlevelList,l=e[t];l&&(l.dom.parentNode.removeChild(l.dom),delete e[t],o.splice(ae(o,t),1))},a.prototype.resize=function(t,e){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var l=this._opts,f=this.root;if(t!=null&&(l.width=t),e!=null&&(l.height=e),t=hc(f,0,l),e=hc(f,1,l),o.style.display="",this._width!==t||e!==this._height){o.style.width=t+"px",o.style.height=e+"px";for(var h in this._layers)this._layers.hasOwnProperty(h)&&this._layers[h].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(dv).resize(t,e)}return this},a.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[dv].dom;var e=new zD("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var o=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var l=e.dom.width,f=e.dom.height;this.eachLayer(function(b){b.__builtin__?o.drawImage(b.dom,0,0,l,f):b.renderToCanvas&&(o.save(),b.renderToCanvas(o),o.restore())})}else for(var h={inHover:!1,viewWidth:this._width,viewHeight:this._height},v=this.storage.getDisplayList(!0),g=0,y=v.length;g<y;g++){var x=v[g];pc(o,x,h,g===y-1)}return e.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}(),Jnt=rHt;function dF(a){a.registerPainter("canvas",Jnt)}var iHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){if(0)var o;return Ri(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var o=new Ut,l=nr("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);o.add(l),l.setStyle(e.lineStyle);var f=this.getData().getVisual("symbol"),h=this.getData().getVisual("symbolRotate"),v=f==="none"?"circle":f,g=e.itemHeight*.8,y=nr(v,(e.itemWidth-g)/2,(e.itemHeight-g)/2,g,g,e.itemStyle.fill);o.add(y),y.setStyle(e.itemStyle);var x=e.iconRotate==="inherit"?h:e.iconRotate||0;return y.rotation=x*Math.PI/180,y.setOrigin([e.itemWidth/2,e.itemHeight/2]),v.indexOf("empty")>-1&&(y.style.stroke=y.style.fill,y.style.fill="#fff",y.style.lineWidth=2),o},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Ue),Qnt=iHt;function Vs(a,t){var e=a.mapDimensionsAll("defaultedLabel"),o=e.length;if(o===1){var l=ku(a,t,e[0]);return l!=null?l+"":null}else if(o){for(var f=[],h=0;h<e.length;h++)f.push(ku(a,t,e[h]));return f.join(" ")}}function BD(a,t){var e=a.mapDimensionsAll("defaultedLabel");if(!yt(t))return t+"";for(var o=[],l=0;l<e.length;l++){var f=a.getDimensionIndex(e[l]);f>=0&&o.push(t[f])}return o.join(" ")}var aHt=function(a){at(t,a);function t(e,o,l,f){var h=a.call(this)||this;return h.updateData(e,o,l,f),h}return t.prototype._createSymbol=function(e,o,l,f,h){this.removeAll();var v=nr(e,-1,-1,2,2,null,h);v.attr({z2:100,culling:!0,scaleX:f[0]/2,scaleY:f[1]/2}),v.drift=nHt,this._symbolType=e,this.add(v)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Aa(this.childAt(0))},t.prototype.downplay=function(){Ca(this.childAt(0))},t.prototype.setZ=function(e,o){var l=this.childAt(0);l.zlevel=e,l.z=o},t.prototype.setDraggable=function(e,o){var l=this.childAt(0);l.draggable=e,l.cursor=!o&&e?"move":l.cursor},t.prototype.updateData=function(e,o,l,f){this.silent=!1;var h=e.getItemVisual(o,"symbol")||"circle",v=e.hostModel,g=t.getSymbolSize(e,o),y=h!==this._symbolType,x=f&&f.disableAnimation;if(y){var b=e.getItemVisual(o,"symbolKeepAspect");this._createSymbol(h,e,o,g,b)}else{var T=this.childAt(0);T.silent=!1;var C={scaleX:g[0]/2,scaleY:g[1]/2};x?T.attr(C):we(T,C,v,o),Si(T)}if(this._updateCommon(e,o,g,l,f),y){var T=this.childAt(0);if(!x){var C={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:T.style.opacity}};T.scaleX=T.scaleY=0,T.style.opacity=0,je(T,C,v,o)}}x&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,o,l,f,h){var v=this.childAt(0),g=e.hostModel,y,x,b,T,C,M,I,P,O;if(f&&(y=f.emphasisItemStyle,x=f.blurItemStyle,b=f.selectItemStyle,T=f.focus,C=f.blurScope,I=f.labelStatesModels,P=f.hoverScale,O=f.cursorStyle,M=f.emphasisDisabled),!f||e.hasItemOption){var N=f&&f.itemModel?f.itemModel:e.getItemModel(o),V=N.getModel("emphasis");y=V.getModel("itemStyle").getItemStyle(),b=N.getModel(["select","itemStyle"]).getItemStyle(),x=N.getModel(["blur","itemStyle"]).getItemStyle(),T=V.get("focus"),C=V.get("blurScope"),M=V.get("disabled"),I=cr(N),P=V.getShallow("scale"),O=N.getShallow("cursor")}var F=e.getItemVisual(o,"symbolRotate");v.attr("rotation",(F||0)*Math.PI/180||0);var U=to(e.getItemVisual(o,"symbolOffset"),l);U&&(v.x=U[0],v.y=U[1]),O&&v.attr("cursor",O);var H=e.getItemVisual(o,"style"),Z=H.fill;if(v instanceof yr){var $=v.style;v.useStyle(mt({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},H))}else v.__isEmptyBrush?v.useStyle(mt({},H)):v.useStyle(H),v.style.decal=null,v.setColor(Z,h&&h.symbolInnerColor),v.style.strokeNoScale=!0;var K=e.getItemVisual(o,"liftZ"),Q=this._z2;K!=null?Q==null&&(this._z2=v.z2,v.z2+=K):Q!=null&&(v.z2=Q,this._z2=null);var rt=h&&h.useNameLabel;_r(v,I,{labelFetcher:g,labelDataIndex:o,defaultText:nt,inheritColor:Z,defaultOpacity:H.opacity});function nt(lt){return rt?e.getName(lt):Vs(e,lt)}this._sizeX=l[0]/2,this._sizeY=l[1]/2;var ot=v.ensureState("emphasis");ot.style=y,v.ensureState("select").style=b,v.ensureState("blur").style=x;var ft=P==null||P===!0?Math.max(1.1,3/this._sizeY):isFinite(P)&&P>0?+P:1;ot.scaleX=this._sizeX*ft,ot.scaleY=this._sizeY*ft,this.setSymbolScale(1),Ke(this,T,C,M)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,o,l){var f=this.childAt(0),h=Kt(this).dataIndex,v=l&&l.animation;if(this.silent=f.silent=!0,l&&l.fadeLabel){var g=f.getTextContent();g&&zo(g,{style:{opacity:0}},o,{dataIndex:h,removeOpt:v,cb:function(){f.removeTextContent()}})}else f.removeTextContent();zo(f,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:h,cb:e,removeOpt:v})},t.getSymbolSize=function(e,o){return Rs(e.getItemVisual(o,"symbolSize"))},t}(Ut);function nHt(a,t){this.parent.drift(a,t)}var Bu=aHt;function gF(a,t,e,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(e))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&a.getItemVisual(e,"symbol")!=="none"}function tot(a){return a!=null&&!Ft(a)&&(a={isIgnore:a}),a||{}}function eot(a){var t=a.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:cr(t),cursorStyle:t.get("cursor")}}var oHt=function(){function a(t){this.group=new Ut,this._SymbolCtor=t||Bu}return a.prototype.updateData=function(t,e){this._progressiveEls=null,e=tot(e);var o=this.group,l=t.hostModel,f=this._data,h=this._SymbolCtor,v=e.disableAnimation,g=eot(t),y={disableAnimation:v},x=e.getSymbolPoint||function(b){return t.getItemLayout(b)};f||o.removeAll(),t.diff(f).add(function(b){var T=x(b);if(gF(t,T,b,e)){var C=new h(t,b,g,y);C.setPosition(T),t.setItemGraphicEl(b,C),o.add(C)}}).update(function(b,T){var C=f.getItemGraphicEl(T),M=x(b);if(!gF(t,M,b,e)){o.remove(C);return}var I=t.getItemVisual(b,"symbol")||"circle",P=C&&C.getSymbolType&&C.getSymbolType();if(!C||P&&P!==I)o.remove(C),C=new h(t,b,g,y),C.setPosition(M);else{C.updateData(t,b,g,y);var O={x:M[0],y:M[1]};v?C.attr(O):we(C,O,l)}o.add(C),t.setItemGraphicEl(b,C)}).remove(function(b){var T=f.getItemGraphicEl(b);T&&T.fadeOut(function(){o.remove(T)},l)}).execute(),this._getSymbolPoint=x,this._data=t},a.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(o,l){var f=t._getSymbolPoint(l);o.setPosition(f),o.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=eot(t),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e,o){this._progressiveEls=[],o=tot(o);function l(g){g.isGroup||(g.incremental=!0,g.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=e.getItemLayout(f);if(gF(e,h,f,o)){var v=new this._SymbolCtor(e,f,this._seriesScope);v.traverse(l),v.setPosition(h),this.group.add(v),e.setItemGraphicEl(f,v),this._progressiveEls.push(v)}}},a.prototype.eachRendered=function(t){Za(this._progressiveEls||this.group,t)},a.prototype.remove=function(t){var e=this.group,o=this._data;o&&t?o.eachItemGraphicEl(function(l){l.fadeOut(function(){e.remove(l)},o.hostModel)}):e.removeAll()},a}(),Rl=oHt;function FD(a,t,e){var o=a.getBaseAxis(),l=a.getOtherAxis(o),f=sHt(l,e),h=o.dim,v=l.dim,g=t.mapDimension(v),y=t.mapDimension(h),x=v==="x"||v==="radius"?1:0,b=_t(a.dimensions,function(M){return t.mapDimension(M)}),T=!1,C=t.getCalculationInfo("stackResultDimension");return Xa(t,b[0])&&(T=!0,b[0]=C),Xa(t,b[1])&&(T=!0,b[1]=C),{dataDimsForPoint:b,valueStart:f,valueAxisDim:v,baseAxisDim:h,stacked:!!T,valueDim:g,baseDim:y,baseDataOffset:x,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function sHt(a,t){var e=0,o=a.scale.getExtent();return t==="start"?e=o[0]:t==="end"?e=o[1]:ye(t)&&!isNaN(t)?e=t:o[0]>0?e=o[0]:o[1]<0&&(e=o[1]),e}function UD(a,t,e,o){var l=NaN;a.stacked&&(l=e.get(e.getCalculationInfo("stackedOverDimension"),o)),isNaN(l)&&(l=a.valueStart);var f=a.baseDataOffset,h=[];return h[f]=e.get(a.baseDim,o),h[1-f]=l,t.dataToPoint(h)}function lHt(a,t){var e=[];return t.diff(a).add(function(o){e.push({cmd:"+",idx:o})}).update(function(o,l){e.push({cmd:"=",idx:l,idx1:o})}).remove(function(o){e.push({cmd:"-",idx:o})}).execute(),e}function mF(a,t,e,o,l,f,h,v){for(var g=lHt(a,t),y=[],x=[],b=[],T=[],C=[],M=[],I=[],P=FD(l,t,h),O=a.getLayout("points")||[],N=t.getLayout("points")||[],V=0;V<g.length;V++){var F=g[V],U=!0,H=void 0,Z=void 0;switch(F.cmd){case"=":H=F.idx*2,Z=F.idx1*2;var $=O[H],K=O[H+1],Q=N[Z],rt=N[Z+1];(isNaN($)||isNaN(K))&&($=Q,K=rt),y.push($,K),x.push(Q,rt),b.push(e[H],e[H+1]),T.push(o[Z],o[Z+1]),I.push(t.getRawIndex(F.idx1));break;case"+":var nt=F.idx,ot=P.dataDimsForPoint,ft=l.dataToPoint([t.get(ot[0],nt),t.get(ot[1],nt)]);Z=nt*2,y.push(ft[0],ft[1]),x.push(N[Z],N[Z+1]);var lt=UD(P,l,t,nt);b.push(lt[0],lt[1]),T.push(o[Z],o[Z+1]),I.push(t.getRawIndex(nt));break;case"-":U=!1}U&&(C.push(F),M.push(M.length))}M.sort(function(j,Tt){return I[j]-I[Tt]});for(var pt=y.length,xt=qa(pt),st=qa(pt),dt=qa(pt),Et=qa(pt),At=[],V=0;V<M.length;V++){var Zt=M[V],qt=V*2,te=Zt*2;xt[qt]=y[te],xt[qt+1]=y[te+1],st[qt]=x[te],st[qt+1]=x[te+1],dt[qt]=b[te],dt[qt+1]=b[te+1],Et[qt]=T[te],Et[qt+1]=T[te+1],At[V]=C[Zt]}return{current:xt,next:st,stackedOnCurrent:dt,stackedOnNext:Et,status:At}}var xc=Math.min,Sc=Math.max;function gv(a,t){return isNaN(a)||isNaN(t)}function yF(a,t,e,o,l,f,h,v,g){for(var y,x,b,T,C,M,I=e,P=0;P<o;P++){var O=t[I*2],N=t[I*2+1];if(I>=l||I<0)break;if(gv(O,N)){if(g){I+=f;continue}break}if(I===e)a[f>0?"moveTo":"lineTo"](O,N),b=O,T=N;else{var V=O-y,F=N-x;if(V*V+F*F<.5){I+=f;continue}if(h>0){for(var U=I+f,H=t[U*2],Z=t[U*2+1];H===O&&Z===N&&P<o;)P++,U+=f,I+=f,H=t[U*2],Z=t[U*2+1],O=t[I*2],N=t[I*2+1],V=O-y,F=N-x;var $=P+1;if(g)for(;gv(H,Z)&&$<o;)$++,U+=f,H=t[U*2],Z=t[U*2+1];var K=.5,Q=0,rt=0,nt=void 0,ot=void 0;if($>=o||gv(H,Z))C=O,M=N;else{Q=H-y,rt=Z-x;var ft=O-y,lt=H-O,pt=N-x,xt=Z-N,st=void 0,dt=void 0;if(v==="x"){st=Math.abs(ft),dt=Math.abs(lt);var Et=Q>0?1:-1;C=O-Et*st*h,M=N,nt=O+Et*dt*h,ot=N}else if(v==="y"){st=Math.abs(pt),dt=Math.abs(xt);var At=rt>0?1:-1;C=O,M=N-At*st*h,nt=O,ot=N+At*dt*h}else st=Math.sqrt(ft*ft+pt*pt),dt=Math.sqrt(lt*lt+xt*xt),K=dt/(dt+st),C=O-Q*h*(1-K),M=N-rt*h*(1-K),nt=O+Q*h*K,ot=N+rt*h*K,nt=xc(nt,Sc(H,O)),ot=xc(ot,Sc(Z,N)),nt=Sc(nt,xc(H,O)),ot=Sc(ot,xc(Z,N)),Q=nt-O,rt=ot-N,C=O-Q*st/dt,M=N-rt*st/dt,C=xc(C,Sc(y,O)),M=xc(M,Sc(x,N)),C=Sc(C,xc(y,O)),M=Sc(M,xc(x,N)),Q=O-C,rt=N-M,nt=O+Q*dt/st,ot=N+rt*dt/st}a.bezierCurveTo(b,T,C,M,O,N),b=nt,T=ot}else a.lineTo(O,N)}y=O,x=N,I+=f}return P}var rot=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),iot=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="ec-polyline",o}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rot},t.prototype.buildPath=function(e,o){var l=o.points,f=0,h=l.length/2;if(o.connectNulls){for(;h>0&&gv(l[h*2-2],l[h*2-1]);h--);for(;f<h&&gv(l[f*2],l[f*2+1]);f++);}for(;f<h;)f+=yF(e,l,f,h,h,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},t.prototype.getPointOn=function(e,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var l=this.path,f=l.data,h=Hi.CMD,v,g,y=o==="x",x=[],b=0;b<f.length;){var T=f[b++],C=void 0,M=void 0,I=void 0,P=void 0,O=void 0,N=void 0,V=void 0;switch(T){case h.M:v=f[b++],g=f[b++];break;case h.L:if(C=f[b++],M=f[b++],V=y?(e-v)/(C-v):(e-g)/(M-g),V<=1&&V>=0){var F=y?(M-g)*V+g:(C-v)*V+v;return y?[e,F]:[F,e]}v=C,g=M;break;case h.C:C=f[b++],M=f[b++],I=f[b++],P=f[b++],O=f[b++],N=f[b++];var U=y?Sp(v,C,I,O,e,x):Sp(g,M,P,N,e,x);if(U>0)for(var H=0;H<U;H++){var Z=x[H];if(Z<=1&&Z>=0){var F=y?jr(g,M,P,N,Z):jr(v,C,I,O,Z);return y?[e,F]:[F,e]}}v=O,g=N;break}}},t}(se);var uHt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(rot),GD=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="ec-polygon",o}return t.prototype.getDefaultShape=function(){return new uHt},t.prototype.buildPath=function(e,o){var l=o.points,f=o.stackedOnPoints,h=0,v=l.length/2,g=o.smoothMonotone;if(o.connectNulls){for(;v>0&&gv(l[v*2-2],l[v*2-1]);v--);for(;h<v&&gv(l[h*2],l[h*2+1]);h++);}for(;h<v;){var y=yF(e,l,h,v,v,1,o.smooth,g,o.connectNulls);yF(e,f,h+y-1,y,v,-1,o.stackedOnSmooth,g,o.connectNulls),h+=y+1,e.closePath()}},t}(se);function _F(a,t,e,o,l){var f=a.getArea(),h=f.x,v=f.y,g=f.width,y=f.height,x=e.get(["lineStyle","width"])||0;h-=x/2,v-=x/2,g+=x,y+=x,g=Math.ceil(g),h!==Math.floor(h)&&(h=Math.floor(h),g++);var b=new ge({shape:{x:h,y:v,width:g,height:y}});if(t){var T=a.getBaseAxis(),C=T.isHorizontal(),M=T.inverse;C?(M&&(b.shape.x+=g),b.shape.width=0):(M||(b.shape.y+=y),b.shape.height=0);var I=Nt(l)?function(P){l(P,b)}:null;je(b,{shape:{width:g,height:y,x:h,y:v}},e,null,o,I)}return b}function xF(a,t,e){var o=a.getArea(),l=hr(o.r0,1),f=hr(o.r,1),h=new $r({shape:{cx:hr(a.cx,1),cy:hr(a.cy,1),r0:l,r:f,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(t){var v=a.getBaseAxis().dim==="angle";v?h.shape.endAngle=o.startAngle:h.shape.r=l,je(h,{shape:{endAngle:o.endAngle,r:f}},e)}return h}function Ol(a,t,e,o,l){if(a){if(a.type==="polar")return xF(a,t,e);if(a.type==="cartesian2d")return _F(a,t,e,o,l)}else return null;return null}function $o(a,t){return a.type===t}function aot(a,t){if(a.length===t.length){for(var e=0;e<a.length;e++)if(a[e]!==t[e])return;return!0}}function not(a){for(var t=1/0,e=1/0,o=-1/0,l=-1/0,f=0;f<a.length;){var h=a[f++],v=a[f++];isNaN(h)||(t=Math.min(h,t),o=Math.max(h,o)),isNaN(v)||(e=Math.min(v,e),l=Math.max(v,l))}return[[t,e],[o,l]]}function oot(a,t){var e=not(a),o=e[0],l=e[1],f=not(t),h=f[0],v=f[1];return Math.max(Math.abs(o[0]-h[0]),Math.abs(o[1]-h[1]),Math.abs(l[0]-v[0]),Math.abs(l[1]-v[1]))}function sot(a){return ye(a)?a:a?.5:0}function fHt(a,t,e){if(!e.valueDim)return[];for(var o=t.count(),l=qa(o*2),f=0;f<o;f++){var h=UD(e,a,t,f);l[f*2]=h[0],l[f*2+1]=h[1]}return l}function bc(a,t,e,o,l){var f=e.getBaseAxis(),h=f.dim==="x"||f.dim==="radius"?0:1,v=[],g=0,y=[],x=[],b=[],T=[];if(l){for(g=0;g<a.length;g+=2){var C=t||a;!isNaN(C[g])&&!isNaN(C[g+1])&&T.push(a[g],a[g+1])}a=T}for(g=0;g<a.length-2;g+=2)switch(b[0]=a[g+2],b[1]=a[g+3],x[0]=a[g],x[1]=a[g+1],v.push(x[0],x[1]),o){case"end":y[h]=b[h],y[1-h]=x[1-h],v.push(y[0],y[1]);break;case"middle":var M=(x[h]+b[h])/2,I=[];y[h]=I[h]=M,y[1-h]=x[1-h],I[1-h]=b[1-h],v.push(y[0],y[1]),v.push(I[0],I[1]);break;default:y[h]=x[h],y[1-h]=b[1-h],v.push(y[0],y[1])}return v.push(a[g++],a[g++]),v}function cHt(a,t){var e=[],o=a.length,l,f;function h(x,b,T){var C=x.coord,M=(T-C)/(b.coord-C),I=uA(M,[x.color,b.color]);return{coord:T,color:I}}for(var v=0;v<o;v++){var g=a[v],y=g.coord;if(y<0)l=g;else if(y>t){f?e.push(h(f,g,t)):l&&e.push(h(l,g,0),h(l,g,t));break}else l&&(e.push(h(l,g,0)),l=null),e.push(g),f=g}return e}function hHt(a,t,e){var o=a.getVisual("visualMeta");if(!(!o||!o.length||!a.count())&&t.type==="cartesian2d"){for(var l,f,h=o.length-1;h>=0;h--){var v=a.getDimensionInfo(o[h].dimension);if(l=v&&v.coordDim,l==="x"||l==="y"){f=o[h];break}}if(f){var g=t.getAxis(l),y=_t(f.stops,function(V){return{coord:g.toGlobalCoord(g.dataToCoord(V.value)),color:V.color}}),x=y.length,b=f.outerColors.slice();x&&y[0].coord>y[x-1].coord&&(y.reverse(),b.reverse());var T=cHt(y,l==="x"?e.getWidth():e.getHeight()),C=T.length;if(!C&&x)return y[0].coord<0?b[1]?b[1]:y[x-1].color:b[0]?b[0]:y[0].color;var M=10,I=T[0].coord-M,P=T[C-1].coord+M,O=P-I;if(O<.001)return"transparent";X(T,function(V){V.offset=(V.coord-I)/O}),T.push({offset:C?T[C-1].offset:.5,color:b[1]||"transparent"}),T.unshift({offset:C?T[0].offset:.5,color:b[0]||"transparent"});var N=new No(0,0,0,0,T,!0);return N[l]=I,N[l+"2"]=P,N}}}function pHt(a,t,e){var o=a.get("showAllSymbol"),l=o==="auto";if(!(o&&!l)){var f=e.getAxesByScale("ordinal")[0];if(f&&!(l&&vHt(f,t))){var h=t.mapDimension(f.dim),v={};return X(f.getViewLabels(),function(g){var y=f.scale.getRawOrdinalNumber(g.tickValue);v[y]=1}),function(g){return!v.hasOwnProperty(t.get(h,g))}}}}function vHt(a,t){var e=a.getExtent(),o=Math.abs(e[1]-e[0])/a.scale.count();isNaN(o)&&(o=0);for(var l=t.count(),f=Math.max(1,Math.round(l/5)),h=0;h<l;h+=f)if(Bu.getSymbolSize(t,h)[a.isHorizontal()?1:0]*1.5>o)return!1;return!0}function dHt(a,t){return isNaN(a)||isNaN(t)}function gHt(a){for(var t=a.length/2;t>0&&dHt(a[t*2-2],a[t*2-1]);t--);return t-1}function lot(a,t){return[a[t*2],a[t*2+1]]}function mHt(a,t,e){for(var o=a.length/2,l=e==="x"?0:1,f,h,v=0,g=-1,y=0;y<o;y++)if(h=a[y*2+l],!(isNaN(h)||isNaN(a[y*2+1-l]))){if(y===0){f=h;continue}if(f<=t&&h>=t||f>=t&&h<=t){g=y;break}v=y,f=h}return{range:[v,g],t:(t-f)/(h-f)}}function uot(a){if(a.get(["endLabel","show"]))return!0;for(var t=0;t<Pi.length;t++)if(a.get([Pi[t],"endLabel","show"]))return!0;return!1}function SF(a,t,e,o){if($o(t,"cartesian2d")){var l=o.getModel("endLabel"),f=l.get("valueAnimation"),h=o.getData(),v={lastFrameIndex:0},g=uot(o)?function(C,M){a._endLabelOnDuring(C,M,h,v,f,l,t)}:null,y=t.getBaseAxis().isHorizontal(),x=_F(t,e,o,function(){var C=a._endLabel;C&&e&&v.originalX!=null&&C.attr({x:v.originalX,y:v.originalY})},g);if(!o.get("clip",!0)){var b=x.shape,T=Math.max(b.width,b.height);y?(b.y-=T,b.height+=T*2):(b.x-=T,b.width+=T*2)}return g&&g(1,x),x}else return xF(t,e,o)}function yHt(a,t){var e=t.getBaseAxis(),o=e.isHorizontal(),l=e.inverse,f=o?l?"right":"left":"center",h=o?"middle":l?"top":"bottom";return{normal:{align:a.get("align")||f,verticalAlign:a.get("verticalAlign")||h}}}var _Ht=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Ut,o=new Rl;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=e,this._changePolyState=It(this._changePolyState,this)},t.prototype.render=function(e,o,l){var f=e.coordinateSystem,h=this.group,v=e.getData(),g=e.getModel("lineStyle"),y=e.getModel("areaStyle"),x=v.getLayout("points")||[],b=f.type==="polar",T=this._coordSys,C=this._symbolDraw,M=this._polyline,I=this._polygon,P=this._lineGroup,O=!o.ssr&&e.get("animation"),N=!y.isEmpty(),V=y.get("origin"),F=FD(f,v,V),U=N&&fHt(f,v,F),H=e.get("showSymbol"),Z=e.get("connectNulls"),$=H&&!b&&pHt(e,v,f),K=this._data;K&&K.eachItemGraphicEl(function(j,Tt){j.__temp&&(h.remove(j),K.setItemGraphicEl(Tt,null))}),H||C.remove(),h.add(P);var Q=b?!1:e.get("step"),rt;f&&f.getArea&&e.get("clip",!0)&&(rt=f.getArea(),rt.width!=null?(rt.x-=.1,rt.y-=.1,rt.width+=.2,rt.height+=.2):rt.r0&&(rt.r0-=.5,rt.r+=.5)),this._clipShapeForSymbol=rt;var nt=hHt(v,f,l)||v.getVisual("style")[v.getVisual("drawType")];if(!(M&&T.type===f.type&&Q===this._step))H&&C.updateData(v,{isIgnore:$,clipShape:rt,disableAnimation:!0,getSymbolPoint:function(j){return[x[j*2],x[j*2+1]]}}),O&&this._initSymbolLabelAnimation(v,f,rt),Q&&(U&&(U=bc(U,x,f,Q,Z)),x=bc(x,null,f,Q,Z)),M=this._newPolyline(x),N?I=this._newPolygon(x,U):I&&(P.remove(I),I=this._polygon=null),b||this._initOrUpdateEndLabel(e,f,Ls(nt)),P.setClipPath(SF(this,f,!0,e));else{N&&!I?I=this._newPolygon(x,U):I&&!N&&(P.remove(I),I=this._polygon=null),b||this._initOrUpdateEndLabel(e,f,Ls(nt));var ot=P.getClipPath();if(ot){var ft=SF(this,f,!1,e);je(ot,{shape:ft.shape},e)}else P.setClipPath(SF(this,f,!0,e));H&&C.updateData(v,{isIgnore:$,clipShape:rt,disableAnimation:!0,getSymbolPoint:function(j){return[x[j*2],x[j*2+1]]}}),(!aot(this._stackedOnPoints,U)||!aot(this._points,x))&&(O?this._doUpdateAnimation(v,U,f,l,Q,V,Z):(Q&&(U&&(U=bc(U,x,f,Q,Z)),x=bc(x,null,f,Q,Z)),M.setShape({points:x}),I&&I.setShape({points:x,stackedOnPoints:U})))}var lt=e.getModel("emphasis"),pt=lt.get("focus"),xt=lt.get("blurScope"),st=lt.get("disabled");if(M.useStyle(zt(g.getLineStyle(),{fill:"none",stroke:nt,lineJoin:"bevel"})),Ir(M,e,"lineStyle"),M.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var dt=M.getState("emphasis").style;dt.lineWidth=+M.style.lineWidth+1}Kt(M).seriesIndex=e.seriesIndex,Ke(M,pt,xt,st);var Et=sot(e.get("smooth")),At=e.get("smoothMonotone");if(M.setShape({smooth:Et,smoothMonotone:At,connectNulls:Z}),I){var Zt=v.getCalculationInfo("stackedOnSeries"),qt=0;I.useStyle(zt(y.getAreaStyle(),{fill:nt,opacity:.7,lineJoin:"bevel",decal:v.getVisual("style").decal})),Zt&&(qt=sot(Zt.get("smooth"))),I.setShape({smooth:Et,stackedOnSmooth:qt,smoothMonotone:At,connectNulls:Z}),Ir(I,e,"areaStyle"),Kt(I).seriesIndex=e.seriesIndex,Ke(I,pt,xt,st)}var te=this._changePolyState;v.eachItemGraphicEl(function(j){j&&(j.onHoverStateChange=te)}),this._polyline.onHoverStateChange=te,this._data=v,this._coordSys=f,this._stackedOnPoints=U,this._points=x,this._step=Q,this._valueOrigin=V,e.get("triggerLineEvent")&&(this.packEventData(e,M),I&&this.packEventData(e,I))},t.prototype.packEventData=function(e,o){Kt(o).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,o,l,f){var h=e.getData(),v=Po(h,f);if(this._changePolyState("emphasis"),!(v instanceof Array)&&v!=null&&v>=0){var g=h.getLayout("points"),y=h.getItemGraphicEl(v);if(!y){var x=g[v*2],b=g[v*2+1];if(isNaN(x)||isNaN(b)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(x,b))return;var T=e.get("zlevel")||0,C=e.get("z")||0;y=new Bu(h,v),y.x=x,y.y=b,y.setZ(T,C);var M=y.getSymbolPath().getTextContent();M&&(M.zlevel=T,M.z=C,M.z2=this._polyline.z2+1),y.__temp=!0,h.setItemGraphicEl(v,y),y.stopSymbolAnimation(!0),this.group.add(y)}y.highlight()}else ke.prototype.highlight.call(this,e,o,l,f)},t.prototype.downplay=function(e,o,l,f){var h=e.getData(),v=Po(h,f);if(this._changePolyState("normal"),v!=null&&v>=0){var g=h.getItemGraphicEl(v);g&&(g.__temp?(h.setItemGraphicEl(v,null),this.group.remove(g)):g.downplay())}else ke.prototype.downplay.call(this,e,o,l,f)},t.prototype._changePolyState=function(e){var o=this._polygon;Hp(this._polyline,e),o&&Hp(o,e)},t.prototype._newPolyline=function(e){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new iot({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},t.prototype._newPolygon=function(e,o){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new GD({shape:{points:e,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},t.prototype._initSymbolLabelAnimation=function(e,o,l){var f,h,v=o.getBaseAxis(),g=v.inverse;o.type==="cartesian2d"?(f=v.isHorizontal(),h=!1):o.type==="polar"&&(f=v.dim==="angle",h=!0);var y=e.hostModel,x=y.get("animationDuration");Nt(x)&&(x=x(null));var b=y.get("animationDelay")||0,T=Nt(b)?b(null):b;e.eachItemGraphicEl(function(C,M){var I=C;if(I){var P=[C.x,C.y],O=void 0,N=void 0,V=void 0;if(l)if(h){var F=l,U=o.pointToCoord(P);f?(O=F.startAngle,N=F.endAngle,V=-U[1]/180*Math.PI):(O=F.r0,N=F.r,V=U[0])}else{var H=l;f?(O=H.x,N=H.x+H.width,V=C.x):(O=H.y+H.height,N=H.y,V=C.y)}var Z=N===O?0:(V-O)/(N-O);g&&(Z=1-Z);var $=Nt(b)?b(M):x*Z+T,K=I.getSymbolPath(),Q=K.getTextContent();I.attr({scaleX:0,scaleY:0}),I.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:$}),Q&&Q.animateFrom({style:{opacity:0}},{duration:300,delay:$}),K.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,o,l){var f=e.getModel("endLabel");if(uot(e)){var h=e.getData(),v=this._polyline,g=h.getLayout("points");if(!g){v.removeTextContent(),this._endLabel=null;return}var y=this._endLabel;y||(y=this._endLabel=new _e({z2:200}),y.ignoreClip=!0,v.setTextContent(this._endLabel),v.disableLabelAnimation=!0);var x=gHt(g);x>=0&&(_r(v,cr(e,"endLabel"),{inheritColor:l,labelFetcher:e,labelDataIndex:x,defaultText:function(b,T,C){return C!=null?BD(h,C):Vs(h,b)},enableTextSetter:!0},yHt(f,o)),v.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,o,l,f,h,v,g){var y=this._endLabel,x=this._polyline;if(y){e<1&&f.originalX==null&&(f.originalX=y.x,f.originalY=y.y);var b=l.getLayout("points"),T=l.hostModel,C=T.get("connectNulls"),M=v.get("precision"),I=v.get("distance")||0,P=g.getBaseAxis(),O=P.isHorizontal(),N=P.inverse,V=o.shape,F=N?O?V.x:V.y+V.height:O?V.x+V.width:V.y,U=(O?I:0)*(N?-1:1),H=(O?0:-I)*(N?-1:1),Z=O?"x":"y",$=mHt(b,F,Z),K=$.range,Q=K[1]-K[0],rt=void 0;if(Q>=1){if(Q>1&&!C){var nt=lot(b,K[0]);y.attr({x:nt[0]+U,y:nt[1]+H}),h&&(rt=T.getRawValue(K[0]))}else{var nt=x.getPointOn(F,Z);nt&&y.attr({x:nt[0]+U,y:nt[1]+H});var ot=T.getRawValue(K[0]),ft=T.getRawValue(K[1]);h&&(rt=PA(l,M,ot,ft,$.t))}f.lastFrameIndex=K[0]}else{var lt=e===1||f.lastFrameIndex>0?K[0]:0,nt=lot(b,lt);h&&(rt=T.getRawValue(lt)),y.attr({x:nt[0]+U,y:nt[1]+H})}if(h){var pt=Eu(y);typeof pt.setLabelText=="function"&&pt.setLabelText(rt)}}},t.prototype._doUpdateAnimation=function(e,o,l,f,h,v,g){var y=this._polyline,x=this._polygon,b=e.hostModel,T=mF(this._data,e,this._stackedOnPoints,o,this._coordSys,l,this._valueOrigin,v),C=T.current,M=T.stackedOnCurrent,I=T.next,P=T.stackedOnNext;if(h&&(M=bc(T.stackedOnCurrent,T.current,l,h,g),C=bc(T.current,null,l,h,g),P=bc(T.stackedOnNext,T.next,l,h,g),I=bc(T.next,null,l,h,g)),oot(C,I)>3e3||x&&oot(M,P)>3e3){y.stopAnimation(),y.setShape({points:I}),x&&(x.stopAnimation(),x.setShape({points:I,stackedOnPoints:P}));return}y.shape.__points=T.current,y.shape.points=C;var O={shape:{points:I}};T.current!==C&&(O.shape.__points=T.next),y.stopAnimation(),we(y,O,b),x&&(x.setShape({points:C,stackedOnPoints:M}),x.stopAnimation(),we(x,{shape:{stackedOnPoints:P}},b),y.shape.points!==x.shape.points&&(x.shape.points=y.shape.points));for(var N=[],V=T.status,F=0;F<V.length;F++){var U=V[F].cmd;if(U==="="){var H=e.getItemGraphicEl(V[F].idx1);H&&N.push({el:H,ptIdx:F})}}y.animators&&y.animators.length&&y.animators[0].during(function(){x&&x.dirtyShape();for(var Z=y.shape.__points,$=0;$<N.length;$++){var K=N[$].el,Q=N[$].ptIdx*2;K.x=Z[Q],K.y=Z[Q+1],K.markRedraw()}})},t.prototype.remove=function(e){var o=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(f,h){f.__temp&&(o.remove(f),l.setItemGraphicEl(h,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ke),fot=_Ht;function Bs(a,t){return{seriesType:a,plan:Qn(),reset:function(e){var o=e.getData(),l=e.coordinateSystem,f=e.pipelineContext,h=t||f.large;if(l){var v=_t(l.dimensions,function(C){return o.mapDimension(C)}).slice(0,2),g=v.length,y=o.getCalculationInfo("stackResultDimension");Xa(o,v[0])&&(v[0]=y),Xa(o,v[1])&&(v[1]=y);var x=o.getStore(),b=o.getDimensionIndex(v[0]),T=o.getDimensionIndex(v[1]);return g&&{progress:function(C,M){for(var I=C.end-C.start,P=h&&qa(I*g),O=[],N=[],V=C.start,F=0;V<C.end;V++){var U=void 0;if(g===1){var H=x.get(b,V);U=l.dataToPoint(H,null,N)}else O[0]=x.get(b,V),O[1]=x.get(T,V),U=l.dataToPoint(O,null,N);h?(P[F++]=U[0],P[F++]=U[1]):M.setItemLayout(V,U.slice())}h&&M.setLayout("points",P)}}}}}}var xHt={average:function(a){for(var t=0,e=0,o=0;o<a.length;o++)isNaN(a[o])||(t+=a[o],e++);return e===0?NaN:t/e},sum:function(a){for(var t=0,e=0;e<a.length;e++)t+=a[e]||0;return t},max:function(a){for(var t=-1/0,e=0;e<a.length;e++)a[e]>t&&(t=a[e]);return isFinite(t)?t:NaN},min:function(a){for(var t=1/0,e=0;e<a.length;e++)a[e]<t&&(t=a[e]);return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},SHt=function(a){return Math.round(a.length/2)};function dS(a){return{seriesType:a,reset:function(t,e,o){var l=t.getData(),f=t.get("sampling"),h=t.coordinateSystem,v=l.count();if(v>10&&h.type==="cartesian2d"&&f){var g=h.getBaseAxis(),y=h.getOtherAxis(g),x=g.getExtent(),b=o.getDevicePixelRatio(),T=Math.abs(x[1]-x[0])*(b||1),C=Math.round(v/T);if(isFinite(C)&&C>1){f==="lttb"?t.setData(l.lttbDownSample(l.mapDimension(y.dim),1/C)):f==="minmax"&&t.setData(l.minmaxDownSample(l.mapDimension(y.dim),1/C));var M=void 0;Dt(f)?M=xHt[f]:Nt(f)&&(M=f),M&&t.setData(l.downSample(l.mapDimension(y.dim),1/C,M,SHt))}}}}}function bF(a){a.registerChartView(fot),a.registerSeriesModel(Qnt),a.registerLayout(Bs("line",!0)),a.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),o=t.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",o)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dS("line"))}var cot=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,o){return Ri(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,o,l){var f=this.coordinateSystem;if(f&&f.clampData){var h=f.clampData(e),v=f.dataToPoint(h);if(l)X(f.getAxes(),function(T,C){if(T.type==="category"&&o!=null){var M=T.getTicksCoords(),I=T.getTickModel().get("alignWithLabel"),P=h[C],O=o[C]==="x1"||o[C]==="y1";if(O&&!I&&(P+=1),M.length<2)return;if(M.length===2){v[C]=T.toGlobalCoord(T.getExtent()[O?1:0]);return}for(var N=void 0,V=void 0,F=1,U=0;U<M.length;U++){var H=M[U].coord,Z=U===M.length-1?M[U-1].tickValue+F:M[U].tickValue;if(Z===P){V=H;break}else if(Z<P)N=H;else if(N!=null&&Z>P){V=(H+N)/2;break}U===1&&(F=Z-M[0].tickValue)}V==null&&(N?N&&(V=M[M.length-1].coord):V=M[0].coord),v[C]=T.toGlobalCoord(V)}});else{var g=this.getData(),y=g.getLayout("offset"),x=g.getLayout("size"),b=f.getBaseAxis().isHorizontal()?0:1;v[b]+=y+x/2}return v}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Ue);Ue.registerClass(cot);var hm=cot;var bHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Ri(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>e&&(e=o),e},t.prototype.brushSelector=function(e,o,l){return l.rect(o.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ma(hm.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(hm),hot=bHt;var wHt=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),THt=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="sausage",o}return t.prototype.getDefaultShape=function(){return new wHt},t.prototype.buildPath=function(e,o){var l=o.cx,f=o.cy,h=Math.max(o.r0||0,0),v=Math.max(o.r,0),g=(v-h)*.5,y=h+g,x=o.startAngle,b=o.endAngle,T=o.clockwise,C=Math.PI*2,M=T?b-x<C:x-b<C;M||(x=b-(T?C:-C));var I=Math.cos(x),P=Math.sin(x),O=Math.cos(b),N=Math.sin(b);M?(e.moveTo(I*h+l,P*h+f),e.arc(I*y+l,P*y+f,g,-Math.PI+x,x,!T)):e.moveTo(I*v+l,P*v+f),e.arc(l,f,v,x,b,!T),e.arc(O*y+l,N*y+f,g,b-Math.PI*2,b-Math.PI,!T),h!==0&&e.arc(l,f,h,b,x,T)},t}(se),pm=THt;function pot(a,t){t=t||{};var e=t.isRoundCap;return function(o,l,f){var h=l.position;if(!h||h instanceof Array)return Ip(o,l,f);var v=a(h),g=l.distance!=null?l.distance:5,y=this.shape,x=y.cx,b=y.cy,T=y.r,C=y.r0,M=(T+C)/2,I=y.startAngle,P=y.endAngle,O=(I+P)/2,N=e?Math.abs(T-C)/2:0,V=Math.cos,F=Math.sin,U=x+T*V(I),H=b+T*F(I),Z="left",$="top";switch(v){case"startArc":U=x+(C-g)*V(O),H=b+(C-g)*F(O),Z="center",$="top";break;case"insideStartArc":U=x+(C+g)*V(O),H=b+(C+g)*F(O),Z="center",$="bottom";break;case"startAngle":U=x+M*V(I)+HD(I,g+N,!1),H=b+M*F(I)+WD(I,g+N,!1),Z="right",$="middle";break;case"insideStartAngle":U=x+M*V(I)+HD(I,-g+N,!1),H=b+M*F(I)+WD(I,-g+N,!1),Z="left",$="middle";break;case"middle":U=x+M*V(O),H=b+M*F(O),Z="center",$="middle";break;case"endArc":U=x+(T+g)*V(O),H=b+(T+g)*F(O),Z="center",$="bottom";break;case"insideEndArc":U=x+(T-g)*V(O),H=b+(T-g)*F(O),Z="center",$="top";break;case"endAngle":U=x+M*V(P)+HD(P,g+N,!0),H=b+M*F(P)+WD(P,g+N,!0),Z="left",$="middle";break;case"insideEndAngle":U=x+M*V(P)+HD(P,-g+N,!0),H=b+M*F(P)+WD(P,-g+N,!0),Z="right",$="middle";break;default:return Ip(o,l,f)}return o=o||{},o.x=U,o.y=H,o.align=Z,o.verticalAlign=$,o}}function vot(a,t,e,o){if(ye(o)){a.setTextConfig({rotation:o});return}else if(yt(t)){a.setTextConfig({rotation:0});return}var l=a.shape,f=l.clockwise?l.startAngle:l.endAngle,h=l.clockwise?l.endAngle:l.startAngle,v=(f+h)/2,g,y=e(t);switch(y){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":g=v;break;case"startAngle":case"insideStartAngle":g=f;break;case"endAngle":case"insideEndAngle":g=h;break;default:a.setTextConfig({rotation:0});return}var x=Math.PI*1.5-g;y==="middle"&&x>Math.PI/2&&x<Math.PI*1.5&&(x-=Math.PI),a.setTextConfig({rotation:x})}function HD(a,t,e){return t*Math.sin(a)*(e?-1:1)}function WD(a,t,e){return t*Math.cos(a)*(e?1:-1)}function kl(a,t,e){var o=a.get("borderRadius");if(o==null)return e?{cornerRadius:0}:null;yt(o)||(o=[o,o,o,o]);var l=Math.abs(t.r||0-t.r0||0);return{cornerRadius:_t(o,function(f){return na(f,l)})}}var wF=Math.max,TF=Math.min;function AHt(a,t){var e=a.getArea&&a.getArea();if($o(a,"cartesian2d")){var o=a.getBaseAxis();if(o.type!=="category"||!o.onBand){var l=t.getLayout("bandWidth");o.isHorizontal()?(e.x-=l,e.width+=l*2):(e.y-=l,e.height+=l*2)}}return e}var CHt=function(a){at(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,o,l,f){this._model=e,this._removeOnRenderedListener(l),this._updateDrawMode(e);var h=e.get("coordinateSystem");(h==="cartesian2d"||h==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,o,l):this._renderNormal(e,o,l,f))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,o){this._progressiveEls=[],this._incrementalRenderLarge(e,o)},t.prototype.eachRendered=function(e){Za(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e,o,l,f){var h=this.group,v=e.getData(),g=this._data,y=e.coordinateSystem,x=y.getBaseAxis(),b;y.type==="cartesian2d"?b=x.isHorizontal():y.type==="polar"&&(b=x.dim==="angle");var T=e.isAnimationEnabled()?e:null,C=DHt(e,y);C&&this._enableRealtimeSort(C,v,l);var M=e.get("clip",!0)||C,I=AHt(y,v);h.removeClipPath();var P=e.get("roundCap",!0),O=e.get("showBackground",!0),N=e.getModel("backgroundStyle"),V=N.get("borderRadius")||0,F=[],U=this._backgroundEls,H=f&&f.isInitSort,Z=f&&f.type==="changeAxisOrder";function $(rt){var nt=YD[y.type](v,rt),ot=OHt(y,b,nt);return ot.useStyle(N.getItemStyle()),y.type==="cartesian2d"?ot.setShape("r",V):ot.setShape("cornerRadius",V),F[rt]=ot,ot}v.diff(g).add(function(rt){var nt=v.getItemModel(rt),ot=YD[y.type](v,rt,nt);if(O&&$(rt),!(!v.hasValue(rt)||!_ot[y.type](ot))){var ft=!1;M&&(ft=dot[y.type](I,ot));var lt=got[y.type](e,v,rt,ot,b,T,x.model,!1,P);C&&(lt.forceLabelAnimation=!0),xot(lt,v,rt,nt,ot,e,b,y.type==="polar"),H?lt.attr({shape:ot}):C?mot(C,T,lt,ot,rt,b,!1,!1):je(lt,{shape:ot},e,rt),v.setItemGraphicEl(rt,lt),h.add(lt),lt.ignore=ft}}).update(function(rt,nt){var ot=v.getItemModel(rt),ft=YD[y.type](v,rt,ot);if(O){var lt=void 0;U.length===0?lt=$(nt):(lt=U[nt],lt.useStyle(N.getItemStyle()),y.type==="cartesian2d"?lt.setShape("r",V):lt.setShape("cornerRadius",V),F[rt]=lt);var pt=YD[y.type](v,rt),xt=Aot(b,pt,y);we(lt,{shape:xt},T,rt)}var st=g.getItemGraphicEl(nt);if(!v.hasValue(rt)||!_ot[y.type](ft)){h.remove(st);return}var dt=!1;if(M&&(dt=dot[y.type](I,ft),dt&&h.remove(st)),st?Si(st):st=got[y.type](e,v,rt,ft,b,T,x.model,!!st,P),C&&(st.forceLabelAnimation=!0),Z){var Et=st.getTextContent();if(Et){var At=Eu(Et);At.prevValue!=null&&(At.prevValue=At.value)}}else xot(st,v,rt,ot,ft,e,b,y.type==="polar");H?st.attr({shape:ft}):C?mot(C,T,st,ft,rt,b,!0,Z):we(st,{shape:ft},e,rt,null),v.setItemGraphicEl(rt,st),st.ignore=dt,h.add(st)}).remove(function(rt){var nt=g.getItemGraphicEl(rt);nt&&Mu(nt,e,rt)}).execute();var K=this._backgroundGroup||(this._backgroundGroup=new Ut);K.removeAll();for(var Q=0;Q<F.length;++Q)K.add(F[Q]);h.add(K),this._backgroundEls=F,this._data=v},t.prototype._renderLarge=function(e,o,l){this._clear(),bot(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,o){this._removeBackground(),bot(o,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var o=e.get("clip",!0)&&Ol(e.coordinateSystem,!1,e),l=this.group;o?l.setClipPath(o):l.removeClipPath()},t.prototype._enableRealtimeSort=function(e,o,l){var f=this;if(o.count()){var h=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,e,l),this._isFirstFrame=!1;else{var v=function(g){var y=o.getItemGraphicEl(g),x=y&&y.shape;return x&&Math.abs(h.isHorizontal()?x.height:x.width)||0};this._onRendered=function(){f._updateSortWithinSameData(o,v,h,l)},l.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,o,l){var f=[];return e.each(e.mapDimension(o.dim),function(h,v){var g=l(v);g=g??NaN,f.push({dataIndex:v,mappedValue:g,ordinalNumber:h})}),f.sort(function(h,v){return v.mappedValue-h.mappedValue}),{ordinalNumbers:_t(f,function(h){return h.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,o,l){for(var f=l.scale,h=e.mapDimension(l.dim),v=Number.MAX_VALUE,g=0,y=f.getOrdinalMeta().categories.length;g<y;++g){var x=e.rawIndexOf(h,f.getRawOrdinalNumber(g)),b=x<0?Number.MIN_VALUE:o(e.indexOfRawIndex(x));if(b>v)return!0;v=b}return!1},t.prototype._isOrderDifferentInView=function(e,o){for(var l=o.scale,f=l.getExtent(),h=Math.max(0,f[0]),v=Math.min(f[1],l.getOrdinalMeta().categories.length-1);h<=v;++h)if(e.ordinalNumbers[h]!==l.getRawOrdinalNumber(h))return!0},t.prototype._updateSortWithinSameData=function(e,o,l,f){if(this._isOrderChangedWithinSameData(e,o,l)){var h=this._dataSort(e,l,o);this._isOrderDifferentInView(h,l)&&(this._removeOnRenderedListener(f),f.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:h}))}},t.prototype._dispatchInitSort=function(e,o,l){var f=o.baseAxis,h=this._dataSort(e,f,function(v){return e.get(e.mapDimension(o.otherAxis.dim),v)});l.dispatchAction({type:"changeAxisOrder",componentType:f.dim+"Axis",isInitSort:!0,axisId:f.index,sortInfo:h})},t.prototype.remove=function(e,o){this._clear(this._model),this._removeOnRenderedListener(o)},t.prototype.dispose=function(e,o){this._removeOnRenderedListener(o)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var o=this.group,l=this._data;e&&e.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(f){Mu(f,e,Kt(f).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ke),dot={cartesian2d:function(a,t){var e=t.width<0?-1:1,o=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height);var l=a.x+a.width,f=a.y+a.height,h=wF(t.x,a.x),v=TF(t.x+t.width,l),g=wF(t.y,a.y),y=TF(t.y+t.height,f),x=v<h,b=y<g;return t.x=x&&h>l?v:h,t.y=b&&g>f?y:g,t.width=x?0:v-h,t.height=b?0:y-g,e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height),x||b},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var o=t.r;t.r=t.r0,t.r0=o}var l=TF(t.r,a.r),f=wF(t.r0,a.r0);t.r=l,t.r0=f;var h=l-f<0;if(e<0){var o=t.r;t.r=t.r0,t.r0=o}return h}},got={cartesian2d:function(a,t,e,o,l,f,h,v,g){var y=new ge({shape:mt({},o),z2:1});if(y.__dataIndex=e,y.name="item",f){var x=y.shape,b=l?"height":"width";x[b]=0}return y},polar:function(a,t,e,o,l,f,h,v,g){var y=!l&&g?pm:$r,x=new y({shape:o,z2:1});x.name="item";var b=Tot(l);if(x.calculateTextPosition=pot(b,{isRoundCap:y===pm}),f){var T=x.shape,C=l?"r":"endAngle",M={};T[C]=l?o.r0:o.startAngle,M[C]=o[C],(v?we:je)(x,{shape:M},f)}return x}};function DHt(a,t){var e=a.get("realtimeSort",!0),o=t.getBaseAxis();if(e&&o.type==="category"&&t.type==="cartesian2d")return{baseAxis:o,otherAxis:t.getOtherAxis(o)}}function mot(a,t,e,o,l,f,h,v){var g,y;f?(y={x:o.x,width:o.width},g={y:o.y,height:o.height}):(y={y:o.y,height:o.height},g={x:o.x,width:o.width}),v||(h?we:je)(e,{shape:g},t,l,null);var x=t?a.baseAxis.model:null;(h?we:je)(e,{shape:y},x,l)}function yot(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var MHt=["x","y","width","height"],LHt=["cx","cy","r","startAngle","endAngle"],_ot={cartesian2d:function(a){return!yot(a,MHt)},polar:function(a){return!yot(a,LHt)}},YD={cartesian2d:function(a,t,e){var o=a.getItemLayout(t),l=e?EHt(e,o):0,f=o.width>0?1:-1,h=o.height>0?1:-1;return{x:o.x+f*l/2,y:o.y+h*l/2,width:o.width-f*l,height:o.height-h*l}},polar:function(a,t,e){var o=a.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function IHt(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function Tot(a){return function(t){var e=t?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+e;default:return o}}}(a)}function xot(a,t,e,o,l,f,h,v){var g=t.getItemVisual(e,"style");if(v){if(!f.get("roundCap")){var x=a.shape,b=kl(o.getModel("itemStyle"),x,!0);mt(x,b),a.setShape(x)}}else{var y=o.get(["itemStyle","borderRadius"])||0;a.setShape("r",y)}a.useStyle(g);var T=o.getShallow("cursor");T&&a.attr("cursor",T);var C=v?h?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":h?l.height>=0?"bottom":"top":l.width>=0?"right":"left",M=cr(o);_r(a,M,{labelFetcher:f,labelDataIndex:e,defaultText:Vs(f.getData(),e),inheritColor:g.fill,defaultOpacity:g.opacity,defaultOutsidePosition:C});var I=a.getTextContent();if(v&&I){var P=o.get(["label","position"]);a.textConfig.inside=P==="middle"?!0:null,vot(a,P==="outside"?C:P,Tot(h),o.get(["label","rotate"]))}oC(I,M,f.getRawValue(e),function(N){return BD(t,N)});var O=o.getModel(["emphasis"]);Ke(a,O.get("focus"),O.get("blurScope"),O.get("disabled")),Ir(a,o),IHt(l)&&(a.style.fill="none",a.style.stroke="none",X(a.states,function(N){N.style&&(N.style.fill=N.style.stroke="none")}))}function EHt(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var o=a.get(["itemStyle","borderWidth"])||0,l=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),f=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(o,l,f)}var PHt=function(){function a(){}return a}(),Sot=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="largeBar",o}return t.prototype.getDefaultShape=function(){return new PHt},t.prototype.buildPath=function(e,o){for(var l=o.points,f=this.baseDimIdx,h=1-this.baseDimIdx,v=[],g=[],y=this.barWidth,x=0;x<l.length;x+=3)g[f]=y,g[h]=l[x+2],v[f]=l[x+f],v[h]=l[x+h],e.rect(v[0],v[1],g[0],g[1])},t}(se);function bot(a,t,e,o){var l=a.getData(),f=l.getLayout("valueAxisHorizontal")?1:0,h=l.getLayout("largeDataIndices"),v=l.getLayout("size"),g=a.getModel("backgroundStyle"),y=l.getLayout("largeBackgroundPoints");if(y){var x=new Sot({shape:{points:y},incremental:!!o,silent:!0,z2:0});x.baseDimIdx=f,x.largeDataIndices=h,x.barWidth=v,x.useStyle(g.getItemStyle()),t.add(x),e&&e.push(x)}var b=new Sot({shape:{points:l.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});b.baseDimIdx=f,b.largeDataIndices=h,b.barWidth=v,t.add(b),b.useStyle(l.getVisual("style")),b.style.stroke=null,Kt(b).seriesIndex=a.seriesIndex,a.get("silent")||(b.on("mousedown",wot),b.on("mousemove",wot)),e&&e.push(b)}var wot=ov(function(a){var t=this,e=RHt(t,a.offsetX,a.offsetY);Kt(t).dataIndex=e>=0?e:null},30,!1);function RHt(a,t,e){for(var o=a.baseDimIdx,l=1-o,f=a.shape.points,h=a.largeDataIndices,v=[],g=[],y=a.barWidth,x=0,b=f.length/3;x<b;x++){var T=x*3;if(g[o]=y,g[l]=f[T+2],v[o]=f[T+o],v[l]=f[T+l],g[l]<0&&(v[l]+=g[l],g[l]=-g[l]),t>=v[0]&&t<=v[0]+g[0]&&e>=v[1]&&e<=v[1]+g[1])return h[x]}return-1}function Aot(a,t,e){if($o(e,"cartesian2d")){var o=t,l=e.getArea();return{x:a?o.x:l.x,y:a?l.y:o.y,width:a?o.width:l.width,height:a?l.height:o.height}}else{var l=e.getArea(),f=t;return{cx:l.cx,cy:l.cy,r0:a?l.r0:f.r0,r:a?l.r:f.r,startAngle:a?f.startAngle:0,endAngle:a?f.endAngle:Math.PI*2}}}function OHt(a,t,e){var o=a.type==="polar"?$r:ge;return new o({shape:Aot(t,e,a),silent:!0,z2:0})}var Cot=CHt;function AF(a){a.registerChartView(Cot),a.registerSeriesModel(hot),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Qt(pD,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,vD("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dS("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var o=t.componentType||"series";e.eachComponent({mainType:o,query:t},function(l){t.sortInfo&&l.axis.setCategorySortInfo(t.sortInfo)})})}var Dot=Math.PI*2,ZD=Math.PI/180;function Mot(a,t){return ar(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function CF(a,t){var e=Mot(a,t),o=a.get("center"),l=a.get("radius");yt(l)||(l=[0,l]);var f=Pt(e.width,t.getWidth()),h=Pt(e.height,t.getHeight()),v=Math.min(f,h),g=Pt(l[0],v/2),y=Pt(l[1],v/2),x,b,T=a.coordinateSystem;if(T){var C=T.dataToPoint(o);x=C[0]||0,b=C[1]||0}else yt(o)||(o=[o,o]),x=Pt(o[0],f)+e.x,b=Pt(o[1],h)+e.y;return{cx:x,cy:b,r0:g,r:y}}function DF(a,t,e){t.eachSeriesByType(a,function(o){var l=o.getData(),f=l.mapDimension("value"),h=Mot(o,e),v=CF(o,e),g=v.cx,y=v.cy,x=v.r,b=v.r0,T=-o.get("startAngle")*ZD,C=o.get("endAngle"),M=o.get("padAngle")*ZD;C=C==="auto"?T-Dot:-C*ZD;var I=o.get("minAngle")*ZD,P=I+M,O=0;l.each(f,function(xt){!isNaN(xt)&&O++});var N=l.getSum(f),V=Math.PI/(N||O)*2,F=o.get("clockwise"),U=o.get("roseType"),H=o.get("stillShowZeroSum"),Z=l.getDataExtent(f);Z[0]=0;var $=F?1:-1,K=[T,C],Q=$*M/2;nx(K,!F),T=K[0],C=K[1];var rt=MF(o);rt.startAngle=T,rt.endAngle=C,rt.clockwise=F;var nt=Math.abs(C-T),ot=nt,ft=0,lt=T;if(l.setLayout({viewRect:h,r:x}),l.each(f,function(xt,st){var dt;if(isNaN(xt)){l.setItemLayout(st,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:F,cx:g,cy:y,r0:b,r:U?NaN:x});return}U!=="area"?dt=N===0&&H?V:xt*V:dt=nt/O,dt<P?(dt=P,ot-=P):ft+=xt;var Et=lt+$*dt,At=0,Zt=0;M>dt?(At=lt+$*dt/2,Zt=At):(At=lt+Q,Zt=Et-Q),l.setItemLayout(st,{angle:dt,startAngle:At,endAngle:Zt,clockwise:F,cx:g,cy:y,r0:b,r:U?$e(xt,Z,[b,x]):x}),lt=Et}),ot<Dot&&O)if(ot<=.001){var pt=nt/O;l.each(f,function(xt,st){if(!isNaN(xt)){var dt=l.getItemLayout(st);dt.angle=pt;var Et=0,At=0;pt<M?(Et=T+$*(st+1/2)*pt,At=Et):(Et=T+$*st*pt+Q,At=T+$*(st+1)*pt-Q),dt.startAngle=Et,dt.endAngle=At}})}else V=ot/ft,lt=T,l.each(f,function(xt,st){if(!isNaN(xt)){var dt=l.getItemLayout(st),Et=dt.angle===P?P:xt*V,At=0,Zt=0;Et<M?(At=lt+$*Et/2,Zt=At):(At=lt+Q,Zt=lt+$*Et-Q),dt.startAngle=At,dt.endAngle=Zt,lt+=$*Et}})})}var MF=ue();function Fs(a){return{seriesType:a,reset:function(t,e){var o=e.findComponents({mainType:"legend"});if(!(!o||!o.length)){var l=t.getData();l.filterSelf(function(f){for(var h=l.getName(f),v=0;v<o.length;v++)if(!o[v].isSelected(h))return!1;return!0})}}}}var kHt=Math.PI/180;function Lot(a,t,e,o,l,f,h,v,g,y){if(a.length<2)return;function x(I){for(var P=I.rB,O=P*P,N=0;N<I.list.length;N++){var V=I.list[N],F=Math.abs(V.label.y-e),U=o+V.len,H=U*U,Z=Math.sqrt(Math.abs((1-F*F/O)*H)),$=t+(Z+V.len2)*l,K=$-V.label.x,Q=V.targetTextWidth-K*l;Iot(V,Q,!0),V.label.x=$}}function b(I){for(var P={list:[],maxY:0},O={list:[],maxY:0},N=0;N<I.length;N++)if(I[N].labelAlignTo==="none"){var V=I[N],F=V.label.y>e?O:P,U=Math.abs(V.label.y-e);if(U>=F.maxY){var H=V.label.x-t-V.len2*l,Z=o+V.len,$=Math.abs(H)<Z?Math.sqrt(U*U/(1-H*H/Z/Z)):Z;F.rB=$,F.maxY=U}F.list.push(V)}x(P),x(O)}for(var T=a.length,C=0;C<T;C++)if(a[C].position==="outer"&&a[C].labelAlignTo==="labelLine"){var M=a[C].label.x-y;a[C].linePoints[1][0]+=M,a[C].label.x=y}DD(a,g,g+h)&&b(a)}function NHt(a,t,e,o,l,f,h,v){for(var g=[],y=[],x=Number.MAX_VALUE,b=-Number.MAX_VALUE,T=0;T<a.length;T++){var C=a[T].label;LF(a[T])||(C.x<t?(x=Math.min(x,C.x),g.push(a[T])):(b=Math.max(b,C.x),y.push(a[T])))}for(var T=0;T<a.length;T++){var M=a[T];if(!LF(M)&&M.linePoints){if(M.labelStyleWidth!=null)continue;var C=M.label,I=M.linePoints,P=void 0;M.labelAlignTo==="edge"?C.x<t?P=I[2][0]-M.labelDistance-h-M.edgeDistance:P=h+l-M.edgeDistance-I[2][0]-M.labelDistance:M.labelAlignTo==="labelLine"?C.x<t?P=x-h-M.bleedMargin:P=h+l-b-M.bleedMargin:C.x<t?P=C.x-h-M.bleedMargin:P=h+l-C.x-M.bleedMargin,M.targetTextWidth=P,Iot(M,P)}}Lot(y,t,e,o,1,l,f,h,v,b),Lot(g,t,e,o,-1,l,f,h,v,x);for(var T=0;T<a.length;T++){var M=a[T];if(!LF(M)&&M.linePoints){var C=M.label,I=M.linePoints,O=M.labelAlignTo==="edge",N=C.style.padding,V=N?N[1]+N[3]:0,F=C.style.backgroundColor?0:V,U=M.rect.width+F,H=I[1][0]-I[2][0];O?C.x<t?I[2][0]=h+M.edgeDistance+U+M.labelDistance:I[2][0]=h+l-M.edgeDistance-U-M.labelDistance:(C.x<t?I[2][0]=C.x+M.labelDistance:I[2][0]=C.x-M.labelDistance,I[1][0]=I[2][0]+H),I[1][1]=I[2][1]=C.y}}}function Iot(a,t,e){if(e===void 0&&(e=!1),a.labelStyleWidth==null){var o=a.label,l=o.style,f=a.rect,h=l.backgroundColor,v=l.padding,g=v?v[1]+v[3]:0,y=l.overflow,x=f.width+(h?0:g);if(t<x||e){var b=f.height;if(y&&y.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",t-g);var T=o.getBoundingRect();o.setStyle("width",Math.ceil(T.width)),o.setStyle("backgroundColor",h)}else{var C=t-g,M=t<x?C:e?C>a.unconstrainedWidth?null:C:null;o.setStyle("width",M)}var I=o.getBoundingRect();f.width=I.width;var P=(o.style.margin||0)+2.1;f.height=I.height+P,f.y-=(f.height-b)/2}}}function LF(a){return a.position==="center"}function IF(a){var t=a.getData(),e=[],o,l,f=!1,h=(a.get("minShowLabelAngle")||0)*kHt,v=t.getLayout("viewRect"),g=t.getLayout("r"),y=v.width,x=v.x,b=v.y,T=v.height;function C(H){H.ignore=!0}function M(H){if(!H.ignore)return!0;for(var Z in H.states)if(H.states[Z].ignore===!1)return!0;return!1}t.each(function(H){var Z=t.getItemGraphicEl(H),$=Z.shape,K=Z.getTextContent(),Q=Z.getTextGuideLine(),rt=t.getItemModel(H),nt=rt.getModel("label"),ot=nt.get("position")||rt.get(["emphasis","label","position"]),ft=nt.get("distanceToLabelLine"),lt=nt.get("alignTo"),pt=Pt(nt.get("edgeDistance"),y),xt=nt.get("bleedMargin"),st=rt.getModel("labelLine"),dt=st.get("length");dt=Pt(dt,y);var Et=st.get("length2");if(Et=Pt(Et,y),Math.abs($.endAngle-$.startAngle)<h){X(K.states,C),K.ignore=!0,Q&&(X(Q.states,C),Q.ignore=!0);return}if(M(K)){var At=($.startAngle+$.endAngle)/2,Zt=Math.cos(At),qt=Math.sin(At),te,j,Tt,lr;o=$.cx,l=$.cy;var jt=ot==="inside"||ot==="inner";if(ot==="center")te=$.cx,j=$.cy,lr="center";else{var ve=(jt?($.r+$.r0)/2*Zt:$.r*Zt)+o,Xt=(jt?($.r+$.r0)/2*qt:$.r*qt)+l;if(te=ve+Zt*3,j=Xt+qt*3,!jt){var fe=ve+Zt*(dt+g-$.r),Mt=Xt+qt*(dt+g-$.r),ee=fe+(Zt<0?-1:1)*Et,wt=Mt;lt==="edge"?te=Zt<0?x+pt:x+y-pt:te=ee+(Zt<0?-ft:ft),j=wt,Tt=[[ve,Xt],[fe,Mt],[ee,wt]]}lr=jt?"center":lt==="edge"?Zt>0?"right":"left":Zt>0?"left":"right"}var Gt=Math.PI,kt=0,Hr=nt.get("rotate");if(ye(Hr))kt=Hr*(Gt/180);else if(ot==="center")kt=0;else if(Hr==="radial"||Hr===!0){var Ne=Zt<0?-At+Gt:-At;kt=Ne}else if(Hr==="tangential"&&ot!=="outside"&&ot!=="outer"){var re=Math.atan2(Zt,qt);re<0&&(re=Gt*2+re);var os=qt>0;os&&(re=Gt+re),kt=re-Gt}if(f=!!kt,K.x=te,K.y=j,K.rotation=kt,K.setStyle({verticalAlign:"middle"}),jt){K.setStyle({align:lr});var Hl=K.states.select;Hl&&(Hl.x+=K.x,Hl.y+=K.y)}else{var Wr=K.getBoundingRect().clone();Wr.applyTransform(K.getComputedTransform());var ss=(K.style.margin||0)+2.1;Wr.y-=ss/2,Wr.height+=ss,e.push({label:K,labelLine:Q,position:ot,len:dt,len2:Et,minTurnAngle:st.get("minTurnAngle"),maxSurfaceAngle:st.get("maxSurfaceAngle"),surfaceNormal:new Le(Zt,qt),linePoints:Tt,textAlign:lr,labelDistance:ft,labelAlignTo:lt,edgeDistance:pt,bleedMargin:xt,rect:Wr,unconstrainedWidth:Wr.width,labelStyleWidth:K.style.width})}Z.setTextConfig({inside:jt})}}),!f&&a.get("avoidLabelOverlap")&&NHt(e,o,l,g,y,T,x,b);for(var I=0;I<e.length;I++){var P=e[I],O=P.label,N=P.labelLine,V=isNaN(O.x)||isNaN(O.y);if(O){O.setStyle({align:P.textAlign}),V&&(X(O.states,C),O.ignore=!0);var F=O.states.select;F&&(F.x+=O.x,F.y+=O.y)}if(N){var U=P.linePoints;V||!U?(X(N.states,C),N.ignore=!0):(WB(U,P.minTurnAngle),Tnt(U,P.surfaceNormal,P.maxSurfaceAngle),N.setShape({points:U}),O.__hostTarget.textGuideLineConfig={anchor:new Le(U[0][0],U[0][1])})}}}var zHt=function(a){at(t,a);function t(e,o,l){var f=a.call(this)||this;f.z2=2;var h=new _e;return f.setTextContent(h),f.updateData(e,o,l,!0),f}return t.prototype.updateData=function(e,o,l,f){var h=this,v=e.hostModel,g=e.getItemModel(o),y=g.getModel("emphasis"),x=e.getItemLayout(o),b=mt(kl(g.getModel("itemStyle"),x,!0),x);if(isNaN(b.startAngle)){h.setShape(b);return}if(f){h.setShape(b);var T=v.getShallow("animationType");v.ecModel.ssr?(je(h,{scaleX:0,scaleY:0},v,{dataIndex:o,isFrom:!0}),h.originX=b.cx,h.originY=b.cy):T==="scale"?(h.shape.r=x.r0,je(h,{shape:{r:x.r}},v,o)):l!=null?(h.setShape({startAngle:l,endAngle:l}),je(h,{shape:{startAngle:x.startAngle,endAngle:x.endAngle}},v,o)):(h.shape.endAngle=x.startAngle,we(h,{shape:{endAngle:x.endAngle}},v,o))}else Si(h),we(h,{shape:b},v,o);h.useStyle(e.getItemVisual(o,"style")),Ir(h,g);var C=(x.startAngle+x.endAngle)/2,M=v.get("selectedOffset"),I=Math.cos(C)*M,P=Math.sin(C)*M,O=g.getShallow("cursor");O&&h.attr("cursor",O),this._updateLabel(v,e,o),h.ensureState("emphasis").shape=mt({r:x.r+(y.get("scale")&&y.get("scaleSize")||0)},kl(y.getModel("itemStyle"),x)),mt(h.ensureState("select"),{x:I,y:P,shape:kl(g.getModel(["select","itemStyle"]),x)}),mt(h.ensureState("blur"),{shape:kl(g.getModel(["blur","itemStyle"]),x)});var N=h.getTextGuideLine(),V=h.getTextContent();N&&mt(N.ensureState("select"),{x:I,y:P}),mt(V.ensureState("select"),{x:I,y:P}),Ke(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},t.prototype._updateLabel=function(e,o,l){var f=this,h=o.getItemModel(l),v=h.getModel("labelLine"),g=o.getItemVisual(l,"style"),y=g&&g.fill,x=g&&g.opacity;_r(f,cr(h),{labelFetcher:o.hostModel,labelDataIndex:l,inheritColor:y,defaultOpacity:x,defaultText:e.getFormattedLabel(l,"normal")||o.getName(l)});var b=f.getTextContent();f.setTextConfig({position:null,rotation:null}),b.attr({z2:10});var T=e.get(["label","position"]);if(T!=="outside"&&T!=="outer")f.removeTextGuideLine();else{var C=this.getTextGuideLine();C||(C=new Nr,this.setTextGuideLine(C)),um(this,fm(h),{stroke:y,opacity:Ci(v.get(["lineStyle","opacity"]),x,1)})}},t}($r),VHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,o,l,f){var h=e.getData(),v=this._data,g=this.group,y;if(!v&&h.count()>0){for(var x=h.getItemLayout(0),b=1;isNaN(x&&x.startAngle)&&b<h.count();++b)x=h.getItemLayout(b);x&&(y=x.startAngle)}if(this._emptyCircleSector&&g.remove(this._emptyCircleSector),h.count()===0&&e.get("showEmptyCircle")){var T=MF(e),C=new $r({shape:mt(CF(e,l),T)});C.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=C,g.add(C)}h.diff(v).add(function(M){var I=new zHt(h,M,y);h.setItemGraphicEl(M,I),g.add(I)}).update(function(M,I){var P=v.getItemGraphicEl(I);P.updateData(h,M,y),P.off("click"),g.add(P),h.setItemGraphicEl(M,P)}).remove(function(M){var I=v.getItemGraphicEl(M);Mu(I,e,M)}).execute(),IF(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=h)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,o){var l=o.getData(),f=l.getItemLayout(0);if(f){var h=e[0]-f.cx,v=e[1]-f.cy,g=Math.sqrt(h*h+v*v);return g<=f.r&&g>=f.r0}},t.type="pie",t}(ke),Eot=VHt;function eo(a,t,e){t=yt(t)&&{coordDimensions:t}||mt({encodeDefine:a.getEncode()},t);var o=a.getSource(),l=Zo(o,t).dimensions,f=new Fr(l,a);return f.initData(o,e),f}var BHt=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var o=this._getDataWithEncodedVisual();return o.getItemVisual(t,e)},a}(),Nl=BHt;var FHt=ue(),UHt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nl(It(this.getData,this),It(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return eo(this,{coordDimensions:["value"],encodeDefaulter:Qt(Kg,this)})},t.prototype.getDataParams=function(e){var o=this.getData(),l=FHt(o),f=l.seats;if(!f){var h=[];o.each(o.mapDimension("value"),function(g){h.push(g)}),f=l.seats=az(h,o.hostModel.get("percentPrecision"))}var v=a.prototype.getDataParams.call(this,e);return v.percent=f[e]||0,v.$vars.push("percent"),v},t.prototype._defaultLabelLine=function(e){Zn(e,"labelLine",["show"]);var o=e.labelLine,l=e.emphasis.labelLine;o.show=o.show&&e.label.show,l.show=l.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Ue),Pot=UHt;function EF(a){return{seriesType:a,reset:function(t,e){var o=t.getData();o.filterSelf(function(l){var f=o.mapDimension("value"),h=o.get(f,l);return!(ye(h)&&!isNaN(h)&&h<0)})}}}function PF(a){a.registerChartView(Eot),a.registerSeriesModel(Pot),ZC("pie",a.registerAction),a.registerLayout(Qt(DF,"pie")),a.registerProcessor(Fs("pie")),a.registerProcessor(EF("pie"))}var GHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,o){return Ri(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,o,l){return l.point(o.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Ue),Rot=GHt;var Oot=4,HHt=function(){function a(){}return a}(),WHt=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return t.prototype.getDefaultShape=function(){return new HHt},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,o){var l=o.points,f=o.size,h=this.symbolProxy,v=h.shape,g=e.getContext?e.getContext():e,y=g&&f[0]<Oot,x=this.softClipShape,b;if(y){this._ctx=g;return}for(this._ctx=null,b=this._off;b<l.length;){var T=l[b++],C=l[b++];isNaN(T)||isNaN(C)||x&&!x.contain(T,C)||(v.x=T-f[0]/2,v.y=C-f[1]/2,v.width=f[0],v.height=f[1],h.buildPath(e,v,!0))}this.incremental&&(this._off=b,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,o=e.points,l=e.size,f=this._ctx,h=this.softClipShape,v;if(f){for(v=this._off;v<o.length;){var g=o[v++],y=o[v++];isNaN(g)||isNaN(y)||h&&!h.contain(g,y)||f.fillRect(g-l[0]/2,y-l[1]/2,l[0],l[1])}this.incremental&&(this._off=v,this.notClear=!0)}},t.prototype.findDataIndex=function(e,o){for(var l=this.shape,f=l.points,h=l.size,v=Math.max(h[0],4),g=Math.max(h[1],4),y=f.length/2-1;y>=0;y--){var x=y*2,b=f[x]-v/2,T=f[x+1]-g/2;if(e>=b&&o>=T&&e<=b+v&&o<=T+g)return y}return-1},t.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),f=this.getBoundingRect();if(e=l[0],o=l[1],f.contain(e,o)){var h=this.hoverDataIdx=this.findDataIndex(e,o);return h>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,l=o.points,f=o.size,h=f[0],v=f[1],g=1/0,y=1/0,x=-1/0,b=-1/0,T=0;T<l.length;){var C=l[T++],M=l[T++];g=Math.min(C,g),x=Math.max(C,x),y=Math.min(M,y),b=Math.max(M,b)}e=this._rect=new ie(g-h/2,y-v/2,x-g+h,b-y+v)}return e},t}(se),YHt=function(){function a(){this.group=new Ut}return a.prototype.updateData=function(t,e){this._clear();var o=this._create();o.setShape({points:t.getLayout("points")}),this._setCommon(o,t,e)},a.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var l=(o.endIndex-o.startIndex)*2,f=o.startIndex*4*2;e=new Float32Array(e.buffer,f,l)}o.setShape("points",e),o.reset()})},a.prototype.incrementalPrepareUpdate=function(t){this._clear()},a.prototype.incrementalUpdate=function(t,e,o){var l=this._newAdded[0],f=e.getLayout("points"),h=l&&l.shape.points;if(h&&h.length<2e4){var v=h.length,g=new Float32Array(v+f.length);g.set(h),g.set(f,v),l.endIndex=t.end,l.setShape({points:g})}else{this._newAdded=[];var y=this._create();y.startIndex=t.start,y.endIndex=t.end,y.incremental=!0,y.setShape({points:f}),this._setCommon(y,e,o)}},a.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},a.prototype._create=function(){var t=new WHt({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},a.prototype._setCommon=function(t,e,o){var l=e.hostModel;o=o||{};var f=e.getVisual("symbolSize");t.setShape("size",f instanceof Array?f:[f,f]),t.softClipShape=o.clipShape||null,t.symbolProxy=nr(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var h=t.shape.size[0]<Oot;t.useStyle(l.getModel("itemStyle").getItemStyle(h?["color","shadowBlur","shadowColor"]:["color"]));var v=e.getVisual("style"),g=v&&v.fill;g&&t.setColor(g);var y=Kt(t);y.seriesIndex=l.seriesIndex,t.on("mousemove",function(x){y.dataIndex=null;var b=t.hoverDataIdx;b>=0&&(y.dataIndex=b+(t.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),kot=YHt;var ZHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=e.getData(),h=this._updateSymbolDraw(f,e);h.updateData(f,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,l){var f=e.getData(),h=this._updateSymbolDraw(f,e);h.incrementalPrepareUpdate(f),this._finished=!1},t.prototype.incrementalRender=function(e,o,l){this._symbolDraw.incrementalUpdate(e,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=e.end===o.getData().count()},t.prototype.updateTransform=function(e,o,l){var f=e.getData();if(this.group.dirty(),!this._finished||f.count()>1e4)return{update:!0};var h=Bs("").reset(e,o,l);h.progress&&h.progress({start:0,end:f.count(),count:f.count()},f),this._symbolDraw.updateLayout(f)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var o=e.coordinateSystem;return o&&o.getArea&&o.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,o){var l=this._symbolDraw,f=o.pipelineContext,h=f.large;return(!l||h!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=h?new kot:new Rl,this._isLargeDraw=h,this.group.removeAll()),this.group.add(l.group),l},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ke),Not=ZHt;var XHt=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(xe),zot=XHt;var XD=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",pr).models[0]},t.type="cartesian2dAxis",t}(xe);or(XD,qo);var Vot={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},qHt=ne({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Vot),RF=ne({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Vot),$Ht=ne({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},RF),KHt=zt({logBase:10},RF),qD={category:qHt,value:RF,time:$Ht,log:KHt};var Bot={value:1,category:1,time:1,log:1};function Us(a,t,e,o){X(Bot,function(l,f){var h=ne(ne({},qD[f],!0),o,!0),v=function(g){at(y,g);function y(){var x=g!==null&&g.apply(this,arguments)||this;return x.type=t+"Axis."+f,x}return y.prototype.mergeDefaultAndTheme=function(x,b){var T=uc(this),C=T?Fo(x):{},M=b.getTheme();ne(x,M.get(f+"Axis")),ne(x,this.getDefaultOption()),x.type=Fot(x),T&&bn(x,C,T)},y.prototype.optionUpdated=function(){var x=this.option;x.type==="category"&&(this.__ordinalMeta=tS.createByAxisModel(this))},y.prototype.getCategories=function(x){var b=this.option;if(b.type==="category")return x?b.data:this.__ordinalMeta.categories},y.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},y.type=t+"Axis."+f,y.defaultOption=h,y}(e);a.registerComponentModel(v)}),a.registerSubTypeDefaulter(t+"Axis",Fot)}function Fot(a){return a.type||(a.data?"category":"value")}var jHt=function(){function a(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return a.prototype.getAxis=function(t){return this._axes[t]},a.prototype.getAxes=function(){return _t(this._dimList,function(t){return this._axes[t]},this)},a.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ee(this.getAxes(),function(e){return e.scale.type===t})},a.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},a}(),Uot=jHt;var $D=["x","y"];function Got(a){return a.type==="interval"||a.type==="time"}var JHt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=$D,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!Got(e)||!Got(o))){var l=e.getExtent(),f=o.getExtent(),h=this.dataToPoint([l[0],f[0]]),v=this.dataToPoint([l[1],f[1]]),g=l[1]-l[0],y=f[1]-f[0];if(!(!g||!y)){var x=(v[0]-h[0])/g,b=(v[1]-h[1])/y,T=h[0]-l[0]*x,C=h[1]-f[0]*b,M=this._transform=[x,0,0,b,T,C];this._invTransform=Wn([],M)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var o=this.getAxis("x"),l=this.getAxis("y");return o.contain(o.toLocalCoord(e[0]))&&l.contain(l.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,o){var l=this.dataToPoint(e),f=this.dataToPoint(o),h=this.getArea(),v=new ie(l[0],l[1],f[0]-l[0],f[1]-l[1]);return h.intersect(v)},t.prototype.dataToPoint=function(e,o,l){l=l||[];var f=e[0],h=e[1];if(this._transform&&f!=null&&isFinite(f)&&h!=null&&isFinite(h))return qr(l,e,this._transform);var v=this.getAxis("x"),g=this.getAxis("y");return l[0]=v.toGlobalCoord(v.dataToCoord(f,o)),l[1]=g.toGlobalCoord(g.dataToCoord(h,o)),l},t.prototype.clampData=function(e,o){var l=this.getAxis("x").scale,f=this.getAxis("y").scale,h=l.getExtent(),v=f.getExtent(),g=l.parse(e[0]),y=f.parse(e[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(h[0],h[1]),g),Math.max(h[0],h[1])),o[1]=Math.min(Math.max(Math.min(v[0],v[1]),y),Math.max(v[0],v[1])),o},t.prototype.pointToData=function(e,o){var l=[];if(this._invTransform)return qr(l,e,this._invTransform);var f=this.getAxis("x"),h=this.getAxis("y");return l[0]=f.coordToData(f.toLocalCoord(e[0]),o),l[1]=h.coordToData(h.toLocalCoord(e[1]),o),l},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var o=this.getAxis("x").getGlobalExtent(),l=this.getAxis("y").getGlobalExtent(),f=Math.min(o[0],o[1])-e,h=Math.min(l[0],l[1])-e,v=Math.max(o[0],o[1])-f+e,g=Math.max(l[0],l[1])-h+e;return new ie(f,h,v,g)},t}(Uot),Hot=JHt;var QHt=function(a){at(t,a);function t(e,o,l,f,h){var v=a.call(this,e,o,l)||this;return v.index=0,v.type=f||"value",v.position=h||"bottom",v}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),e&&o[0]>o[1]&&o.reverse(),o},t.prototype.pointToData=function(e,o){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),o)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Oi),Wot=QHt;function gS(a,t,e){e=e||{};var o=a.coordinateSystem,l=t.axis,f={},h=l.getAxesOnZeroOf()[0],v=l.position,g=h?"onZero":v,y=l.dim,x=o.getRect(),b=[x.x,x.x+x.width,x.y,x.y+x.height],T={left:0,right:1,top:0,bottom:1,onZero:2},C=t.get("offset")||0,M=y==="x"?[b[2]-C,b[3]+C]:[b[0]-C,b[1]+C];if(h){var I=h.toGlobalCoord(h.dataToCoord(0));M[T.onZero]=Math.max(Math.min(I,M[1]),M[0])}f.position=[y==="y"?M[T[g]]:b[0],y==="x"?M[T[g]]:b[3]],f.rotation=Math.PI/2*(y==="x"?0:1);var P={top:-1,bottom:1,left:-1,right:1};f.labelDirection=f.tickDirection=f.nameDirection=P[v],f.labelOffset=h?M[T[v]]-M[T.onZero]:0,t.get(["axisTick","inside"])&&(f.tickDirection=-f.tickDirection),wr(e.labelInside,t.get(["axisLabel","inside"]))&&(f.labelDirection=-f.labelDirection);var O=t.get(["axisLabel","rotate"]);return f.labelRotate=g==="top"?-O:O,f.z2=1,f}function OF(a){return a.get("coordinateSystem")==="cartesian2d"}function kF(a){var t={xAxisModel:null,yAxisModel:null};return X(t,function(e,o){var l=o.replace(/Model$/,""),f=a.getReferringComponents(l,pr).models[0];t[o]=f}),t}var NF=Math.log;function KD(a,t,e){var o=Dn.prototype,l=o.getTicks.call(e),f=o.getTicks.call(e,!0),h=l.length-1,v=o.getInterval.call(e),g=EB(a,t),y=g.extent,x=g.fixMin,b=g.fixMax;if(a.type==="log"){var T=NF(a.base);y=[NF(y[0])/T,NF(y[1])/T]}a.setExtent(y[0],y[1]),a.calcNiceExtent({splitNumber:h,fixMin:x,fixMax:b});var C=o.getExtent.call(a);x&&(y[0]=C[0]),b&&(y[1]=C[1]);var M=o.getInterval.call(a),I=y[0],P=y[1];if(x&&b)M=(P-I)/h;else if(x)for(P=y[0]+M*h;P<y[1]&&isFinite(P)&&isFinite(y[1]);)M=cD(M),P=y[0]+M*h;else if(b)for(I=y[1]-M*h;I>y[0]&&isFinite(I)&&isFinite(y[0]);)M=cD(M),I=y[1]-M*h;else{var O=a.getTicks().length-1;O>h&&(M=cD(M));var N=M*h;P=Math.ceil(y[1]/M)*M,I=hr(P-N),I<0&&y[0]>=0?(I=0,P=hr(N)):P>0&&y[1]<=0&&(P=0,I=-hr(N))}var V=(l[0].value-f[0].value)/v,F=(l[h].value-f[h].value)/v;if(o.setExtent.call(a,I+M*V,P+M*F),o.setInterval.call(a,M),(V||F)&&o.setNiceExtent.call(a,I+M,P-M),0)var U}var t3t=function(){function a(t,e,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=$D,this._initCartesian(t,e,o),this.model=t}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(t,e){var o=this._axesMap;this._updateScale(t,this.model);function l(h){var v,g=he(h),y=g.length;if(y){for(var x=[],b=y-1;b>=0;b--){var T=+g[b],C=h[T],M=C.model,I=C.scale;eS(I)&&M.get("alignTicks")&&M.get("interval")==null?x.push(C):(Xo(I,M),eS(I)&&(v=C))}x.length&&(v||(v=x.pop(),Xo(v.scale,v.model)),X(x,function(P){KD(P.scale,P.model,v.scale)}))}}l(o.x),l(o.y);var f={};X(o.x,function(h){Zot(o,"y",h,f)}),X(o.y,function(h){Zot(o,"x",h,f)}),this.resize(this.model,e)},a.prototype.resize=function(t,e,o){var l=t.getBoxLayoutParams(),f=!o&&t.get("containLabel"),h=ar(l,{width:e.getWidth(),height:e.getHeight()});this._rect=h;var v=this._axesList;g(),f&&(X(v,function(y){if(!y.model.get(["axisLabel","inside"])){var x=int(y);if(x){var b=y.isHorizontal()?"height":"width",T=y.model.get(["axisLabel","margin"]);h[b]-=x[b]+T,y.position==="top"?h.y+=x.height+T:y.position==="left"&&(h.x+=x.width+T)}}}),g()),X(this._coordsList,function(y){y.calcAffineTransform()});function g(){X(v,function(y){var x=y.isHorizontal(),b=x?[0,h.width]:[0,h.height],T=y.inverse?1:0;y.setExtent(b[T],b[1-T]),e3t(y,x?h.x:h.y)})}},a.prototype.getAxis=function(t,e){var o=this._axesMap[t];if(o!=null)return o[e||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var o="x"+t+"y"+e;return this._coordsMap[o]}Ft(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var l=0,f=this._coordsList;l<f.length;l++)if(f[l].getAxis("x").index===t||f[l].getAxis("y").index===e)return f[l]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(t,e,o){var l=this._findConvertTarget(e);return l.cartesian?l.cartesian.dataToPoint(o):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(o)):null},a.prototype.convertFromPixel=function(t,e,o){var l=this._findConvertTarget(e);return l.cartesian?l.cartesian.pointToData(o):l.axis?l.axis.coordToData(l.axis.toLocalCoord(o)):null},a.prototype._findConvertTarget=function(t){var e=t.seriesModel,o=t.xAxisModel||e&&e.getReferringComponents("xAxis",pr).models[0],l=t.yAxisModel||e&&e.getReferringComponents("yAxis",pr).models[0],f=t.gridModel,h=this._coordsList,v,g;if(e)v=e.coordinateSystem,ae(h,v)<0&&(v=null);else if(o&&l)v=this.getCartesian(o.componentIndex,l.componentIndex);else if(o)g=this.getAxis("x",o.componentIndex);else if(l)g=this.getAxis("y",l.componentIndex);else if(f){var y=f.coordinateSystem;y===this&&(v=this._coordsList[0])}return{cartesian:v,axis:g}},a.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},a.prototype._initCartesian=function(t,e,o){var l=this,f=this,h={left:!1,right:!1,top:!1,bottom:!1},v={x:{},y:{}},g={x:0,y:0};if(e.eachComponent("xAxis",y("x"),this),e.eachComponent("yAxis",y("y"),this),!g.x||!g.y){this._axesMap={},this._axesList=[];return}this._axesMap=v,X(v.x,function(x,b){X(v.y,function(T,C){var M="x"+b+"y"+C,I=new Hot(M);I.master=l,I.model=t,l._coordsMap[M]=I,l._coordsList.push(I),I.addAxis(x),I.addAxis(T)})});function y(x){return function(b,T){if(zF(b,t)){var C=b.get("position");x==="x"?C!=="top"&&C!=="bottom"&&(C=h.bottom?"top":"bottom"):C!=="left"&&C!=="right"&&(C=h.left?"right":"left"),h[C]=!0;var M=new Wot(x,Ll(b),[0,0],b.get("type"),C),I=M.type==="category";M.onBand=I&&b.get("boundaryGap"),M.inverse=b.get("inverse"),b.axis=M,M.model=b,M.grid=f,M.index=T,f._axesList.push(M),v[x][T]=M,g[x]++}}}},a.prototype._updateScale=function(t,e){X(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),l.type==="category"){var f=l.model.get("categorySortInfo");l.scale.setSortInfo(f)}}),t.eachSeries(function(l){if(OF(l)){var f=kF(l),h=f.xAxisModel,v=f.yAxisModel;if(!zF(h,e)||!zF(v,e))return;var g=this.getCartesian(h.componentIndex,v.componentIndex),y=l.getData(),x=g.getAxis("x"),b=g.getAxis("y");o(y,x),o(y,b)}},this);function o(l,f){X(sm(l,f.dim),function(h){f.scale.unionExtentFromData(l,h)})}},a.prototype.getTooltipAxes=function(t){var e=[],o=[];return X(this.getCartesians(),function(l){var f=t!=null&&t!=="auto"?l.getAxis(t):l.getBaseAxis(),h=l.getOtherAxis(f);ae(e,f)<0&&e.push(f),ae(o,h)<0&&o.push(h)}),{baseAxes:e,otherAxes:o}},a.create=function(t,e){var o=[];return t.eachComponent("grid",function(l,f){var h=new a(l,t,e);h.name="grid_"+f,h.resize(l,e,!0),l.coordinateSystem=h,o.push(h)}),t.eachSeries(function(l){if(OF(l)){var f=kF(l),h=f.xAxisModel,v=f.yAxisModel,g=h.getCoordSysModel(),y=g.coordinateSystem;l.coordinateSystem=y.getCartesian(h.componentIndex,v.componentIndex)}}),o},a.dimensions=$D,a}();function zF(a,t){return a.getCoordSysModel()===t}function Zot(a,t,e,o){e.getAxesOnZeroOf=function(){return f?[f]:[]};var l=a[t],f,h=e.model,v=h.get(["axisLine","onZero"]),g=h.get(["axisLine","onZeroAxisIndex"]);if(!v)return;if(g!=null)Xot(l[g])&&(f=l[g]);else for(var y in l)if(l.hasOwnProperty(y)&&Xot(l[y])&&!o[x(l[y])]){f=l[y];break}f&&(o[x(f)]=!0);function x(b){return b.dim+"_"+b.index}}function Xot(a){return a&&a.type!=="category"&&a.type!=="time"&&rnt(a)}function e3t(a,t){var e=a.getExtent(),o=e[0]+e[1];a.toGlobalCoord=a.dim==="x"?function(l){return l+t}:function(l){return o-l+t},a.toLocalCoord=a.dim==="x"?function(l){return l-t}:function(l){return o-l+t}}var qot=t3t;var wc=Math.PI,mv=function(){function a(t,e){this.group=new Ut,this.opt=e,this.axisModel=t,zt(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Ut({x:e.position[0],y:e.position[1],rotation:e.rotation});o.updateTransform(),this._transformGroup=o}return a.prototype.hasBuilder=function(t){return!!$ot[t]},a.prototype.add=function(t){$ot[t](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(t,e,o){var l=J_(e-t),f,h;return _u(l)?(h=o>0?"top":"bottom",f="center"):_u(l-wc)?(h=o>0?"bottom":"top",f="center"):(h="middle",l>0&&l<wc?f=o>0?"right":"left":f=o>0?"left":"right"),{rotation:l,textAlign:f,textVerticalAlign:h}},a.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},a.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},a}(),$ot={axisLine:function(a,t,e,o){var l=t.get(["axisLine","show"]);if(l==="auto"&&a.handleAutoShown&&(l=a.handleAutoShown("axisLine")),!!l){var f=t.axis.getExtent(),h=o.transform,v=[f[0],0],g=[f[1],0],y=v[0]>g[0];h&&(qr(v,v,h),qr(g,g,h));var x=mt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),b=new Er({shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:x,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});Lu(b.shape,b.style.lineWidth),b.anid="line",e.add(b);var T=t.get(["axisLine","symbol"]);if(T!=null){var C=t.get(["axisLine","symbolSize"]);Dt(T)&&(T=[T,T]),(Dt(C)||ye(C))&&(C=[C,C]);var M=to(t.get(["axisLine","symbolOffset"])||0,C),I=C[0],P=C[1];X([{rotate:a.rotation+Math.PI/2,offset:M[0],r:0},{rotate:a.rotation-Math.PI/2,offset:M[1],r:Math.sqrt((v[0]-g[0])*(v[0]-g[0])+(v[1]-g[1])*(v[1]-g[1]))}],function(O,N){if(T[N]!=="none"&&T[N]!=null){var V=nr(T[N],-I/2,-P/2,I,P,x.stroke,!0),F=O.r+O.offset,U=y?g:v;V.attr({rotation:O.rotate,x:U[0]+F*Math.cos(a.rotation),y:U[1]-F*Math.sin(a.rotation),silent:!0,z2:11}),e.add(V)}})}}},axisTickLabel:function(a,t,e,o){var l=a3t(e,o,t,a),f=o3t(e,o,t,a);if(i3t(t,f,l),n3t(e,o,t,a.tickDirection),t.get(["axisLabel","hideOverlap"])){var h=CD(_t(f,function(v){return{label:v,priority:v.z2,defaultAttr:{ignore:v.ignore}}}));MD(h)}},axisName:function(a,t,e,o){var l=wr(a.axisName,t.get("name"));if(l){var f=t.get("nameLocation"),h=a.nameDirection,v=t.getModel("nameTextStyle"),g=t.get("nameGap")||0,y=t.axis.getExtent(),x=y[0]>y[1]?-1:1,b=[f==="start"?y[0]-x*g:f==="end"?y[1]+x*g:(y[0]+y[1])/2,jot(f)?a.labelOffset+h*g:0],T,C=t.get("nameRotate");C!=null&&(C=C*wc/180);var M;jot(f)?T=mv.innerTextLayout(a.rotation,C??a.rotation,h):(T=r3t(a.rotation,f,C||0,y),M=a.axisNameAvailableWidth,M!=null&&(M=Math.abs(M/Math.sin(T.rotation)),!isFinite(M)&&(M=null)));var I=v.getFont(),P=t.get("nameTruncate",!0)||{},O=P.ellipsis,N=wr(a.nameTruncateMaxWidth,P.maxWidth,M),V=new _e({x:b[0],y:b[1],rotation:T.rotation,silent:mv.isLabelSilent(t),style:Je(v,{text:l,font:I,overflow:"truncate",width:N,ellipsis:O,fill:v.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:v.get("align")||T.textAlign,verticalAlign:v.get("verticalAlign")||T.textVerticalAlign}),z2:1});if(Vo({el:V,componentModel:t,itemName:l}),V.__fullText=l,V.anid="name",t.get("triggerEvent")){var F=mv.makeAxisEventDataBase(t);F.targetType="axisName",F.name=l,Kt(V).eventData=F}o.add(V),V.updateTransform(),e.add(V),V.decomposeTransform()}}};function r3t(a,t,e,o){var l=J_(e-a),f,h,v=o[0]>o[1],g=t==="start"&&!v||t!=="start"&&v;return _u(l-wc/2)?(h=g?"bottom":"top",f="center"):_u(l-wc*1.5)?(h=g?"top":"bottom",f="center"):(h="middle",l<wc*1.5&&l>wc/2?f=g?"left":"right":f=g?"right":"left"),{rotation:l,textAlign:f,textVerticalAlign:h}}function i3t(a,t,e){if(!bD(a.axis)){var o=a.get(["axisLabel","showMinLabel"]),l=a.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var f=t[0],h=t[1],v=t[t.length-1],g=t[t.length-2],y=e[0],x=e[1],b=e[e.length-1],T=e[e.length-2];o===!1?(Ko(f),Ko(y)):Kot(f,h)&&(o?(Ko(h),Ko(x)):(Ko(f),Ko(y))),l===!1?(Ko(v),Ko(b)):Kot(g,v)&&(l?(Ko(g),Ko(T)):(Ko(v),Ko(b)))}}function Ko(a){a&&(a.ignore=!0)}function Kot(a,t){var e=a&&a.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(!(!e||!o)){var l=gu([]);return Wa(l,l,-a.rotation),e.applyTransform(Ha([],l,a.getLocalTransform())),o.applyTransform(Ha([],l,t.getLocalTransform())),e.intersect(o)}}function jot(a){return a==="middle"||a==="center"}function Jot(a,t,e,o,l){for(var f=[],h=[],v=[],g=0;g<a.length;g++){var y=a[g].coord;h[0]=y,h[1]=0,v[0]=y,v[1]=e,t&&(qr(h,h,t),qr(v,v,t));var x=new Er({shape:{x1:h[0],y1:h[1],x2:v[0],y2:v[1]},style:o,z2:2,autoBatch:!0,silent:!0});Lu(x.shape,x.style.lineWidth),x.anid=l+"_"+a[g].tickValue,f.push(x)}return f}function a3t(a,t,e,o){var l=e.axis,f=e.getModel("axisTick"),h=f.get("show");if(h==="auto"&&o.handleAutoShown&&(h=o.handleAutoShown("axisTick")),!(!h||l.scale.isBlank())){for(var v=f.getModel("lineStyle"),g=o.tickDirection*f.get("length"),y=l.getTicksCoords(),x=Jot(y,t.transform,g,zt(v.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),b=0;b<x.length;b++)a.add(x[b]);return x}}function n3t(a,t,e,o){var l=e.axis,f=e.getModel("minorTick");if(!(!f.get("show")||l.scale.isBlank())){var h=l.getMinorTicksCoords();if(h.length)for(var v=f.getModel("lineStyle"),g=o*f.get("length"),y=zt(v.getLineStyle(),zt(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),x=0;x<h.length;x++)for(var b=Jot(h[x],t.transform,g,y,"minorticks_"+x),T=0;T<b.length;T++)a.add(b[T])}}function o3t(a,t,e,o){var l=e.axis,f=wr(o.axisLabelShow,e.get(["axisLabel","show"]));if(!(!f||l.scale.isBlank())){var h=e.getModel("axisLabel"),v=h.get("margin"),g=l.getViewLabels(),y=(wr(o.labelRotate,h.get("rotate"))||0)*wc/180,x=mv.innerTextLayout(o.rotation,y,o.labelDirection),b=e.getCategories&&e.getCategories(!0),T=[],C=mv.isLabelSilent(e),M=e.get("triggerEvent");return X(g,function(I,P){var O=l.scale.type==="ordinal"?l.scale.getRawOrdinalNumber(I.tickValue):I.tickValue,N=I.formattedLabel,V=I.rawLabel,F=h;if(b&&b[O]){var U=b[O];Ft(U)&&U.textStyle&&(F=new Fe(U.textStyle,h,e.ecModel))}var H=F.getTextColor()||e.get(["axisLine","lineStyle","color"]),Z=l.dataToCoord(O),$=F.getShallow("align",!0)||x.textAlign,K=oe(F.getShallow("alignMinLabel",!0),$),Q=oe(F.getShallow("alignMaxLabel",!0),$),rt=F.getShallow("verticalAlign",!0)||F.getShallow("baseline",!0)||x.textVerticalAlign,nt=oe(F.getShallow("verticalAlignMinLabel",!0),rt),ot=oe(F.getShallow("verticalAlignMaxLabel",!0),rt),ft=new _e({x:Z,y:o.labelOffset+o.labelDirection*v,rotation:x.rotation,silent:C,z2:10+(I.level||0),style:Je(F,{text:N,align:P===0?K:P===g.length-1?Q:$,verticalAlign:P===0?nt:P===g.length-1?ot:rt,fill:Nt(H)?H(l.type==="category"?V:l.type==="value"?O+"":O,P):H})});if(ft.anid="label_"+O,Vo({el:ft,componentModel:e,itemName:N,formatterParamsExtra:{isTruncated:function(){return ft.isTruncated},value:V,tickIndex:P}}),M){var lt=mv.makeAxisEventDataBase(e);lt.targetType="axisLabel",lt.value=V,lt.tickIndex=P,l.type==="category"&&(lt.dataIndex=O),Kt(ft).eventData=lt}t.add(ft),ft.updateTransform(),T.push(ft),a.add(ft),ft.decomposeTransform()}),T}}var pa=mv;function Qot(a,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return s3t(e,a,t),e.seriesInvolved&&u3t(e,a),e}function s3t(a,t,e){var o=t.getComponent("tooltip"),l=t.getComponent("axisPointer"),f=l.get("link",!0)||[],h=[];X(e.getCoordinateSystems(),function(v){if(!v.axisPointerEnabled)return;var g=vm(v.model),y=a.coordSysAxesInfo[g]={};a.coordSysMap[g]=v;var x=v.model,b=x.getModel("tooltip",o);if(X(v.getAxes(),Qt(I,!1,null)),v.getTooltipAxes&&o&&b.get("show")){var T=b.get("trigger")==="axis",C=b.get(["axisPointer","type"])==="cross",M=v.getTooltipAxes(b.get(["axisPointer","axis"]));(T||C)&&X(M.baseAxes,Qt(I,C?"cross":!0,T)),C&&X(M.otherAxes,Qt(I,"cross",!1))}function I(P,O,N){var V=N.model.getModel("axisPointer",l),F=V.get("show");if(!(!F||F==="auto"&&!P&&!BF(V))){O==null&&(O=V.get("triggerTooltip")),V=P?l3t(N,b,l,t,P,O):V;var U=V.get("snap"),H=V.get("triggerEmphasis"),Z=vm(N.model),$=O||U||N.type==="category",K=a.axesInfo[Z]={key:Z,axis:N,coordSys:v,axisPointerModel:V,triggerTooltip:O,triggerEmphasis:H,involveSeries:$,snap:U,useHandle:BF(V),seriesModels:[],linkGroup:null};y[Z]=K,a.seriesInvolved=a.seriesInvolved||$;var Q=f3t(f,N);if(Q!=null){var rt=h[Q]||(h[Q]={axesInfo:{}});rt.axesInfo[Z]=K,rt.mapper=f[Q].mapper,K.linkGroup=rt}}}})}function l3t(a,t,e,o,l,f){var h=t.getModel("axisPointer"),v=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],g={};X(v,function(T){g[T]=Ht(h.get(T))}),g.snap=a.type!=="category"&&!!f,h.get("type")==="cross"&&(g.type="line");var y=g.label||(g.label={});if(y.show==null&&(y.show=!1),l==="cross"){var x=h.get(["label","show"]);if(y.show=x??!0,!f){var b=g.lineStyle=h.get("crossStyle");b&&zt(y,b.textStyle)}}return a.model.getModel("axisPointer",new Fe(g,e,o))}function u3t(a,t){t.eachSeries(function(e){var o=e.coordinateSystem,l=e.get(["tooltip","trigger"],!0),f=e.get(["tooltip","show"],!0);!o||l==="none"||l===!1||l==="item"||f===!1||e.get(["axisPointer","show"],!0)===!1||X(a.coordSysAxesInfo[vm(o.model)],function(h){var v=h.axis;o.getAxis(v.dim)===v&&(h.seriesModels.push(e),h.seriesDataCount==null&&(h.seriesDataCount=0),h.seriesDataCount+=e.getData().count())})})}function f3t(a,t){for(var e=t.model,o=t.dim,l=0;l<a.length;l++){var f=a[l]||{};if(VF(f[o+"AxisId"],e.id)||VF(f[o+"AxisIndex"],e.componentIndex)||VF(f[o+"AxisName"],e.name))return l}}function VF(a,t){return a==="all"||yt(a)&&ae(a,t)>=0||a===t}function tst(a){var t=jD(a);if(t){var e=t.axisPointerModel,o=t.axis.scale,l=e.option,f=e.get("status"),h=e.get("value");h!=null&&(h=o.parse(h));var v=BF(e);f==null&&(l.status=v?"show":"hide");var g=o.getExtent().slice();g[0]>g[1]&&g.reverse(),(h==null||h>g[1])&&(h=g[1]),h<g[0]&&(h=g[0]),l.value=h,v&&(l.status=t.axis.scale.isBlank()?"hide":"show")}}function jD(a){var t=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[vm(a)]}function est(a){var t=jD(a);return t&&t.axisPointerModel}function BF(a){return!!a.get(["handle","show"])}function vm(a){return a.type+"||"+a.id}var rst={},c3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l,f){this.axisPointerClass&&tst(e),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,l,!0)},t.prototype.updateAxisPointer=function(e,o,l,f){this._doUpdateAxisPointerClass(e,l,!1)},t.prototype.remove=function(e,o){var l=this._axisPointer;l&&l.remove(o)},t.prototype.dispose=function(e,o){this._disposeAxisPointer(o),a.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,o,l){var f=t.getAxisPointerClass(this.axisPointerClass);if(f){var h=est(e);h?(this._axisPointer||(this._axisPointer=new f)).render(e,h,o,l):this._disposeAxisPointer(o)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,o){rst[e]=o},t.getAxisPointerClass=function(e){return e&&rst[e]},t.type="axis",t}(He),Mn=c3t;var UF=ue();function JD(a,t,e,o){var l=e.axis;if(!l.scale.isBlank()){var f=e.getModel("splitArea"),h=f.getModel("areaStyle"),v=h.get("color"),g=o.coordinateSystem.getRect(),y=l.getTicksCoords({tickModel:f,clamp:!0});if(y.length){var x=v.length,b=UF(a).splitAreaColors,T=Rt(),C=0;if(b)for(var M=0;M<y.length;M++){var I=b.get(y[M].tickValue);if(I!=null){C=(I+(x-1)*M)%x;break}}var P=l.toGlobalCoord(y[0].coord),O=h.getAreaStyle();v=yt(v)?v:[v];for(var M=1;M<y.length;M++){var N=l.toGlobalCoord(y[M].coord),V=void 0,F=void 0,U=void 0,H=void 0;l.isHorizontal()?(V=P,F=g.y,U=N-V,H=g.height,P=V+U):(V=g.x,F=P,U=g.width,H=N-F,P=F+H);var Z=y[M-1].tickValue;Z!=null&&T.set(Z,C),t.add(new ge({anid:Z!=null?"area_"+Z:null,shape:{x:V,y:F,width:U,height:H},style:zt({fill:v[C]},O),autoBatch:!0,silent:!0})),C=(C+1)%x}UF(a).splitAreaColors=T}}}function QD(a){UF(a).splitAreaColors=null}var h3t=["axisLine","axisTickLabel","axisName"],p3t=["splitArea","splitLine","minorSplitLine"],ist=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,o,l,f){this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new Ut,this.group.add(this._axisGroup),!!e.get("show")){var v=e.getCoordSysModel(),g=gS(v,e),y=new pa(e,mt({handleAutoShown:function(b){for(var T=v.coordinateSystem.getCartesians(),C=0;C<T.length;C++)if(eS(T[C].getOtherAxis(e.axis).scale))return!0;return!1}},g));X(h3t,y.add,y),this._axisGroup.add(y.getGroup()),X(p3t,function(b){e.get([b,"show"])&&v3t[b](this,this._axisGroup,e,v)},this);var x=f&&f.type==="changeAxisOrder"&&f.isInitSort;x||Iu(h,this._axisGroup,e),a.prototype.render.call(this,e,o,l,f)}},t.prototype.remove=function(){QD(this)},t.type="cartesianAxis",t}(Mn),v3t={splitLine:function(a,t,e,o){var l=e.axis;if(!l.scale.isBlank()){var f=e.getModel("splitLine"),h=f.getModel("lineStyle"),v=h.get("color"),g=f.get("showMinLine")!==!1,y=f.get("showMaxLine")!==!1;v=yt(v)?v:[v];for(var x=o.coordinateSystem.getRect(),b=l.isHorizontal(),T=0,C=l.getTicksCoords({tickModel:f}),M=[],I=[],P=h.getLineStyle(),O=0;O<C.length;O++){var N=l.toGlobalCoord(C[O].coord);if(!(O===0&&!g||O===C.length-1&&!y)){var V=C[O].tickValue;b?(M[0]=N,M[1]=x.y,I[0]=N,I[1]=x.y+x.height):(M[0]=x.x,M[1]=N,I[0]=x.x+x.width,I[1]=N);var F=T++%v.length,U=new Er({anid:V!=null?"line_"+V:null,autoBatch:!0,shape:{x1:M[0],y1:M[1],x2:I[0],y2:I[1]},style:zt({stroke:v[F]},P),silent:!0});Lu(U.shape,P.lineWidth),t.add(U)}}}},minorSplitLine:function(a,t,e,o){var l=e.axis,f=e.getModel("minorSplitLine"),h=f.getModel("lineStyle"),v=o.coordinateSystem.getRect(),g=l.isHorizontal(),y=l.getMinorTicksCoords();if(y.length)for(var x=[],b=[],T=h.getLineStyle(),C=0;C<y.length;C++)for(var M=0;M<y[C].length;M++){var I=l.toGlobalCoord(y[C][M].coord);g?(x[0]=I,x[1]=v.y,b[0]=I,b[1]=v.y+v.height):(x[0]=v.x,x[1]=I,b[0]=v.x+v.width,b[1]=I);var P=new Er({anid:"minor_line_"+y[C][M].tickValue,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},style:T,silent:!0});Lu(P.shape,T.lineWidth),t.add(P)}},splitArea:function(a,t,e,o){JD(a,t,e,o)}},GF=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(ist);var ast=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=GF.type,e}return t.type="yAxis",t}(ist);var d3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,o){this.group.removeAll(),e.get("show")&&this.group.add(new ge({shape:e.coordinateSystem.getRect(),style:zt({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(He),nst={offset:0};function tM(a){a.registerComponentView(d3t),a.registerComponentModel(zot),a.registerCoordinateSystem("cartesian2d",qot),Us(a,"x",XD,nst),Us(a,"y",XD,nst),a.registerComponentView(GF),a.registerComponentView(ast),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function HF(a){Ae(tM),a.registerSeriesModel(Rot),a.registerChartView(Not),a.registerLayout(Bs("scatter"))}function WF(a){a.eachSeriesByType("radar",function(t){var e=t.getData(),o=[],l=t.coordinateSystem;if(l){var f=l.getIndicatorAxes();X(f,function(h,v){e.each(e.mapDimension(f[v].dim),function(g,y){o[y]=o[y]||[];var x=l.dataToPoint(g,v);o[y][v]=ost(x)?x:sst(l)})}),e.each(function(h){var v=hN(o[h],function(g){return ost(g)})||sst(l);o[h].push(v.slice()),e.setItemLayout(h,o[h])})}})}function ost(a){return!isNaN(a[0])&&!isNaN(a[1])}function sst(a){return[a.cx,a.cy]}function YF(a){var t=a.polar;if(t){yt(t)||(t=[t]);var e=[];X(t,function(o,l){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),a.radar=a.radar||[],yt(a.radar)||(a.radar=[a.radar]),a.radar.push(o)):e.push(o)}),a.polar=e}X(a.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var g3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=e.coordinateSystem,h=this.group,v=e.getData(),g=this._data;function y(T,C){var M=T.getItemVisual(C,"symbol")||"circle";if(M!=="none"){var I=Rs(T.getItemVisual(C,"symbolSize")),P=nr(M,-1,-1,2,2),O=T.getItemVisual(C,"symbolRotate")||0;return P.attr({style:{strokeNoScale:!0},z2:100,scaleX:I[0]/2,scaleY:I[1]/2,rotation:O*Math.PI/180||0}),P}}function x(T,C,M,I,P,O){M.removeAll();for(var N=0;N<C.length-1;N++){var V=y(I,P);V&&(V.__dimIdx=N,T[N]?(V.setPosition(T[N]),be[O?"initProps":"updateProps"](V,{x:C[N][0],y:C[N][1]},e,P)):V.setPosition(C[N]),M.add(V))}}function b(T){return _t(T,function(C){return[f.cx,f.cy]})}v.diff(g).add(function(T){var C=v.getItemLayout(T);if(C){var M=new Br,I=new Nr,P={shape:{points:C}};M.shape.points=b(C),I.shape.points=b(C),je(M,P,e,T),je(I,P,e,T);var O=new Ut,N=new Ut;O.add(I),O.add(M),O.add(N),x(I.shape.points,C,N,v,T,!0),v.setItemGraphicEl(T,O)}}).update(function(T,C){var M=g.getItemGraphicEl(C),I=M.childAt(0),P=M.childAt(1),O=M.childAt(2),N={shape:{points:v.getItemLayout(T)}};N.shape.points&&(x(I.shape.points,N.shape.points,O,v,T,!1),Si(P),Si(I),we(I,N,e),we(P,N,e),v.setItemGraphicEl(T,M))}).remove(function(T){h.remove(g.getItemGraphicEl(T))}).execute(),v.eachItemGraphicEl(function(T,C){var M=v.getItemModel(C),I=T.childAt(0),P=T.childAt(1),O=T.childAt(2),N=v.getItemVisual(C,"style"),V=N.fill;h.add(T),I.useStyle(zt(M.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:V})),Ir(I,M,"lineStyle"),Ir(P,M,"areaStyle");var F=M.getModel("areaStyle"),U=F.isEmpty()&&F.parentModel.isEmpty();P.ignore=U,X(["emphasis","select","blur"],function($){var K=M.getModel([$,"areaStyle"]),Q=K.isEmpty()&&K.parentModel.isEmpty();P.ensureState($).ignore=Q&&U}),P.useStyle(zt(F.getAreaStyle(),{fill:V,opacity:.7,decal:N.decal}));var H=M.getModel("emphasis"),Z=H.getModel("itemStyle").getItemStyle();O.eachChild(function($){if($ instanceof yr){var K=$.style;$.useStyle(mt({image:K.image,x:K.x,y:K.y,width:K.width,height:K.height},N))}else $.useStyle(N),$.setColor(V),$.style.strokeNoScale=!0;var Q=$.ensureState("emphasis");Q.style=Ht(Z);var rt=v.getStore().get(v.getDimensionIndex($.__dimIdx),C);(rt==null||isNaN(rt))&&(rt=""),_r($,cr(M),{labelFetcher:v.hostModel,labelDataIndex:C,labelDimIndex:$.__dimIdx,defaultText:rt,inheritColor:V,defaultOpacity:N.opacity})}),Ke(T,H.get("focus"),H.get("blurScope"),H.get("disabled"))}),this._data=v},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ke),lst=g3t;var m3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nl(It(this.getData,this),It(this.getRawData,this))},t.prototype.getInitialData=function(e,o){return eo(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,o,l){var f=this.getData(),h=this.coordinateSystem,v=h.getIndicatorAxes(),g=this.getData().getName(e),y=g===""?this.name:g,x=kC(this,e);return Ar("section",{header:y,sortBlocks:!0,blocks:_t(v,function(b){var T=f.get(f.mapDimension(b.dim),e);return Ar("nameValue",{markerType:"subItem",markerColor:x,name:b.name,value:T,sortParam:T})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var o=this.getData(),l=this.coordinateSystem,f=o.getValues(_t(l.dimensions,function(y){return o.mapDimension(y)}),e),h=0,v=f.length;h<v;h++)if(!isNaN(f[h])){var g=l.getIndicatorAxes();return l.coordToPoint(g[h].dataToCoord(f[h]),h)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Ue),ust=m3t;var mS=qD.value;function eM(a,t){return zt({show:t},a)}var y3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),o=this.get("splitNumber"),l=this.get("scale"),f=this.get("axisLine"),h=this.get("axisTick"),v=this.get("axisLabel"),g=this.get("axisName"),y=this.get(["axisName","show"]),x=this.get(["axisName","formatter"]),b=this.get("axisNameGap"),T=this.get("triggerEvent"),C=_t(this.get("indicator")||[],function(M){M.max!=null&&M.max>0&&!M.min?M.min=0:M.min!=null&&M.min<0&&!M.max&&(M.max=0);var I=g;M.color!=null&&(I=zt({color:M.color},g));var P=ne(Ht(M),{boundaryGap:e,splitNumber:o,scale:l,axisLine:f,axisTick:h,axisLabel:v,name:M.text,showName:y,nameLocation:"end",nameGap:b,nameTextStyle:I,triggerEvent:T},!1);if(Dt(x)){var O=P.name;P.name=x.replace("{value}",O??"")}else Nt(x)&&(P.name=x(P.name,P));var N=new Fe(P,null,this.ecModel);return or(N,qo.prototype),N.mainType="radar",N.componentIndex=this.componentIndex,N},this);this._indicatorModels=C},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ne({lineStyle:{color:"#bbb"}},mS.axisLine),axisLabel:eM(mS.axisLabel,!1),axisTick:eM(mS.axisTick,!1),splitLine:eM(mS.splitLine,!0),splitArea:eM(mS.splitArea,!0),indicator:[]},t}(xe),fst=y3t;var _3t=["axisLine","axisTickLabel","axisName"],x3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=this.group;f.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var o=e.coordinateSystem,l=o.getIndicatorAxes(),f=_t(l,function(h){var v=h.model.get("showName")?h.name:"",g=new pa(h.model,{axisName:v,position:[o.cx,o.cy],rotation:h.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return g});X(f,function(h){X(_3t,h.add,h),this.group.add(h.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var o=e.coordinateSystem,l=o.getIndicatorAxes();if(!l.length)return;var f=e.get("shape"),h=e.getModel("splitLine"),v=e.getModel("splitArea"),g=h.getModel("lineStyle"),y=v.getModel("areaStyle"),x=h.get("show"),b=v.get("show"),T=g.get("color"),C=y.get("color"),M=yt(T)?T:[T],I=yt(C)?C:[C],P=[],O=[];function N(lt,pt,xt){var st=xt%pt.length;return lt[st]=lt[st]||[],st}if(f==="circle")for(var V=l[0].getTicksCoords(),F=o.cx,U=o.cy,H=0;H<V.length;H++){if(x){var Z=N(P,M,H);P[Z].push(new la({shape:{cx:F,cy:U,r:V[H].coord}}))}if(b&&H<V.length-1){var Z=N(O,I,H);O[Z].push(new Au({shape:{cx:F,cy:U,r0:V[H].coord,r:V[H+1].coord}}))}}else for(var $,K=_t(l,function(lt,pt){var xt=lt.getTicksCoords();return $=$==null?xt.length-1:Math.min(xt.length-1,$),_t(xt,function(st){return o.coordToPoint(st.coord,pt)})}),Q=[],H=0;H<=$;H++){for(var rt=[],nt=0;nt<l.length;nt++)rt.push(K[nt][H]);if(rt[0]&&rt.push(rt[0].slice()),x){var Z=N(P,M,H);P[Z].push(new Nr({shape:{points:rt}}))}if(b&&Q){var Z=N(O,I,H-1);O[Z].push(new Br({shape:{points:rt.concat(Q)}}))}Q=rt.slice().reverse()}var ot=g.getLineStyle(),ft=y.getAreaStyle();X(O,function(lt,pt){this.group.add(ji(lt,{style:zt({stroke:"none",fill:I[pt%I.length]},ft),silent:!0}))},this),X(P,function(lt,pt){this.group.add(ji(lt,{style:zt({fill:"none",stroke:M[pt%M.length]},ot),silent:!0}))},this)},t.type="radar",t}(He),cst=x3t;var S3t=function(a){at(t,a);function t(e,o,l){var f=a.call(this,e,o,l)||this;return f.type="value",f.angle=0,f.name="",f}return t}(Oi),hst=S3t;var b3t=function(){function a(t,e,o){this.dimensions=[],this._model=t,this._indicatorAxes=_t(t.getIndicatorModels(),function(l,f){var h="indicator_"+f,v=new hst(h,new Dn);return v.name=l.get("name"),v.model=l,l.axis=v,this.dimensions.push(h),v},this),this.resize(t,o)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(t,e){var o=this._indicatorAxes[e];return this.coordToPoint(o.dataToCoord(t),e)},a.prototype.coordToPoint=function(t,e){var o=this._indicatorAxes[e],l=o.angle,f=this.cx+t*Math.cos(l),h=this.cy-t*Math.sin(l);return[f,h]},a.prototype.pointToData=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,l=Math.sqrt(e*e+o*o);e/=l,o/=l;for(var f=Math.atan2(-o,e),h=1/0,v,g=-1,y=0;y<this._indicatorAxes.length;y++){var x=this._indicatorAxes[y],b=Math.abs(f-x.angle);b<h&&(v=x,g=y,h=b)}return[g,+(v&&v.coordToData(l))]},a.prototype.resize=function(t,e){var o=t.get("center"),l=e.getWidth(),f=e.getHeight(),h=Math.min(l,f)/2;this.cx=Pt(o[0],l),this.cy=Pt(o[1],f),this.startAngle=t.get("startAngle")*Math.PI/180;var v=t.get("radius");(Dt(v)||ye(v))&&(v=[0,v]),this.r0=Pt(v[0],h),this.r=Pt(v[1],h),X(this._indicatorAxes,function(g,y){g.setExtent(this.r0,this.r);var x=this.startAngle+y*Math.PI*2/this._indicatorAxes.length;x=Math.atan2(Math.sin(x),Math.cos(x)),g.angle=x},this)},a.prototype.update=function(t,e){var o=this._indicatorAxes,l=this._model;X(o,function(v){v.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(v,g){if(!(v.get("coordinateSystem")!=="radar"||t.getComponent("radar",v.get("radarIndex"))!==l)){var y=v.getData();X(o,function(x){x.scale.unionExtentFromData(y,y.mapDimension(x.dim))})}},this);var f=l.get("splitNumber"),h=new Dn;h.setExtent(0,f),h.setInterval(1),X(o,function(v,g){KD(v.scale,v.model,h)})},a.prototype.convertToPixel=function(t,e,o){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(t,e,o){return console.warn("Not implemented."),null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.create=function(t,e){var o=[];return t.eachComponent("radar",function(l){var f=new a(l,t,e);o.push(f),l.coordinateSystem=f}),t.eachSeriesByType("radar",function(l){l.get("coordinateSystem")==="radar"&&(l.coordinateSystem=o[l.get("radarIndex")||0])}),o},a.dimensions=[],a}(),pst=b3t;function vst(a){a.registerCoordinateSystem("radar",pst),a.registerComponentModel(fst),a.registerComponentView(cst),a.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(o){e.setItemVisual(o,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function ZF(a){Ae(vst),a.registerChartView(lst),a.registerSeriesModel(ust),a.registerLayout(WF),a.registerProcessor(Fs("radar")),a.registerPreprocessor(YF)}var dst="\0_ec_interaction_mutex";function gst(a,t,e){var o=qF(a);o[t]=e}function mst(a,t,e){var o=qF(a),l=o[t];l===e&&(o[t]=null)}function XF(a,t){return!!qF(a)[t]}function qF(a){return a[dst]||(a[dst]={})}Ra({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},mr);var w3t=function(a){at(t,a);function t(e){var o=a.call(this)||this;o._zr=e;var l=It(o._mousedownHandler,o),f=It(o._mousemoveHandler,o),h=It(o._mouseupHandler,o),v=It(o._mousewheelHandler,o),g=It(o._pinchHandler,o);return o.enable=function(y,x){this.disable(),this._opt=zt(Ht(x)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),y==null&&(y=!0),(y===!0||y==="move"||y==="pan")&&(e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",h)),(y===!0||y==="scale"||y==="zoom")&&(e.on("mousewheel",v),e.on("pinch",g))},o.disable=function(){e.off("mousedown",l),e.off("mousemove",f),e.off("mouseup",h),e.off("mousewheel",v),e.off("pinch",g)},o}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!bN(e)){for(var o=e.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var l=e.offsetX,f=e.offsetY;this.pointerChecker&&this.pointerChecker(e,l,f)&&(this._x=l,this._y=f,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!rM("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||XF(this._zr,"globalPan"))){var o=e.offsetX,l=e.offsetY,f=this._x,h=this._y,v=o-f,g=l-h;this._x=o,this._y=l,this._opt.preventDefaultMouseMove&&cn(e.event),_st(this,"pan","moveOnMouseMove",e,{dx:v,dy:g,oldX:f,oldY:h,newX:o,newY:l,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){bN(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var o=rM("zoomOnMouseWheel",e,this._opt),l=rM("moveOnMouseWheel",e,this._opt),f=e.wheelDelta,h=Math.abs(f),v=e.offsetX,g=e.offsetY;if(!(f===0||!o&&!l)){if(o){var y=h>3?1.4:h>1?1.2:1.1,x=f>0?y:1/y;$F(this,"zoom","zoomOnMouseWheel",e,{scale:x,originX:v,originY:g,isAvailableBehavior:null})}if(l){var b=Math.abs(f),T=(f>0?1:-1)*(b>3?.4:b>1?.15:.05);$F(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:T,originX:v,originY:g,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!XF(this._zr,"globalPan")){var o=e.pinchScale>1?1.1:1/1.1;$F(this,"zoom",null,e,{scale:o,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(xi);function $F(a,t,e,o,l){a.pointerChecker&&a.pointerChecker(o,l.originX,l.originY)&&(cn(o.event),_st(a,t,e,o,l))}function _st(a,t,e,o,l){l.isAvailableBehavior=It(rM,null,e,o),a.trigger(t,l)}function rM(a,t,e){var o=e[a];return!a||o&&(!Dt(o)||t.event[o+"Key"])}var zl=w3t;function dm(a,t,e){var o=a.target;o.x+=t,o.y+=e,o.dirty()}function gm(a,t,e,o){var l=a.target,f=a.zoomLimit,h=a.zoom=a.zoom||1;if(h*=t,f){var v=f.min||0,g=f.max||1/0;h=Math.max(Math.min(g,h),v)}var y=h/a.zoom;a.zoom=h,l.x-=(e-l.x)*(y-1),l.y-=(o-l.y)*(y-1),l.scaleX*=y,l.scaleY*=y,l.dirty()}var T3t={axisPointer:1,tooltip:1,brush:1};function Tc(a,t,e){var o=t.getComponentByElement(a.topTarget),l=o&&o.coordinateSystem;return o&&o!==e&&!T3t.hasOwnProperty(o.mainType)&&l&&l.model!==e}function iM(a){if(Dt(a)){var t=new DOMParser;a=t.parseFromString(a,"text/xml")}var e=a;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var jF,aM={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},xst=he(aM),nM={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Sst=he(nM),A3t=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(t,e){e=e||{};var o=iM(t);this._defsUsePending=[];var l=new Ut;this._root=l;var f=[],h=o.getAttribute("viewBox")||"",v=parseFloat(o.getAttribute("width")||e.width),g=parseFloat(o.getAttribute("height")||e.height);isNaN(v)&&(v=null),isNaN(g)&&(g=null),ro(o,l,null,!0,!1);for(var y=o.firstChild;y;)this._parseNode(y,l,f,null,!1,!1),y=y.nextSibling;M3t(this._defs,this._defsUsePending),this._defsUsePending=[];var x,b;if(h){var T=oM(h);T.length>=4&&(x={x:parseFloat(T[0]||0),y:parseFloat(T[1]||0),width:parseFloat(T[2]),height:parseFloat(T[3])})}if(x&&v!=null&&g!=null&&(b=QF(x,{x:0,y:0,width:v,height:g}),!e.ignoreViewBox)){var C=l;l=new Ut,l.add(C),C.scaleX=C.scaleY=b.scale,C.x=b.x,C.y=b.y}return!e.ignoreRootClip&&v!=null&&g!=null&&l.setClipPath(new ge({shape:{x:0,y:0,width:v,height:g}})),{root:l,width:v,height:g,viewBoxRect:x,viewBoxTransform:b,named:f}},a.prototype._parseNode=function(t,e,o,l,f,h){var v=t.nodeName.toLowerCase(),g,y=l;if(v==="defs"&&(f=!0),v==="text"&&(h=!0),v==="defs"||v==="switch")g=e;else{if(!f){var x=jF[v];if(x&&Yt(jF,v)){g=x.call(this,t,e);var b=t.getAttribute("name");if(b){var T={name:b,namedFrom:null,svgNodeTagLower:v,el:g};o.push(T),v==="g"&&(y=T)}else l&&o.push({name:l.name,namedFrom:l,svgNodeTagLower:v,el:g});e.add(g)}}var C=bst[v];if(C&&Yt(bst,v)){var M=C.call(this,t),I=t.getAttribute("id");I&&(this._defs[I]=M)}}if(g&&g.isGroup)for(var P=t.firstChild;P;)P.nodeType===1?this._parseNode(P,g,o,y,f,h):P.nodeType===3&&h&&this._parseText(P,g),P=P.nextSibling},a.prototype._parseText=function(t,e){var o=new Su({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});jo(e,o),ro(t,o,this._defsUsePending,!1,!1),C3t(o,e);var l=o.style,f=l.fontSize;f&&f<9&&(l.fontSize=9,o.scaleX*=f/9,o.scaleY*=f/9);var h=(l.fontSize||l.fontFamily)&&[l.fontStyle,l.fontWeight,(l.fontSize||12)+"px",l.fontFamily||"sans-serif"].join(" ");l.font=h;var v=o.getBoundingRect();return this._textX+=v.width,e.add(o),o},a.internalField=function(){jF={g:function(t,e){var o=new Ut;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o},rect:function(t,e){var o=new ge;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(t,e){var o=new la;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),o.silent=!0,o},line:function(t,e){var o=new Er;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(t,e){var o=new Wp;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(t,e){var o=t.getAttribute("points"),l;o&&(l=Ast(o));var f=new Br({shape:{points:l||[]},silent:!0});return jo(e,f),ro(t,f,this._defsUsePending,!1,!1),f},polyline:function(t,e){var o=t.getAttribute("points"),l;o&&(l=Ast(o));var f=new Nr({shape:{points:l||[]},silent:!0});return jo(e,f),ro(t,f,this._defsUsePending,!1,!1),f},image:function(t,e){var o=new yr;return jo(e,o),ro(t,o,this._defsUsePending,!1,!1),o.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),o.silent=!0,o},text:function(t,e){var o=t.getAttribute("x")||"0",l=t.getAttribute("y")||"0",f=t.getAttribute("dx")||"0",h=t.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(f),this._textY=parseFloat(l)+parseFloat(h);var v=new Ut;return jo(e,v),ro(t,v,this._defsUsePending,!1,!0),v},tspan:function(t,e){var o=t.getAttribute("x"),l=t.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),l!=null&&(this._textY=parseFloat(l));var f=t.getAttribute("dx")||"0",h=t.getAttribute("dy")||"0",v=new Ut;return jo(e,v),ro(t,v,this._defsUsePending,!1,!0),this._textX+=parseFloat(f),this._textY+=parseFloat(h),v},path:function(t,e){var o=t.getAttribute("d")||"",l=$A(o);return jo(e,l),ro(t,l,this._defsUsePending,!1,!1),l.silent=!0,l}}}(),a}(),bst={lineargradient:function(a){var t=parseInt(a.getAttribute("x1")||"0",10),e=parseInt(a.getAttribute("y1")||"0",10),o=parseInt(a.getAttribute("x2")||"10",10),l=parseInt(a.getAttribute("y2")||"0",10),f=new No(t,e,o,l);return wst(a,f),Tst(a,f),f},radialgradient:function(a){var t=parseInt(a.getAttribute("cx")||"0",10),e=parseInt(a.getAttribute("cy")||"0",10),o=parseInt(a.getAttribute("r")||"0",10),l=new Bg(t,e,o);return wst(a,l),Tst(a,l),l}};function wst(a,t){var e=a.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function Tst(a,t){for(var e=a.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var o=e.getAttribute("offset"),l=void 0;o&&o.indexOf("%")>0?l=parseInt(o,10)/100:o?l=parseFloat(o):l=0;var f={};Mst(e,f,f);var h=f.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:l,color:h})}e=e.nextSibling}}function jo(a,t){a&&a.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),zt(t.__inheritedStyle,a.__inheritedStyle))}function Ast(a){for(var t=oM(a),e=[],o=0;o<t.length;o+=2){var l=parseFloat(t[o]),f=parseFloat(t[o+1]);e.push([l,f])}return e}function ro(a,t,e,o,l){var f=t,h=f.__inheritedStyle=f.__inheritedStyle||{},v={};a.nodeType===1&&(E3t(a,t),Mst(a,h,v),o||P3t(a,h,v)),f.style=f.style||{},h.fill!=null&&(f.style.fill=Cst(f,"fill",h.fill,e)),h.stroke!=null&&(f.style.stroke=Cst(f,"stroke",h.stroke,e)),X(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(g){h[g]!=null&&(f.style[g]=parseFloat(h[g]))}),X(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(g){h[g]!=null&&(f.style[g]=h[g])}),l&&(f.__selfStyle=v),h.lineDash&&(f.style.lineDash=_t(oM(h.lineDash),function(g){return parseFloat(g)})),(h.visibility==="hidden"||h.visibility==="collapse")&&(f.invisible=!0),h.display==="none"&&(f.ignore=!0)}function C3t(a,t){var e=t.__selfStyle;if(e){var o=e.textBaseline,l=o;!o||o==="auto"||o==="baseline"?l="alphabetic":o==="before-edge"||o==="text-before-edge"?l="top":o==="after-edge"||o==="text-after-edge"?l="bottom":(o==="central"||o==="mathematical")&&(l="middle"),a.style.textBaseline=l}var f=t.__inheritedStyle;if(f){var h=f.textAlign,v=h;h&&(h==="middle"&&(v="center"),a.style.textAlign=v)}}var D3t=/^url\(\s*#(.*?)\)/;function Cst(a,t,e,o){var l=e&&e.match(D3t);if(l){var f=Di(l[1]);o.push([a,t,f]);return}return e==="none"&&(e=null),e}function M3t(a,t){for(var e=0;e<t.length;e++){var o=t[e];o[0].style[o[1]]=a[o[2]]}}var L3t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function oM(a){return a.match(L3t)||[]}var I3t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,JF=Math.PI/180;function E3t(a,t){var e=a.getAttribute("transform");if(e){e=e.replace(/,/g," ");var o=[],l=null;e.replace(I3t,function(b,T,C){return o.push(T,C),""});for(var f=o.length-1;f>0;f-=2){var h=o[f],v=o[f-1],g=oM(h);switch(l=l||ri(),v){case"translate":Ki(l,l,[parseFloat(g[0]),parseFloat(g[1]||"0")]);break;case"scale":vp(l,l,[parseFloat(g[0]),parseFloat(g[1]||g[0])]);break;case"rotate":Wa(l,l,-parseFloat(g[0])*JF,[parseFloat(g[1]||"0"),parseFloat(g[2]||"0")]);break;case"skewX":var y=Math.tan(parseFloat(g[0])*JF);Ha(l,[1,0,y,1,0,0],l);break;case"skewY":var x=Math.tan(parseFloat(g[0])*JF);Ha(l,[1,x,0,1,0,0],l);break;case"matrix":l[0]=parseFloat(g[0]),l[1]=parseFloat(g[1]),l[2]=parseFloat(g[2]),l[3]=parseFloat(g[3]),l[4]=parseFloat(g[4]),l[5]=parseFloat(g[5]);break}}t.setLocalTransform(l)}}var Dst=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Mst(a,t,e){var o=a.getAttribute("style");if(o){Dst.lastIndex=0;for(var l;(l=Dst.exec(o))!=null;){var f=l[1],h=Yt(aM,f)?aM[f]:null;h&&(t[h]=l[2]);var v=Yt(nM,f)?nM[f]:null;v&&(e[v]=l[2])}}}function P3t(a,t,e){for(var o=0;o<xst.length;o++){var l=xst[o],f=a.getAttribute(l);f!=null&&(t[aM[l]]=f)}for(var o=0;o<Sst.length;o++){var l=Sst[o],f=a.getAttribute(l);f!=null&&(e[nM[l]]=f)}}function QF(a,t){var e=t.width/a.width,o=t.height/a.height,l=Math.min(e,o);return{scale:l,x:-(a.x+a.width/2)*l+(t.x+t.width/2),y:-(a.y+a.height/2)*l+(t.y+t.height/2)}}function Lst(a,t){var e=new A3t;return e.parse(a,t)}var R3t=Rt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Ist=function(){function a(t,e){this.type="geoSVG",this._usedGraphicMap=Rt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=iM(e)}return a.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=k3t(t.named),o=e.regions,l=e.regionsMap;this._regions=o,this._regionsMap=l}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(t){var e,o;try{e=t&&Lst(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=e.root,Tr(o!=null)}catch(P){throw new Error(`Invalid svg format
`+P.message)}var l=new Ut;l.add(o),l.isGeoSVGGraphicRoot=!0;var f=e.width,h=e.height,v=e.viewBoxRect,g=this._boundingRect;if(!g){var y=void 0,x=void 0,b=void 0,T=void 0;if(f!=null?(y=0,b=f):v&&(y=v.x,b=v.width),h!=null?(x=0,T=h):v&&(x=v.y,T=v.height),y==null||x==null){var C=o.getBoundingRect();y==null&&(y=C.x,b=C.width),x==null&&(x=C.y,T=C.height)}g=this._boundingRect=new ie(y,x,b,T)}if(v){var M=QF(v,g);o.scaleX=o.scaleY=M.scale,o.x=M.x,o.y=M.y}l.setClipPath(new ge({shape:g.plain()}));var I=[];return X(e.named,function(P){R3t.get(P.svgNodeTagLower)!=null&&(I.push(P),O3t(P.el))}),{root:l,boundingRect:g,named:I}},a.prototype.useGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,o),o)},a.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);o&&(e.removeKey(t),this._freedGraphics.push(o))},a}();function O3t(a){a.silent=!1,a.isGroup&&a.traverse(function(t){t.silent=!1})}function k3t(a){var t=[],e=Rt();return X(a,function(o){if(o.namedFrom==null){var l=new unt(o.name,o.el);t.push(l),e.set(o.name,l)}}),{regions:t,regionsMap:e}}var tU=[126,25],Est="\u5357\u6D77\u8BF8\u5C9B",_v=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(Ac=0;Ac<_v.length;Ac++)for(yv=0;yv<_v[Ac].length;yv++)_v[Ac][yv][0]/=10.5,_v[Ac][yv][1]/=-10.5/.75,_v[Ac][yv][0]+=tU[0],_v[Ac][yv][1]+=tU[1];var yv,Ac;function eU(a,t){if(a==="china"){for(var e=0;e<t.length;e++)if(t[e].name===Est)return;t.push(new wD(Est,_t(_v,function(o){return{type:"polygon",exterior:o}}),tU))}}var N3t={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function rU(a,t){if(a==="china"){var e=N3t[t.name];if(e){var o=t.getCenter();o[0]+=e[0]/10.5,o[1]+=-e[1]/(10.5/.75),t.setCenter(o)}}}var z3t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function iU(a,t){a==="china"&&t.name==="\u53F0\u6E7E"&&t.geometries.push({type:"polygon",exterior:z3t[0]})}var V3t="name",Pst=function(){function a(t,e,o){this.type="geoJSON",this._parsedMap=Rt(),this._mapName=t,this._specialAreas=o,this._geoJSON=F3t(e)}return a.prototype.load=function(t,e){e=e||V3t;var o=this._parsedMap.get(e);if(!o){var l=this._parseToRegions(e);o=this._parsedMap.set(e,{regions:l,boundingRect:B3t(l)})}var f=Rt(),h=[];return X(o.regions,function(v){var g=v.name;t&&Yt(t,g)&&(v=v.cloneShallow(g=t[g])),h.push(v),f.set(g,v)}),{regions:h,boundingRect:o.boundingRect||new ie(0,0,0,0),regionsMap:f}},a.prototype._parseToRegions=function(t){var e=this._mapName,o=this._geoJSON,l;try{l=o?lm(o,t):[]}catch(f){throw new Error(`Invalid geoJson format
`+f.message)}return eU(e,l),X(l,function(f){var h=f.name;rU(e,f),iU(e,f);var v=this._specialAreas&&this._specialAreas[h];v&&f.transformTo(v.left,v.top,v.width,v.height)},this),l},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function B3t(a){for(var t,e=0;e<a.length;e++){var o=a[e].getBoundingRect();t=t||o.clone(),t.union(o)}return t}function F3t(a){return Dt(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var yS=Rt(),ja={registerMap:function(a,t,e){if(t.svg){var o=new Ist(a,t.svg);yS.set(a,o)}else{var l=t.geoJson||t.geoJSON;l&&!t.features?e=t.specialAreas:l=t;var o=new Pst(a,l,e);yS.set(a,o)}},getGeoResource:function(a){return yS.get(a)},getMapForUser:function(a){var t=yS.get(a);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(a,t,e){var o=yS.get(a);if(o)return o.load(t,e)}};var aU=["rect","circle","line","ellipse","polygon","polyline","path"],U3t=Rt(aU),G3t=Rt(aU.concat(["g"])),H3t=Rt(aU.concat(["g"])),Fst=ue();function sM(a){var t=a.getItemStyle(),e=a.get("areaColor");return e!=null&&(t.fill=e),t}function Rst(a){var t=a.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var W3t=function(){function a(t){var e=new Ut;this.uid=Bo("ec_map_draw"),this._controller=new zl(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Ut),e.add(this._svgGroup=new Ut)}return a.prototype.draw=function(t,e,o,l,f){var h=t.mainType==="geo",v=t.getData&&t.getData();h&&e.eachComponent({mainType:"series",subType:"map"},function(O){!v&&O.getHostGeoModel()===t&&(v=O.getData())});var g=t.coordinateSystem,y=this._regionsGroup,x=this.group,b=g.getTransformInfo(),T=b.raw,C=b.roam,M=!y.childAt(0)||f;M?(x.x=C.x,x.y=C.y,x.scaleX=C.scaleX,x.scaleY=C.scaleY,x.dirty()):we(x,C,t);var I=v&&v.getVisual("visualMeta")&&v.getVisual("visualMeta").length>0,P={api:o,geo:g,mapOrGeoModel:t,data:v,isVisualEncodedByVisualMap:I,isGeo:h,transformInfoRaw:T};g.resourceType==="geoJSON"?this._buildGeoJSON(P):g.resourceType==="geoSVG"&&this._buildSVG(P),this._updateController(t,e,o),this._updateMapSelectHandler(t,y,o,l)},a.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Rt(),o=Rt(),l=this._regionsGroup,f=t.transformInfoRaw,h=t.mapOrGeoModel,v=t.data,g=t.geo.projection,y=g&&g.stream;function x(C,M){return M&&(C=M(C)),C&&[C[0]*f.scaleX+f.x,C[1]*f.scaleY+f.y]}function b(C){for(var M=[],I=!y&&g&&g.project,P=0;P<C.length;++P){var O=x(C[P],I);O&&M.push(O)}return M}function T(C){return{shape:{points:b(C)}}}l.removeAll(),X(t.geo.regions,function(C){var M=C.name,I=e.get(M),P=o.get(M)||{},O=P.dataIdx,N=P.regionModel;if(!I){I=e.set(M,new Ut),l.add(I),O=v?v.indexOfName(M):null,N=t.isGeo?h.getRegionModel(M):v?v.getItemModel(O):null;var V=N.get("silent",!0);V!=null&&(I.silent=V),o.set(M,{dataIdx:O,regionModel:N})}var F=[],U=[];X(C.geometries,function($){if($.type==="polygon"){var K=[$.exterior].concat($.interiors||[]);y&&(K=Bst(K,y)),X(K,function(rt){F.push(new Br(T(rt)))})}else{var Q=$.points;y&&(Q=Bst(Q,y,!0)),X(Q,function(rt){U.push(new Nr(T(rt)))})}});var H=x(C.getCenter(),g&&g.project);function Z($,K){if($.length){var Q=new oc({culling:!0,segmentIgnoreThreshold:1,shape:{paths:$}});I.add(Q),Ost(t,Q,O,N),kst(t,Q,M,N,h,O,H),K&&(Rst(Q),X(Q.states,Rst))}}Z(F),Z(U,!0)}),e.each(function(C,M){var I=o.get(M),P=I.dataIdx,O=I.regionModel;Nst(t,C,M,O,h,P),zst(t,C,M,O,h),Vst(t,C,M,O,h)},this)},a.prototype._buildSVG=function(t){var e=t.geo.map,o=t.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var l=this._svgDispatcherMap=Rt(),f=!1;X(this._svgGraphicRecord.named,function(h){var v=h.name,g=t.mapOrGeoModel,y=t.data,x=h.svgNodeTagLower,b=h.el,T=y?y.indexOfName(v):null,C=g.getRegionModel(v);U3t.get(x)!=null&&b instanceof ai&&Ost(t,b,T,C),b instanceof ai&&(b.culling=!0);var M=C.get("silent",!0);if(M!=null&&(b.silent=M),b.z2EmphasisLift=0,!h.namedFrom&&(H3t.get(x)!=null&&kst(t,b,v,C,g,T,null),Nst(t,b,v,C,g,T),zst(t,b,v,C,g),G3t.get(x)!=null)){var I=Vst(t,b,v,C,g);I==="self"&&(f=!0);var P=l.get(v)||l.set(v,[]);P.push(b)}},this),this._enableBlurEntireSVG(f,t)},a.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var o=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),l=o.opacity;this._svgGraphicRecord.root.traverse(function(f){if(!f.isGroup){Cs(f);var h=f.ensureState("blur").style||{};h.opacity==null&&l!=null&&(h.opacity=l),f.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var o=e.coordinateSystem;if(o.resourceType==="geoJSON"){var l=this._regionsGroupByName;if(l){var f=l.get(t);return f?[f]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},a.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},a.prototype._useSVG=function(t){var e=ja.getGeoResource(t);if(e&&e.type==="geoSVG"){var o=e.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=t}},a.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=ja.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(t,e,o){var l=t.coordinateSystem,f=this._controller,h=this._controllerHost;h.zoomLimit=t.get("scaleLimit"),h.zoom=l.getZoom(),f.enable(t.get("roam")||!1);var v=t.mainType;function g(){var y={type:"geoRoam",componentType:v};return y[v+"Id"]=t.id,y}f.off("pan").on("pan",function(y){this._mouseDownFlag=!1,dm(h,y.dx,y.dy),o.dispatchAction(mt(g(),{dx:y.dx,dy:y.dy,animation:{duration:0}}))},this),f.off("zoom").on("zoom",function(y){this._mouseDownFlag=!1,gm(h,y.scale,y.originX,y.originY),o.dispatchAction(mt(g(),{totalZoom:h.zoom,zoom:y.scale,originX:y.originX,originY:y.originY,animation:{duration:0}}))},this),f.setPointerChecker(function(y,x,b){return l.containPoint([x,b])&&!Tc(y,o,t)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=Fst(e).ignore)})},a.prototype._updateMapSelectHandler=function(t,e,o,l){var f=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){f._mouseDownFlag=!0}),e.on("click",function(h){f._mouseDownFlag&&(f._mouseDownFlag=!1)}))},a}();function Ost(a,t,e,o){var l=o.getModel("itemStyle"),f=o.getModel(["emphasis","itemStyle"]),h=o.getModel(["blur","itemStyle"]),v=o.getModel(["select","itemStyle"]),g=sM(l),y=sM(f),x=sM(v),b=sM(h),T=a.data;if(T){var C=T.getItemVisual(e,"style"),M=T.getItemVisual(e,"decal");a.isVisualEncodedByVisualMap&&C.fill&&(g.fill=C.fill),M&&(g.decal=Os(M,a.api))}t.setStyle(g),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=y,t.ensureState("select").style=x,t.ensureState("blur").style=b,Cs(t)}function kst(a,t,e,o,l,f,h){var v=a.data,g=a.isGeo,y=v&&isNaN(v.get(v.mapDimension("value"),f)),x=v&&v.getItemLayout(f);if(g||y||x&&x.showLabel){var b=g?e:f,T=void 0;(!v||f>=0)&&(T=l);var C=h?{normal:{align:"center",verticalAlign:"middle"}}:null;_r(t,cr(o),{labelFetcher:T,labelDataIndex:b,defaultText:e},C);var M=t.getTextContent();if(M&&(Fst(M).ignore=M.ignore,t.textConfig&&h)){var I=t.getBoundingRect().clone();t.textConfig.layoutRect=I,t.textConfig.position=[(h[0]-I.x)/I.width*100+"%",(h[1]-I.y)/I.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Nst(a,t,e,o,l,f){a.data?a.data.setItemGraphicEl(f,t):Kt(t).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:e,region:o&&o.option||{}}}function zst(a,t,e,o,l){a.data||Vo({el:t,componentModel:l,itemName:e,itemTooltipOption:o.get("tooltip")})}function Vst(a,t,e,o,l){t.highDownSilentOnTouch=!!l.get("selectedMode");var f=o.getModel("emphasis"),h=f.get("focus");return Ke(t,h,f.get("blurScope"),f.get("disabled")),a.isGeo&&wet(t,l,e),h}function Bst(a,t,e){var o=[],l;function f(){l=[]}function h(){l.length&&(o.push(l),l=[])}var v=t({polygonStart:f,polygonEnd:h,lineStart:f,lineEnd:h,point:function(g,y){isFinite(g)&&isFinite(y)&&l.push([g,y])},sphere:function(){}});return!e&&v.polygonStart(),X(a,function(g){v.lineStart();for(var y=0;y<g.length;y++)v.point(g[y][0],g[y][1]);v.lineEnd()}),!e&&v.polygonEnd(),o}var lM=W3t;var Y3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l,f){if(!(f&&f.type==="mapToggleSelect"&&f.from===this.uid)){var h=this.group;if(h.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&f&&f.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),f&&f.type==="geoRoam"&&f.componentType==="series"&&f.seriesId===e.id){var v=this._mapDraw;v&&h.add(v.group)}else if(e.needsDrawMap){var v=this._mapDraw||new lM(l);h.add(v.group),v.draw(e,o,l,this,f),this._mapDraw=v}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(e,o,l)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,o,l){var f=e.originalData,h=this.group;f.each(f.mapDimension("value"),function(v,g){if(!isNaN(v)){var y=f.getItemLayout(g);if(!(!y||!y.point)){var x=y.point,b=y.offset,T=new la({style:{fill:e.getData().getVisual("style").fill},shape:{cx:x[0]+b*9,cy:x[1],r:3},silent:!0,z2:8+(b?0:bu+1)});if(!b){var C=e.mainSeries.getData(),M=f.getName(g),I=C.indexOfName(M),P=f.getItemModel(g),O=P.getModel("label"),N=C.getItemGraphicEl(I);_r(T,cr(P),{labelFetcher:{getFormattedLabel:function(V,F){return e.getFormattedLabel(I,F)}},defaultText:M}),T.disableLabelAnimation=!0,O.get("position")||T.setTextConfig({position:"bottom"}),N.onHoverStateChange=function(V){Hp(T,V)}}h.add(T)}}})},t.type="map",t}(ke),Ust=Y3t;var Z3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(o){if(o!=null){var l=this.getData().getName(o),f=this.coordinateSystem,h=f.getRegion(l);return h&&f.dataToPoint(h.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var o=eo(this,{coordDimensions:["value"],encodeDefaulter:Qt(Kg,this)}),l=Rt(),f=[],h=0,v=o.count();h<v;h++){var g=o.getName(h);l.set(g,h)}var y=ja.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return X(y.regions,function(x){var b=x.name,T=l.get(b),C=x.properties&&x.properties.echartsStyle,M;T==null?(M={name:b},f.push(M)):M=o.getRawDataItem(T),C&&ne(M,C)}),o.appendData(f),o},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var o=this.getData();return o.get(o.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var o=this.getData();return o.getItemModel(o.indexOfName(e))},t.prototype.formatTooltip=function(e,o,l){for(var f=this.getData(),h=this.getRawValue(e),v=f.getName(e),g=this.seriesGroup,y=[],x=0;x<g.length;x++){var b=g[x].originalData.indexOfName(v),T=f.mapDimension("value");isNaN(g[x].originalData.get(T,b))||y.push(g[x].name)}return Ar("section",{header:y.join(", "),noHeader:!y.length,blocks:[Ar("nameValue",{name:v,value:h})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var o=e.icon||"roundRect",l=nr(o,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return l.setStyle(e.itemStyle),l.style.stroke="none",o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),l},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Ue),Gst=Z3t;function X3t(a,t){var e={};return X(a,function(o){o.each(o.mapDimension("value"),function(l,f){var h="ec-"+o.getName(f);e[h]=e[h]||[],isNaN(l)||e[h].push(l)})}),a[0].map(a[0].mapDimension("value"),function(o,l){for(var f="ec-"+a[0].getName(l),h=0,v=1/0,g=-1/0,y=e[f].length,x=0;x<y;x++)v=Math.min(v,e[f][x]),g=Math.max(g,e[f][x]),h+=e[f][x];var b;return t==="min"?b=v:t==="max"?b=g:t==="average"?b=h/y:b=h,y===0?NaN:b})}function nU(a){var t={};a.eachSeriesByType("map",function(e){var o=e.getHostGeoModel(),l=o?"o"+o.id:"i"+e.getMapType();(t[l]=t[l]||[]).push(e)}),X(t,function(e,o){for(var l=X3t(_t(e,function(h){return h.getData()}),e[0].get("mapValueCalculation")),f=0;f<e.length;f++)e[f].originalData=e[f].getData();for(var f=0;f<e.length;f++)e[f].seriesGroup=e,e[f].needsDrawMap=f===0&&!e[f].getHostGeoModel(),e[f].setData(l.cloneShallow()),e[f].mainSeries=e[0]})}function oU(a){var t={};a.eachSeriesByType("map",function(e){var o=e.getMapType();if(!(e.getHostGeoModel()||t[o])){var l={};X(e.seriesGroup,function(h){var v=h.coordinateSystem,g=h.originalData;h.get("showLegendSymbol")&&a.getComponent("legend")&&g.each(g.mapDimension("value"),function(y,x){var b=g.getName(x),T=v.getRegion(b);if(!(!T||isNaN(y))){var C=l[b]||0,M=v.dataToPoint(T.getCenter());l[b]=C+1,g.setItemLayout(x,{point:M,offset:C})}})});var f=e.getData();f.each(function(h){var v=f.getName(h),g=f.getItemLayout(h)||{};g.showLabel=!l[v],f.setItemLayout(h,g)}),t[o]=!0}})}var Hst=qr,q3t=function(a){at(t,a);function t(e){var o=a.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new pn,o._rawTransformable=new pn,o.name=e,o}return t.prototype.setBoundingRect=function(e,o,l,f){return this._rect=new ie(e,o,l,f),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,o,l,f){this._transformTo(e,o,l,f),this._viewRect=new ie(e,o,l,f)},t.prototype._transformTo=function(e,o,l,f){var h=this.getBoundingRect(),v=this._rawTransformable;v.transform=h.calculateTransform(new ie(e,o,l,f));var g=v.parent;v.parent=null,v.decomposeTransform(),v.parent=g,this._updateTransform()},t.prototype.setCenter=function(e,o){e&&(this._center=[Pt(e[0],o.getWidth()),Pt(e[1],o.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var o=this.zoomLimit;o&&(o.max!=null&&(e=Math.min(o.max,e)),o.min!=null&&(e=Math.max(o.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),o=e.x+e.width/2,l=e.y+e.height/2;return[o,l]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,l=this.getDefaultCenter(),f=this.getCenter(),h=this.getZoom();f=qr([],f,e),l=qr([],l,e),o.originX=f[0],o.originY=f[1],o.x=l[0]-f[0],o.y=l[1]-f[1],o.scaleX=o.scaleY=h,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,o=this._rawTransformable;o.parent=e,e.updateTransform(),o.updateTransform(),hg(this.transform||(this.transform=[]),o.transform||ri()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],Wn(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,o=this._roamTransformable,l=new pn;return l.transform=o.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,o,l){var f=o?this._rawTransform:this.transform;return l=l||[],f?Hst(l,e,f):Mi(l,e)},t.prototype.pointToData=function(e){var o=this.invTransform;return o?Hst([],e,o):[e[0],e[1]]},t.prototype.convertToPixel=function(e,o,l){var f=Wst(o);return f===this?f.dataToPoint(l):null},t.prototype.convertFromPixel=function(e,o,l){var f=Wst(o);return f===this?f.pointToData(l):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(pn);function Wst(a){var t=a.seriesModel;return t?t.coordinateSystem:null}var Fu=q3t;var $3t={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},sU=["lng","lat"],Zst=function(a){at(t,a);function t(e,o,l){var f=a.call(this,e)||this;f.dimensions=sU,f.type="geo",f._nameCoordMap=Rt(),f.map=o;var h=l.projection,v=ja.load(o,l.nameMap,l.nameProperty),g=ja.getGeoResource(o),y=f.resourceType=g?g.type:null,x=f.regions=v.regions,b=$3t[g.type];f._regionsMap=v.regionsMap,f.regions=v.regions,f.projection=h;var T;if(h)for(var C=0;C<x.length;C++){var M=x[C].getBoundingRect(h);T=T||M.clone(),T.union(M)}else T=v.boundingRect;return f.setBoundingRect(T.x,T.y,T.width,T.height),f.aspectScale=h?1:oe(l.aspectScale,b.aspectScale),f._invertLongitute=h?!1:b.invertLongitute,f}return t.prototype._transformTo=function(e,o,l,f){var h=this.getBoundingRect(),v=this._invertLongitute;h=h.clone(),v&&(h.y=-h.y-h.height);var g=this._rawTransformable;g.transform=h.calculateTransform(new ie(e,o,l,f));var y=g.parent;g.parent=null,g.decomposeTransform(),g.parent=y,v&&(g.scaleY=-g.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var o=this.regions,l=0;l<o.length;l++){var f=o[l];if(f.type==="geoJSON"&&f.contain(e))return o[l]}},t.prototype.addGeoCoord=function(e,o){this._nameCoordMap.set(e,o)},t.prototype.getGeoCoord=function(e){var o=this._regionsMap.get(e);return this._nameCoordMap.get(e)||o&&o.getCenter()},t.prototype.dataToPoint=function(e,o,l){if(Dt(e)&&(e=this.getGeoCoord(e)),e){var f=this.projection;return f&&(e=f.project(e)),e&&this.projectedToPoint(e,o,l)}},t.prototype.pointToData=function(e){var o=this.projection;return o&&(e=o.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return a.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,o,l){return a.prototype.dataToPoint.call(this,e,o,l)},t.prototype.convertToPixel=function(e,o,l){var f=Yst(o);return f===this?f.dataToPoint(l):null},t.prototype.convertFromPixel=function(e,o,l){var f=Yst(o);return f===this?f.pointToData(l):null},t}(Fu);or(Zst,Fu);function Yst(a){var t=a.geoModel,e=a.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",pr).models[0]||{}).coordinateSystem:null}var lU=Zst;function Xst(a,t){var e=a.get("boundingCoords");if(e!=null){var o=e[0],l=e[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])){var f=this.projection;if(f){var h=o[0],v=o[1],g=l[0],y=l[1];o=[1/0,1/0],l=[-1/0,-1/0];var x=function(H,Z,$,K){for(var Q=$-H,rt=K-Z,nt=0;nt<=100;nt++){var ot=nt/100,ft=f.project([H+Q*ot,Z+rt*ot]);ln(o,o,ft),un(l,l,ft)}};x(h,v,g,v),x(g,v,g,y),x(g,y,h,y),x(h,y,g,v)}this.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1])}}var b=this.getBoundingRect(),T=a.get("layoutCenter"),C=a.get("layoutSize"),M=t.getWidth(),I=t.getHeight(),P=b.width/b.height*this.aspectScale,O=!1,N,V;T&&C&&(N=[Pt(T[0],M),Pt(T[1],I)],V=Pt(C,Math.min(M,I)),!isNaN(N[0])&&!isNaN(N[1])&&!isNaN(V)&&(O=!0));var F;if(O)F={},P>1?(F.width=V,F.height=V/P):(F.height=V,F.width=V*P),F.y=N[1]-F.height/2,F.x=N[0]-F.width/2;else{var U=a.getBoxLayoutParams();U.aspect=P,F=ar(U,{width:M,height:I})}this.setViewRect(F.x,F.y,F.width,F.height),this.setCenter(a.get("center"),t),this.setZoom(a.get("zoom"))}function K3t(a,t){X(t.get("geoCoord"),function(e,o){a.addGeoCoord(o,e)})}var j3t=function(){function a(){this.dimensions=sU}return a.prototype.create=function(t,e){var o=[];function l(h){return{nameProperty:h.get("nameProperty"),aspectScale:h.get("aspectScale"),projection:h.get("projection")}}t.eachComponent("geo",function(h,v){var g=h.get("map"),y=new lU(g+v,g,mt({nameMap:h.get("nameMap")},l(h)));y.zoomLimit=h.get("scaleLimit"),o.push(y),h.coordinateSystem=y,y.model=h,y.resize=Xst,y.resize(h,e)}),t.eachSeries(function(h){var v=h.get("coordinateSystem");if(v==="geo"){var g=h.get("geoIndex")||0;h.coordinateSystem=o[g]}});var f={};return t.eachSeriesByType("map",function(h){if(!h.getHostGeoModel()){var v=h.getMapType();f[v]=f[v]||[],f[v].push(h)}}),X(f,function(h,v){var g=_t(h,function(x){return x.get("nameMap")}),y=new lU(v,v,mt({nameMap:up(g)},l(h[0])));y.zoomLimit=wr.apply(null,_t(h,function(x){return x.get("scaleLimit")})),o.push(y),y.resize=Xst,y.resize(h[0],e),X(h,function(x){x.coordinateSystem=y,K3t(y,x)})}),o},a.prototype.getFilledRegions=function(t,e,o,l){for(var f=(t||[]).slice(),h=Rt(),v=0;v<f.length;v++)h.set(f[v].name,f[v]);var g=ja.load(e,o,l);return X(g.regions,function(y){var x=y.name,b=h.get(x),T=y.properties&&y.properties.echartsStyle;b||(b={name:x},f.push(b)),T&&ne(b,T)}),f},a}(),J3t=new j3t,uM=J3t;var Q3t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o,l){var f=ja.getGeoResource(e.map);if(f&&f.type==="geoJSON"){var h=e.itemStyle=e.itemStyle||{};"color"in h||(h.color="#eee")}this.mergeDefaultAndTheme(e,l),Zn(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,o=this.option;o.regions=uM.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var l={};this._optionModelMap=Ai(o.regions||[],function(f,h){var v=h.name;return v&&(f.set(v,new Fe(h,e,e.ecModel)),h.selected&&(l[v]=!0)),f},Rt()),o.selectedMap||(o.selectedMap=l)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Fe(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,o){var l=this.getRegionModel(e),f=o==="normal"?l.get(["label","formatter"]):l.get(["emphasis","label","formatter"]),h={name:e};if(Nt(f))return h.status=o,f(h);if(Dt(f))return f.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var o=this.option,l=o.selectedMode;if(l){l!=="multiple"&&(o.selectedMap=null);var f=o.selectedMap||(o.selectedMap={});f[e]=!0}},t.prototype.unSelect=function(e){var o=this.option.selectedMap;o&&(o[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var o=this.option.selectedMap;return!!(o&&o[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(xe),qst=Q3t;function $st(a,t){return a.pointToProjected?a.pointToProjected(t):a.pointToData(t)}function mm(a,t,e,o){var l=a.getZoom(),f=a.getCenter(),h=t.zoom,v=a.projectedToPoint?a.projectedToPoint(f):a.dataToPoint(f);if(t.dx!=null&&t.dy!=null&&(v[0]-=t.dx,v[1]-=t.dy,a.setCenter($st(a,v),o)),h!=null){if(e){var g=e.min||0,y=e.max||1/0;h=Math.max(Math.min(l*h,y),g)/l}a.scaleX*=h,a.scaleY*=h;var x=(t.originX-a.x)*(h-1),b=(t.originY-a.y)*(h-1);a.x-=x,a.y-=b,a.updateTransform(),a.setCenter($st(a,v),o),a.setZoom(h*l)}return{center:a.getCenter(),zoom:a.getZoom()}}var tWt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,o){this._api=o},t.prototype.render=function(e,o,l,f){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new lM(l));var h=this._mapDraw;h.draw(e,o,l,this,f),h.group.on("click",this._handleRegionClick,this),h.group.silent=e.get("silent"),this.group.add(h.group),this.updateSelectStatus(e,o,l)},t.prototype._handleRegionClick=function(e){var o;Ps(e.target,function(l){return(o=Kt(l).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},t.prototype.updateSelectStatus=function(e,o,l){var f=this;this._mapDraw.group.traverse(function(h){var v=Kt(h).eventData;if(v)return f._model.isSelected(v.name)?l.enterSelect(h):l.leaveSelect(h),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(He),Kst=tWt;function eWt(a,t,e){ja.registerMap(a,t,e)}function _S(a){a.registerCoordinateSystem("geo",uM),a.registerComponentModel(qst),a.registerComponentView(Kst),a.registerImpl("registerMap",eWt),a.registerImpl("getMap",function(e){return ja.getMapForUser(e)});function t(e,o){o.update="geo:updateSelectStatus",a.registerAction(o,function(l,f){var h={},v=[];return f.eachComponent({mainType:"geo",query:l},function(g){g[e](l.name);var y=g.coordinateSystem;X(y.regions,function(b){h[b.name]=g.isSelected(b.name)||!1});var x=[];X(h,function(b,T){h[T]&&x.push(T)}),v.push({geoIndex:g.componentIndex,name:x})}),{selected:h,allSelected:v,name:l.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,o,l){var f=e.componentType||"series";o.eachComponent({mainType:f,query:e},function(h){var v=h.coordinateSystem;if(v.type==="geo"){var g=mm(v,e,h.get("scaleLimit"),l);h.setCenter&&h.setCenter(g.center),h.setZoom&&h.setZoom(g.zoom),f==="series"&&X(h.seriesGroup,function(y){y.setCenter(g.center),y.setZoom(g.zoom)})}})})}function uU(a){Ae(_S),a.registerChartView(Ust),a.registerSeriesModel(Gst),a.registerLayout(oU),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,nU),ZC("map",a.registerAction)}function jst(a){var t=a;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],o,l;o=e.pop();)if(l=o.children,o.isExpand&&l.length)for(var f=l.length,h=f-1;h>=0;h--){var v=l[h];v.hierNode={defaultAncestor:null,ancestor:v,prelim:0,modifier:0,change:0,shift:0,i:h,thread:null},e.push(v)}}function Jst(a,t){var e=a.isExpand?a.children:[],o=a.parentNode.children,l=a.hierNode.i?o[a.hierNode.i-1]:null;if(e.length){rWt(a);var f=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;l?(a.hierNode.prelim=l.hierNode.prelim+t(a,l),a.hierNode.modifier=a.hierNode.prelim-f):a.hierNode.prelim=f}else l&&(a.hierNode.prelim=l.hierNode.prelim+t(a,l));a.parentNode.hierNode.defaultAncestor=iWt(a,l,a.parentNode.hierNode.defaultAncestor||o[0],t)}function Qst(a){var t=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:t},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function hU(a){return arguments.length?a:oWt}function xv(a,t){return a-=Math.PI/2,{x:t*Math.cos(a),y:t*Math.sin(a)}}function tlt(a,t){return ar(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function rWt(a){for(var t=a.children,e=t.length,o=0,l=0;--e>=0;){var f=t[e];f.hierNode.prelim+=o,f.hierNode.modifier+=o,l+=f.hierNode.change,o+=f.hierNode.shift+l}}function iWt(a,t,e,o){if(t){for(var l=a,f=a,h=f.parentNode.children[0],v=t,g=l.hierNode.modifier,y=f.hierNode.modifier,x=h.hierNode.modifier,b=v.hierNode.modifier;v=fU(v),f=cU(f),v&&f;){l=fU(l),h=cU(h),l.hierNode.ancestor=a;var T=v.hierNode.prelim+b-f.hierNode.prelim-y+o(v,f);T>0&&(nWt(aWt(v,a,e),a,T),y+=T,g+=T),b+=v.hierNode.modifier,y+=f.hierNode.modifier,g+=l.hierNode.modifier,x+=h.hierNode.modifier}v&&!fU(l)&&(l.hierNode.thread=v,l.hierNode.modifier+=b-g),f&&!cU(h)&&(h.hierNode.thread=f,h.hierNode.modifier+=y-x,e=a)}return e}function fU(a){var t=a.children;return t.length&&a.isExpand?t[t.length-1]:a.hierNode.thread}function cU(a){var t=a.children;return t.length&&a.isExpand?t[0]:a.hierNode.thread}function aWt(a,t,e){return a.hierNode.ancestor.parentNode===t.parentNode?a.hierNode.ancestor:e}function nWt(a,t,e){var o=e/(t.hierNode.i-a.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,a.hierNode.change+=o}function oWt(a,t){return a.parentNode===t.parentNode?1:2}var sWt=function(){function a(){this.parentPoint=[],this.childPoints=[]}return a}(),lWt=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new sWt},t.prototype.buildPath=function(e,o){var l=o.childPoints,f=l.length,h=o.parentPoint,v=l[0],g=l[f-1];if(f===1){e.moveTo(h[0],h[1]),e.lineTo(v[0],v[1]);return}var y=o.orient,x=y==="TB"||y==="BT"?0:1,b=1-x,T=Pt(o.forkPosition,1),C=[];C[x]=h[x],C[b]=h[b]+(g[b]-h[b])*T,e.moveTo(h[0],h[1]),e.lineTo(C[0],C[1]),e.moveTo(v[0],v[1]),C[x]=v[x],e.lineTo(C[0],C[1]),C[x]=g[x],e.lineTo(C[0],C[1]),e.lineTo(g[0],g[1]);for(var M=1;M<f-1;M++){var I=l[M];e.moveTo(I[0],I[1]),C[x]=I[x],e.lineTo(C[0],C[1])}},t}(se),uWt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ut,e}return t.prototype.init=function(e,o){this._controller=new zl(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,o,l){var f=e.getData(),h=e.layoutInfo,v=this._mainGroup,g=e.get("layout");g==="radial"?(v.x=h.x+h.width/2,v.y=h.y+h.height/2):(v.x=h.x,v.y=h.y),this._updateViewCoordSys(e,l),this._updateController(e,o,l);var y=this._data;f.diff(y).add(function(x){elt(f,x)&&rlt(f,x,null,v,e)}).update(function(x,b){var T=y.getItemGraphicEl(b);if(!elt(f,x)){T&&alt(y,b,T,v,e);return}rlt(f,x,T,v,e)}).remove(function(x){var b=y.getItemGraphicEl(x);b&&alt(y,x,b,v,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&f.eachItemGraphicEl(function(x,b){x.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:b})})}),this._data=f},t.prototype._updateViewCoordSys=function(e,o){var l=e.getData(),f=[];l.each(function(b){var T=l.getItemLayout(b);T&&!isNaN(T.x)&&!isNaN(T.y)&&f.push([+T.x,+T.y])});var h=[],v=[];Np(f,h,v);var g=this._min,y=this._max;v[0]-h[0]===0&&(h[0]=g?g[0]:h[0]-1,v[0]=y?y[0]:v[0]+1),v[1]-h[1]===0&&(h[1]=g?g[1]:h[1]-1,v[1]=y?y[1]:v[1]+1);var x=e.coordinateSystem=new Fu;x.zoomLimit=e.get("scaleLimit"),x.setBoundingRect(h[0],h[1],v[0]-h[0],v[1]-h[1]),x.setCenter(e.get("center"),o),x.setZoom(e.get("zoom")),this.group.attr({x:x.x,y:x.y,scaleX:x.scaleX,scaleY:x.scaleY}),this._min=h,this._max=v},t.prototype._updateController=function(e,o,l){var f=this,h=this._controller,v=this._controllerHost,g=this.group;h.setPointerChecker(function(y,x,b){var T=g.getBoundingRect();return T.applyTransform(g.transform),T.contain(x,b)&&!Tc(y,l,e)}),h.enable(e.get("roam")),v.zoomLimit=e.get("scaleLimit"),v.zoom=e.coordinateSystem.getZoom(),h.off("pan").off("zoom").on("pan",function(y){dm(v,y.dx,y.dy),l.dispatchAction({seriesId:e.id,type:"treeRoam",dx:y.dx,dy:y.dy})}).on("zoom",function(y){gm(v,y.scale,y.originX,y.originY),l.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:y.scale,originX:y.originX,originY:y.originY}),f._updateNodeAndLinkScale(e),l.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var o=e.getData(),l=this._getNodeGlobalScale(e);o.eachItemGraphicEl(function(f,h){f.setSymbolScale(l)})},t.prototype._getNodeGlobalScale=function(e){var o=e.coordinateSystem;if(o.type!=="view")return 1;var l=this._nodeScaleRatio,f=o.scaleX||1,h=o.getZoom(),v=(h-1)*l+1;return v/f},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ke);function elt(a,t){var e=a.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function rlt(a,t,e,o,l){var f=!e,h=a.tree.getNodeByDataIndex(t),v=h.getModel(),g=h.getVisual("style").fill,y=h.isExpand===!1&&h.children.length!==0?g:"#fff",x=a.tree.root,b=h.parentNode===x?h:h.parentNode||h,T=a.getItemGraphicEl(b.dataIndex),C=b.getLayout(),M=T?{x:T.__oldX,y:T.__oldY,rawX:T.__radialOldRawX,rawY:T.__radialOldRawY}:C,I=h.getLayout();f?(e=new Bu(a,t,null,{symbolInnerColor:y,useNameLabel:!0}),e.x=M.x,e.y=M.y):e.updateData(a,t,null,{symbolInnerColor:y,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=I.rawX,e.__radialRawY=I.rawY,o.add(e),a.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,we(e,{x:I.x,y:I.y},l);var P=e.getSymbolPath();if(l.get("layout")==="radial"){var O=x.children[0],N=O.getLayout(),V=O.children.length,F=void 0,U=void 0;if(I.x===N.x&&h.isExpand===!0&&O.children.length){var H={x:(O.children[0].getLayout().x+O.children[V-1].getLayout().x)/2,y:(O.children[0].getLayout().y+O.children[V-1].getLayout().y)/2};F=Math.atan2(H.y-N.y,H.x-N.x),F<0&&(F=Math.PI*2+F),U=H.x<N.x,U&&(F=F-Math.PI)}else F=Math.atan2(I.y-N.y,I.x-N.x),F<0&&(F=Math.PI*2+F),h.children.length===0||h.children.length!==0&&h.isExpand===!1?(U=I.x<N.x,U&&(F=F-Math.PI)):(U=I.x>N.x,U||(F=F-Math.PI));var Z=U?"left":"right",$=v.getModel("label"),K=$.get("rotate"),Q=K*(Math.PI/180),rt=P.getTextContent();rt&&(P.setTextConfig({position:$.get("position")||Z,rotation:K==null?-F:Q,origin:"center"}),rt.setStyle("verticalAlign","middle"))}var nt=v.get(["emphasis","focus"]),ot=nt==="relative"?dl(h.getAncestorsIndices(),h.getDescendantIndices()):nt==="ancestor"?h.getAncestorsIndices():nt==="descendant"?h.getDescendantIndices():null;ot&&(Kt(e).focus=ot),fWt(l,h,x,e,M,C,I,o),e.__edge&&(e.onHoverStateChange=function(ft){if(ft!=="blur"){var lt=h.parentNode&&a.getItemGraphicEl(h.parentNode.dataIndex);lt&&lt.hoverState===Gp||Hp(e.__edge,ft)}})}function fWt(a,t,e,o,l,f,h,v){var g=t.getModel(),y=a.get("edgeShape"),x=a.get("layout"),b=a.getOrient(),T=a.get(["lineStyle","curveness"]),C=a.get("edgeForkPosition"),M=g.getModel("lineStyle").getLineStyle(),I=o.__edge;if(y==="curve")t.parentNode&&t.parentNode!==e&&(I||(I=o.__edge=new Cu({shape:pU(x,b,T,l,l)})),we(I,{shape:pU(x,b,T,f,h)},a));else if(y==="polyline"&&x==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var P=t.children,O=[],N=0;N<P.length;N++){var V=P[N].getLayout();O.push([V.x,V.y])}I||(I=o.__edge=new lWt({shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]],orient:b,forkPosition:C}})),we(I,{shape:{parentPoint:[h.x,h.y],childPoints:O}},a)}I&&!(y==="polyline"&&!t.isExpand)&&(I.useStyle(zt({strokeNoScale:!0,fill:null},M)),Ir(I,g,"lineStyle"),Cs(I),v.add(I))}function ilt(a,t,e,o,l){var f=t.tree.root,h=nlt(f,a),v=h.source,g=h.sourceLayout,y=t.getItemGraphicEl(a.dataIndex);if(y){var x=t.getItemGraphicEl(v.dataIndex),b=x.__edge,T=y.__edge||(v.isExpand===!1||v.children.length===1?b:void 0),C=o.get("edgeShape"),M=o.get("layout"),I=o.get("orient"),P=o.get(["lineStyle","curveness"]);T&&(C==="curve"?zo(T,{shape:pU(M,I,P,g,g),style:{opacity:0}},o,{cb:function(){e.remove(T)},removeOpt:l}):C==="polyline"&&o.get("layout")==="orthogonal"&&zo(T,{shape:{parentPoint:[g.x,g.y],childPoints:[[g.x,g.y]]},style:{opacity:0}},o,{cb:function(){e.remove(T)},removeOpt:l}))}}function nlt(a,t){for(var e=t.parentNode===a?t:t.parentNode||t,o;o=e.getLayout(),o==null;)e=e.parentNode===a?e:e.parentNode||e;return{source:e,sourceLayout:o}}function alt(a,t,e,o,l){var f=a.tree.getNodeByDataIndex(t),h=a.tree.root,v=nlt(h,f).sourceLayout,g={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};zo(e,{x:v.x+1,y:v.y+1},l,{cb:function(){o.remove(e),a.setItemGraphicEl(t,null)},removeOpt:g}),e.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:g}),f.children.forEach(function(y){ilt(y,a,o,l,g)}),ilt(f,a,o,l,g)}function pU(a,t,e,o,l){var f,h,v,g,y,x,b,T;if(a==="radial"){y=o.rawX,b=o.rawY,x=l.rawX,T=l.rawY;var C=xv(y,b),M=xv(y,b+(T-b)*e),I=xv(x,T+(b-T)*e),P=xv(x,T);return{x1:C.x||0,y1:C.y||0,x2:P.x||0,y2:P.y||0,cpx1:M.x||0,cpy1:M.y||0,cpx2:I.x||0,cpy2:I.y||0}}else y=o.x,b=o.y,x=l.x,T=l.y,(t==="LR"||t==="RL")&&(f=y+(x-y)*e,h=b,v=x+(y-x)*e,g=T),(t==="TB"||t==="BT")&&(f=y,h=b+(T-b)*e,v=x,g=T+(b-T)*e);return{x1:y,y1:b,x2:x,y2:T,cpx1:f,cpy1:h,cpx2:v,cpy2:g}}var olt=uWt;var Jo=ue();function cWt(a){var t=a.mainData,e=a.datas;e||(e={main:t},a.datasAttr={main:"data"}),a.datas=a.mainData=null,slt(t,e,a),X(e,function(o){X(t.TRANSFERABLE_METHODS,function(l){o.wrapMethod(l,Qt(hWt,a))})}),t.wrapMethod("cloneShallow",Qt(vWt,a)),X(t.CHANGABLE_METHODS,function(o){t.wrapMethod(o,Qt(pWt,a))}),Tr(e[t.dataType]===t)}function hWt(a,t){if(mWt(this)){var e=mt({},Jo(this).datas);e[this.dataType]=t,slt(t,e,a)}else vU(t,this.dataType,Jo(this).mainData,a);return t}function pWt(a,t){return a.struct&&a.struct.update(),t}function vWt(a,t){return X(Jo(t).datas,function(e,o){e!==t&&vU(e.cloneShallow(),o,t,a)}),t}function dWt(a){var t=Jo(this).mainData;return a==null||t==null?t:Jo(t).datas[a]}function gWt(){var a=Jo(this).mainData;return a==null?[{data:a}]:_t(he(Jo(a).datas),function(t){return{type:t,data:Jo(a).datas[t]}})}function mWt(a){return Jo(a).mainData===a}function slt(a,t,e){Jo(a).datas={},X(t,function(o,l){vU(o,l,a,e)})}function vU(a,t,e,o){Jo(e).datas[t]=a,Jo(a).mainData=e,a.dataType=t,o.struct&&(a[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=a),a.getLinkedData=dWt,a.getLinkedDataAll=gWt}var fM=cWt;var yWt=function(){function a(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(t,e,o){Nt(t)&&(o=e,e=t,t=null),t=t||{},Dt(t)&&(t={order:t});var l=t.order||"preorder",f=this[t.attr||"children"],h;l==="preorder"&&(h=e.call(o,this));for(var v=0;!h&&v<f.length;v++)f[v].eachNode(t,e,o);l==="postorder"&&e.call(o,this)},a.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var o=0;o<this.children.length;o++){var l=this.children[o];l.updateDepthAndHeight(t+1),l.height>e&&(e=l.height)}this.height=e+1},a.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,o=this.children,l=o.length;e<l;e++){var f=o[e].getNodeById(t);if(f)return f}},a.prototype.contains=function(t){if(t===this)return!0;for(var e=0,o=this.children,l=o.length;e<l;e++){var f=o[e].contains(t);if(f)return f}},a.prototype.getAncestors=function(t){for(var e=[],o=t?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},a.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},a.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},a.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},a.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,o=e.data.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},a.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},a.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},a.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},a}();var _Wt=function(){function a(t){this.type="tree",this._nodes=[],this.hostModel=t}return a.prototype.eachNode=function(t,e,o){this.root.eachNode(t,e,o)},a.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},a.prototype.getNodeById=function(t){return this.root.getNodeById(t)},a.prototype.update=function(){for(var t=this.data,e=this._nodes,o=0,l=e.length;o<l;o++)e[o].dataIndex=-1;for(var o=0,l=t.count();o<l;o++)e[t.getRawIndex(o)].dataIndex=o},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(t,e,o){var l=new a(e),f=[],h=1;v(t);function v(x,b){var T=x.value;h=Math.max(h,yt(T)?T.length:1),f.push(x);var C=new yWt(kr(x.name,""),l);b?xWt(C,b):l.root=C,l._nodes.push(C);var M=x.children;if(M)for(var I=0;I<M.length;I++)v(M[I],C)}l.root.updateDepthAndHeight(0);var g=Zo(f,{coordDimensions:["value"],dimensionsCount:h}).dimensions,y=new Fr(g,e);return y.initData(f),o&&o(y),fM({mainData:y,struct:l,structAttr:"tree"}),l.update(),l},a}();function xWt(a,t){var e=t.children;a.parentNode!==t&&(e.push(a),a.parentNode=t)}var ym=_Wt;function Uu(a,t,e){if(a&&ae(t,a.type)>=0){var o=e.getData().tree.root,l=a.targetNode;if(Dt(l)&&(l=o.getNodeById(l)),l&&o.contains(l))return{node:l};var f=a.targetNodeId;if(f!=null&&(l=o.getNodeById(f)))return{node:l}}}function dU(a){for(var t=[];a;)a=a.parentNode,a&&t.push(a);return t.reverse()}function _m(a,t){var e=dU(a);return ae(e,t)>=0}function Cc(a,t){for(var e=[];a;){var o=a.dataIndex;e.push({name:a.name,dataIndex:o,value:t.getRawValue(o)}),a=a.parentNode}return e.reverse(),e}var SWt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var o={name:e.name,children:e.data},l=e.leaves||{},f=new Fe(l,this,this.ecModel),h=ym.createTree(o,this,v);function v(b){b.wrapMethod("getItemModel",function(T,C){var M=h.getNodeByDataIndex(C);return M&&M.children.length&&M.isExpand||(T.parentModel=f),T})}var g=0;h.eachNode("preorder",function(b){b.depth>g&&(g=b.depth)});var y=e.expandAndCollapse,x=y&&e.initialTreeDepth>=0?e.initialTreeDepth:g;return h.root.eachNode("preorder",function(b){var T=b.hostTree.data.getRawDataItem(b.dataIndex);b.isExpand=T&&T.collapsed!=null?!T.collapsed:b.depth<=x}),h.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,o,l){for(var f=this.getData().tree,h=f.root.children[0],v=f.getNodeByDataIndex(e),g=v.getValue(),y=v.name;v&&v!==h;)y=v.parentNode.name+"."+y,v=v.parentNode;return Ar("nameValue",{name:y,value:g,noValue:isNaN(g)||g==null})},t.prototype.getDataParams=function(e){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=Cc(l,this),o.collapsed=!l.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Ue),llt=SWt;function ult(a,t,e){for(var o=[a],l=[],f;f=o.pop();)if(l.push(f),f.isExpand){var h=f.children;if(h.length)for(var v=0;v<h.length;v++)o.push(h[v])}for(;f=l.pop();)t(f,e)}function xm(a,t){for(var e=[a],o;o=e.pop();)if(t(o),o.isExpand){var l=o.children;if(l.length)for(var f=l.length-1;f>=0;f--)e.push(l[f])}}function mU(a,t){a.eachSeriesByType("tree",function(e){bWt(e,t)})}function bWt(a,t){var e=tlt(a,t);a.layoutInfo=e;var o=a.get("layout"),l=0,f=0,h=null;o==="radial"?(l=2*Math.PI,f=Math.min(e.height,e.width)/2,h=hU(function(V,F){return(V.parentNode===F.parentNode?1:2)/V.depth})):(l=e.width,f=e.height,h=hU());var v=a.getData().tree.root,g=v.children[0];if(g){jst(v),ult(g,Jst,h),v.hierNode.modifier=-g.hierNode.prelim,xm(g,Qst);var y=g,x=g,b=g;xm(g,function(V){var F=V.getLayout().x;F<y.getLayout().x&&(y=V),F>x.getLayout().x&&(x=V),V.depth>b.depth&&(b=V)});var T=y===x?1:h(y,x)/2,C=T-y.getLayout().x,M=0,I=0,P=0,O=0;if(o==="radial")M=l/(x.getLayout().x+T+C),I=f/(b.depth-1||1),xm(g,function(V){P=(V.getLayout().x+C)*M,O=(V.depth-1)*I;var F=xv(P,O);V.setLayout({x:F.x,y:F.y,rawX:P,rawY:O},!0)});else{var N=a.getOrient();N==="RL"||N==="LR"?(I=f/(x.getLayout().x+T+C),M=l/(b.depth-1||1),xm(g,function(V){O=(V.getLayout().x+C)*I,P=N==="LR"?(V.depth-1)*M:l-(V.depth-1)*M,V.setLayout({x:P,y:O},!0)})):(N==="TB"||N==="BT")&&(M=l/(x.getLayout().x+T+C),I=f/(b.depth-1||1),xm(g,function(V){P=(V.getLayout().x+C)*M,O=N==="TB"?(V.depth-1)*I:f-(V.depth-1)*I,V.setLayout({x:P,y:O},!0)}))}}}function yU(a){a.eachSeriesByType("tree",function(t){var e=t.getData(),o=e.tree;o.eachNode(function(l){var f=l.getModel(),h=f.getModel("itemStyle").getItemStyle(),v=e.ensureUniqueItemVisual(l.dataIndex,"style");mt(v,h)})})}function flt(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(o){var l=t.dataIndex,f=o.getData().tree,h=f.getNodeByDataIndex(l);h.isExpand=!h.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,o){e.eachComponent({mainType:"series",subType:"tree",query:t},function(l){var f=l.coordinateSystem,h=mm(f,t,void 0,o);l.setCenter&&l.setCenter(h.center),l.setZoom&&l.setZoom(h.zoom)})})}function _U(a){a.registerChartView(olt),a.registerSeriesModel(llt),a.registerLayout(mU),a.registerVisual(yU),flt(a)}var clt=["treemapZoomToNode","treemapRender","treemapMove"];function hlt(a){for(var t=0;t<clt.length;t++)a.registerAction({type:clt[t],update:"updateView"},mr);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,o){o.eachComponent({mainType:"series",subType:"treemap",query:e},l);function l(f,h){var v=["treemapZoomToNode","treemapRootToNode"],g=Uu(e,v,f);if(g){var y=f.getViewRoot();y&&(e.direction=_m(y,g.node)?"rollUp":"drillDown"),f.resetViewRoot(g.node)}}})}function xS(a){var t=a.getData(),e=t.tree,o={};e.eachNode(function(l){for(var f=l;f&&f.depth>1;)f=f.parentNode;var h=Lx(a.ecModel,f.name||f.dataIndex+"",o);l.setVisual("decal",h)})}var wWt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,o){var l={name:e.name,children:e.data};plt(l);var f=e.levels||[],h=this.designatedVisualItemStyle={},v=new Fe({itemStyle:h},this,o);f=e.levels=TWt(f,o);var g=_t(f||[],function(b){return new Fe(b,v,o)},this),y=ym.createTree(l,this,x);function x(b){b.wrapMethod("getItemModel",function(T,C){var M=y.getNodeByDataIndex(C),I=M?g[M.depth]:null;return T.parentModel=I||v,T})}return y.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,o,l){var f=this.getData(),h=this.getRawValue(e),v=f.getName(e);return Ar("nameValue",{name:v,value:h})},t.prototype.getDataParams=function(e){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=Cc(l,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},mt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var o=this._idIndexMap;o||(o=this._idIndexMap=Rt(),this._idIndexMapCount=0);var l=o.get(e);return l==null&&o.set(e,l=this._idIndexMapCount++),l},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){xS(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Ue);function plt(a){var t=0;X(a.children,function(o){plt(o);var l=o.value;yt(l)&&(l=l[0]),t+=l});var e=a.value;yt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),yt(a.value)?a.value[0]=e:a.value=e}function TWt(a,t){var e=qe(t.get("color")),o=qe(t.get(["aria","decal","decals"]));if(e){a=a||[];var l,f;X(a,function(v){var g=new Fe(v),y=g.get("color"),x=g.get("decal");(g.get(["itemStyle","color"])||y&&y!=="none")&&(l=!0),(g.get(["itemStyle","decal"])||x&&x!=="none")&&(f=!0)});var h=a[0]||(a[0]={});return l||(h.color=e.slice()),!f&&o&&(h.decal=o.slice()),a}}var vlt=wWt;var AWt=8,dlt=8,xU=5,CWt=function(){function a(t){this.group=new Ut,t.add(this.group)}return a.prototype.render=function(t,e,o,l){var f=t.getModel("breadcrumb"),h=this.group;if(h.removeAll(),!(!f.get("show")||!o)){var v=f.getModel("itemStyle"),g=f.getModel("emphasis"),y=v.getModel("textStyle"),x=g.getModel(["itemStyle","textStyle"]),b={pos:{left:f.get("left"),right:f.get("right"),top:f.get("top"),bottom:f.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:f.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,b,y),this._renderContent(t,b,v,g,y,x,l),lc(h,b.pos,b.box)}},a.prototype._prepare=function(t,e,o){for(var l=t;l;l=l.parentNode){var f=kr(l.getModel().get("name"),""),h=o.getTextRect(f),v=Math.max(h.width+AWt*2,e.emptyItemWidth);e.totalWidth+=v+dlt,e.renderList.push({node:l,text:f,width:v})}},a.prototype._renderContent=function(t,e,o,l,f,h,v){for(var g=0,y=e.emptyItemWidth,x=t.get(["breadcrumb","height"]),b=Art(e.pos,e.box),T=e.totalWidth,C=e.renderList,M=l.getModel("itemStyle").getItemStyle(),I=C.length-1;I>=0;I--){var P=C[I],O=P.node,N=P.width,V=P.text;T>b.width&&(T-=N-y,N=y,V=null);var F=new Br({shape:{points:DWt(g,0,N,x,I===C.length-1,I===0)},style:zt(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new _e({style:Je(f,{text:V})}),textConfig:{position:"inside"},z2:bu*1e4,onclick:Qt(v,O)});F.disableLabelAnimation=!0,F.getTextContent().ensureState("emphasis").style=Je(h,{text:V}),F.ensureState("emphasis").style=M,Ke(F,l.get("focus"),l.get("blurScope"),l.get("disabled")),this.group.add(F),MWt(F,t,O),g+=N+dlt}},a.prototype.remove=function(){this.group.removeAll()},a}();function DWt(a,t,e,o,l,f){var h=[[l?a:a-xU,t],[a+e,t],[a+e,t+o],[l?a:a-xU,t+o]];return!f&&h.splice(2,0,[a+e+xU,t+o/2]),!l&&h.push([a,t+o/2]),h}function MWt(a,t,e){Kt(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Cc(e,t)}}var glt=CWt;var LWt=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(t,e,o,l,f){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:o,delay:l,easing:f}),!0)},a.prototype.finished=function(t){return this._finishedCallback=t,this},a.prototype.start=function(){for(var t=this,e=this._storage.length,o=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},l=0,f=this._storage.length;l<f;l++){var h=this._storage[l];h.el.animateTo(h.target,{duration:h.duration,delay:h.delay,easing:h.easing,setToFinal:!0,done:o,aborted:o})}return this},a}();function mlt(){return new LWt}var SU=Ut,ylt=ge,_lt=3,xlt="label",Slt="upperLabel",EWt=bu*10,PWt=bu*2,RWt=bu*3,Sv=yn([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),blt=function(a){var t=Sv(a);return t.stroke=t.fill=t.lineWidth=null,t},cM=ue(),OWt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=SS(),e}return t.prototype.render=function(e,o,l,f){var h=o.findComponents({mainType:"series",subType:"treemap",query:f});if(!(ae(h,e)<0)){this.seriesModel=e,this.api=l,this.ecModel=o;var v=["treemapZoomToNode","treemapRootToNode"],g=Uu(f,v,e),y=f&&f.type,x=e.layoutInfo,b=!this._oldTree,T=this._storage,C=y==="treemapRootToNode"&&g&&T?{rootNodeGroup:T.nodeGroup[g.node.getRawIndex()],direction:f.direction}:null,M=this._giveContainerGroup(x),I=e.get("animation"),P=this._doRender(M,e,C);I&&!b&&(!y||y==="treemapZoomToNode"||y==="treemapRootToNode")?this._doAnimation(M,P,e,C):P.renderFinally(),this._resetController(l),this._renderBreadcrumb(e,l,g)}},t.prototype._giveContainerGroup=function(e){var o=this._containerGroup;return o||(o=this._containerGroup=new SU,this._initEvents(o),this.group.add(o)),o.x=e.x,o.y=e.y,o},t.prototype._doRender=function(e,o,l){var f=o.getData().tree,h=this._oldTree,v=SS(),g=SS(),y=this._storage,x=[];function b(N,V,F,U){return kWt(o,g,y,l,v,x,N,V,F,U)}I(f.root?[f.root]:[],h&&h.root?[h.root]:[],e,f===h||!h,0);var T=P(y);if(this._oldTree=f,this._storage=g,this._controllerHost){var C=this.seriesModel.layoutInfo,M=f.root.getLayout();M.width===C.width&&M.height===C.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:v,willDeleteEls:T,renderFinally:O};function I(N,V,F,U,H){U?(V=N,X(N,function(K,Q){!K.isRemoved()&&$(Q,Q)})):new ha(V,N,Z,Z).add($).update($).remove(Qt($,null)).execute();function Z(K){return K.getId()}function $(K,Q){var rt=K!=null?N[K]:null,nt=Q!=null?V[Q]:null,ot=b(rt,nt,F,H);ot&&I(rt&&rt.viewChildren||[],nt&&nt.viewChildren||[],ot,U,H+1)}}function P(N){var V=SS();return N&&X(N,function(F,U){var H=V[U];X(F,function(Z){Z&&(H.push(Z),cM(Z).willDelete=!0)})}),V}function O(){X(T,function(N){X(N,function(V){V.parent&&V.parent.remove(V)})}),X(x,function(N){N.invisible=!0,N.dirty()})}},t.prototype._doAnimation=function(e,o,l,f){var h=l.get("animationDurationUpdate"),v=l.get("animationEasing"),g=(Nt(h)?0:h)||0,y=(Nt(v)?null:v)||"cubicOut",x=mlt();X(o.willDeleteEls,function(b,T){X(b,function(C,M){if(!C.invisible){var I=C.parent,P,O=cM(I);if(f&&f.direction==="drillDown")P=I===f.rootNodeGroup?{shape:{x:0,y:0,width:O.nodeWidth,height:O.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var N=0,V=0;O.willDelete||(N=O.nodeWidth/2,V=O.nodeHeight/2),P=T==="nodeGroup"?{x:N,y:V,style:{opacity:0}}:{shape:{x:N,y:V,width:0,height:0},style:{opacity:0}}}P&&x.add(C,P,g,0,y)}})}),X(this._storage,function(b,T){X(b,function(C,M){var I=o.lastsForAnimation[T][M],P={};I&&(C instanceof Ut?I.oldX!=null&&(P.x=C.x,P.y=C.y,C.x=I.oldX,C.y=I.oldY):(I.oldShape&&(P.shape=mt({},C.shape),C.setShape(I.oldShape)),I.fadein?(C.setStyle("opacity",0),P.style={opacity:1}):C.style.opacity!==1&&(P.style={opacity:1})),x.add(C,P,g,0,y))})},this),this._state="animating",x.finished(It(function(){this._state="ready",o.renderFinally()},this)).start()},t.prototype._resetController=function(e){var o=this._controller,l=this._controllerHost;l||(this._controllerHost={target:this.group},l=this._controllerHost),o||(o=this._controller=new zl(e.getZr()),o.enable(this.seriesModel.get("roam")),l.zoomLimit=this.seriesModel.get("scaleLimit"),l.zoom=this.seriesModel.get("zoom"),o.on("pan",It(this._onPan,this)),o.on("zoom",It(this._onZoom,this)));var f=new ie(0,0,e.getWidth(),e.getHeight());o.setPointerChecker(function(h,v,g){return f.contain(v,g)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>_lt||Math.abs(e.dy)>_lt)){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+e.dx,y:l.y+e.dy,width:l.width,height:l.height}})}},t.prototype._onZoom=function(e){var o=e.originX,l=e.originY,f=e.scale;if(this._state!=="animating"){var h=this.seriesModel.getData().tree.root;if(!h)return;var v=h.getLayout();if(!v)return;var g=new ie(v.x,v.y,v.width,v.height),y=null,x=this._controllerHost;y=x.zoomLimit;var b=x.zoom=x.zoom||1;if(b*=f,y){var T=y.min||0,C=y.max||1/0;b=Math.max(Math.min(C,b),T)}var M=b/x.zoom;x.zoom=b;var I=this.seriesModel.layoutInfo;o-=I.x,l-=I.y;var P=ri();Ki(P,P,[-o,-l]),vp(P,P,[M,M]),Ki(P,P,[o,l]),g.applyTransform(P),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:g.x,y:g.y,width:g.width,height:g.height}})}},t.prototype._initEvents=function(e){var o=this;e.on("click",function(l){if(o._state==="ready"){var f=o.seriesModel.get("nodeClick",!0);if(f){var h=o.findTarget(l.offsetX,l.offsetY);if(h){var v=h.node;if(v.getLayout().isLeafRoot)o._rootToNode(h);else if(f==="zoomToNode")o._zoomToNode(h);else if(f==="link"){var g=v.hostTree.data.getItemModel(v.dataIndex),y=g.get("link",!0),x=g.get("target",!0)||"blank";y&&tv(y,x)}}}}},this)},t.prototype._renderBreadcrumb=function(e,o,l){var f=this;l||(l=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),l||(l={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new glt(this.group))).render(e,o,l.node,function(h){f._state!=="animating"&&(_m(e.getViewRoot(),h)?f._rootToNode({node:h}):f._zoomToNode({node:h}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=SS(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,o){var l,f=this.seriesModel.getViewRoot();return f.eachNode({attr:"viewChildren",order:"preorder"},function(h){var v=this._storage.background[h.getRawIndex()];if(v){var g=v.transformCoordToLocal(e,o),y=v.shape;if(y.x<=g[0]&&g[0]<=y.x+y.width&&y.y<=g[1]&&g[1]<=y.y+y.height)l={node:h,offsetX:g[0],offsetY:g[1]};else return!1}},this),l},t.type="treemap",t}(ke);function SS(){return{nodeGroup:[],background:[],content:[]}}function kWt(a,t,e,o,l,f,h,v,g,y){if(!h)return;var x=h.getLayout(),b=a.getData(),T=h.getModel();if(b.setItemGraphicEl(h.dataIndex,null),!x||!x.isInView)return;var C=x.width,M=x.height,I=x.borderWidth,P=x.invisible,O=h.getRawIndex(),N=v&&v.getRawIndex(),V=h.viewChildren,F=x.upperHeight,U=V&&V.length,H=T.getModel("itemStyle"),Z=T.getModel(["emphasis","itemStyle"]),$=T.getModel(["blur","itemStyle"]),K=T.getModel(["select","itemStyle"]),Q=H.get("borderRadius")||0,rt=j("nodeGroup",SU);if(!rt)return;if(g.add(rt),rt.x=x.x||0,rt.y=x.y||0,rt.markRedraw(),cM(rt).nodeWidth=C,cM(rt).nodeHeight=M,x.isAboveViewRoot)return rt;var nt=j("background",ylt,y,PWt);nt&&Et(rt,nt,U&&x.upperLabelHeight);var ot=T.getModel("emphasis"),ft=ot.get("focus"),lt=ot.get("blurScope"),pt=ot.get("disabled"),xt=ft==="ancestor"?h.getAncestorsIndices():ft==="descendant"?h.getDescendantIndices():ft;if(U)nc(rt)&&Tu(rt,!1),nt&&(Tu(nt,!pt),b.setItemGraphicEl(h.dataIndex,nt),WA(nt,xt,lt));else{var st=j("content",ylt,y,RWt);st&&At(rt,st),nt.disableMorphing=!0,nt&&nc(nt)&&Tu(nt,!1),Tu(rt,!pt),b.setItemGraphicEl(h.dataIndex,rt);var dt=T.getShallow("cursor");dt&&st.attr("cursor",dt),WA(rt,xt,lt)}return rt;function Et(jt,ve,Xt){var fe=Kt(ve);if(fe.dataIndex=h.dataIndex,fe.seriesIndex=a.seriesIndex,ve.setShape({x:0,y:0,width:C,height:M,r:Q}),P)Zt(ve);else{ve.invisible=!1;var Mt=h.getVisual("style"),ee=Mt.stroke,wt=blt(H);wt.fill=ee;var Gt=Sv(Z);Gt.fill=Z.get("borderColor");var kt=Sv($);kt.fill=$.get("borderColor");var Hr=Sv(K);if(Hr.fill=K.get("borderColor"),Xt){var Ne=C-2*I;qt(ve,ee,Mt.opacity,{x:I,y:0,width:Ne,height:F})}else ve.removeTextContent();ve.setStyle(wt),ve.ensureState("emphasis").style=Gt,ve.ensureState("blur").style=kt,ve.ensureState("select").style=Hr,Cs(ve)}jt.add(ve)}function At(jt,ve){var Xt=Kt(ve);Xt.dataIndex=h.dataIndex,Xt.seriesIndex=a.seriesIndex;var fe=Math.max(C-2*I,0),Mt=Math.max(M-2*I,0);if(ve.culling=!0,ve.setShape({x:I,y:I,width:fe,height:Mt,r:Q}),P)Zt(ve);else{ve.invisible=!1;var ee=h.getVisual("style"),wt=ee.fill,Gt=blt(H);Gt.fill=wt,Gt.decal=ee.decal;var kt=Sv(Z),Hr=Sv($),Ne=Sv(K);qt(ve,wt,ee.opacity,null),ve.setStyle(Gt),ve.ensureState("emphasis").style=kt,ve.ensureState("blur").style=Hr,ve.ensureState("select").style=Ne,Cs(ve)}jt.add(ve)}function Zt(jt){!jt.invisible&&f.push(jt)}function qt(jt,ve,Xt,fe){var Mt=T.getModel(fe?Slt:xlt),ee=kr(T.get("name"),null),wt=Mt.getShallow("show");_r(jt,cr(T,fe?Slt:xlt),{defaultText:wt?ee:null,inheritColor:ve,defaultOpacity:Xt,labelFetcher:a,labelDataIndex:h.dataIndex});var Gt=jt.getTextContent();if(Gt){var kt=Gt.style,Hr=fp(kt.padding||0);fe&&(jt.setTextConfig({layoutRect:fe}),Gt.disableLabelLayout=!0),Gt.beforeUpdate=function(){var re=Math.max((fe?fe.width:jt.shape.width)-Hr[1]-Hr[3],0),os=Math.max((fe?fe.height:jt.shape.height)-Hr[0]-Hr[2],0);(kt.width!==re||kt.height!==os)&&Gt.setStyle({width:re,height:os})},kt.truncateMinChar=2,kt.lineOverflow="truncate",te(kt,fe,x);var Ne=Gt.getState("emphasis");te(Ne?Ne.style:null,fe,x)}}function te(jt,ve,Xt){var fe=jt?jt.text:null;if(!ve&&Xt.isLeafRoot&&fe!=null){var Mt=a.get("drillDownIcon",!0);jt.text=Mt?Mt+" "+fe:fe}}function j(jt,ve,Xt,fe){var Mt=N!=null&&e[jt][N],ee=l[jt];return Mt?(e[jt][N]=null,Tt(ee,Mt)):P||(Mt=new ve,Mt instanceof ai&&(Mt.z2=NWt(Xt,fe)),lr(ee,Mt)),t[jt][O]=Mt}function Tt(jt,ve){var Xt=jt[O]={};ve instanceof SU?(Xt.oldX=ve.x,Xt.oldY=ve.y):Xt.oldShape=mt({},ve.shape)}function lr(jt,ve){var Xt=jt[O]={},fe=h.parentNode,Mt=ve instanceof Ut;if(fe&&(!o||o.direction==="drillDown")){var ee=0,wt=0,Gt=l.background[fe.getRawIndex()];!o&&Gt&&Gt.oldShape&&(ee=Gt.oldShape.width,wt=Gt.oldShape.height),Mt?(Xt.oldX=0,Xt.oldY=wt):Xt.oldShape={x:ee,y:wt,width:0,height:0}}Xt.fadein=!Mt}}function NWt(a,t){return a*EWt+t}var wlt=OWt;var TS=X,zWt=Ft,vM=-1,AU=function(){function a(t){var e=t.mappingMethod,o=t.type,l=this.option=Ht(t);this.type=o,this.mappingMethod=e,this._normalizeData=FWt[e];var f=a.visualHandlers[o];this.applyVisual=f.applyVisual,this.getColorMapper=f.getColorMapper,this._normalizedToVisual=f._normalizedToVisual[e],e==="piecewise"?(bU(l),VWt(l)):e==="category"?l.categories?BWt(l):bU(l,!0):(Tr(e!=="linear"||l.dataExtent),bU(l))}return a.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},a.prototype.getNormalizer=function(){return It(this._normalizeData,this)},a.listVisualTypes=function(){return he(a.visualHandlers)},a.isValidType=function(t){return a.visualHandlers.hasOwnProperty(t)},a.eachVisual=function(t,e,o){Ft(t)?X(t,e,o):e.call(o,t)},a.mapVisual=function(t,e,o){var l,f=yt(t)?[]:Ft(t)?{}:(l=!0,null);return a.eachVisual(t,function(h,v){var g=e.call(o,h,v);l?f=g:f[v]=g}),f},a.retrieveVisuals=function(t){var e={},o;return t&&TS(a.visualHandlers,function(l,f){t.hasOwnProperty(f)&&(e[f]=t[f],o=!0)}),o?e:null},a.prepareVisualTypes=function(t){if(yt(t))t=t.slice();else if(zWt(t)){var e=[];TS(t,function(o,l){e.push(l)}),t=e}else return[];return t.sort(function(o,l){return l==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),t},a.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},a.findPieceIndex=function(t,e,o){for(var l,f=1/0,h=0,v=e.length;h<v;h++){var g=e[h].value;if(g!=null){if(g===t||Dt(g)&&g===t+"")return h;o&&T(g,h)}}for(var h=0,v=e.length;h<v;h++){var y=e[h],x=y.interval,b=y.close;if(x){if(x[0]===-1/0){if(pM(b[1],t,x[1]))return h}else if(x[1]===1/0){if(pM(b[0],x[0],t))return h}else if(pM(b[0],x[0],t)&&pM(b[1],t,x[1]))return h;o&&T(x[0],h),o&&T(x[1],h)}}if(o)return t===1/0?e.length-1:t===-1/0?0:l;function T(C,M){var I=Math.abs(C-t);I<f&&(f=I,l=M)}},a.visualHandlers={color:{applyVisual:bS("color"),getColorMapper:function(){var t=this.option;return It(t.mappingMethod==="category"?function(e,o){return!o&&(e=this._normalizeData(e)),wS.call(this,e)}:function(e,o,l){var f=!!l;return!o&&(e=this._normalizeData(e)),l=gg(e,t.parsedVisual,l),f?l:hn(l,"rgba")},this)},_normalizedToVisual:{linear:function(t){return hn(gg(t,this.option.parsedVisual),"rgba")},category:wS,piecewise:function(t,e){var o=TU.call(this,e);return o==null&&(o=hn(gg(t,this.option.parsedVisual),"rgba")),o},fixed:bv}},colorHue:hM(function(t,e){return Xf(t,e)}),colorSaturation:hM(function(t,e){return Xf(t,null,e)}),colorLightness:hM(function(t,e){return Xf(t,null,null,e)}),colorAlpha:hM(function(t,e){return qf(t,e)}),decal:{applyVisual:bS("decal"),_normalizedToVisual:{linear:null,category:wS,piecewise:null,fixed:null}},opacity:{applyVisual:bS("opacity"),_normalizedToVisual:wU([0,1])},liftZ:{applyVisual:bS("liftZ"),_normalizedToVisual:{linear:bv,category:bv,piecewise:bv,fixed:bv}},symbol:{applyVisual:function(t,e,o){var l=this.mapValueToVisual(t);o("symbol",l)},_normalizedToVisual:{linear:Tlt,category:wS,piecewise:function(t,e){var o=TU.call(this,e);return o==null&&(o=Tlt.call(this,t)),o},fixed:bv}},symbolSize:{applyVisual:bS("symbolSize"),_normalizedToVisual:wU([0,1])}},a}();function VWt(a){var t=a.pieceList;a.hasSpecialVisual=!1,X(t,function(e,o){e.originIndex=o,e.visual!=null&&(a.hasSpecialVisual=!0)})}function BWt(a){var t=a.categories,e=a.categoryMap={},o=a.visual;if(TS(t,function(h,v){e[h]=v}),!yt(o)){var l=[];Ft(o)?TS(o,function(h,v){var g=e[v];l[g??vM]=h}):l[vM]=o,o=Alt(a,l)}for(var f=t.length-1;f>=0;f--)o[f]==null&&(delete e[t[f]],t.pop())}function bU(a,t){var e=a.visual,o=[];Ft(e)?TS(e,function(f){o.push(f)}):e!=null&&o.push(e);var l={color:1,symbol:1};!t&&o.length===1&&!l.hasOwnProperty(a.type)&&(o[1]=o[0]),Alt(a,o)}function hM(a){return{applyVisual:function(t,e,o){var l=this.mapValueToVisual(t);o("color",a(e("color"),l))},_normalizedToVisual:wU([0,1])}}function Tlt(a){var t=this.option.visual;return t[Math.round($e(a,[0,1],[0,t.length-1],!0))]||{}}function bS(a){return function(t,e,o){o(a,this.mapValueToVisual(t))}}function wS(a){var t=this.option.visual;return t[this.option.loop&&a!==vM?a%t.length:a]}function bv(){return this.option.visual[0]}function wU(a){return{linear:function(t){return $e(t,a,this.option.visual,!0)},category:wS,piecewise:function(t,e){var o=TU.call(this,e);return o==null&&(o=$e(t,a,this.option.visual,!0)),o},fixed:bv}}function TU(a){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var o=AU.findPieceIndex(a,e),l=e[o];if(l&&l.visual)return l.visual[this.type]}}function Alt(a,t){return a.visual=t,a.type==="color"&&(a.parsedVisual=_t(t,function(e){var o=Ii(e);return o||[0,0,0,1]})),t}var FWt={linear:function(a){return $e(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var t=this.option.pieceList,e=AU.findPieceIndex(a,t,!0);if(e!=null)return $e(e,[0,t.length-1],[0,1],!0)},category:function(a){var t=this.option.categories?this.option.categoryMap[a]:a;return t??vM},fixed:mr};function pM(a,t,e){return a?t<=e:t<e}var Jr=AU;var UWt="itemStyle",Dlt=ue(),Mlt={seriesType:"treemap",reset:function(a){var t=a.getData().tree,e=t.root;e.isRemoved()||Llt(e,{},a.getViewRoot().getAncestors(),a)}};function Llt(a,t,e,o){var l=a.getModel(),f=a.getLayout(),h=a.hostTree.data;if(!(!f||f.invisible||!f.isInView)){var v=l.getModel(UWt),g=GWt(v,t,o),y=h.ensureUniqueItemVisual(a.dataIndex,"style"),x=v.get("borderColor"),b=v.get("borderColorSaturation"),T;b!=null&&(T=Clt(g),x=HWt(b,T)),y.stroke=x;var C=a.viewChildren;if(!C||!C.length)T=Clt(g),y.fill=T;else{var M=WWt(a,l,f,v,g,C);X(C,function(I,P){if(I.depth>=e.length||I===e[I.depth]){var O=YWt(l,g,I,P,M,o);Llt(I,O,e,o)}})}}}function GWt(a,t,e){var o=mt({},t),l=e.designatedVisualItemStyle;return X(["color","colorAlpha","colorSaturation"],function(f){l[f]=t[f];var h=a.get(f);l[f]=null,h!=null&&(o[f]=h)}),o}function Clt(a){var t=CU(a,"color");if(t){var e=CU(a,"colorAlpha"),o=CU(a,"colorSaturation");return o&&(t=Xf(t,null,null,o)),e&&(t=qf(t,e)),t}}function HWt(a,t){return t!=null?Xf(t,null,null,a):null}function CU(a,t){var e=a[t];if(e!=null&&e!=="none")return e}function WWt(a,t,e,o,l,f){if(!(!f||!f.length)){var h=DU(t,"color")||l.color!=null&&l.color!=="none"&&(DU(t,"colorAlpha")||DU(t,"colorSaturation"));if(h){var v=t.get("visualMin"),g=t.get("visualMax"),y=e.dataExtent.slice();v!=null&&v<y[0]&&(y[0]=v),g!=null&&g>y[1]&&(y[1]=g);var x=t.get("colorMappingBy"),b={type:h.name,dataExtent:y,visual:h.range};b.type==="color"&&(x==="index"||x==="id")?(b.mappingMethod="category",b.loop=!0):b.mappingMethod="linear";var T=new Jr(b);return Dlt(T).drColorMappingBy=x,T}}}function DU(a,t){var e=a.get(t);return yt(e)&&e.length?{name:t,range:e}:null}function YWt(a,t,e,o,l,f){var h=mt({},t);if(l){var v=l.type,g=v==="color"&&Dlt(l).drColorMappingBy,y=g==="index"?o:g==="id"?f.mapIdToIndex(e.getId()):e.getValue(a.get("visualDimension"));h[v]=l.mapValueToVisual(y)}return h}var AS=Math.max,dM=Math.min,Ilt=wr,MU=X,Plt=["itemStyle","borderWidth"],ZWt=["itemStyle","gapWidth"],XWt=["upperLabel","show"],qWt=["upperLabel","height"],Rlt={seriesType:"treemap",reset:function(a,t,e,o){var l=e.getWidth(),f=e.getHeight(),h=a.option,v=ar(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),g=h.size||[],y=Pt(Ilt(v.width,g[0]),l),x=Pt(Ilt(v.height,g[1]),f),b=o&&o.type,T=["treemapZoomToNode","treemapRootToNode"],C=Uu(o,T,a),M=b==="treemapRender"||b==="treemapMove"?o.rootRect:null,I=a.getViewRoot(),P=dU(I);if(b!=="treemapMove"){var O=b==="treemapZoomToNode"?t4t(a,C,I,y,x):M?[M.width,M.height]:[y,x],N=h.sort;N&&N!=="asc"&&N!=="desc"&&(N="desc");var V={squareRatio:h.squareRatio,sort:N,leafDepth:h.leafDepth};I.hostTree.clearLayouts();var F={x:0,y:0,width:O[0],height:O[1],area:O[0]*O[1]};I.setLayout(F),Olt(I,V,!1,0),F=I.getLayout(),MU(P,function(H,Z){var $=(P[Z+1]||I).getValue();H.setLayout(mt({dataExtent:[$,$],borderWidth:0,upperHeight:0},F))})}var U=a.getData().tree.root;U.setLayout(e4t(v,M,C),!0),a.setLayoutInfo(v),klt(U,new ie(-v.x,-v.y,l,f),P,I,0)}};function Olt(a,t,e,o){var l,f;if(!a.isRemoved()){var h=a.getLayout();l=h.width,f=h.height;var v=a.getModel(),g=v.get(Plt),y=v.get(ZWt)/2,x=Nlt(v),b=Math.max(g,x),T=g-y,C=b-y;a.setLayout({borderWidth:g,upperHeight:b,upperLabelHeight:x},!0),l=AS(l-2*T,0),f=AS(f-T-C,0);var M=l*f,I=$Wt(a,v,M,t,e,o);if(I.length){var P={x:T,y:C,width:l,height:f},O=dM(l,f),N=1/0,V=[];V.area=0;for(var F=0,U=I.length;F<U;){var H=I[F];V.push(H),V.area+=H.getLayout().area;var Z=QWt(V,O,t.squareRatio);Z<=N?(F++,N=Z):(V.area-=V.pop().getLayout().area,Elt(V,O,P,y,!1),O=dM(P.width,P.height),V.length=V.area=0,N=1/0)}if(V.length&&Elt(V,O,P,y,!0),!e){var $=v.get("childrenVisibleMin");$!=null&&M<$&&(e=!0)}for(var F=0,U=I.length;F<U;F++)Olt(I[F],t,e,o+1)}}}function $Wt(a,t,e,o,l,f){var h=a.children||[],v=o.sort;v!=="asc"&&v!=="desc"&&(v=null);var g=o.leafDepth!=null&&o.leafDepth<=f;if(l&&!g)return a.viewChildren=[];h=Ee(h,function(C){return!C.isRemoved()}),jWt(h,v);var y=JWt(t,h,v);if(y.sum===0)return a.viewChildren=[];if(y.sum=KWt(t,e,y.sum,v,h),y.sum===0)return a.viewChildren=[];for(var x=0,b=h.length;x<b;x++){var T=h[x].getValue()/y.sum*e;h[x].setLayout({area:T})}return g&&(h.length&&a.setLayout({isLeafRoot:!0},!0),h.length=0),a.viewChildren=h,a.setLayout({dataExtent:y.dataExtent},!0),h}function KWt(a,t,e,o,l){if(!o)return e;for(var f=a.get("visibleMin"),h=l.length,v=h,g=h-1;g>=0;g--){var y=l[o==="asc"?h-g-1:g].getValue();y/e*t<f&&(v=g,e-=y)}return o==="asc"?l.splice(0,h-v):l.splice(v,h-v),e}function jWt(a,t){return t&&a.sort(function(e,o){var l=t==="asc"?e.getValue()-o.getValue():o.getValue()-e.getValue();return l===0?t==="asc"?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:l}),a}function JWt(a,t,e){for(var o=0,l=0,f=t.length;l<f;l++)o+=t[l].getValue();var h=a.get("visualDimension"),v;return!t||!t.length?v=[NaN,NaN]:h==="value"&&e?(v=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&v.reverse()):(v=[1/0,-1/0],MU(t,function(g){var y=g.getValue(h);y<v[0]&&(v[0]=y),y>v[1]&&(v[1]=y)})),{sum:o,dataExtent:v}}function QWt(a,t,e){for(var o=0,l=1/0,f=0,h=void 0,v=a.length;f<v;f++)h=a[f].getLayout().area,h&&(h<l&&(l=h),h>o&&(o=h));var g=a.area*a.area,y=t*t*e;return g?AS(y*o/g,g/(y*l)):1/0}function Elt(a,t,e,o,l){var f=t===e.width?0:1,h=1-f,v=["x","y"],g=["width","height"],y=e[v[f]],x=t?a.area/t:0;(l||x>e[g[h]])&&(x=e[g[h]]);for(var b=0,T=a.length;b<T;b++){var C=a[b],M={},I=x?C.getLayout().area/x:0,P=M[g[h]]=AS(x-2*o,0),O=e[v[f]]+e[g[f]]-y,N=b===T-1||O<I?O:I,V=M[g[f]]=AS(N-2*o,0);M[v[h]]=e[v[h]]+dM(o,P/2),M[v[f]]=y+dM(o,V/2),y+=N,C.setLayout(M,!0)}e[v[h]]+=x,e[g[h]]-=x}function t4t(a,t,e,o,l){var f=(t||{}).node,h=[o,l];if(!f||f===e)return h;for(var v,g=o*l,y=g*a.option.zoomToNodeRatio;v=f.parentNode;){for(var x=0,b=v.children,T=0,C=b.length;T<C;T++)x+=b[T].getValue();var M=f.getValue();if(M===0)return h;y*=x/M;var I=v.getModel(),P=I.get(Plt),O=Math.max(P,Nlt(I));y+=4*P*P+(3*P+O)*Math.pow(y,.5),y>j_&&(y=j_),f=v}y<g&&(y=g);var N=Math.pow(y/g,.5);return[o*N,l*N]}function e4t(a,t,e){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!e)return o;var l=e.node,f=l.getLayout();if(!f)return o;for(var h=[f.width/2,f.height/2],v=l;v;){var g=v.getLayout();h[0]+=g.x,h[1]+=g.y,v=v.parentNode}return{x:a.width/2-h[0],y:a.height/2-h[1]}}function klt(a,t,e,o,l){var f=a.getLayout(),h=e[l],v=h&&h===a;if(!(h&&!v||l===e.length&&a!==o)){a.setLayout({isInView:!0,invisible:!v&&!t.intersect(f),isAboveViewRoot:v},!0);var g=new ie(t.x-f.x,t.y-f.y,t.width,t.height);MU(a.viewChildren||[],function(y){klt(y,g,e,o,l+1)})}}function Nlt(a){return a.get(XWt)?a.get(qWt):0}function LU(a){a.registerSeriesModel(vlt),a.registerChartView(wlt),a.registerVisual(Mlt),a.registerLayout(Rlt),hlt(a)}function IU(a){var t=a.findComponents({mainType:"legend"});!t||!t.length||a.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),l=e.getGraph(),f=l.data,h=o.mapArray(o.getName);f.filterSelf(function(v){var g=f.getItemModel(v),y=g.getShallow("category");if(y!=null){ye(y)&&(y=h[y]);for(var x=0;x<t.length;x++)if(!t[x].isSelected(y))return!1}return!0})})}function EU(a){var t={};a.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),l=e.getData(),f={};o.each(function(h){var v=o.getName(h);f["ec-"+v]=h;var g=o.getItemModel(h),y=g.getModel("itemStyle").getItemStyle();y.fill||(y.fill=e.getColorFromPalette(v,t)),o.setItemVisual(h,"style",y);for(var x=["symbol","symbolSize","symbolKeepAspect"],b=0;b<x.length;b++){var T=g.getShallow(x[b],!0);T!=null&&o.setItemVisual(h,x[b],T)}}),o.count()&&l.each(function(h){var v=l.getItemModel(h),g=v.getShallow("category");if(g!=null){Dt(g)&&(g=f["ec-"+g]);var y=o.getItemVisual(g,"style"),x=l.ensureUniqueItemVisual(h,"style");mt(x,y);for(var b=["symbol","symbolSize","symbolKeepAspect"],T=0;T<b.length;T++)l.setItemVisual(h,b[T],o.getItemVisual(g,b[T]))}})})}function gM(a){return a instanceof Array||(a=[a,a]),a}function PU(a){a.eachSeriesByType("graph",function(t){var e=t.getGraph(),o=t.getEdgeData(),l=gM(t.get("edgeSymbol")),f=gM(t.get("edgeSymbolSize"));o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",f&&f[0]),o.setVisual("toSymbolSize",f&&f[1]),o.setVisual("style",t.getModel("lineStyle").getLineStyle()),o.each(function(h){var v=o.getItemModel(h),g=e.getEdgeByIndex(h),y=gM(v.getShallow("symbol",!0)),x=gM(v.getShallow("symbolSize",!0)),b=v.getModel("lineStyle").getLineStyle(),T=o.ensureUniqueItemVisual(h,"style");switch(mt(T,b),T.stroke){case"source":{var C=g.node1.getVisual("style");T.stroke=C&&C.fill;break}case"target":{var C=g.node2.getVisual("style");T.stroke=C&&C.fill;break}}y[0]&&g.setVisual("fromSymbol",y[0]),y[1]&&g.setVisual("toSymbol",y[1]),x[0]&&g.setVisual("fromSymbolSize",x[0]),x[1]&&g.setVisual("toSymbolSize",x[1])})})}var RU="-->",mM=function(a){return a.get("autoCurveness")||null},zlt=function(a,t){var e=mM(a),o=20,l=[];if(ye(e))o=e;else if(yt(e)){a.__curvenessList=e;return}t>o&&(o=t);var f=o%2?o+2:o+3;l=[];for(var h=0;h<f;h++)l.push((h%2?h+1:h)/10*(h%2?-1:1));a.__curvenessList=l},CS=function(a,t,e){var o=[a.id,a.dataIndex].join("."),l=[t.id,t.dataIndex].join(".");return[e.uid,o,l].join(RU)},Vlt=function(a){var t=a.split(RU);return[t[0],t[2],t[1]].join(RU)},r4t=function(a,t){var e=CS(a.node1,a.node2,t);return t.__edgeMap[e]},i4t=function(a,t){var e=OU(CS(a.node1,a.node2,t),t),o=OU(CS(a.node2,a.node1,t),t);return e+o},OU=function(a,t){var e=t.__edgeMap;return e[a]?e[a].length:0};function Blt(a){mM(a)&&(a.__curvenessList=[],a.__edgeMap={},zlt(a))}function Flt(a,t,e,o){if(mM(e)){var l=CS(a,t,e),f=e.__edgeMap,h=f[Vlt(l)];f[l]&&!h?f[l].isForward=!0:h&&f[l]&&(h.isForward=!0,f[l].isForward=!1),f[l]=f[l]||[],f[l].push(o)}}function Sm(a,t,e,o){var l=mM(t),f=yt(l);if(!l)return null;var h=r4t(a,t);if(!h)return null;for(var v=-1,g=0;g<h.length;g++)if(h[g]===e){v=g;break}var y=i4t(a,t);zlt(t,y),a.lineStyle=a.lineStyle||{};var x=CS(a.node1,a.node2,t),b=t.__curvenessList,T=f||y%2?0:1;if(h.isForward)return b[T+v];var C=Vlt(x),M=OU(C,t),I=b[v+M+T];return o?f?l&&l[0]===0?(M+T)%2?I:-I:((M%2?0:1)+T)%2?I:-I:(M+T)%2?I:-I:b[v+M+T]}function yM(a){var t=a.coordinateSystem;if(!(t&&t.type!=="view")){var e=a.getGraph();e.eachNode(function(o){var l=o.getModel();o.setLayout([+l.get("x"),+l.get("y")])}),DS(e,a)}}function DS(a,t){a.eachEdge(function(e,o){var l=Ci(e.getModel().get(["lineStyle","curveness"]),-Sm(e,t,o,!0),0),f=Ga(e.node1.getLayout()),h=Ga(e.node2.getLayout()),v=[f,h];+l&&v.push([(f[0]+h[0])/2-(f[1]-h[1])*l,(f[1]+h[1])/2-(h[0]-f[0])*l]),e.setLayout(v)})}function kU(a,t){a.eachSeriesByType("graph",function(e){var o=e.get("layout"),l=e.coordinateSystem;if(l&&l.type!=="view"){var f=e.getData(),h=[];X(l.dimensions,function(T){h=h.concat(f.mapDimensionsAll(T))});for(var v=0;v<f.count();v++){for(var g=[],y=!1,x=0;x<h.length;x++){var b=f.get(h[x],v);isNaN(b)||(y=!0),g.push(b)}y?f.setItemLayout(v,l.dataToPoint(g)):f.setItemLayout(v,[NaN,NaN])}DS(f.graph,e)}else(!o||o==="none")&&yM(e)})}function wv(a){var t=a.coordinateSystem;if(t.type!=="view")return 1;var e=a.option.nodeScaleRatio,o=t.scaleX,l=t.getZoom(),f=(l-1)*e+1;return f/o}function Tv(a){var t=a.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Ult=Math.PI,NU=[];function bm(a,t,e,o){var l=a.coordinateSystem;if(!(l&&l.type!=="view")){var f=l.getBoundingRect(),h=a.getData(),v=h.graph,g=f.width/2+f.x,y=f.height/2+f.y,x=Math.min(f.width,f.height)/2,b=h.count();if(h.setLayout({cx:g,cy:y}),!!b){if(e){var T=l.pointToData(o),C=T[0],M=T[1],I=[C-g,M-y];Gn(I,I),hp(I,I,x),e.setLayout([g+I[0],y+I[1]],!0);var P=a.get(["circular","rotateLabel"]);zU(e,P,g,y)}a4t[t](a,v,h,x,g,y,b),v.eachEdge(function(O,N){var V=Ci(O.getModel().get(["lineStyle","curveness"]),Sm(O,a,N),0),F=Ga(O.node1.getLayout()),U=Ga(O.node2.getLayout()),H,Z=(F[0]+U[0])/2,$=(F[1]+U[1])/2;+V&&(V*=3,H=[g*V+Z*(1-V),y*V+$*(1-V)]),O.setLayout([F,U,H])})}}}var a4t={value:function(a,t,e,o,l,f,h){var v=0,g=e.getSum("value"),y=Math.PI*2/(g||h);t.eachNode(function(x){var b=x.getValue("value"),T=y*(g?b:1)/2;v+=T,x.setLayout([o*Math.cos(v)+l,o*Math.sin(v)+f]),v+=T})},symbolSize:function(a,t,e,o,l,f,h){var v=0;NU.length=h;var g=wv(a);t.eachNode(function(b){var T=Tv(b);isNaN(T)&&(T=2),T<0&&(T=0),T*=g;var C=Math.asin(T/2/o);isNaN(C)&&(C=Ult/2),NU[b.dataIndex]=C,v+=C*2});var y=(2*Ult-v)/h/2,x=0;t.eachNode(function(b){var T=y+NU[b.dataIndex];x+=T,(!b.getLayout()||!b.getLayout().fixed)&&b.setLayout([o*Math.cos(x)+l,o*Math.sin(x)+f]),x+=T})}};function zU(a,t,e,o){var l=a.getGraphicEl();if(l){var f=a.getModel(),h=f.get(["label","rotate"])||0,v=l.getSymbolPath();if(t){var g=a.getLayout(),y=Math.atan2(g[1]-o,g[0]-e);y<0&&(y=Math.PI*2+y);var x=g[0]<e;x&&(y=y-Math.PI);var b=x?"left":"right";v.setTextConfig({rotation:-y,position:b,origin:"center"});var T=v.ensureState("emphasis");mt(T.textConfig||(T.textConfig={}),{position:b})}else v.setTextConfig({rotation:h*=Math.PI/180})}}function VU(a){a.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&bm(t,"symbolSize")})}var wm=lg;function Glt(a,t,e){for(var o=a,l=t,f=e.rect,h=f.width,v=f.height,g=[f.x+h/2,f.y+v/2],y=e.gravity==null?.1:e.gravity,x=0;x<o.length;x++){var b=o[x];b.p||(b.p=bs(h*(Math.random()-.5)+g[0],v*(Math.random()-.5)+g[1])),b.pp=Ga(b.p),b.edges=null}var T=e.friction==null?.6:e.friction,C=T,M,I;return{warmUp:function(){C=T*.8},setFixed:function(P){o[P].fixed=!0},setUnfixed:function(P){o[P].fixed=!1},beforeStep:function(P){M=P},afterStep:function(P){I=P},step:function(P){M&&M(o,l);for(var O=[],N=o.length,V=0;V<l.length;V++){var F=l[V];if(!F.ignoreForceLayout){var U=F.n1,H=F.n2;Mo(O,H.p,U.p);var Z=ug(O)-F.d,$=H.w/(U.w+H.w);isNaN($)&&($=0),Gn(O,O),!U.fixed&&wm(U.p,U.p,O,$*Z*C),!H.fixed&&wm(H.p,H.p,O,-(1-$)*Z*C)}}for(var V=0;V<N;V++){var K=o[V];K.fixed||(Mo(O,g,K.p),wm(K.p,K.p,O,y*C))}for(var V=0;V<N;V++)for(var U=o[V],Q=V+1;Q<N;Q++){var H=o[Q];Mo(O,H.p,U.p);var Z=ug(O);Z===0&&(dN(O,Math.random()-.5,Math.random()-.5),Z=1);var rt=(U.rep+H.rep)/Z/Z;!U.fixed&&wm(U.pp,U.pp,O,rt),!H.fixed&&wm(H.pp,H.pp,O,-rt)}for(var nt=[],V=0;V<N;V++){var K=o[V];K.fixed||(Mo(nt,K.p,K.pp),wm(K.p,K.p,nt,C),Mi(K.pp,K.p))}C=C*.992;var ot=C<.01;I&&I(o,l,ot),P&&P(ot)}}}function BU(a){a.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var o=t.preservedPoints||{},l=t.getGraph(),f=l.data,h=l.edgeData,v=t.getModel("force"),g=v.get("initLayout");t.preservedPoints?f.each(function(V){var F=f.getId(V);f.setItemLayout(V,o[F]||[NaN,NaN])}):!g||g==="none"?yM(t):g==="circular"&&bm(t,"value");var y=f.getDataExtent("value"),x=h.getDataExtent("value"),b=v.get("repulsion"),T=v.get("edgeLength"),C=yt(b)?b:[b,b],M=yt(T)?T:[T,T];M=[M[1],M[0]];var I=f.mapArray("value",function(V,F){var U=f.getItemLayout(F),H=$e(V,y,C);return isNaN(H)&&(H=(C[0]+C[1])/2),{w:H,rep:H,fixed:f.getItemModel(F).get("fixed"),p:!U||isNaN(U[0])||isNaN(U[1])?null:U}}),P=h.mapArray("value",function(V,F){var U=l.getEdgeByIndex(F),H=$e(V,x,M);isNaN(H)&&(H=(M[0]+M[1])/2);var Z=U.getModel(),$=Ci(U.getModel().get(["lineStyle","curveness"]),-Sm(U,t,F,!0),0);return{n1:I[U.node1.dataIndex],n2:I[U.node2.dataIndex],d:H,curveness:$,ignoreForceLayout:Z.get("ignoreForceLayout")}}),O=e.getBoundingRect(),N=Glt(I,P,{rect:O,gravity:v.get("gravity"),friction:v.get("friction")});N.beforeStep(function(V,F){for(var U=0,H=V.length;U<H;U++)V[U].fixed&&Mi(V[U].p,l.getNodeByIndex(U).getLayout())}),N.afterStep(function(V,F,U){for(var H=0,Z=V.length;H<Z;H++)V[H].fixed||l.getNodeByIndex(H).setLayout(V[H].p),o[f.getId(H)]=V[H].p;for(var H=0,Z=F.length;H<Z;H++){var $=F[H],K=l.getEdgeByIndex(H),Q=$.n1.p,rt=$.n2.p,nt=K.getLayout();nt=nt?nt.slice():[],nt[0]=nt[0]||[],nt[1]=nt[1]||[],Mi(nt[0],Q),Mi(nt[1],rt),+$.curveness&&(nt[2]=[(Q[0]+rt[0])/2-(Q[1]-rt[1])*$.curveness,(Q[1]+rt[1])/2-(rt[0]-Q[0])*$.curveness]),K.setLayout(nt)}}),t.forceLayout=N,t.preservedPoints=o,N.step()}else t.forceLayout=null})}function n4t(a,t,e){var o=mt(a.getBoxLayoutParams(),{aspect:e});return ar(o,{width:t.getWidth(),height:t.getHeight()})}function FU(a,t){var e=[];return a.eachSeriesByType("graph",function(o){var l=o.get("coordinateSystem");if(!l||l==="view"){var f=o.getData(),h=f.mapArray(function(P){var O=f.getItemModel(P);return[+O.get("x"),+O.get("y")]}),v=[],g=[];Np(h,v,g),g[0]-v[0]===0&&(g[0]+=1,v[0]-=1),g[1]-v[1]===0&&(g[1]+=1,v[1]-=1);var y=(g[0]-v[0])/(g[1]-v[1]),x=n4t(o,t,y);isNaN(y)&&(v=[x.x,x.y],g=[x.x+x.width,x.y+x.height]);var b=g[0]-v[0],T=g[1]-v[1],C=x.width,M=x.height,I=o.coordinateSystem=new Fu;I.zoomLimit=o.get("scaleLimit"),I.setBoundingRect(v[0],v[1],b,T),I.setViewRect(x.x,x.y,C,M),I.setCenter(o.get("center"),t),I.setZoom(o.get("zoom")),e.push(I)}}),e}var Hlt=Er.prototype,UU=Cu.prototype,Wlt=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}(),h_e=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(Wlt);function GU(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var o4t=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="ec-line",o}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Wlt},t.prototype.buildPath=function(e,o){GU(o)?Hlt.buildPath.call(this,e,o):UU.buildPath.call(this,e,o)},t.prototype.pointAt=function(e){return GU(this.shape)?Hlt.pointAt.call(this,e):UU.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var o=this.shape,l=GU(o)?[o.x2-o.x1,o.y2-o.y1]:UU.tangentAt.call(this,e);return Gn(l,l)},t}(se),Ylt=o4t;var HU=["fromSymbol","toSymbol"];function Zlt(a){return"_"+a+"Type"}function Xlt(a,t,e){var o=t.getItemVisual(e,a);if(!o||o==="none")return o;var l=t.getItemVisual(e,a+"Size"),f=t.getItemVisual(e,a+"Rotate"),h=t.getItemVisual(e,a+"Offset"),v=t.getItemVisual(e,a+"KeepAspect"),g=Rs(l),y=to(h||0,g);return o+g+y+(f||"")+(v||"")}function qlt(a,t,e){var o=t.getItemVisual(e,a);if(!(!o||o==="none")){var l=t.getItemVisual(e,a+"Size"),f=t.getItemVisual(e,a+"Rotate"),h=t.getItemVisual(e,a+"Offset"),v=t.getItemVisual(e,a+"KeepAspect"),g=Rs(l),y=to(h||0,g),x=nr(o,-g[0]/2+y[0],-g[1]/2+y[1],g[0],g[1],null,v);return x.__specifiedRotation=f==null||isNaN(f)?void 0:+f*Math.PI/180||0,x.name=a,x}}function s4t(a){var t=new Ylt({name:"line",subPixelOptimize:!0});return WU(t.shape,a),t}function WU(a,t){a.x1=t[0][0],a.y1=t[0][1],a.x2=t[1][0],a.y2=t[1][1],a.percent=1;var e=t[2];e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}var l4t=function(a){at(t,a);function t(e,o,l){var f=a.call(this)||this;return f._createLine(e,o,l),f}return t.prototype._createLine=function(e,o,l){var f=e.hostModel,h=e.getItemLayout(o),v=s4t(h);v.shape.percent=0,je(v,{shape:{percent:1}},f,o),this.add(v),X(HU,function(g){var y=qlt(g,e,o);this.add(y),this[Zlt(g)]=Xlt(g,e,o)},this),this._updateCommonStl(e,o,l)},t.prototype.updateData=function(e,o,l){var f=e.hostModel,h=this.childOfName("line"),v=e.getItemLayout(o),g={shape:{}};WU(g.shape,v),we(h,g,f,o),X(HU,function(y){var x=Xlt(y,e,o),b=Zlt(y);if(this[b]!==x){this.remove(this.childOfName(y));var T=qlt(y,e,o);this.add(T)}this[b]=x},this),this._updateCommonStl(e,o,l)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,o,l){var f=e.hostModel,h=this.childOfName("line"),v=l&&l.emphasisLineStyle,g=l&&l.blurLineStyle,y=l&&l.selectLineStyle,x=l&&l.labelStatesModels,b=l&&l.emphasisDisabled,T=l&&l.focus,C=l&&l.blurScope;if(!l||e.hasItemOption){var M=e.getItemModel(o),I=M.getModel("emphasis");v=I.getModel("lineStyle").getLineStyle(),g=M.getModel(["blur","lineStyle"]).getLineStyle(),y=M.getModel(["select","lineStyle"]).getLineStyle(),b=I.get("disabled"),T=I.get("focus"),C=I.get("blurScope"),x=cr(M)}var P=e.getItemVisual(o,"style"),O=P.stroke;h.useStyle(P),h.style.fill=null,h.style.strokeNoScale=!0,h.ensureState("emphasis").style=v,h.ensureState("blur").style=g,h.ensureState("select").style=y,X(HU,function(H){var Z=this.childOfName(H);if(Z){Z.setColor(O),Z.style.opacity=P.opacity;for(var $=0;$<Pi.length;$++){var K=Pi[$],Q=h.getState(K);if(Q){var rt=Q.style||{},nt=Z.ensureState(K),ot=nt.style||(nt.style={});rt.stroke!=null&&(ot[Z.__isEmptyBrush?"stroke":"fill"]=rt.stroke),rt.opacity!=null&&(ot.opacity=rt.opacity)}}Z.markRedraw()}},this);var N=f.getRawValue(o);_r(this,x,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(H,Z){return f.getFormattedLabel(H,Z,e.dataType)}},inheritColor:O||"#000",defaultOpacity:P.opacity,defaultText:(N==null?e.getName(o):isFinite(N)?hr(N):N)+""});var V=this.getTextContent();if(V){var F=x.normal;V.__align=V.style.align,V.__verticalAlign=V.style.verticalAlign,V.__position=F.get("position")||"middle";var U=F.get("distance");yt(U)||(U=[U,U]),V.__labelDistance=U}this.setTextConfig({position:null,local:!0,inside:!1}),Ke(this,T,C,b)},t.prototype.highlight=function(){Aa(this)},t.prototype.downplay=function(){Ca(this)},t.prototype.updateLayout=function(e,o){this.setLinePoints(e.getItemLayout(o))},t.prototype.setLinePoints=function(e){var o=this.childOfName("line");WU(o.shape,e),o.dirty()},t.prototype.beforeUpdate=function(){var e=this,o=e.childOfName("fromSymbol"),l=e.childOfName("toSymbol"),f=e.getTextContent();if(!o&&!l&&(!f||f.ignore))return;for(var h=1,v=this.parent;v;)v.scaleX&&(h/=v.scaleX),v=v.parent;var g=e.childOfName("line");if(!this.__dirty&&!g.__dirty)return;var y=g.shape.percent,x=g.pointAt(0),b=g.pointAt(y),T=Mo([],b,x);Gn(T,T);function C(Q,rt){var nt=Q.__specifiedRotation;if(nt==null){var ot=g.tangentAt(rt);Q.attr("rotation",(rt===1?-1:1)*Math.PI/2-Math.atan2(ot[1],ot[0]))}else Q.attr("rotation",nt)}if(o&&(o.setPosition(x),C(o,0),o.scaleX=o.scaleY=h*y,o.markRedraw()),l&&(l.setPosition(b),C(l,1),l.scaleX=l.scaleY=h*y,l.markRedraw()),f&&!f.ignore){f.x=f.y=0,f.originX=f.originY=0;var M=void 0,I=void 0,P=f.__labelDistance,O=P[0]*h,N=P[1]*h,V=y/2,F=g.tangentAt(V),U=[F[1],-F[0]],H=g.pointAt(V);U[1]>0&&(U[0]=-U[0],U[1]=-U[1]);var Z=F[0]<0?-1:1;if(f.__position!=="start"&&f.__position!=="end"){var $=-Math.atan2(F[1],F[0]);b[0]<x[0]&&($=Math.PI+$),f.rotation=$}var K=void 0;switch(f.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":K=-N,I="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":K=N,I="top";break;default:K=0,I="middle"}switch(f.__position){case"end":f.x=T[0]*O+b[0],f.y=T[1]*N+b[1],M=T[0]>.8?"left":T[0]<-.8?"right":"center",I=T[1]>.8?"top":T[1]<-.8?"bottom":"middle";break;case"start":f.x=-T[0]*O+x[0],f.y=-T[1]*N+x[1],M=T[0]>.8?"right":T[0]<-.8?"left":"center",I=T[1]>.8?"bottom":T[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f.x=O*Z+x[0],f.y=x[1]+K,M=F[0]<0?"right":"left",f.originX=-O*Z,f.originY=-K;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f.x=H[0],f.y=H[1]+K,M="center",f.originY=-K;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f.x=-O*Z+b[0],f.y=b[1]+K,M=F[0]>=0?"right":"left",f.originX=O*Z,f.originY=-K;break}f.scaleX=f.scaleY=h,f.setStyle({verticalAlign:f.__verticalAlign||I,align:f.__align||M})}},t}(Ut),Tm=l4t;var u4t=function(){function a(t){this.group=new Ut,this._LineCtor=t||Tm}return a.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var o=this,l=o.group,f=o._lineData;o._lineData=t,f||l.removeAll();var h=$lt(t);t.diff(f).add(function(v){e._doAdd(t,v,h)}).update(function(v,g){e._doUpdate(f,t,g,v,h)}).remove(function(v){l.remove(f.getItemGraphicEl(v))}).execute()},a.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,o){e.updateLayout(t,o)},this)},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=$lt(t),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function o(v){!v.isGroup&&!f4t(v)&&(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var l=t.start;l<t.end;l++){var f=e.getItemLayout(l);if(YU(f)){var h=new this._LineCtor(e,l,this._seriesScope);h.traverse(o),this.group.add(h),e.setItemGraphicEl(l,h),this._progressiveEls.push(h)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(t){Za(this._progressiveEls||this.group,t)},a.prototype._doAdd=function(t,e,o){var l=t.getItemLayout(e);if(YU(l)){var f=new this._LineCtor(t,e,o);t.setItemGraphicEl(e,f),this.group.add(f)}},a.prototype._doUpdate=function(t,e,o,l,f){var h=t.getItemGraphicEl(o);if(!YU(e.getItemLayout(l))){this.group.remove(h);return}h?h.updateData(e,l,f):h=new this._LineCtor(e,l,f),e.setItemGraphicEl(l,h),this.group.add(h)},a}();function f4t(a){return a.animators&&a.animators.length>0}function $lt(a){var t=a.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:cr(t)}}function Klt(a){return isNaN(a[0])||isNaN(a[1])}function YU(a){return a&&!Klt(a[0])&&!Klt(a[1])}var Am=u4t;var ZU=[],XU=[],qU=[],Cm=ii,$U=gl,jlt=Math.abs;function Jlt(a,t,e){for(var o=a[0],l=a[1],f=a[2],h=1/0,v,g=e*e,y=.1,x=.1;x<=.9;x+=.1){ZU[0]=Cm(o[0],l[0],f[0],x),ZU[1]=Cm(o[1],l[1],f[1],x);var b=jlt($U(ZU,t)-g);b<h&&(h=b,v=x)}for(var T=0;T<32;T++){var C=v+y;XU[0]=Cm(o[0],l[0],f[0],v),XU[1]=Cm(o[1],l[1],f[1],v),qU[0]=Cm(o[0],l[0],f[0],C),qU[1]=Cm(o[1],l[1],f[1],C);var b=$U(XU,t)-g;if(jlt(b)<.01)break;var M=$U(qU,t)-g;y/=2,b<0?M>=0?v=v+y:v=v-y:M>=0?v=v-y:v=v+y}return v}function MS(a,t){var e=[],o=Yf,l=[[],[],[]],f=[[],[]],h=[];t/=2,a.eachEdge(function(v,g){var y=v.getLayout(),x=v.getVisual("fromSymbol"),b=v.getVisual("toSymbol");y.__original||(y.__original=[Ga(y[0]),Ga(y[1])],y[2]&&y.__original.push(Ga(y[2])));var T=y.__original;if(y[2]!=null){if(Mi(l[0],T[0]),Mi(l[1],T[2]),Mi(l[2],T[1]),x&&x!=="none"){var C=Tv(v.node1),M=Jlt(l,T[0],C*t);o(l[0][0],l[1][0],l[2][0],M,e),l[0][0]=e[3],l[1][0]=e[4],o(l[0][1],l[1][1],l[2][1],M,e),l[0][1]=e[3],l[1][1]=e[4]}if(b&&b!=="none"){var C=Tv(v.node2),M=Jlt(l,T[1],C*t);o(l[0][0],l[1][0],l[2][0],M,e),l[1][0]=e[1],l[2][0]=e[2],o(l[0][1],l[1][1],l[2][1],M,e),l[1][1]=e[1],l[2][1]=e[2]}Mi(y[0],l[0]),Mi(y[1],l[2]),Mi(y[2],l[1])}else{if(Mi(f[0],T[0]),Mi(f[1],T[1]),Mo(h,f[1],f[0]),Gn(h,h),x&&x!=="none"){var C=Tv(v.node1);lg(f[0],f[0],h,C*t)}if(b&&b!=="none"){var C=Tv(v.node2);lg(f[1],f[1],h,-C*t)}Mi(y[0],f[0]),Mi(y[1],f[1])}})}function Qlt(a){return a.type==="view"}var c4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o){var l=new Rl,f=new Am,h=this.group;this._controller=new zl(o.getZr()),this._controllerHost={target:h},h.add(l.group),h.add(f.group),this._symbolDraw=l,this._lineDraw=f,this._firstRender=!0},t.prototype.render=function(e,o,l){var f=this,h=e.coordinateSystem;this._model=e;var v=this._symbolDraw,g=this._lineDraw,y=this.group;if(Qlt(h)){var x={x:h.x,y:h.y,scaleX:h.scaleX,scaleY:h.scaleY};this._firstRender?y.attr(x):we(y,x,e)}MS(e.getGraph(),wv(e));var b=e.getData();v.updateData(b);var T=e.getEdgeData();g.updateData(T),this._updateNodeAndLinkScale(),this._updateController(e,o,l),clearTimeout(this._layoutTimeout);var C=e.forceLayout,M=e.get(["force","layoutAnimation"]);C&&this._startForceLayoutIteration(C,M);var I=e.get("layout");b.graph.eachNode(function(V){var F=V.dataIndex,U=V.getGraphicEl(),H=V.getModel();if(U){U.off("drag").off("dragend");var Z=H.get("draggable");Z&&U.on("drag",function(K){switch(I){case"force":C.warmUp(),!f._layouting&&f._startForceLayoutIteration(C,M),C.setFixed(F),b.setItemLayout(F,[U.x,U.y]);break;case"circular":b.setItemLayout(F,[U.x,U.y]),V.setLayout({fixed:!0},!0),bm(e,"symbolSize",V,[K.offsetX,K.offsetY]),f.updateLayout(e);break;case"none":default:b.setItemLayout(F,[U.x,U.y]),DS(e.getGraph(),e),f.updateLayout(e);break}}).on("dragend",function(){C&&C.setUnfixed(F)}),U.setDraggable(Z,!!H.get("cursor"));var $=H.get(["emphasis","focus"]);$==="adjacency"&&(Kt(U).focus=V.getAdjacentDataIndices())}}),b.graph.eachEdge(function(V){var F=V.getGraphicEl(),U=V.getModel().get(["emphasis","focus"]);F&&U==="adjacency"&&(Kt(F).focus={edge:[V.dataIndex],node:[V.node1.dataIndex,V.node2.dataIndex]})});var P=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),O=b.getLayout("cx"),N=b.getLayout("cy");b.graph.eachNode(function(V){zU(V,P,O,N)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,o){var l=this;(function f(){e.step(function(h){l.updateLayout(l._model),(l._layouting=!h)&&(o?l._layoutTimeout=setTimeout(f,16):f())})})()},t.prototype._updateController=function(e,o,l){var f=this,h=this._controller,v=this._controllerHost,g=this.group;if(h.setPointerChecker(function(y,x,b){var T=g.getBoundingRect();return T.applyTransform(g.transform),T.contain(x,b)&&!Tc(y,l,e)}),!Qlt(e.coordinateSystem)){h.disable();return}h.enable(e.get("roam")),v.zoomLimit=e.get("scaleLimit"),v.zoom=e.coordinateSystem.getZoom(),h.off("pan").off("zoom").on("pan",function(y){dm(v,y.dx,y.dy),l.dispatchAction({seriesId:e.id,type:"graphRoam",dx:y.dx,dy:y.dy})}).on("zoom",function(y){gm(v,y.scale,y.originX,y.originY),l.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:y.scale,originX:y.originX,originY:y.originY}),f._updateNodeAndLinkScale(),MS(e.getGraph(),wv(e)),f._lineDraw.updateLayout(),l.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,o=e.getData(),l=wv(e);o.eachItemGraphicEl(function(f,h){f&&f.setSymbolScale(l)})},t.prototype.updateLayout=function(e){MS(e.getGraph(),wv(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ke),tut=c4t;function Dm(a){return"_EC_"+a}var h4t=function(){function a(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var o=this._nodesMap;if(!o[Dm(t)]){var l=new Av(t,e);return l.hostGraph=this,this.nodes.push(l),o[Dm(t)]=l,l}},a.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},a.prototype.getNodeById=function(t){return this._nodesMap[Dm(t)]},a.prototype.addEdge=function(t,e,o){var l=this._nodesMap,f=this._edgesMap;if(ye(t)&&(t=this.nodes[t]),ye(e)&&(e=this.nodes[e]),t instanceof Av||(t=l[Dm(t)]),e instanceof Av||(e=l[Dm(e)]),!(!t||!e)){var h=t.id+"-"+e.id,v=new eut(t,e,o);return v.hostGraph=this,this._directed&&(t.outEdges.push(v),e.inEdges.push(v)),t.edges.push(v),t!==e&&e.edges.push(v),this.edges.push(v),f[h]=v,v}},a.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},a.prototype.getEdge=function(t,e){t instanceof Av&&(t=t.id),e instanceof Av&&(e=e.id);var o=this._edgesMap;return this._directed?o[t+"-"+e]:o[t+"-"+e]||o[e+"-"+t]},a.prototype.eachNode=function(t,e){for(var o=this.nodes,l=o.length,f=0;f<l;f++)o[f].dataIndex>=0&&t.call(e,o[f],f)},a.prototype.eachEdge=function(t,e){for(var o=this.edges,l=o.length,f=0;f<l;f++)o[f].dataIndex>=0&&o[f].node1.dataIndex>=0&&o[f].node2.dataIndex>=0&&t.call(e,o[f],f)},a.prototype.breadthFirstTraverse=function(t,e,o,l){if(e instanceof Av||(e=this._nodesMap[Dm(e)]),!!e){for(var f=o==="out"?"outEdges":o==="in"?"inEdges":"edges",h=0;h<this.nodes.length;h++)this.nodes[h].__visited=!1;if(!t.call(l,e,null))for(var v=[e];v.length;)for(var g=v.shift(),y=g[f],h=0;h<y.length;h++){var x=y[h],b=x.node1===g?x.node2:x.node1;if(!b.__visited){if(t.call(l,b,g))return;v.push(b),b.__visited=!0}}}},a.prototype.update=function(){for(var t=this.data,e=this.edgeData,o=this.nodes,l=this.edges,f=0,h=o.length;f<h;f++)o[f].dataIndex=-1;for(var f=0,h=t.count();f<h;f++)o[t.getRawIndex(f)].dataIndex=f;e.filterSelf(function(v){var g=l[e.getRawIndex(v)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});for(var f=0,h=l.length;f<h;f++)l[f].dataIndex=-1;for(var f=0,h=e.count();f<h;f++)l[e.getRawIndex(f)].dataIndex=f},a.prototype.clone=function(){for(var t=new a(this._directed),e=this.nodes,o=this.edges,l=0;l<e.length;l++)t.addNode(e[l].id,e[l].dataIndex);for(var l=0;l<o.length;l++){var f=o[l];t.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return t},a}(),Av=function(){function a(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,o=e.data.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var o=this.edges[e];o.dataIndex<0||(t.edge.push(o.dataIndex),t.node.push(o.node1.dataIndex,o.node2.dataIndex))}return t},a.prototype.getTrajectoryDataIndices=function(){for(var t=Rt(),e=Rt(),o=0;o<this.edges.length;o++){var l=this.edges[o];if(!(l.dataIndex<0)){t.set(l.dataIndex,!0);for(var f=[l.node1],h=[l.node2],v=0;v<f.length;){var g=f[v];v++,e.set(g.dataIndex,!0);for(var y=0;y<g.inEdges.length;y++)t.set(g.inEdges[y].dataIndex,!0),f.push(g.inEdges[y].node1)}for(v=0;v<h.length;){var x=h[v];v++,e.set(x.dataIndex,!0);for(var y=0;y<x.outEdges.length;y++)t.set(x.outEdges[y].dataIndex,!0),h.push(x.outEdges[y].node2)}}}return{edge:t.keys(),node:e.keys()}},a}(),eut=function(){function a(t,e,o){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=o??-1}return a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,o=e.edgeData.getItemModel(this.dataIndex);return o.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var t=Rt(),e=Rt();t.set(this.dataIndex,!0);for(var o=[this.node1],l=[this.node2],f=0;f<o.length;){var h=o[f];f++,e.set(h.dataIndex,!0);for(var v=0;v<h.inEdges.length;v++)t.set(h.inEdges[v].dataIndex,!0),o.push(h.inEdges[v].node1)}for(f=0;f<l.length;){var g=l[f];f++,e.set(g.dataIndex,!0);for(var v=0;v<g.outEdges.length;v++)t.set(g.outEdges[v].dataIndex,!0),l.push(g.outEdges[v].node2)}return{edge:t.keys(),node:e.keys()}},a}();function rut(a,t){return{getValue:function(e){var o=this[a][t];return o.getStore().get(o.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,o){this.dataIndex>=0&&this[a][t].setItemVisual(this.dataIndex,e,o)},getVisual:function(e){return this[a][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,o){this.dataIndex>=0&&this[a][t].setItemLayout(this.dataIndex,e,o)},getLayout:function(){return this[a][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][t].getRawIndex(this.dataIndex)}}}or(Av,rut("hostGraph","data"));or(eut,rut("hostGraph","edgeData"));var iut=h4t;function LS(a,t,e,o,l){for(var f=new iut(o),h=0;h<a.length;h++)f.addNode(wr(a[h].id,a[h].name,h),h);for(var v=[],g=[],y=0,h=0;h<t.length;h++){var x=t[h],b=x.source,T=x.target;f.addEdge(b,T,y)&&(g.push(x),v.push(wr(kr(x.id,null),b+" > "+T)),y++)}var C=e.get("coordinateSystem"),M;if(C==="cartesian2d"||C==="polar")M=Ri(a,e);else{var I=Dl.get(C),P=I?I.dimensions||[]:[];ae(P,"value")<0&&P.concat(["value"]);var O=Zo(a,{coordDimensions:P,encodeDefine:e.getEncode()}).dimensions;M=new Fr(O,e),M.initData(a)}var N=new Fr(["value"],e);return N.initData(g,v),l&&l(M,N),fM({mainData:M,struct:f,structAttr:"graph",datas:{node:M,edge:N},datasAttr:{node:"data",edge:"edgeData"}}),f.update(),f}var p4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments);var o=this;function l(){return o._categoriesData}this.legendVisualProvider=new Nl(l,l),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){a.prototype.mergeDefaultAndTheme.apply(this,arguments),Zn(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,o){var l=e.edges||e.links||[],f=e.data||e.nodes||[],h=this;if(f&&l){Blt(this);var v=LS(f,l,this,!0,g);return X(v.edges,function(y){Flt(y.node1,y.node2,this,y.dataIndex)},this),v.data}function g(y,x){y.wrapMethod("getItemModel",function(M){var I=h._categoriesModels,P=M.getShallow("category"),O=I[P];return O&&(O.parentModel=M.parentModel,M.parentModel=O),M});var b=Fe.prototype.getModel;function T(M,I){var P=b.call(this,M,I);return P.resolveParentPath=C,P}x.wrapMethod("getItemModel",function(M){return M.resolveParentPath=C,M.getModel=T,M});function C(M){if(M&&(M[0]==="label"||M[1]==="label")){var I=M.slice();return M[0]==="label"?I[0]="edgeLabel":M[1]==="label"&&(I[1]="edgeLabel"),I}return M}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,o,l){if(l==="edge"){var f=this.getData(),h=this.getDataParams(e,l),v=f.graph.getEdgeByIndex(e),g=f.getName(v.node1.dataIndex),y=f.getName(v.node2.dataIndex),x=[];return g!=null&&x.push(g),y!=null&&x.push(y),Ar("nameValue",{name:x.join(" > "),value:h.value,noValue:h.value==null})}var b=VC({series:this,dataIndex:e,multipleSeries:o});return b},t.prototype._updateCategoriesData=function(){var e=_t(this.option.categories||[],function(l){return l.value!=null?l:mt({value:0},l)}),o=new Fr(["value"],this);o.initData(e),this._categoriesData=o,this._categoriesModels=o.mapArray(function(l){return o.getItemModel(l)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ue),aut=p4t;var v4t={type:"graphRoam",event:"graphRoam",update:"none"};function KU(a){a.registerChartView(tut),a.registerSeriesModel(aut),a.registerProcessor(IU),a.registerVisual(EU),a.registerVisual(PU),a.registerLayout(kU),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,VU),a.registerLayout(BU),a.registerCoordinateSystem("graphView",{dimensions:Fu.dimensions,create:FU}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},mr),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},mr),a.registerAction(v4t,function(t,e,o){e.eachComponent({mainType:"series",query:t},function(l){var f=l.coordinateSystem,h=mm(f,t,void 0,o);l.setCenter&&l.setCenter(h.center),l.setZoom&&l.setZoom(h.zoom)})})}var d4t=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),g4t=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="pointer",o}return t.prototype.getDefaultShape=function(){return new d4t},t.prototype.buildPath=function(e,o){var l=Math.cos,f=Math.sin,h=o.r,v=o.width,g=o.angle,y=o.x-l(g)*v*(v>=h/3?1:2),x=o.y-f(g)*v*(v>=h/3?1:2);g=o.angle-Math.PI/2,e.moveTo(y,x),e.lineTo(o.x+l(g)*v,o.y+f(g)*v),e.lineTo(o.x+l(o.angle)*h,o.y+f(o.angle)*h),e.lineTo(o.x-l(g)*v,o.y-f(g)*v),e.lineTo(y,x)},t}(se),nut=g4t;function m4t(a,t){var e=a.get("center"),o=t.getWidth(),l=t.getHeight(),f=Math.min(o,l),h=Pt(e[0],t.getWidth()),v=Pt(e[1],t.getHeight()),g=Pt(a.get("radius"),f/2);return{cx:h,cy:v,r:g}}function _M(a,t){var e=a==null?"":a+"";return t&&(Dt(t)?e=t.replace("{value}",e):Nt(t)&&(e=t(a))),e}var y4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){this.group.removeAll();var f=e.get(["axisLine","lineStyle","color"]),h=m4t(e,l);this._renderMain(e,o,l,f,h),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,o,l,f,h){var v=this.group,g=e.get("clockwise"),y=-e.get("startAngle")/180*Math.PI,x=-e.get("endAngle")/180*Math.PI,b=e.getModel("axisLine"),T=b.get("roundCap"),C=T?pm:$r,M=b.get("show"),I=b.getModel("lineStyle"),P=I.get("width"),O=[y,x];nx(O,!g),y=O[0],x=O[1];for(var N=x-y,V=y,F=[],U=0;M&&U<f.length;U++){var H=Math.min(Math.max(f[U][0],0),1);x=y+N*H;var Z=new C({shape:{startAngle:V,endAngle:x,cx:h.cx,cy:h.cy,clockwise:g,r0:h.r-P,r:h.r},silent:!0});Z.setStyle({fill:f[U][1]}),Z.setStyle(I.getLineStyle(["color","width"])),F.push(Z),V=x}F.reverse(),X(F,function(K){return v.add(K)});var $=function(K){if(K<=0)return f[0][1];var Q;for(Q=0;Q<f.length;Q++)if(f[Q][0]>=K&&(Q===0?0:f[Q-1][0])<K)return f[Q][1];return f[Q-1][1]};this._renderTicks(e,o,l,$,h,y,x,g,P),this._renderTitleAndDetail(e,o,l,$,h),this._renderAnchor(e,h),this._renderPointer(e,o,l,$,h,y,x,g,P)},t.prototype._renderTicks=function(e,o,l,f,h,v,g,y,x){for(var b=this.group,T=h.cx,C=h.cy,M=h.r,I=+e.get("min"),P=+e.get("max"),O=e.getModel("splitLine"),N=e.getModel("axisTick"),V=e.getModel("axisLabel"),F=e.get("splitNumber"),U=N.get("splitNumber"),H=Pt(O.get("length"),M),Z=Pt(N.get("length"),M),$=v,K=(g-v)/F,Q=K/U,rt=O.getModel("lineStyle").getLineStyle(),nt=N.getModel("lineStyle").getLineStyle(),ot=O.get("distance"),ft,lt,pt=0;pt<=F;pt++){if(ft=Math.cos($),lt=Math.sin($),O.get("show")){var xt=ot?ot+x:x,st=new Er({shape:{x1:ft*(M-xt)+T,y1:lt*(M-xt)+C,x2:ft*(M-H-xt)+T,y2:lt*(M-H-xt)+C},style:rt,silent:!0});rt.stroke==="auto"&&st.setStyle({stroke:f(pt/F)}),b.add(st)}if(V.get("show")){var xt=V.get("distance")+ot,dt=_M(hr(pt/F*(P-I)+I),V.get("formatter")),Et=f(pt/F),At=ft*(M-H-xt)+T,Zt=lt*(M-H-xt)+C,qt=V.get("rotate"),te=0;qt==="radial"?(te=-$+2*Math.PI,te>Math.PI/2&&(te+=Math.PI)):qt==="tangential"?te=-$-Math.PI/2:ye(qt)&&(te=qt*Math.PI/180),te===0?b.add(new _e({style:Je(V,{text:dt,x:At,y:Zt,verticalAlign:lt<-.8?"top":lt>.8?"bottom":"middle",align:ft<-.4?"left":ft>.4?"right":"center"},{inheritColor:Et}),silent:!0})):b.add(new _e({style:Je(V,{text:dt,x:At,y:Zt,verticalAlign:"middle",align:"center"},{inheritColor:Et}),silent:!0,originX:At,originY:Zt,rotation:te}))}if(N.get("show")&&pt!==F){var xt=N.get("distance");xt=xt?xt+x:x;for(var j=0;j<=U;j++){ft=Math.cos($),lt=Math.sin($);var Tt=new Er({shape:{x1:ft*(M-xt)+T,y1:lt*(M-xt)+C,x2:ft*(M-Z-xt)+T,y2:lt*(M-Z-xt)+C},silent:!0,style:nt});nt.stroke==="auto"&&Tt.setStyle({stroke:f((pt+j/U)/F)}),b.add(Tt),$+=Q}$-=Q}else $+=K}},t.prototype._renderPointer=function(e,o,l,f,h,v,g,y,x){var b=this.group,T=this._data,C=this._progressEls,M=[],I=e.get(["pointer","show"]),P=e.getModel("progress"),O=P.get("show"),N=e.getData(),V=N.mapDimension("value"),F=+e.get("min"),U=+e.get("max"),H=[F,U],Z=[v,g];function $(Q,rt){var nt=N.getItemModel(Q),ot=nt.getModel("pointer"),ft=Pt(ot.get("width"),h.r),lt=Pt(ot.get("length"),h.r),pt=e.get(["pointer","icon"]),xt=ot.get("offsetCenter"),st=Pt(xt[0],h.r),dt=Pt(xt[1],h.r),Et=ot.get("keepAspect"),At;return pt?At=nr(pt,st-ft/2,dt-lt,ft,lt,null,Et):At=new nut({shape:{angle:-Math.PI/2,width:ft,r:lt,x:st,y:dt}}),At.rotation=-(rt+Math.PI/2),At.x=h.cx,At.y=h.cy,At}function K(Q,rt){var nt=P.get("roundCap"),ot=nt?pm:$r,ft=P.get("overlap"),lt=ft?P.get("width"):x/N.count(),pt=ft?h.r-lt:h.r-(Q+1)*lt,xt=ft?h.r:h.r-Q*lt,st=new ot({shape:{startAngle:v,endAngle:rt,cx:h.cx,cy:h.cy,clockwise:y,r0:pt,r:xt}});return ft&&(st.z2=$e(N.get(V,Q),[F,U],[100,0],!0)),st}(O||I)&&(N.diff(T).add(function(Q){var rt=N.get(V,Q);if(I){var nt=$(Q,v);je(nt,{rotation:-((isNaN(+rt)?Z[0]:$e(rt,H,Z,!0))+Math.PI/2)},e),b.add(nt),N.setItemGraphicEl(Q,nt)}if(O){var ot=K(Q,v),ft=P.get("clip");je(ot,{shape:{endAngle:$e(rt,H,Z,ft)}},e),b.add(ot),sx(e.seriesIndex,N.dataType,Q,ot),M[Q]=ot}}).update(function(Q,rt){var nt=N.get(V,Q);if(I){var ot=T.getItemGraphicEl(rt),ft=ot?ot.rotation:v,lt=$(Q,ft);lt.rotation=ft,we(lt,{rotation:-((isNaN(+nt)?Z[0]:$e(nt,H,Z,!0))+Math.PI/2)},e),b.add(lt),N.setItemGraphicEl(Q,lt)}if(O){var pt=C[rt],xt=pt?pt.shape.endAngle:v,st=K(Q,xt),dt=P.get("clip");we(st,{shape:{endAngle:$e(nt,H,Z,dt)}},e),b.add(st),sx(e.seriesIndex,N.dataType,Q,st),M[Q]=st}}).execute(),N.each(function(Q){var rt=N.getItemModel(Q),nt=rt.getModel("emphasis"),ot=nt.get("focus"),ft=nt.get("blurScope"),lt=nt.get("disabled");if(I){var pt=N.getItemGraphicEl(Q),xt=N.getItemVisual(Q,"style"),st=xt.fill;if(pt instanceof yr){var dt=pt.style;pt.useStyle(mt({image:dt.image,x:dt.x,y:dt.y,width:dt.width,height:dt.height},xt))}else pt.useStyle(xt),pt.type!=="pointer"&&pt.setColor(st);pt.setStyle(rt.getModel(["pointer","itemStyle"]).getItemStyle()),pt.style.fill==="auto"&&pt.setStyle("fill",f($e(N.get(V,Q),H,[0,1],!0))),pt.z2EmphasisLift=0,Ir(pt,rt),Ke(pt,ot,ft,lt)}if(O){var Et=M[Q];Et.useStyle(N.getItemVisual(Q,"style")),Et.setStyle(rt.getModel(["progress","itemStyle"]).getItemStyle()),Et.z2EmphasisLift=0,Ir(Et,rt),Ke(Et,ot,ft,lt)}}),this._progressEls=M)},t.prototype._renderAnchor=function(e,o){var l=e.getModel("anchor"),f=l.get("show");if(f){var h=l.get("size"),v=l.get("icon"),g=l.get("offsetCenter"),y=l.get("keepAspect"),x=nr(v,o.cx-h/2+Pt(g[0],o.r),o.cy-h/2+Pt(g[1],o.r),h,h,null,y);x.z2=l.get("showAbove")?1:0,x.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(x)}},t.prototype._renderTitleAndDetail=function(e,o,l,f,h){var v=this,g=e.getData(),y=g.mapDimension("value"),x=+e.get("min"),b=+e.get("max"),T=new Ut,C=[],M=[],I=e.isAnimationEnabled(),P=e.get(["pointer","showAbove"]);g.diff(this._data).add(function(O){C[O]=new _e({silent:!0}),M[O]=new _e({silent:!0})}).update(function(O,N){C[O]=v._titleEls[N],M[O]=v._detailEls[N]}).execute(),g.each(function(O){var N=g.getItemModel(O),V=g.get(y,O),F=new Ut,U=f($e(V,[x,b],[0,1],!0)),H=N.getModel("title");if(H.get("show")){var Z=H.get("offsetCenter"),$=h.cx+Pt(Z[0],h.r),K=h.cy+Pt(Z[1],h.r),Q=C[O];Q.attr({z2:P?0:2,style:Je(H,{x:$,y:K,text:g.getName(O),align:"center",verticalAlign:"middle"},{inheritColor:U})}),F.add(Q)}var rt=N.getModel("detail");if(rt.get("show")){var nt=rt.get("offsetCenter"),ot=h.cx+Pt(nt[0],h.r),ft=h.cy+Pt(nt[1],h.r),lt=Pt(rt.get("width"),h.r),pt=Pt(rt.get("height"),h.r),xt=e.get(["progress","show"])?g.getItemVisual(O,"style").fill:U,Q=M[O],st=rt.get("formatter");Q.attr({z2:P?0:2,style:Je(rt,{x:ot,y:ft,text:_M(V,st),width:isNaN(lt)?null:lt,height:isNaN(pt)?null:pt,align:"center",verticalAlign:"middle"},{inheritColor:xt})}),oC(Q,{normal:rt},V,function(Et){return _M(Et,st)}),I&&sC(Q,O,g,e,{getFormattedLabel:function(Et,At,Zt,qt,te,j){return _M(j?j.interpolatedValue:V,st)}}),F.add(Q)}T.add(F)}),this.group.add(T),this._titleEls=C,this._detailEls=M},t.type="gauge",t}(ke),out=y4t;var _4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,o){return eo(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Ue),sut=_4t;function jU(a){a.registerChartView(out),a.registerSeriesModel(sut)}var x4t=["itemStyle","opacity"],S4t=function(a){at(t,a);function t(e,o){var l=a.call(this)||this,f=l,h=new Nr,v=new _e;return f.setTextContent(v),l.setTextGuideLine(h),l.updateData(e,o,!0),l}return t.prototype.updateData=function(e,o,l){var f=this,h=e.hostModel,v=e.getItemModel(o),g=e.getItemLayout(o),y=v.getModel("emphasis"),x=v.get(x4t);x=x??1,l||Si(f),f.useStyle(e.getItemVisual(o,"style")),f.style.lineJoin="round",l?(f.setShape({points:g.points}),f.style.opacity=0,je(f,{style:{opacity:x}},h,o)):we(f,{style:{opacity:x},shape:{points:g.points}},h,o),Ir(f,v),this._updateLabel(e,o),Ke(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},t.prototype._updateLabel=function(e,o){var l=this,f=this.getTextGuideLine(),h=l.getTextContent(),v=e.hostModel,g=e.getItemModel(o),y=e.getItemLayout(o),x=y.label,b=e.getItemVisual(o,"style"),T=b.fill;_r(h,cr(g),{labelFetcher:e.hostModel,labelDataIndex:o,defaultOpacity:b.opacity,defaultText:e.getName(o)},{normal:{align:x.textAlign,verticalAlign:x.verticalAlign}}),l.setTextConfig({local:!0,inside:!!x.inside,insideStroke:T,outsideFill:T});var C=x.linePoints;f.setShape({points:C}),l.textGuideLineConfig={anchor:C?new Le(C[0][0],C[0][1]):null},we(h,{style:{x:x.x,y:x.y}},v,o),h.attr({rotation:x.rotation,originX:x.x,originY:x.y,z2:10}),um(l,fm(g),{stroke:T})},t}(Br),b4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,o,l){var f=e.getData(),h=this._data,v=this.group;f.diff(h).add(function(g){var y=new S4t(f,g);f.setItemGraphicEl(g,y),v.add(y)}).update(function(g,y){var x=h.getItemGraphicEl(y);x.updateData(f,g),v.add(x),f.setItemGraphicEl(g,x)}).remove(function(g){var y=h.getItemGraphicEl(g);Mu(y,e,g)}).execute(),this._data=f},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ke),lut=b4t;var w4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nl(It(this.getData,this),It(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,o){return eo(this,{coordDimensions:["value"],encodeDefaulter:Qt(Kg,this)})},t.prototype._defaultLabelLine=function(e){Zn(e,"labelLine",["show"]);var o=e.labelLine,l=e.emphasis.labelLine;o.show=o.show&&e.label.show,l.show=l.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var o=this.getData(),l=a.prototype.getDataParams.call(this,e),f=o.mapDimension("value"),h=o.getSum(f);return l.percent=h?+(o.get(f,e)/h*100).toFixed(2):0,l.$vars.push("percent"),l},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ue),uut=w4t;function T4t(a,t){return ar(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function A4t(a,t){for(var e=a.mapDimension("value"),o=a.mapArray(e,function(g){return g}),l=[],f=t==="ascending",h=0,v=a.count();h<v;h++)l[h]=h;return Nt(t)?l.sort(t):t!=="none"&&l.sort(function(g,y){return f?o[g]-o[y]:o[y]-o[g]}),l}function C4t(a){var t=a.hostModel,e=t.get("orient");a.each(function(o){var l=a.getItemModel(o),f=l.getModel("label"),h=f.get("position"),v=l.getModel("labelLine"),g=a.getItemLayout(o),y=g.points,x=h==="inner"||h==="inside"||h==="center"||h==="insideLeft"||h==="insideRight",b,T,C,M;if(x)h==="insideLeft"?(T=(y[0][0]+y[3][0])/2+5,C=(y[0][1]+y[3][1])/2,b="left"):h==="insideRight"?(T=(y[1][0]+y[2][0])/2-5,C=(y[1][1]+y[2][1])/2,b="right"):(T=(y[0][0]+y[1][0]+y[2][0]+y[3][0])/4,C=(y[0][1]+y[1][1]+y[2][1]+y[3][1])/4,b="center"),M=[[T,C],[T,C]];else{var I=void 0,P=void 0,O=void 0,N=void 0,V=v.get("length");h==="left"?(I=(y[3][0]+y[0][0])/2,P=(y[3][1]+y[0][1])/2,O=I-V,T=O-5,b="right"):h==="right"?(I=(y[1][0]+y[2][0])/2,P=(y[1][1]+y[2][1])/2,O=I+V,T=O+5,b="left"):h==="top"?(I=(y[3][0]+y[0][0])/2,P=(y[3][1]+y[0][1])/2,N=P-V,C=N-5,b="center"):h==="bottom"?(I=(y[1][0]+y[2][0])/2,P=(y[1][1]+y[2][1])/2,N=P+V,C=N+5,b="center"):h==="rightTop"?(I=e==="horizontal"?y[3][0]:y[1][0],P=e==="horizontal"?y[3][1]:y[1][1],e==="horizontal"?(N=P-V,C=N-5,b="center"):(O=I+V,T=O+5,b="top")):h==="rightBottom"?(I=y[2][0],P=y[2][1],e==="horizontal"?(N=P+V,C=N+5,b="center"):(O=I+V,T=O+5,b="bottom")):h==="leftTop"?(I=y[0][0],P=e==="horizontal"?y[0][1]:y[1][1],e==="horizontal"?(N=P-V,C=N-5,b="center"):(O=I-V,T=O-5,b="right")):h==="leftBottom"?(I=e==="horizontal"?y[1][0]:y[3][0],P=e==="horizontal"?y[1][1]:y[2][1],e==="horizontal"?(N=P+V,C=N+5,b="center"):(O=I-V,T=O-5,b="right")):(I=(y[1][0]+y[2][0])/2,P=(y[1][1]+y[2][1])/2,e==="horizontal"?(N=P+V,C=N+5,b="center"):(O=I+V,T=O+5,b="left")),e==="horizontal"?(O=I,T=O):(N=P,C=N),M=[[I,P],[O,N]]}g.label={linePoints:M,x:T,y:C,verticalAlign:"middle",textAlign:b,inside:x}})}function JU(a,t){a.eachSeriesByType("funnel",function(e){var o=e.getData(),l=o.mapDimension("value"),f=e.get("sort"),h=T4t(e,t),v=e.get("orient"),g=h.width,y=h.height,x=A4t(o,f),b=h.x,T=h.y,C=v==="horizontal"?[Pt(e.get("minSize"),y),Pt(e.get("maxSize"),y)]:[Pt(e.get("minSize"),g),Pt(e.get("maxSize"),g)],M=o.getDataExtent(l),I=e.get("min"),P=e.get("max");I==null&&(I=Math.min(M[0],0)),P==null&&(P=M[1]);var O=e.get("funnelAlign"),N=e.get("gap"),V=v==="horizontal"?g:y,F=(V-N*(o.count()-1))/o.count(),U=function(ft,lt){if(v==="horizontal"){var pt=o.get(l,ft)||0,xt=$e(pt,[I,P],C,!0),st=void 0;switch(O){case"top":st=T;break;case"center":st=T+(y-xt)/2;break;case"bottom":st=T+(y-xt);break}return[[lt,st],[lt,st+xt]]}var dt=o.get(l,ft)||0,Et=$e(dt,[I,P],C,!0),At;switch(O){case"left":At=b;break;case"center":At=b+(g-Et)/2;break;case"right":At=b+g-Et;break}return[[At,lt],[At+Et,lt]]};f==="ascending"&&(F=-F,N=-N,v==="horizontal"?b+=g:T+=y,x=x.reverse());for(var H=0;H<x.length;H++){var Z=x[H],$=x[H+1],K=o.getItemModel(Z);if(v==="horizontal"){var Q=K.get(["itemStyle","width"]);Q==null?Q=F:(Q=Pt(Q,g),f==="ascending"&&(Q=-Q));var rt=U(Z,b),nt=U($,b+Q);b+=Q+N,o.setItemLayout(Z,{points:rt.concat(nt.slice().reverse())})}else{var ot=K.get(["itemStyle","height"]);ot==null?ot=F:(ot=Pt(ot,y),f==="ascending"&&(ot=-ot));var rt=U(Z,T),nt=U($,T+ot);T+=ot+N,o.setItemLayout(Z,{points:rt.concat(nt.slice().reverse())})}}C4t(o)})}function QU(a){a.registerChartView(lut),a.registerSeriesModel(uut),a.registerLayout(JU),a.registerProcessor(Fs("funnel"))}var D4t=.3,M4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ut,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,o,l,f){this._progressiveEls=null;var h=this._dataGroup,v=e.getData(),g=this._data,y=e.coordinateSystem,x=y.dimensions,b=cut(e);v.diff(g).add(T).update(C).remove(M).execute();function T(P){var O=fut(v,h,P,x,y);tG(O,v,P,b)}function C(P,O){var N=g.getItemGraphicEl(O),V=hut(v,P,x,y);v.setItemGraphicEl(P,N),we(N,{shape:{points:V}},e,P),Si(N),tG(N,v,P,b)}function M(P){var O=g.getItemGraphicEl(P);h.remove(O)}if(!this._initialized){this._initialized=!0;var I=L4t(y,e,function(){setTimeout(function(){h.removeClipPath()})});h.setClipPath(I)}this._data=v},t.prototype.incrementalPrepareRender=function(e,o,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,o,l){for(var f=o.getData(),h=o.coordinateSystem,v=h.dimensions,g=cut(o),y=this._progressiveEls=[],x=e.start;x<e.end;x++){var b=fut(f,this._dataGroup,x,v,h);b.incremental=!0,tG(b,f,x,g),y.push(b)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ke);function L4t(a,t,e){var o=a.model,l=a.getRect(),f=new ge({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),h=o.get("layout")==="horizontal"?"width":"height";return f.setShape(h,0),je(f,{shape:{width:l.width,height:l.height}},t,e),f}function hut(a,t,e,o){for(var l=[],f=0;f<e.length;f++){var h=e[f],v=a.get(a.mapDimension(h),t);I4t(v,o.getAxis(h).type)||l.push(o.dataToPoint(v,h))}return l}function fut(a,t,e,o,l){var f=hut(a,e,o,l),h=new Nr({shape:{points:f},z2:10});return t.add(h),a.setItemGraphicEl(e,h),h}function cut(a){var t=a.get("smooth",!0);return t===!0&&(t=D4t),t=dn(t),vu(t)&&(t=0),{smooth:t}}function tG(a,t,e,o){a.useStyle(t.getItemVisual(e,"style")),a.style.fill=null,a.setShape("smooth",o.smooth);var l=t.getItemModel(e),f=l.getModel("emphasis");Ir(a,l,"lineStyle"),Ke(a,f.get("focus"),f.get("blurScope"),f.get("disabled"))}function I4t(a,t){return t==="category"?a==null:a==null||isNaN(a)}var put=M4t;var E4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,o){return Ri(null,this,{useEncodeDefaulter:It(P4t,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var o=this.coordinateSystem,l=this.getData(),f=[];return o.eachActiveState(l,function(h,v){e===h&&f.push(l.getRawIndex(v))}),f},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Ue);function P4t(a){var t=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(t){var e={};return X(t.dimensions,function(o){var l=R4t(o);e[o]=l}),e}}function R4t(a){return+a.replace("dim","")}var vut=E4t;var O4t=["lineStyle","opacity"],k4t={seriesType:"parallel",reset:function(a,t){var e=a.coordinateSystem,o={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(l,f){e.eachActiveState(f,function(h,v){var g=o[h];if(h==="normal"&&f.hasItemOption){var y=f.getItemModel(v).get(O4t,!0);y!=null&&(g=y)}var x=f.ensureUniqueItemVisual(v,"style");x.opacity=g},l.start,l.end)}}}},dut=k4t;function eG(a){N4t(a),z4t(a)}function N4t(a){if(!a.parallel){var t=!1;X(a.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(a.parallel=[{}])}}function z4t(a){var t=qe(a.parallelAxis);X(t,function(e){if(Ft(e)){var o=e.parallelIndex||0,l=qe(a.parallel)[o];l&&l.parallelAxisDefault&&ne(e,l.parallelAxisDefault,!1)}})}var V4t=5,B4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){this._model=e,this._api=l,this._handlers||(this._handlers={},X(F4t,function(f,h){l.getZr().on(h,this._handlers[h]=It(f,this))},this)),Ho(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,o){Nu(this,"_throttledDispatchExpand"),X(this._handlers,function(l,f){o.getZr().off(f,l)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(mt({type:"parallelAxisExpand"},e))},t.type="parallel",t}(He),F4t={mousedown:function(a){rG(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var t=this._mouseDownPoint;if(rG(this,"click")&&t){var e=[a.offsetX,a.offsetY],o=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(o>V4t)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);l.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!rG(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),o=e.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function rG(a,t){var e=a._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var gut=B4t;var U4t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var o=this.option;e&&ne(o,e,!0),this._initDimensions()},t.prototype.contains=function(e,o){var l=e.get("parallelIndex");return l!=null&&o.getComponent("parallel",l)===this},t.prototype.setAxisExpand=function(e){X(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){e.hasOwnProperty(o)&&(this.option[o]=e[o])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],o=this.parallelAxisIndex=[],l=Ee(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(f){return(f.get("parallelIndex")||0)===this.componentIndex},this);X(l,function(f){e.push("dim"+f.get("dim")),o.push(f.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(xe),mut=U4t;var G4t=function(a){at(t,a);function t(e,o,l,f,h){var v=a.call(this,e,o,l)||this;return v.type=f||"value",v.axisIndex=h,v}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Oi),yut=G4t;function Ln(a,t,e,o,l,f){a=a||0;var h=e[1]-e[0];if(l!=null&&(l=Mm(l,[0,h])),f!=null&&(f=Math.max(f,l??0)),o==="all"){var v=Math.abs(t[1]-t[0]);v=Mm(v,[0,h]),l=f=Mm(v,[l,f]),o=0}t[0]=Mm(t[0],e),t[1]=Mm(t[1],e);var g=iG(t,o);t[o]+=a;var y=l||0,x=e.slice();g.sign<0?x[0]+=y:x[1]-=y,t[o]=Mm(t[o],x);var b;return b=iG(t,o),l!=null&&(b.sign!==g.sign||b.span<l)&&(t[1-o]=t[o]+g.sign*l),b=iG(t,o),f!=null&&b.span>f&&(t[1-o]=t[o]+b.sign*f),t}function iG(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Mm(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var aG=X,Sut=Math.min,but=Math.max,_ut=Math.floor,H4t=Math.ceil,xut=hr,W4t=Math.PI,Y4t=function(){function a(t,e,o){this.type="parallel",this._axesMap=Rt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,o)}return a.prototype._init=function(t,e,o){var l=t.dimensions,f=t.parallelAxisIndex;aG(l,function(h,v){var g=f[v],y=e.getComponent("parallelAxis",g),x=this._axesMap.set(h,new yut(h,Ll(y),[0,0],y.get("type"),g)),b=x.type==="category";x.onBand=b&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.coordinateSystem=y.coordinateSystem=this},this)},a.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},a.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),o=e.axisBase,l=e.layoutBase,f=e.pixelDimIndex,h=t[1-f],v=t[f];return h>=o&&h<=o+e.axisLength&&v>=l&&v<=l+e.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(o){if(t.contains(o,e)){var l=o.getData();aG(this.dimensions,function(f){var h=this._axesMap.get(f);h.scale.unionExtentFromData(l,l.mapDimension(f)),Xo(h.scale,h.model)},this)}},this)},a.prototype.resize=function(t,e){this._rect=ar(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,o=["x","y"],l=["width","height"],f=t.get("layout"),h=f==="horizontal"?0:1,v=e[l[h]],g=[0,v],y=this.dimensions.length,x=xM(t.get("axisExpandWidth"),g),b=xM(t.get("axisExpandCount")||0,[0,y]),T=t.get("axisExpandable")&&y>3&&y>b&&b>1&&x>0&&v>0,C=t.get("axisExpandWindow"),M;if(C)M=xM(C[1]-C[0],g),C[1]=C[0]+M;else{M=xM(x*(b-1),g);var I=t.get("axisExpandCenter")||_ut(y/2);C=[x*I-M/2],C[1]=C[0]+M}var P=(v-M)/(y-b);P<3&&(P=0);var O=[_ut(xut(C[0]/x,1))+1,H4t(xut(C[1]/x,1))-1],N=P/x*C[0];return{layout:f,pixelDimIndex:h,layoutBase:e[o[h]],layoutLength:v,axisBase:e[o[1-h]],axisLength:e[l[1-h]],axisExpandable:T,axisExpandWidth:x,axisCollapseWidth:P,axisExpandWindow:C,axisCount:y,winInnerIndices:O,axisExpandWindow0Pos:N}},a.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,o=this.dimensions,l=this._makeLayoutInfo(),f=l.layout;e.each(function(h){var v=[0,l.axisLength],g=h.inverse?1:0;h.setExtent(v[g],v[1-g])}),aG(o,function(h,v){var g=(l.axisExpandable?X4t:Z4t)(v,l),y={horizontal:{x:g.position,y:l.axisLength},vertical:{x:0,y:g.position}},x={horizontal:W4t/2,vertical:0},b=[y[f].x+t.x,y[f].y+t.y],T=x[f],C=ri();Wa(C,C,T),Ki(C,C,b),this._axesLayout[h]={position:b,rotation:T,transform:C,axisNameAvailableWidth:g.axisNameAvailableWidth,axisLabelShow:g.axisLabelShow,nameTruncateMaxWidth:g.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(t){return this._axesMap.get(t)},a.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},a.prototype.eachActiveState=function(t,e,o,l){o==null&&(o=0),l==null&&(l=t.count());var f=this._axesMap,h=this.dimensions,v=[],g=[];X(h,function(P){v.push(t.mapDimension(P)),g.push(f.get(P).model)});for(var y=this.hasAxisBrushed(),x=o;x<l;x++){var b=void 0;if(!y)b="normal";else{b="active";for(var T=t.getValues(v,x),C=0,M=h.length;C<M;C++){var I=g[C].getActiveState(T[C]);if(I==="inactive"){b="inactive";break}}}e(b,x)}},a.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,o=!1,l=0,f=t.length;l<f;l++)e.get(t[l]).model.getActiveState()!=="normal"&&(o=!0);return o},a.prototype.axisCoordToPoint=function(t,e){var o=this._axesLayout[e];return ua([t,0],o.transform)},a.prototype.getAxisLayout=function(t){return Ht(this._axesLayout[t])},a.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),o=e.pixelDimIndex,l=e.axisExpandWindow.slice(),f=l[1]-l[0],h=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:l};var v=t[o]-e.layoutBase-e.axisExpandWindow0Pos,g,y="slide",x=e.axisCollapseWidth,b=this._model.get("axisExpandSlideTriggerArea"),T=b[0]!=null;if(x)T&&x&&v<f*b[0]?(y="jump",g=v-f*b[2]):T&&x&&v>f*(1-b[0])?(y="jump",g=v-f*(1-b[2])):(g=v-f*b[1])>=0&&(g=v-f*(1-b[1]))<=0&&(g=0),g*=e.axisExpandWidth/x,g?Ln(g,l,h,"all"):y="none";else{var C=l[1]-l[0],M=h[1]*v/C;l=[but(0,M-C/2)],l[1]=Sut(h[1],l[0]+C),l[0]=l[1]-C}return{axisExpandWindow:l,behavior:y}},a}();function xM(a,t){return Sut(but(a,t[0]),t[1])}function Z4t(a,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*a,axisNameAvailableWidth:e,axisLabelShow:!0}}function X4t(a,t){var e=t.layoutLength,o=t.axisExpandWidth,l=t.axisCount,f=t.axisCollapseWidth,h=t.winInnerIndices,v,g=f,y=!1,x;return a<h[0]?(v=a*f,x=f):a<=h[1]?(v=t.axisExpandWindow0Pos+a*o-t.axisExpandWindow[0],g=o,y=!0):(v=e-(l-1-a)*f,x=f),{position:v,axisNameAvailableWidth:g,axisLabelShow:y,nameTruncateMaxWidth:x}}var wut=Y4t;function q4t(a,t){var e=[];return a.eachComponent("parallel",function(o,l){var f=new wut(o,a,t);f.name="parallel_"+l,f.resize(o,t),o.coordinateSystem=f,f.model=o,e.push(f)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var l=o.getReferringComponents("parallel",pr).models[0];o.coordinateSystem=l.coordinateSystem}}),e}var $4t={create:q4t},Tut=$4t;var Aut=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return yn([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var o=this.activeIntervals=Ht(e);if(o)for(var l=o.length-1;l>=0;l--)hi(o[l])},t.prototype.getActiveState=function(e){var o=this.activeIntervals;if(!o.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(o.length===1){var l=o[0];if(l[0]<=e&&e<=l[1])return"active"}else for(var f=0,h=o.length;f<h;f++)if(o[f][0]<=e&&e<=o[f][1])return"active";return"inactive"},t}(xe);or(Aut,qo);var nG=Aut;var Cv=!0,IS=Math.min,Lm=Math.max,K4t=Math.pow,j4t=1e4,J4t=6,Q4t=6,Cut="globalPan",t6t={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},e6t={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Dut={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},r6t=0,i6t=function(a){at(t,a);function t(e){var o=a.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=e,o.group=new Ut,o._uid="brushController_"+r6t++,X(f6t,function(l,f){this._handlers[f]=It(l,this)},o),o}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var o=this._zr;this._enableGlobalPan||gst(o,Cut,this._uid),X(this._handlers,function(l,f){o.on(f,l)}),this._brushType=e.brushType,this._brushOption=ne(Ht(Dut),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;mst(e,Cut,this._uid),X(this._handlers,function(o,l){e.off(l,o)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var o=this._panels={};X(e,function(l){o[l.panelId]=Ht(l)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=o.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=_t(e,function(T){return ne(Ht(Dut),T,!0)});var o="\0-brush-index-",l=this._covers,f=this._covers=[],h=this,v=this._creatingCover;return new ha(l,e,y,g).add(x).update(x).remove(b).execute(),this;function g(T,C){return(T.id!=null?T.id:o+C)+"-"+T.brushType}function y(T,C){return g(T.__brushOption,C)}function x(T,C){var M=e[T];if(C!=null&&l[C]===v)f[T]=l[C];else{var I=f[T]=C!=null?(l[C].__brushOption=M,l[C]):Rut(h,Put(h,M));cG(h,I)}}function b(T){l[T]!==v&&h.group.remove(l[T])}},t.prototype.unmount=function(){return this.enableBrush(!1),oG(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(xi);function Put(a,t){var e=SM[t.brushType].createCover(a,t);return e.__brushOption=t,kut(e,t),a.group.add(e),e}function Rut(a,t){var e=hG(t);return e.endCreating&&(e.endCreating(a,t),kut(t,t.__brushOption)),t}function Out(a,t){var e=t.__brushOption;hG(t).updateCoverShape(a,t,e.range,e)}function kut(a,t){var e=t.z;e==null&&(e=j4t),a.traverse(function(o){o.z=e,o.z2=e})}function cG(a,t){hG(t).updateCommon(a,t),Out(a,t)}function hG(a){return SM[a.__brushOption.brushType]}function pG(a,t,e){var o=a._panels;if(!o)return Cv;var l,f=a._transform;return X(o,function(h){h.isTargetByCursor(t,e,f)&&(l=h)}),l}function Nut(a,t){var e=a._panels;if(!e)return Cv;var o=t.__brushOption.panelId;return o!=null?e[o]:Cv}function oG(a){var t=a._covers,e=t.length;return X(t,function(o){a.group.remove(o)},a),t.length=0,!!e}function Dv(a,t){var e=_t(a._covers,function(o){var l=o.__brushOption,f=Ht(l.range);return{brushType:l.brushType,panelId:l.panelId,range:f}});a.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function a6t(a){var t=a._track;if(!t.length)return!1;var e=t[t.length-1],o=t[0],l=e[0]-o[0],f=e[1]-o[1],h=K4t(l*l+f*f,.5);return h>J4t}function zut(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function Vut(a,t,e,o){var l=new Ut;return l.add(new ge({name:"main",style:vG(e),silent:!0,draggable:!0,cursor:"move",drift:Qt(Mut,a,t,l,["n","s","w","e"]),ondragend:Qt(Dv,t,{isEnd:!0})})),X(o,function(f){l.add(new ge({name:f.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Qt(Mut,a,t,l,f),ondragend:Qt(Dv,t,{isEnd:!0})}))}),l}function But(a,t,e,o){var l=o.brushStyle.lineWidth||0,f=Lm(l,Q4t),h=e[0][0],v=e[1][0],g=h-l/2,y=v-l/2,x=e[0][1],b=e[1][1],T=x-f+l/2,C=b-f+l/2,M=x-h,I=b-v,P=M+l,O=I+l;Gu(a,t,"main",h,v,M,I),o.transformable&&(Gu(a,t,"w",g,y,f,O),Gu(a,t,"e",T,y,f,O),Gu(a,t,"n",g,y,P,f),Gu(a,t,"s",g,C,P,f),Gu(a,t,"nw",g,y,f,f),Gu(a,t,"ne",T,y,f,f),Gu(a,t,"sw",g,C,f,f),Gu(a,t,"se",T,C,f,f))}function sG(a,t){var e=t.__brushOption,o=e.transformable,l=t.childAt(0);l.useStyle(vG(e)),l.attr({silent:!o,cursor:o?"move":"default"}),X([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(f){var h=t.childOfName(f.join("")),v=f.length===1?lG(a,f[0]):o6t(a,f);h&&h.attr({silent:!o,invisible:!o,cursor:o?e6t[v]+"-resize":null})})}function Gu(a,t,e,o,l,f,h){var v=t.childOfName(e);v&&v.setShape(l6t(dG(a,t,[[o,l],[o+f,l+h]])))}function vG(a){return zt({strokeNoScale:!0},a.brushStyle)}function Fut(a,t,e,o){var l=[IS(a,e),IS(t,o)],f=[Lm(a,e),Lm(t,o)];return[[l[0],f[0]],[l[1],f[1]]]}function n6t(a){return qn(a.group)}function lG(a,t){var e={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},l=Kp(e[t],n6t(a));return o[l]}function o6t(a,t){var e=[lG(a,t[0]),lG(a,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Mut(a,t,e,o,l,f){var h=e.__brushOption,v=a.toRectRange(h.range),g=Uut(t,l,f);X(o,function(y){var x=t6t[y];v[x[0]][x[1]]+=g[x[0]]}),h.range=a.fromRectRange(Fut(v[0][0],v[1][0],v[0][1],v[1][1])),cG(t,e),Dv(t,{isEnd:!1})}function s6t(a,t,e,o){var l=t.__brushOption.range,f=Uut(a,e,o);X(l,function(h){h[0]+=f[0],h[1]+=f[1]}),cG(a,t),Dv(a,{isEnd:!1})}function Uut(a,t,e){var o=a.group,l=o.transformCoordToLocal(t,e),f=o.transformCoordToLocal(0,0);return[l[0]-f[0],l[1]-f[1]]}function dG(a,t,e){var o=Nut(a,t);return o&&o!==Cv?o.clipPath(e,a._transform):Ht(e)}function l6t(a){var t=IS(a[0][0],a[1][0]),e=IS(a[0][1],a[1][1]),o=Lm(a[0][0],a[1][0]),l=Lm(a[0][1],a[1][1]);return{x:t,y:e,width:o-t,height:l-e}}function u6t(a,t,e){if(!(!a._brushType||c6t(a,t.offsetX,t.offsetY))){var o=a._zr,l=a._covers,f=pG(a,t,e);if(!a._dragging)for(var h=0;h<l.length;h++){var v=l[h].__brushOption;if(f&&(f===Cv||v.panelId===f.panelId)&&SM[v.brushType].contain(l[h],e[0],e[1]))return}f&&o.setCursorStyle("crosshair")}}function uG(a){var t=a.event;t.preventDefault&&t.preventDefault()}function fG(a,t,e){return a.childOfName("main").contain(t,e)}function Gut(a,t,e,o){var l=a._creatingCover,f=a._creatingPanel,h=a._brushOption,v;if(a._track.push(e.slice()),a6t(a)||l){if(f&&!l){h.brushMode==="single"&&oG(a);var g=Ht(h);g.brushType=Lut(g.brushType,f),g.panelId=f===Cv?null:f.panelId,l=a._creatingCover=Put(a,g),a._covers.push(l)}if(l){var y=SM[Lut(a._brushType,f)],x=l.__brushOption;x.range=y.getCreatingRange(dG(a,l,a._track)),o&&(Rut(a,l),y.updateCommon(a,l)),Out(a,l),v={isEnd:o}}}else o&&h.brushMode==="single"&&h.removeOnClick&&pG(a,t,e)&&oG(a)&&(v={isEnd:o,removeOnClick:!0});return v}function Lut(a,t){return a==="auto"?t.defaultBrushType:a}var f6t={mousedown:function(a){if(this._dragging)Iut(this,a);else if(!a.target||!a.target.draggable){uG(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var e=this._creatingPanel=pG(this,a,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,e=a.offsetY,o=this.group.transformCoordToLocal(t,e);if(u6t(this,a,o),this._dragging){uG(a);var l=Gut(this,a,o,!1);l&&Dv(this,l)}},mouseup:function(a){Iut(this,a)}};function Iut(a,t){if(a._dragging){uG(t);var e=t.offsetX,o=t.offsetY,l=a.group.transformCoordToLocal(e,o),f=Gut(a,t,l,!0);a._dragging=!1,a._track=[],a._creatingCover=null,f&&Dv(a,f)}}function c6t(a,t,e){var o=a._zr;return t<0||t>o.getWidth()||e<0||e>o.getHeight()}var SM={lineX:Eut(0),lineY:Eut(1),rect:{createCover:function(a,t){function e(o){return o}return Vut({toRectRange:e,fromRectRange:e},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=zut(a);return Fut(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,e,o){But(a,t,e,o)},updateCommon:sG,contain:fG},polygon:{createCover:function(a,t){var e=new Ut;return e.add(new Nr({name:"main",style:vG(t),silent:!0})),e},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new Br({name:"main",draggable:!0,drift:Qt(s6t,a,t),ondragend:Qt(Dv,a,{isEnd:!0})}))},updateCoverShape:function(a,t,e,o){t.childAt(0).setShape({points:dG(a,t,e)})},updateCommon:sG,contain:fG}};function Eut(a){return{createCover:function(t,e){return Vut({toRectRange:function(o){var l=[o,[0,100]];return a&&l.reverse(),l},fromRectRange:function(o){return o[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var e=zut(t),o=IS(e[0][a],e[1][a]),l=Lm(e[0][a],e[1][a]);return[o,l]},updateCoverShape:function(t,e,o,l){var f,h=Nut(t,e);if(h!==Cv&&h.getLinearBrushOtherExtent)f=h.getLinearBrushOtherExtent(a);else{var v=t._zr;f=[0,[v.getWidth(),v.getHeight()][1-a]]}var g=[o,f];a&&g.reverse(),But(t,e,g,l)},updateCommon:sG,contain:fG}}var Im=i6t;function bM(a){return a=gG(a),function(t){return mx(t,a)}}function wM(a,t){return a=gG(a),function(e){var o=t??e,l=o?a.width:a.height,f=o?a.x:a.y;return[f,f+(l||0)]}}function TM(a,t,e){var o=gG(a);return function(l,f){return o.contain(f[0],f[1])&&!Tc(l,t,e)}}function gG(a){return ie.create(a)}var h6t=["axisLine","axisTickLabel","axisName"],p6t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o){a.prototype.init.apply(this,arguments),(this._brushController=new Im(o.getZr())).on("brush",It(this._onBrush,this))},t.prototype.render=function(e,o,l,f){if(!v6t(e,o,f)){this.axisModel=e,this.api=l,this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new Ut,this.group.add(this._axisGroup),!!e.get("show")){var v=g6t(e,o),g=v.coordinateSystem,y=e.getAreaSelectStyle(),x=y.width,b=e.axis.dim,T=g.getAxisLayout(b),C=mt({strokeContainThreshold:x},T),M=new pa(e,C);X(h6t,M.add,M),this._axisGroup.add(M.getGroup()),this._refreshBrushController(C,y,e,v,x,l),Iu(h,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,o,l,f,h,v){var g=l.axis.getExtent(),y=g[1]-g[0],x=Math.min(30,Math.abs(y)*.1),b=ie.create({x:g[0],y:-h/2,width:y,height:h});b.x-=x,b.width+=2*x,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:bM(b),isTargetByCursor:TM(b,v,f),getLinearBrushOtherExtent:wM(b,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(d6t(l))},t.prototype._onBrush=function(e){var o=e.areas,l=this.axisModel,f=l.axis,h=_t(o,function(v){return[f.coordToData(v.range[0],!0),f.coordToData(v.range[1],!0)]});(!l.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:h})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(He);function v6t(a,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===a}function d6t(a){var t=a.axis;return _t(a.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function g6t(a,t){return t.getComponent("parallel",a.get("parallelIndex"))}var Wut=p6t;var m6t={type:"axisAreaSelect",event:"axisAreaSelected"};function Yut(a){a.registerAction(m6t,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(o){o.axis.model.setActiveIntervals(t.intervals)})}),a.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(o){o.setAxisExpand(t)})})}var y6t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function ES(a){a.registerComponentView(gut),a.registerComponentModel(mut),a.registerCoordinateSystem("parallel",Tut),a.registerPreprocessor(eG),a.registerComponentModel(nG),a.registerComponentView(Wut),Us(a,"parallel",nG,y6t),Yut(a)}function mG(a){Ae(ES),a.registerChartView(put),a.registerSeriesModel(vut),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,dut)}var _6t=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return a}(),x6t=function(a){at(t,a);function t(e){return a.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new _6t},t.prototype.buildPath=function(e,o){var l=o.extent;e.moveTo(o.x1,o.y1),e.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(e.lineTo(o.x2+l,o.y2),e.bezierCurveTo(o.cpx2+l,o.cpy2,o.cpx1+l,o.cpy1,o.x1+l,o.y1)):(e.lineTo(o.x2,o.y2+l),e.bezierCurveTo(o.cpx2,o.cpy2+l,o.cpx1,o.cpy1+l,o.x1,o.y1+l)),e.closePath()},t.prototype.highlight=function(){Aa(this)},t.prototype.downplay=function(){Ca(this)},t}(se),S6t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,o,l){var f=this,h=e.getGraph(),v=this.group,g=e.layoutInfo,y=g.width,x=g.height,b=e.getData(),T=e.getData("edge"),C=e.get("orient");this._model=e,v.removeAll(),v.x=g.x,v.y=g.y,h.eachEdge(function(M){var I=new x6t,P=Kt(I);P.dataIndex=M.dataIndex,P.seriesIndex=e.seriesIndex,P.dataType="edge";var O=M.getModel(),N=O.getModel("lineStyle"),V=N.get("curveness"),F=M.node1.getLayout(),U=M.node1.getModel(),H=U.get("localX"),Z=U.get("localY"),$=M.node2.getLayout(),K=M.node2.getModel(),Q=K.get("localX"),rt=K.get("localY"),nt=M.getLayout(),ot,ft,lt,pt,xt,st,dt,Et;I.shape.extent=Math.max(1,nt.dy),I.shape.orient=C,C==="vertical"?(ot=(H!=null?H*y:F.x)+nt.sy,ft=(Z!=null?Z*x:F.y)+F.dy,lt=(Q!=null?Q*y:$.x)+nt.ty,pt=rt!=null?rt*x:$.y,xt=ot,st=ft*(1-V)+pt*V,dt=lt,Et=ft*V+pt*(1-V)):(ot=(H!=null?H*y:F.x)+F.dx,ft=(Z!=null?Z*x:F.y)+nt.sy,lt=Q!=null?Q*y:$.x,pt=(rt!=null?rt*x:$.y)+nt.ty,xt=ot*(1-V)+lt*V,st=ft,dt=ot*V+lt*(1-V),Et=pt),I.setShape({x1:ot,y1:ft,x2:lt,y2:pt,cpx1:xt,cpy1:st,cpx2:dt,cpy2:Et}),I.useStyle(N.getItemStyle()),Zut(I.style,C,M);var At=""+O.get("value"),Zt=cr(O,"edgeLabel");_r(I,Zt,{labelFetcher:{getFormattedLabel:function(j,Tt,lr,jt,ve,Xt){return e.getFormattedLabel(j,Tt,"edge",jt,Ci(ve,Zt.normal&&Zt.normal.get("formatter"),At),Xt)}},labelDataIndex:M.dataIndex,defaultText:At}),I.setTextConfig({position:"inside"});var qt=O.getModel("emphasis");Ir(I,O,"lineStyle",function(j){var Tt=j.getItemStyle();return Zut(Tt,C,M),Tt}),v.add(I),T.setItemGraphicEl(M.dataIndex,I);var te=qt.get("focus");Ke(I,te==="adjacency"?M.getAdjacentDataIndices():te==="trajectory"?M.getTrajectoryDataIndices():te,qt.get("blurScope"),qt.get("disabled"))}),h.eachNode(function(M){var I=M.getLayout(),P=M.getModel(),O=P.get("localX"),N=P.get("localY"),V=P.getModel("emphasis"),F=P.get(["itemStyle","borderRadius"])||0,U=new ge({shape:{x:O!=null?O*y:I.x,y:N!=null?N*x:I.y,width:I.dx,height:I.dy,r:F},style:P.getModel("itemStyle").getItemStyle(),z2:10});_r(U,cr(P),{labelFetcher:{getFormattedLabel:function(Z,$){return e.getFormattedLabel(Z,$,"node")}},labelDataIndex:M.dataIndex,defaultText:M.id}),U.disableLabelAnimation=!0,U.setStyle("fill",M.getVisual("color")),U.setStyle("decal",M.getVisual("style").decal),Ir(U,P),v.add(U),b.setItemGraphicEl(M.dataIndex,U),Kt(U).dataType="node";var H=V.get("focus");Ke(U,H==="adjacency"?M.getAdjacentDataIndices():H==="trajectory"?M.getTrajectoryDataIndices():H,V.get("blurScope"),V.get("disabled"))}),b.eachItemGraphicEl(function(M,I){var P=b.getItemModel(I);P.get("draggable")&&(M.drift=function(O,N){f._focusAdjacencyDisabled=!0,this.shape.x+=O,this.shape.y+=N,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:b.getRawIndex(I),localX:this.shape.x/y,localY:this.shape.y/x})},M.ondragend=function(){f._focusAdjacencyDisabled=!1},M.draggable=!0,M.cursor="move")}),!this._data&&e.isAnimationEnabled()&&v.setClipPath(b6t(v.getBoundingRect(),e,function(){v.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ke);function Zut(a,t,e){switch(a.fill){case"source":a.fill=e.node1.getVisual("color"),a.decal=e.node1.getVisual("style").decal;break;case"target":a.fill=e.node2.getVisual("color"),a.decal=e.node2.getVisual("style").decal;break;case"gradient":var o=e.node1.getVisual("color"),l=e.node2.getVisual("color");Dt(o)&&Dt(l)&&(a.fill=new No(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:o,offset:0},{color:l,offset:1}]))}}function b6t(a,t,e){var o=new ge({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return je(o,{shape:{width:a.width+20}},t,e),o}var Xut=S6t;var w6t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,o){var l=e.edges||e.links||[],f=e.data||e.nodes||[],h=e.levels||[];this.levelModels=[];for(var v=this.levelModels,g=0;g<h.length;g++)h[g].depth!=null&&h[g].depth>=0&&(v[h[g].depth]=new Fe(h[g],this,o));var y=LS(f,l,this,!0,x);return y.data;function x(b,T){b.wrapMethod("getItemModel",function(C,M){var I=C.parentModel,P=I.getData().getItemLayout(M);if(P){var O=P.depth,N=I.levelModels[O];N&&(C.parentModel=N)}return C}),T.wrapMethod("getItemModel",function(C,M){var I=C.parentModel,P=I.getGraph().getEdgeByIndex(M),O=P.node1.getLayout();if(O){var N=O.depth,V=I.levelModels[N];V&&(C.parentModel=V)}return C})}},t.prototype.setNodePosition=function(e,o){var l=this.option.data||this.option.nodes,f=l[e];f.localX=o[0],f.localY=o[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,o,l){function f(C){return isNaN(C)||C==null}if(l==="edge"){var h=this.getDataParams(e,l),v=h.data,g=h.value,y=v.source+" -- "+v.target;return Ar("nameValue",{name:y,value:g,noValue:f(g)})}else{var x=this.getGraph().getNodeByIndex(e),b=x.getLayout().value,T=this.getDataParams(e,l).data.name;return Ar("nameValue",{name:T!=null?T+"":null,value:b,noValue:f(b)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,o){var l=a.prototype.getDataParams.call(this,e,o);if(l.value==null&&o==="node"){var f=this.getGraph().getNodeByIndex(e),h=f.getLayout().value;l.value=h}return l},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Ue),qut=w6t;function _G(a,t){a.eachSeriesByType("sankey",function(e){var o=e.get("nodeWidth"),l=e.get("nodeGap"),f=T6t(e,t);e.layoutInfo=f;var h=f.width,v=f.height,g=e.getGraph(),y=g.nodes,x=g.edges;C6t(y);var b=Ee(y,function(I){return I.getLayout().value===0}),T=b.length!==0?0:e.get("layoutIterations"),C=e.get("orient"),M=e.get("nodeAlign");A6t(y,x,o,l,h,v,T,C,M)})}function T6t(a,t){return ar(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function A6t(a,t,e,o,l,f,h,v,g){D6t(a,t,e,l,f,v,g),E6t(a,t,f,l,o,h,v),F6t(a,v)}function C6t(a){X(a,function(t){var e=Dc(t.outEdges,AM),o=Dc(t.inEdges,AM),l=t.getValue()||0,f=Math.max(e,o,l);t.setLayout({value:f},!0)})}function D6t(a,t,e,o,l,f,h){for(var v=[],g=[],y=[],x=[],b=0,T=0;T<t.length;T++)v[T]=1;for(var T=0;T<a.length;T++)g[T]=a[T].inEdges.length,g[T]===0&&y.push(a[T]);for(var C=-1;y.length;){for(var M=0;M<y.length;M++){var I=y[M],P=I.hostGraph.data.getRawDataItem(I.dataIndex),O=P.depth!=null&&P.depth>=0;O&&P.depth>C&&(C=P.depth),I.setLayout({depth:O?P.depth:b},!0),f==="vertical"?I.setLayout({dy:e},!0):I.setLayout({dx:e},!0);for(var N=0;N<I.outEdges.length;N++){var V=I.outEdges[N],F=t.indexOf(V);v[F]=0;var U=V.node2,H=a.indexOf(U);--g[H]===0&&x.indexOf(U)<0&&x.push(U)}}++b,y=x,x=[]}for(var T=0;T<v.length;T++)if(v[T]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Z=C>b-1?C:b-1;h&&h!=="left"&&M6t(a,h,f,Z);var $=f==="vertical"?(l-e)/Z:(o-e)/Z;I6t(a,$,f)}function $ut(a){var t=a.hostGraph.data.getRawDataItem(a.dataIndex);return t.depth!=null&&t.depth>=0}function M6t(a,t,e,o){if(t==="right"){for(var l=[],f=a,h=0;f.length;){for(var v=0;v<f.length;v++){var g=f[v];g.setLayout({skNodeHeight:h},!0);for(var y=0;y<g.inEdges.length;y++){var x=g.inEdges[y];l.indexOf(x.node1)<0&&l.push(x.node1)}}f=l,l=[],++h}X(a,function(b){$ut(b)||b.setLayout({depth:Math.max(0,o-b.getLayout().skNodeHeight)},!0)})}else t==="justify"&&L6t(a,o)}function L6t(a,t){X(a,function(e){!$ut(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function I6t(a,t,e){X(a,function(o){var l=o.getLayout().depth*t;e==="vertical"?o.setLayout({y:l},!0):o.setLayout({x:l},!0)})}function E6t(a,t,e,o,l,f,h){var v=P6t(a,h);R6t(v,t,e,o,l,h),yG(v,l,e,o,h);for(var g=1;f>0;f--)g*=.99,O6t(v,g,h),yG(v,l,e,o,h),B6t(v,g,h),yG(v,l,e,o,h)}function P6t(a,t){var e=[],o=t==="vertical"?"y":"x",l=rx(a,function(f){return f.getLayout()[o]});return l.keys.sort(function(f,h){return f-h}),X(l.keys,function(f){e.push(l.buckets.get(f))}),e}function R6t(a,t,e,o,l,f){var h=1/0;X(a,function(v){var g=v.length,y=0;X(v,function(b){y+=b.getLayout().value});var x=f==="vertical"?(o-(g-1)*l)/y:(e-(g-1)*l)/y;x<h&&(h=x)}),X(a,function(v){X(v,function(g,y){var x=g.getLayout().value*h;f==="vertical"?(g.setLayout({x:y},!0),g.setLayout({dx:x},!0)):(g.setLayout({y},!0),g.setLayout({dy:x},!0))})}),X(t,function(v){var g=+v.getValue()*h;v.setLayout({dy:g},!0)})}function yG(a,t,e,o,l){var f=l==="vertical"?"x":"y";X(a,function(h){h.sort(function(I,P){return I.getLayout()[f]-P.getLayout()[f]});for(var v,g,y,x=0,b=h.length,T=l==="vertical"?"dx":"dy",C=0;C<b;C++)g=h[C],y=x-g.getLayout()[f],y>0&&(v=g.getLayout()[f]+y,l==="vertical"?g.setLayout({x:v},!0):g.setLayout({y:v},!0)),x=g.getLayout()[f]+g.getLayout()[T]+t;var M=l==="vertical"?o:e;if(y=x-t-M,y>0){v=g.getLayout()[f]-y,l==="vertical"?g.setLayout({x:v},!0):g.setLayout({y:v},!0),x=v;for(var C=b-2;C>=0;--C)g=h[C],y=g.getLayout()[f]+g.getLayout()[T]+t-x,y>0&&(v=g.getLayout()[f]-y,l==="vertical"?g.setLayout({x:v},!0):g.setLayout({y:v},!0)),x=g.getLayout()[f]}})}function O6t(a,t,e){X(a.slice().reverse(),function(o){X(o,function(l){if(l.outEdges.length){var f=Dc(l.outEdges,k6t,e)/Dc(l.outEdges,AM);if(isNaN(f)){var h=l.outEdges.length;f=h?Dc(l.outEdges,N6t,e)/h:0}if(e==="vertical"){var v=l.getLayout().x+(f-Mc(l,e))*t;l.setLayout({x:v},!0)}else{var g=l.getLayout().y+(f-Mc(l,e))*t;l.setLayout({y:g},!0)}}})})}function k6t(a,t){return Mc(a.node2,t)*a.getValue()}function N6t(a,t){return Mc(a.node2,t)}function z6t(a,t){return Mc(a.node1,t)*a.getValue()}function V6t(a,t){return Mc(a.node1,t)}function Mc(a,t){return t==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function AM(a){return a.getValue()}function Dc(a,t,e){for(var o=0,l=a.length,f=-1;++f<l;){var h=+t(a[f],e);isNaN(h)||(o+=h)}return o}function B6t(a,t,e){X(a,function(o){X(o,function(l){if(l.inEdges.length){var f=Dc(l.inEdges,z6t,e)/Dc(l.inEdges,AM);if(isNaN(f)){var h=l.inEdges.length;f=h?Dc(l.inEdges,V6t,e)/h:0}if(e==="vertical"){var v=l.getLayout().x+(f-Mc(l,e))*t;l.setLayout({x:v},!0)}else{var g=l.getLayout().y+(f-Mc(l,e))*t;l.setLayout({y:g},!0)}}})})}function F6t(a,t){var e=t==="vertical"?"x":"y";X(a,function(o){o.outEdges.sort(function(l,f){return l.node2.getLayout()[e]-f.node2.getLayout()[e]}),o.inEdges.sort(function(l,f){return l.node1.getLayout()[e]-f.node1.getLayout()[e]})}),X(a,function(o){var l=0,f=0;X(o.outEdges,function(h){h.setLayout({sy:l},!0),l+=h.getLayout().dy}),X(o.inEdges,function(h){h.setLayout({ty:f},!0),f+=h.getLayout().dy})})}function xG(a){a.eachSeriesByType("sankey",function(t){var e=t.getGraph(),o=e.nodes,l=e.edges;if(o.length){var f=1/0,h=-1/0;X(o,function(v){var g=v.getLayout().value;g<f&&(f=g),g>h&&(h=g)}),X(o,function(v){var g=new Jr({type:"color",mappingMethod:"linear",dataExtent:[f,h],visual:t.get("color")}),y=g.mapValueToVisual(v.getLayout().value),x=v.getModel().get(["itemStyle","color"]);x!=null?(v.setVisual("color",x),v.setVisual("style",{fill:x})):(v.setVisual("color",y),v.setVisual("style",{fill:y}))})}l.length&&X(l,function(v){var g=v.getModel().get("lineStyle");v.setVisual("style",g)})})}function SG(a){a.registerChartView(Xut),a.registerSeriesModel(qut),a.registerLayout(_G),a.registerVisual(xG),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(o){o.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var CM=function(){function a(){}return a.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},a.prototype.getInitialData=function(t,e){var o,l=e.getComponent("xAxis",this.get("xAxisIndex")),f=e.getComponent("yAxis",this.get("yAxisIndex")),h=l.get("type"),v=f.get("type"),g;h==="category"?(t.layout="horizontal",o=l.getOrdinalMeta(),g=!this._hasEncodeRule("x")):v==="category"?(t.layout="vertical",o=f.getOrdinalMeta(),g=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var y=["x","y"],x=t.layout==="horizontal"?0:1,b=this._baseAxisDim=y[x],T=y[1-x],C=[l,f],M=C[x].get("type"),I=C[1-x].get("type"),P=t.data;if(P&&g){var O=[];X(P,function(F,U){var H;yt(F)?(H=F.slice(),F.unshift(U)):yt(F.value)?(H=mt({},F),H.value=H.value.slice(),F.value.unshift(U)):H=F,O.push(H)}),t.data=O}var N=this.defaultValueDimensions,V=[{name:b,type:uv(M),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:T,type:uv(I),dimsDef:N.slice()}];return eo(this,{coordDimensions:V,dimensionsCount:N.length+1,encodeDefaulter:Qt(xC,V,this)})},a.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},a}();var Kut=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Ue);or(Kut,CM,!0);var jut=Kut;var U6t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=e.getData(),h=this.group,v=this._data;this._data||h.removeAll();var g=e.get("layout")==="horizontal"?1:0;f.diff(v).add(function(y){if(f.hasValue(y)){var x=f.getItemLayout(y),b=Jut(x,f,y,g,!0);f.setItemGraphicEl(y,b),h.add(b)}}).update(function(y,x){var b=v.getItemGraphicEl(x);if(!f.hasValue(y)){h.remove(b);return}var T=f.getItemLayout(y);b?(Si(b),Qut(T,b,f,y)):b=Jut(T,f,y,g),h.add(b),f.setItemGraphicEl(y,b)}).remove(function(y){var x=v.getItemGraphicEl(y);x&&h.remove(x)}).execute(),this._data=f},t.prototype.remove=function(e){var o=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(f){f&&o.remove(f)})},t.type="boxplot",t}(ke),G6t=function(){function a(){}return a}(),H6t=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="boxplotBoxPath",o}return t.prototype.getDefaultShape=function(){return new G6t},t.prototype.buildPath=function(e,o){var l=o.points,f=0;for(e.moveTo(l[f][0],l[f][1]),f++;f<4;f++)e.lineTo(l[f][0],l[f][1]);for(e.closePath();f<l.length;f++)e.moveTo(l[f][0],l[f][1]),f++,e.lineTo(l[f][0],l[f][1])},t}(se);function Jut(a,t,e,o,l){var f=a.ends,h=new H6t({shape:{points:l?W6t(f,o,a):f}});return Qut(a,h,t,e,l),h}function Qut(a,t,e,o,l){var f=e.hostModel,h=be[l?"initProps":"updateProps"];h(t,{shape:{points:a.ends}},f,o),t.useStyle(e.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.z2=100;var v=e.getItemModel(o),g=v.getModel("emphasis");Ir(t,v),Ke(t,g.get("focus"),g.get("blurScope"),g.get("disabled"))}function W6t(a,t,e){return _t(a,function(o){return o=o.slice(),o[t]=e.initBaseline,o})}var tft=U6t;var PS=X;function bG(a){var t=Y6t(a);PS(t,function(e){var o=e.seriesModels;o.length&&(Z6t(e),PS(o,function(l,f){X6t(l,e.boxOffsetList[f],e.boxWidthList[f])}))})}function Y6t(a){var t=[],e=[];return a.eachSeriesByType("boxplot",function(o){var l=o.getBaseAxis(),f=ae(e,l);f<0&&(f=e.length,e[f]=l,t[f]={axis:l,seriesModels:[]}),t[f].seriesModels.push(o)}),t}function Z6t(a){var t=a.axis,e=a.seriesModels,o=e.length,l=a.boxWidthList=[],f=a.boxOffsetList=[],h=[],v;if(t.type==="category")v=t.getBandWidth();else{var g=0;PS(e,function(M){g=Math.max(g,M.getData().count())});var y=t.getExtent();v=Math.abs(y[1]-y[0])/g}PS(e,function(M){var I=M.get("boxWidth");yt(I)||(I=[I,I]),h.push([Pt(I[0],v)||0,Pt(I[1],v)||0])});var x=v*.8-2,b=x/o*.3,T=(x-b*(o-1))/o,C=T/2-x/2;PS(e,function(M,I){f.push(C),C+=b+T,l.push(Math.min(Math.max(T,h[I][0]),h[I][1]))})}function X6t(a,t,e){var o=a.coordinateSystem,l=a.getData(),f=e/2,h=a.get("layout")==="horizontal"?0:1,v=1-h,g=["x","y"],y=l.mapDimension(g[h]),x=l.mapDimensionsAll(g[v]);if(y==null||x.length<5)return;for(var b=0;b<l.count();b++){var T=l.get(y,b),C=V(T,x[2],b),M=V(T,x[0],b),I=V(T,x[1],b),P=V(T,x[3],b),O=V(T,x[4],b),N=[];F(N,I,!1),F(N,P,!0),N.push(M,I,O,P),U(N,M),U(N,O),U(N,C),l.setItemLayout(b,{initBaseline:C[v],ends:N})}function V(H,Z,$){var K=l.get(Z,$),Q=[];Q[h]=H,Q[v]=K;var rt;return isNaN(H)||isNaN(K)?rt=[NaN,NaN]:(rt=o.dataToPoint(Q),rt[h]+=t),rt}function F(H,Z,$){var K=Z.slice(),Q=Z.slice();K[h]+=f,Q[h]-=f,$?H.push(K,Q):H.push(Q,K)}function U(H,Z){var $=Z.slice(),K=Z.slice();$[h]-=f,K[h]+=f,H.push($,K)}}function wG(a,t){t=t||{};for(var e=[],o=[],l=t.boundIQR,f=l==="none"||l===0,h=0;h<a.length;h++){var v=hi(a[h].slice()),g=Cg(v,.25),y=Cg(v,.5),x=Cg(v,.75),b=v[0],T=v[v.length-1],C=(l??1.5)*(x-g),M=f?b:Math.max(b,g-C),I=f?T:Math.min(T,x+C),P=t.itemNameFormatter,O=Nt(P)?P({value:h}):Dt(P)?P.replace("{value}",h+""):h+"";e.push([O,M,g,y,x,I]);for(var N=0;N<v.length;N++){var V=v[N];if(V<M||V>I){var F=[O,V];o.push(F)}}}return{boxData:e,outliers:o}}var eft={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==pi){var o="";Qe(o)}var l=wG(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}};function TG(a){a.registerSeriesModel(jut),a.registerChartView(tft),a.registerLayout(bG),a.registerTransform(eft)}var q6t=["itemStyle","borderColor"],$6t=["itemStyle","borderColor0"],K6t=["itemStyle","borderColorDoji"],j6t=["itemStyle","color"],J6t=["itemStyle","color0"];function DM(a,t){return t.get(a>0?j6t:J6t)}function MM(a,t){return t.get(a===0?K6t:a>0?q6t:$6t)}var Q6t={seriesType:"candlestick",plan:Qn(),performRawSeries:!0,reset:function(a,t){if(!t.isSeriesFiltered(a)){var e=a.pipelineContext.large;return!e&&{progress:function(o,l){for(var f;(f=o.next())!=null;){var h=l.getItemModel(f),v=l.getItemLayout(f).sign,g=h.getItemStyle();g.fill=DM(v,h),g.stroke=MM(v,h)||g.fill;var y=l.ensureUniqueItemVisual(f,"style");mt(y,g)}}}}}},rft=Q6t;var tYt=["color","borderColor"],eYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,o,l){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,o,l,f){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,o):this._incrementalRenderNormal(e,o)},t.prototype.eachRendered=function(e){Za(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e){var o=e.getData(),l=this._data,f=this.group,h=o.getLayout("isSimpleBox"),v=e.get("clip",!0),g=e.coordinateSystem,y=g.getArea&&g.getArea();this._data||f.removeAll(),o.diff(l).add(function(x){if(o.hasValue(x)){var b=o.getItemLayout(x);if(v&&ift(y,b))return;var T=AG(b,x,!0);je(T,{shape:{points:b.ends}},e,x),CG(T,o,x,h),f.add(T),o.setItemGraphicEl(x,T)}}).update(function(x,b){var T=l.getItemGraphicEl(b);if(!o.hasValue(x)){f.remove(T);return}var C=o.getItemLayout(x);if(v&&ift(y,C)){f.remove(T);return}T?(we(T,{shape:{points:C.ends}},e,x),Si(T)):T=AG(C,x),CG(T,o,x,h),f.add(T),o.setItemGraphicEl(x,T)}).remove(function(x){var b=l.getItemGraphicEl(x);b&&f.remove(b)}).execute(),this._data=o},t.prototype._renderLarge=function(e){this._clear(),aft(e,this.group);var o=e.get("clip",!0)?Ol(e.coordinateSystem,!1,e):null;o?this.group.setClipPath(o):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,o){for(var l=o.getData(),f=l.getLayout("isSimpleBox"),h;(h=e.next())!=null;){var v=l.getItemLayout(h),g=AG(v,h);CG(g,l,h,f),g.incremental=!0,this.group.add(g),this._progressiveEls.push(g)}},t.prototype._incrementalRenderLarge=function(e,o){aft(o,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ke),rYt=function(){function a(){}return a}(),iYt=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="normalCandlestickBox",o}return t.prototype.getDefaultShape=function(){return new rYt},t.prototype.buildPath=function(e,o){var l=o.points;this.__simpleBox?(e.moveTo(l[4][0],l[4][1]),e.lineTo(l[6][0],l[6][1])):(e.moveTo(l[0][0],l[0][1]),e.lineTo(l[1][0],l[1][1]),e.lineTo(l[2][0],l[2][1]),e.lineTo(l[3][0],l[3][1]),e.closePath(),e.moveTo(l[4][0],l[4][1]),e.lineTo(l[5][0],l[5][1]),e.moveTo(l[6][0],l[6][1]),e.lineTo(l[7][0],l[7][1]))},t}(se);function AG(a,t,e){var o=a.ends;return new iYt({shape:{points:e?aYt(o,a):o},z2:100})}function ift(a,t){for(var e=!0,o=0;o<t.ends.length;o++)if(a.contain(t.ends[o][0],t.ends[o][1])){e=!1;break}return e}function CG(a,t,e,o){var l=t.getItemModel(e);a.useStyle(t.getItemVisual(e,"style")),a.style.strokeNoScale=!0,a.__simpleBox=o,Ir(a,l);var f=t.getItemLayout(e).sign;X(a.states,function(v,g){var y=l.getModel(g),x=DM(f,y),b=MM(f,y)||x,T=v.style||(v.style={});x&&(T.fill=x),b&&(T.stroke=b)});var h=l.getModel("emphasis");Ke(a,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function aYt(a,t){return _t(a,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var nYt=function(){function a(){}return a}(),DG=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o.type="largeCandlestickBox",o}return t.prototype.getDefaultShape=function(){return new nYt},t.prototype.buildPath=function(e,o){for(var l=o.points,f=0;f<l.length;)if(this.__sign===l[f++]){var h=l[f++];e.moveTo(h,l[f++]),e.lineTo(h,l[f++])}else f+=3},t}(se);function aft(a,t,e,o){var l=a.getData(),f=l.getLayout("largePoints"),h=new DG({shape:{points:f},__sign:1,ignoreCoarsePointer:!0});t.add(h);var v=new DG({shape:{points:f},__sign:-1,ignoreCoarsePointer:!0});t.add(v);var g=new DG({shape:{points:f},__sign:0,ignoreCoarsePointer:!0});t.add(g),MG(1,h,a,l),MG(-1,v,a,l),MG(0,g,a,l),o&&(h.incremental=!0,v.incremental=!0),e&&e.push(h,v)}function MG(a,t,e,o){var l=MM(a,e)||DM(a,e),f=e.getModel("itemStyle").getItemStyle(tYt);t.useStyle(f),t.style.fill=null,t.style.stroke=l}var nft=eYt;var oft=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,o,l){var f=o.getItemLayout(e);return f&&l.rect(f.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Ue);or(oft,CM,!0);var sft=oft;function LG(a){!a||!yt(a.series)||X(a.series,function(t){Ft(t)&&t.type==="k"&&(t.type="candlestick")})}var oYt={seriesType:"candlestick",plan:Qn(),reset:function(a){var t=a.coordinateSystem,e=a.getData(),o=sYt(a,e),l=0,f=1,h=["x","y"],v=e.getDimensionIndex(e.mapDimension(h[l])),g=_t(e.mapDimensionsAll(h[f]),e.getDimensionIndex,e),y=g[0],x=g[1],b=g[2],T=g[3];if(e.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),v<0||g.length<4)return;return{progress:a.pipelineContext.large?M:C};function C(I,P){for(var O,N=P.getStore();(O=I.next())!=null;){var V=N.get(v,O),F=N.get(y,O),U=N.get(x,O),H=N.get(b,O),Z=N.get(T,O),$=Math.min(F,U),K=Math.max(F,U),Q=xt($,V),rt=xt(K,V),nt=xt(H,V),ot=xt(Z,V),ft=[];st(ft,rt,0),st(ft,Q,1),ft.push(Et(ot),Et(rt),Et(nt),Et(Q));var lt=P.getItemModel(O),pt=!!lt.get(["itemStyle","borderColorDoji"]);P.setItemLayout(O,{sign:lft(N,O,F,U,x,pt),initBaseline:F>U?rt[f]:Q[f],ends:ft,brushRect:dt(H,Z,V)})}function xt(At,Zt){var qt=[];return qt[l]=Zt,qt[f]=At,isNaN(Zt)||isNaN(At)?[NaN,NaN]:t.dataToPoint(qt)}function st(At,Zt,qt){var te=Zt.slice(),j=Zt.slice();te[l]=gx(te[l]+o/2,1,!1),j[l]=gx(j[l]-o/2,1,!0),qt?At.push(te,j):At.push(j,te)}function dt(At,Zt,qt){var te=xt(At,qt),j=xt(Zt,qt);return te[l]-=o/2,j[l]-=o/2,{x:te[0],y:te[1],width:f?o:j[0]-te[0],height:f?j[1]-te[1]:o}}function Et(At){return At[l]=gx(At[l],1),At}}function M(I,P){for(var O=qa(I.count*4),N=0,V,F=[],U=[],H,Z=P.getStore(),$=!!a.get(["itemStyle","borderColorDoji"]);(H=I.next())!=null;){var K=Z.get(v,H),Q=Z.get(y,H),rt=Z.get(x,H),nt=Z.get(b,H),ot=Z.get(T,H);if(isNaN(K)||isNaN(nt)||isNaN(ot)){O[N++]=NaN,N+=3;continue}O[N++]=lft(Z,H,Q,rt,x,$),F[l]=K,F[f]=nt,V=t.dataToPoint(F,null,U),O[N++]=V?V[0]:NaN,O[N++]=V?V[1]:NaN,F[f]=ot,V=t.dataToPoint(F,null,U),O[N++]=V?V[1]:NaN}P.setLayout("largePoints",O)}}};function lft(a,t,e,o,l,f){var h;return e>o?h=-1:e<o?h=1:h=f?0:t>0?a.get(l,t-1)<=o?1:-1:1,h}function sYt(a,t){var e=a.getBaseAxis(),o,l=e.type==="category"?e.getBandWidth():(o=e.getExtent(),Math.abs(o[1]-o[0])/t.count()),f=Pt(oe(a.get("barMaxWidth"),l),l),h=Pt(oe(a.get("barMinWidth"),1),l),v=a.get("barWidth");return v!=null?Pt(v,l):Math.max(Math.min(l/2,f),h)}var uft=oYt;function IG(a){a.registerChartView(nft),a.registerSeriesModel(sft),a.registerPreprocessor(LG),a.registerVisual(rft),a.registerLayout(uft)}function fft(a,t){var e=t.rippleEffectColor||t.color;a.eachChild(function(o){o.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var lYt=function(a){at(t,a);function t(e,o){var l=a.call(this)||this,f=new Bu(e,o),h=new Ut;return l.add(f),l.add(h),l.updateData(e,o),l}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var o=e.symbolType,l=e.color,f=e.rippleNumber,h=this.childAt(1),v=0;v<f;v++){var g=nr(o,-1,-1,2,2,l);g.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var y=-v/f*e.period+e.effectOffset;g.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(y).start(),g.animateStyle(!0).when(e.period,{opacity:0}).delay(y).start(),h.add(g)}fft(h,e)},t.prototype.updateEffectAnimation=function(e){for(var o=this._effectCfg,l=this.childAt(1),f=["symbolType","period","rippleScale","rippleNumber"],h=0;h<f.length;h++){var v=f[h];if(o[v]!==e[v]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}fft(l,e)},t.prototype.highlight=function(){Aa(this)},t.prototype.downplay=function(){Ca(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,o){var l=this,f=e.hostModel;this.childAt(0).updateData(e,o);var h=this.childAt(1),v=e.getItemModel(o),g=e.getItemVisual(o,"symbol"),y=Rs(e.getItemVisual(o,"symbolSize")),x=e.getItemVisual(o,"style"),b=x&&x.fill,T=v.getModel("emphasis");h.setScale(y),h.traverse(function(P){P.setStyle("fill",b)});var C=to(e.getItemVisual(o,"symbolOffset"),y);C&&(h.x=C[0],h.y=C[1]);var M=e.getItemVisual(o,"symbolRotate");h.rotation=(M||0)*Math.PI/180||0;var I={};I.showEffectOn=f.get("showEffectOn"),I.rippleScale=v.get(["rippleEffect","scale"]),I.brushType=v.get(["rippleEffect","brushType"]),I.period=v.get(["rippleEffect","period"])*1e3,I.effectOffset=o/e.count(),I.z=f.getShallow("z")||0,I.zlevel=f.getShallow("zlevel")||0,I.symbolType=g,I.color=b,I.rippleEffectColor=v.get(["rippleEffect","color"]),I.rippleNumber=v.get(["rippleEffect","number"]),I.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(I):this.startEffectAnimation(I),this._effectCfg=I):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(P){P==="emphasis"?I.showEffectOn!=="render"&&l.startEffectAnimation(I):P==="normal"&&I.showEffectOn!=="render"&&l.stopEffectAnimation()}),this._effectCfg=I,Ke(this,T.get("focus"),T.get("blurScope"),T.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Ut),cft=lYt;var uYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new Rl(cft)},t.prototype.render=function(e,o,l){var f=e.getData(),h=this._symbolDraw;h.updateData(f,{clipShape:this._getClipShape(e)}),this.group.add(h.group)},t.prototype._getClipShape=function(e){var o=e.coordinateSystem,l=o&&o.getArea&&o.getArea();return e.get("clip",!0)?l:null},t.prototype.updateTransform=function(e,o,l){var f=e.getData();this.group.dirty();var h=Bs("").reset(e,o,l);h.progress&&h.progress({start:0,end:f.count(),count:f.count()},f),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var o=e.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=TN(o.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ke),hft=uYt;var fYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,o){return Ri(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,o,l){return l.point(o.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Ue),pft=fYt;function EG(a){a.registerChartView(hft),a.registerSeriesModel(pft),a.registerLayout(Bs("effectScatter"))}var cYt=function(a){at(t,a);function t(e,o,l){var f=a.call(this)||this;return f.add(f.createLine(e,o,l)),f._updateEffectSymbol(e,o),f}return t.prototype.createLine=function(e,o,l){return new Tm(e,o,l)},t.prototype._updateEffectSymbol=function(e,o){var l=e.getItemModel(o),f=l.getModel("effect"),h=f.get("symbolSize"),v=f.get("symbol");yt(h)||(h=[h,h]);var g=e.getItemVisual(o,"style"),y=f.get("color")||g&&g.stroke,x=this.childAt(1);this._symbolType!==v&&(this.remove(x),x=nr(v,-.5,-.5,1,1,y),x.z2=100,x.culling=!0,this.add(x)),x&&(x.setStyle("shadowColor",y),x.setStyle(f.getItemStyle(["color"])),x.scaleX=h[0],x.scaleY=h[1],x.setColor(y),this._symbolType=v,this._symbolScale=h,this._updateEffectAnimation(e,f,o))},t.prototype._updateEffectAnimation=function(e,o,l){var f=this.childAt(1);if(f){var h=e.getItemLayout(l),v=o.get("period")*1e3,g=o.get("loop"),y=o.get("roundTrip"),x=o.get("constantSpeed"),b=wr(o.get("delay"),function(C){return C/e.count()*v/3});if(f.ignore=!0,this._updateAnimationPoints(f,h),x>0&&(v=this._getLineLength(f)/x*1e3),v!==this._period||g!==this._loop||y!==this._roundTrip){f.stopAnimation();var T=void 0;Nt(b)?T=b(l):T=b,f.__t>0&&(T=-v*f.__t),this._animateSymbol(f,v,T,g,y)}this._period=v,this._loop=g,this._roundTrip=y}},t.prototype._animateSymbol=function(e,o,l,f,h){if(o>0){e.__t=0;var v=this,g=e.animate("",f).when(h?o*2:o,{__t:h?2:1}).delay(l).during(function(){v._updateSymbolPosition(e)});f||g.done(function(){v.remove(e)}),g.start()}},t.prototype._getLineLength=function(e){return Hn(e.__p1,e.__cp1)+Hn(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,o){e.__p1=o[0],e.__p2=o[1],e.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},t.prototype.updateData=function(e,o,l){this.childAt(0).updateData(e,o,l),this._updateEffectSymbol(e,o)},t.prototype._updateSymbolPosition=function(e){var o=e.__p1,l=e.__p2,f=e.__cp1,h=e.__t<1?e.__t:2-e.__t,v=[e.x,e.y],g=v.slice(),y=ii,x=B_;v[0]=y(o[0],f[0],l[0],h),v[1]=y(o[1],f[1],l[1],h);var b=e.__t<1?x(o[0],f[0],l[0],h):x(l[0],f[0],o[0],1-h),T=e.__t<1?x(o[1],f[1],l[1],h):x(l[1],f[1],o[1],1-h);e.rotation=-Math.atan2(T,b)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=Hn(g,v)*1.05,h===1&&(v[0]=g[0]+(v[0]-g[0])/2,v[1]=g[1]+(v[1]-g[1])/2)):e.__lastT===1?e.scaleY=2*Hn(o,v):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=v[0],e.y=v[1]},t.prototype.updateLayout=function(e,o){this.childAt(0).updateLayout(e,o);var l=e.getItemModel(o).getModel("effect");this._updateEffectAnimation(e,l,o)},t}(Ut),LM=cYt;var hYt=function(a){at(t,a);function t(e,o,l){var f=a.call(this)||this;return f._createPolyline(e,o,l),f}return t.prototype._createPolyline=function(e,o,l){var f=e.getItemLayout(o),h=new Nr({shape:{points:f}});this.add(h),this._updateCommonStl(e,o,l)},t.prototype.updateData=function(e,o,l){var f=e.hostModel,h=this.childAt(0),v={shape:{points:e.getItemLayout(o)}};we(h,v,f,o),this._updateCommonStl(e,o,l)},t.prototype._updateCommonStl=function(e,o,l){var f=this.childAt(0),h=e.getItemModel(o),v=l&&l.emphasisLineStyle,g=l&&l.focus,y=l&&l.blurScope,x=l&&l.emphasisDisabled;if(!l||e.hasItemOption){var b=h.getModel("emphasis");v=b.getModel("lineStyle").getLineStyle(),x=b.get("disabled"),g=b.get("focus"),y=b.get("blurScope")}f.useStyle(e.getItemVisual(o,"style")),f.style.fill=null,f.style.strokeNoScale=!0;var T=f.ensureState("emphasis");T.style=v,Ke(this,g,y,x)},t.prototype.updateLayout=function(e,o){var l=this.childAt(0);l.setShape("points",e.getItemLayout(o))},t}(Ut),IM=hYt;var pYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,o,l){return new IM(e,o,l)},t.prototype._updateAnimationPoints=function(e,o){this._points=o;for(var l=[0],f=0,h=1;h<o.length;h++){var v=o[h-1],g=o[h];f+=Hn(v,g),l.push(f)}if(f===0){this._length=0;return}for(var h=0;h<l.length;h++)l[h]/=f;this._offsets=l,this._length=f},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var o=e.__t<1?e.__t:2-e.__t,l=this._points,f=this._offsets,h=l.length;if(f){var v=this._lastFrame,g;if(o<this._lastFramePercent){var y=Math.min(v+1,h-1);for(g=y;g>=0&&!(f[g]<=o);g--);g=Math.min(g,h-2)}else{for(g=v;g<h&&!(f[g]>o);g++);g=Math.min(g-1,h-2)}var x=(o-f[g])/(f[g+1]-f[g]),b=l[g],T=l[g+1];e.x=b[0]*(1-x)+x*T[0],e.y=b[1]*(1-x)+x*T[1];var C=e.__t<1?T[0]-b[0]:b[0]-T[0],M=e.__t<1?T[1]-b[1]:b[1]-T[1];e.rotation=-Math.atan2(M,C)-Math.PI/2,this._lastFrame=g,this._lastFramePercent=o,e.ignore=!1}},t}(LM),vft=pYt;var vYt=function(){function a(){this.polyline=!1,this.curveness=0,this.segs=[]}return a}(),dYt=function(a){at(t,a);function t(e){var o=a.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vYt},t.prototype.buildPath=function(e,o){var l=o.segs,f=o.curveness,h;if(o.polyline)for(h=this._off;h<l.length;){var v=l[h++];if(v>0){e.moveTo(l[h++],l[h++]);for(var g=1;g<v;g++)e.lineTo(l[h++],l[h++])}}else for(h=this._off;h<l.length;){var y=l[h++],x=l[h++],b=l[h++],T=l[h++];if(e.moveTo(y,x),f>0){var C=(y+b)/2-(x-T)*f,M=(x+T)/2-(b-y)*f;e.quadraticCurveTo(C,M,b,T)}else e.lineTo(b,T)}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.findDataIndex=function(e,o){var l=this.shape,f=l.segs,h=l.curveness,v=this.style.lineWidth;if(l.polyline)for(var g=0,y=0;y<f.length;){var x=f[y++];if(x>0)for(var b=f[y++],T=f[y++],C=1;C<x;C++){var M=f[y++],I=f[y++];if(Tl(b,T,M,I,v,e,o))return g}g++}else for(var g=0,y=0;y<f.length;){var b=f[y++],T=f[y++],M=f[y++],I=f[y++];if(h>0){var P=(b+M)/2-(T-I)*h,O=(T+I)/2-(M-b)*h;if(zA(b,T,P,O,M,I,v,e,o))return g}else if(Tl(b,T,M,I,v,e,o))return g;g++}return-1},t.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),f=this.getBoundingRect();if(e=l[0],o=l[1],f.contain(e,o)){var h=this.hoverDataIdx=this.findDataIndex(e,o);return h>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,l=o.segs,f=1/0,h=1/0,v=-1/0,g=-1/0,y=0;y<l.length;){var x=l[y++],b=l[y++];f=Math.min(x,f),v=Math.max(x,v),h=Math.min(b,h),g=Math.max(b,g)}e=this._rect=new ie(f,h,v,g)}return e},t}(se),gYt=function(){function a(){this.group=new Ut}return a.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},a.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(t,e){var o=this._newAdded[0],l=e.getLayout("linesPoints"),f=o&&o.shape.segs;if(f&&f.length<2e4){var h=f.length,v=new Float32Array(h+l.length);v.set(f),v.set(l,h),o.setShape({segs:v})}else{this._newAdded=[];var g=this._create();g.incremental=!0,g.setShape({segs:l}),this._setCommon(g,e),g.__startIndex=t.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},a.prototype._create=function(){var t=new dYt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},a.prototype._setCommon=function(t,e,o){var l=e.hostModel;t.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),t.useStyle(l.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var f=e.getVisual("style");f&&f.stroke&&t.setStyle("stroke",f.stroke),t.setStyle("fill",null);var h=Kt(t);h.seriesIndex=l.seriesIndex,t.on("mousemove",function(v){h.dataIndex=null;var g=t.hoverDataIdx;g>0&&(h.dataIndex=g+t.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),dft=gYt;var mYt={seriesType:"lines",plan:Qn(),reset:function(a){var t=a.coordinateSystem;if(t){var e=a.get("polyline"),o=a.pipelineContext.large;return{progress:function(l,f){var h=[];if(o){var v=void 0,g=l.end-l.start;if(e){for(var y=0,x=l.start;x<l.end;x++)y+=a.getLineCoordsCount(x);v=new Float32Array(g+y*2)}else v=new Float32Array(g*4);for(var b=0,T=[],x=l.start;x<l.end;x++){var C=a.getLineCoords(x,h);e&&(v[b++]=C);for(var M=0;M<C;M++)T=t.dataToPoint(h[M],!1,T),v[b++]=T[0],v[b++]=T[1]}f.setLayout("linesPoints",v)}else for(var x=l.start;x<l.end;x++){var I=f.getItemModel(x),C=a.getLineCoords(x,h),P=[];if(e)for(var O=0;O<C;O++)P.push(t.dataToPoint(h[O]));else{P[0]=t.dataToPoint(h[0]),P[1]=t.dataToPoint(h[1]);var N=I.get(["lineStyle","curveness"]);+N&&(P[2]=[(P[0][0]+P[1][0])/2-(P[0][1]-P[1][1])*N,(P[0][1]+P[1][1])/2-(P[1][0]-P[0][0])*N])}f.setItemLayout(x,P)}}}}}},EM=mYt;var yYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=e.getData(),h=this._updateLineDraw(f,e),v=e.get("zlevel"),g=e.get(["effect","trailLength"]),y=l.getZr(),x=y.painter.getType()==="svg";x||y.painter.getLayer(v).clear(!0),this._lastZlevel!=null&&!x&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&g>0&&(x||y.configLayer(v,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),h.updateData(f);var b=e.get("clip",!0)&&Ol(e.coordinateSystem,!1,e);b?this.group.setClipPath(b):this.group.removeClipPath(),this._lastZlevel=v,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,l){var f=e.getData(),h=this._updateLineDraw(f,e);h.incrementalPrepareUpdate(f),this._clearLayer(l),this._finished=!1},t.prototype.incrementalRender=function(e,o,l){this._lineDraw.incrementalUpdate(e,o.getData()),this._finished=e.end===o.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,o,l){var f=e.getData(),h=e.pipelineContext;if(!this._finished||h.large||h.progressiveRender)return{update:!0};var v=EM.reset(e,o,l);v.progress&&v.progress({start:0,end:f.count(),count:f.count()},f),this._lineDraw.updateLayout(),this._clearLayer(l)},t.prototype._updateLineDraw=function(e,o){var l=this._lineDraw,f=this._showEffect(o),h=!!o.get("polyline"),v=o.pipelineContext,g=v.large;return(!l||f!==this._hasEffet||h!==this._isPolyline||g!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=g?new dft:new Am(h?f?vft:IM:f?LM:Tm),this._hasEffet=f,this._isPolyline=h,this._isLargeDraw=g),this.group.add(l.group),l},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var o=e.getZr(),l=o.painter.getType()==="svg";!l&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.type="lines",t}(ke),gft=yYt;var _Yt=typeof Uint32Array>"u"?Array:Uint32Array,xYt=typeof Float64Array>"u"?Array:Float64Array;function mft(a){var t=a.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(a.data=_t(t,function(e){var o=[e[0].coord,e[1].coord],l={coords:o};return e[0].name&&(l.fromName=e[0].name),e[1].name&&(l.toName=e[1].name),up([l,e[0],e[1]])}))}var SYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],mft(e);var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count)),a.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(mft(e),e.data){var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count))}a.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var o=this._processFlatCoordsArray(e.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=dl(this._flatCoords,o.flatCoords),this._flatCoordsOffset=dl(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),e.data=new Float32Array(o.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var o=this.getData().getItemModel(e),l=o.option instanceof Array?o.option:o.getShallow("coords");return l},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,o){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[e*2],f=this._flatCoordsOffset[e*2+1],h=0;h<f;h++)o[h]=o[h]||[],o[h][0]=this._flatCoords[l+h*2],o[h][1]=this._flatCoords[l+h*2+1];return f}else{for(var v=this._getCoordsFromItemModel(e),h=0;h<v.length;h++)o[h]=o[h]||[],o[h][0]=v[h][0],o[h][1]=v[h][1];return v.length}},t.prototype._processFlatCoordsArray=function(e){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),ye(e[0])){for(var l=e.length,f=new _Yt(l),h=new xYt(l),v=0,g=0,y=0,x=0;x<l;){y++;var b=e[x++];f[g++]=v+o,f[g++]=b;for(var T=0;T<b;T++){var C=e[x++],M=e[x++];h[v++]=C,h[v++]=M,x>l}}return{flatCoordsOffset:new Uint32Array(f.buffer,0,g),flatCoords:h,count:y}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,o){if(0)var l;var f=new Fr(["value"],this);return f.hasItemOption=!1,f.initData(e.data,[],function(h,v,g,y){if(h instanceof Array)return NaN;f.hasItemOption=!0;var x=h.value;if(x!=null)return x instanceof Array?x[y]:x}),f},t.prototype.formatTooltip=function(e,o,l){var f=this.getData(),h=f.getItemModel(e),v=h.get("name");if(v)return v;var g=h.get("fromName"),y=h.get("toName"),x=[];return g!=null&&x.push(g),y!=null&&x.push(y),Ar("nameValue",{name:x.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),o=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&o>0?o+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Ue),yft=SYt;function PM(a){return a instanceof Array||(a=[a,a]),a}var bYt={seriesType:"lines",reset:function(a){var t=PM(a.get("symbol")),e=PM(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",t&&t[0]),o.setVisual("toSymbol",t&&t[1]),o.setVisual("fromSymbolSize",e&&e[0]),o.setVisual("toSymbolSize",e&&e[1]);function l(f,h){var v=f.getItemModel(h),g=PM(v.getShallow("symbol",!0)),y=PM(v.getShallow("symbolSize",!0));g[0]&&f.setItemVisual(h,"fromSymbol",g[0]),g[1]&&f.setItemVisual(h,"toSymbol",g[1]),y[0]&&f.setItemVisual(h,"fromSymbolSize",y[0]),y[1]&&f.setItemVisual(h,"toSymbolSize",y[1])}return{dataEach:o.hasItemOption?l:null}}},_ft=bYt;function PG(a){a.registerChartView(gft),a.registerSeriesModel(yft),a.registerLayout(EM),a.registerVisual(_ft)}var wYt=256,TYt=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=$i.createCanvas();this.canvas=t}return a.prototype.update=function(t,e,o,l,f,h){var v=this._getBrush(),g=this._getGradient(f,"inRange"),y=this._getGradient(f,"outOfRange"),x=this.pointSize+this.blurSize,b=this.canvas,T=b.getContext("2d"),C=t.length;b.width=e,b.height=o;for(var M=0;M<C;++M){var I=t[M],P=I[0],O=I[1],N=I[2],V=l(N);T.globalAlpha=V,T.drawImage(v,P-x,O-x)}if(!b.width||!b.height)return b;for(var F=T.getImageData(0,0,b.width,b.height),U=F.data,H=0,Z=U.length,$=this.minOpacity,K=this.maxOpacity,Q=K-$;H<Z;){var V=U[H+3]/256,rt=Math.floor(V*(wYt-1))*4;if(V>0){var nt=h(V)?g:y;V>0&&(V=V*Q+$),U[H++]=nt[rt],U[H++]=nt[rt+1],U[H++]=nt[rt+2],U[H++]=nt[rt+3]*V*256}else H+=4}return T.putImageData(F,0,0),b},a.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=$i.createCanvas()),e=this.pointSize+this.blurSize,o=e*2;t.width=o,t.height=o;var l=t.getContext("2d");return l.clearRect(0,0,o,o),l.shadowOffsetX=o,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-e,e,this.pointSize,0,Math.PI*2,!0),l.closePath(),l.fill(),t},a.prototype._getGradient=function(t,e){for(var o=this._gradientPixels,l=o[e]||(o[e]=new Uint8ClampedArray(256*4)),f=[0,0,0,0],h=0,v=0;v<256;v++)t[e](v/255,!0,f),l[h++]=f[0],l[h++]=f[1],l[h++]=f[2],l[h++]=f[3];return l},a}(),xft=TYt;function AYt(a,t,e){var o=a[1]-a[0];t=_t(t,function(h){return{interval:[(h.interval[0]-a[0])/o,(h.interval[1]-a[0])/o]}});var l=t.length,f=0;return function(h){var v;for(v=f;v<l;v++){var g=t[v].interval;if(g[0]<=h&&h<=g[1]){f=v;break}}if(v===l)for(v=f-1;v>=0;v--){var g=t[v].interval;if(g[0]<=h&&h<=g[1]){f=v;break}}return v>=0&&v<l&&e[v]}}function CYt(a,t){var e=a[1]-a[0];return t=[(t[0]-a[0])/e,(t[1]-a[0])/e],function(o){return o>=t[0]&&o<=t[1]}}function Sft(a){var t=a.dimensions;return t[0]==="lng"&&t[1]==="lat"}var DYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f;o.eachComponent("visualMap",function(v){v.eachTargetSeries(function(g){g===e&&(f=v)})}),this._progressiveEls=null,this.group.removeAll();var h=e.coordinateSystem;h.type==="cartesian2d"||h.type==="calendar"?this._renderOnCartesianAndCalendar(e,l,0,e.getData().count()):Sft(h)&&this._renderOnGeo(h,e,f,l)},t.prototype.incrementalPrepareRender=function(e,o,l){this.group.removeAll()},t.prototype.incrementalRender=function(e,o,l,f){var h=o.coordinateSystem;h&&(Sft(h)?this.render(o,l,f):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,f,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Za(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,o,l,f,h){var v=e.coordinateSystem,g=$o(v,"cartesian2d"),y,x,b,T;if(g){var C=v.getAxis("x"),M=v.getAxis("y");y=C.getBandWidth()+.5,x=M.getBandWidth()+.5,b=C.scale.getExtent(),T=M.scale.getExtent()}for(var I=this.group,P=e.getData(),O=e.getModel(["emphasis","itemStyle"]).getItemStyle(),N=e.getModel(["blur","itemStyle"]).getItemStyle(),V=e.getModel(["select","itemStyle"]).getItemStyle(),F=e.get(["itemStyle","borderRadius"]),U=cr(e),H=e.getModel("emphasis"),Z=H.get("focus"),$=H.get("blurScope"),K=H.get("disabled"),Q=g?[P.mapDimension("x"),P.mapDimension("y"),P.mapDimension("value")]:[P.mapDimension("time"),P.mapDimension("value")],rt=l;rt<f;rt++){var nt=void 0,ot=P.getItemVisual(rt,"style");if(g){var ft=P.get(Q[0],rt),lt=P.get(Q[1],rt);if(isNaN(P.get(Q[2],rt))||isNaN(ft)||isNaN(lt)||ft<b[0]||ft>b[1]||lt<T[0]||lt>T[1])continue;var pt=v.dataToPoint([ft,lt]);nt=new ge({shape:{x:pt[0]-y/2,y:pt[1]-x/2,width:y,height:x},style:ot})}else{if(isNaN(P.get(Q[1],rt)))continue;nt=new ge({z2:1,shape:v.dataToRect([P.get(Q[0],rt)]).contentShape,style:ot})}if(P.hasItemOption){var xt=P.getItemModel(rt),st=xt.getModel("emphasis");O=st.getModel("itemStyle").getItemStyle(),N=xt.getModel(["blur","itemStyle"]).getItemStyle(),V=xt.getModel(["select","itemStyle"]).getItemStyle(),F=xt.get(["itemStyle","borderRadius"]),Z=st.get("focus"),$=st.get("blurScope"),K=st.get("disabled"),U=cr(xt)}nt.shape.r=F;var dt=e.getRawValue(rt),Et="-";dt&&dt[2]!=null&&(Et=dt[2]+""),_r(nt,U,{labelFetcher:e,labelDataIndex:rt,defaultOpacity:ot.opacity,defaultText:Et}),nt.ensureState("emphasis").style=O,nt.ensureState("blur").style=N,nt.ensureState("select").style=V,Ke(nt,Z,$,K),nt.incremental=h,h&&(nt.states.emphasis.hoverLayer=!0),I.add(nt),P.setItemGraphicEl(rt,nt),this._progressiveEls&&this._progressiveEls.push(nt)}},t.prototype._renderOnGeo=function(e,o,l,f){var h=l.targetVisuals.inRange,v=l.targetVisuals.outOfRange,g=o.getData(),y=this._hmLayer||this._hmLayer||new xft;y.blurSize=o.get("blurSize"),y.pointSize=o.get("pointSize"),y.minOpacity=o.get("minOpacity"),y.maxOpacity=o.get("maxOpacity");var x=e.getViewRect().clone(),b=e.getRoamTransform();x.applyTransform(b);var T=Math.max(x.x,0),C=Math.max(x.y,0),M=Math.min(x.width+x.x,f.getWidth()),I=Math.min(x.height+x.y,f.getHeight()),P=M-T,O=I-C,N=[g.mapDimension("lng"),g.mapDimension("lat"),g.mapDimension("value")],V=g.mapArray(N,function(Z,$,K){var Q=e.dataToPoint([Z,$]);return Q[0]-=T,Q[1]-=C,Q.push(K),Q}),F=l.getExtent(),U=l.type==="visualMap.continuous"?CYt(F,l.option.range):AYt(F,l.getPieceList(),l.option.selected);y.update(V,P,O,h.color.getNormalizer(),{inRange:h.color.getColorMapper(),outOfRange:v.color.getColorMapper()},U);var H=new yr({style:{width:P,height:O,x:T,y:C,image:y.canvas},silent:!0});this.group.add(H)},t.type="heatmap",t}(ke),bft=DYt;var MYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,o){return Ri(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Dl.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Ue),wft=MYt;function RG(a){a.registerChartView(bft),a.registerSeriesModel(wft)}var LYt=["itemStyle","borderWidth"],Tft=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],OG=new la,IYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=this.group,h=e.getData(),v=this._data,g=e.coordinateSystem,y=g.getBaseAxis(),x=y.isHorizontal(),b=g.master.getRect(),T={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:e,coordSys:g,coordSysExtent:[[b.x,b.x+b.width],[b.y,b.y+b.height]],isHorizontal:x,valueDim:Tft[+x],categoryDim:Tft[1-+x]};h.diff(v).add(function(M){if(h.hasValue(M)){var I=Cft(h,M),P=Aft(h,M,I,T),O=Dft(h,T,P);h.setItemGraphicEl(M,O),f.add(O),Lft(O,T,P)}}).update(function(M,I){var P=v.getItemGraphicEl(I);if(!h.hasValue(M)){f.remove(P);return}var O=Cft(h,M),N=Aft(h,M,O,T),V=Nft(h,N);P&&V!==P.__pictorialShapeStr&&(f.remove(P),h.setItemGraphicEl(M,null),P=null),P?zYt(P,T,N):P=Dft(h,T,N,!0),h.setItemGraphicEl(M,P),P.__pictorialSymbolMeta=N,f.add(P),Lft(P,T,N)}).remove(function(M){var I=v.getItemGraphicEl(M);I&&Mft(v,M,I.__pictorialSymbolMeta.animationModel,I)}).execute();var C=e.get("clip",!0)?Ol(e.coordinateSystem,!1,e):null;return C?f.setClipPath(C):f.removeClipPath(),this._data=h,this.group},t.prototype.remove=function(e,o){var l=this.group,f=this._data;e.get("animation")?f&&f.eachItemGraphicEl(function(h){Mft(f,Kt(h).dataIndex,e,h)}):l.removeAll()},t.type="pictorialBar",t}(ke);function Aft(a,t,e,o){var l=a.getItemLayout(t),f=e.get("symbolRepeat"),h=e.get("symbolClip"),v=e.get("symbolPosition")||"start",g=e.get("symbolRotate"),y=(g||0)*Math.PI/180||0,x=e.get("symbolPatternSize")||2,b=e.isAnimationEnabled(),T={dataIndex:t,layout:l,itemModel:e,symbolType:a.getItemVisual(t,"symbol")||"circle",style:a.getItemVisual(t,"style"),symbolClip:h,symbolRepeat:f,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:x,rotation:y,animationModel:b?e:null,hoverScale:b&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};EYt(e,f,l,o,T),PYt(a,t,l,f,h,T.boundingLength,T.pxSign,x,o,T),RYt(e,T.symbolScale,y,o,T);var C=T.symbolSize,M=to(e.get("symbolOffset"),C);return OYt(e,C,l,f,h,M,v,T.valueLineWidth,T.boundingLength,T.repeatCutLength,o,T),T}function EYt(a,t,e,o,l){var f=o.valueDim,h=a.get("symbolBoundingData"),v=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),g=v.toGlobalCoord(v.dataToCoord(0)),y=1-+(e[f.wh]<=0),x;if(yt(h)){var b=[kG(v,h[0])-g,kG(v,h[1])-g];b[1]<b[0]&&b.reverse(),x=b[y]}else h!=null?x=kG(v,h)-g:t?x=o.coordSysExtent[f.index][y]-g:x=e[f.wh];l.boundingLength=x,t&&(l.repeatCutLength=e[f.wh]);var T=f.xy==="x",C=v.inverse;l.pxSign=T&&!C||!T&&C?x>=0?1:-1:x>0?1:-1}function kG(a,t){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(t)))}function PYt(a,t,e,o,l,f,h,v,g,y){var x=g.valueDim,b=g.categoryDim,T=Math.abs(e[b.wh]),C=a.getItemVisual(t,"symbolSize"),M;yt(C)?M=C.slice():C==null?M=["100%","100%"]:M=[C,C],M[b.index]=Pt(M[b.index],T),M[x.index]=Pt(M[x.index],o?T:Math.abs(f)),y.symbolSize=M;var I=y.symbolScale=[M[0]/v,M[1]/v];I[x.index]*=(g.isHorizontal?-1:1)*h}function RYt(a,t,e,o,l){var f=a.get(LYt)||0;f&&(OG.attr({scaleX:t[0],scaleY:t[1],rotation:e}),OG.updateTransform(),f/=OG.getLineScale(),f*=t[o.valueDim.index]),l.valueLineWidth=f||0}function OYt(a,t,e,o,l,f,h,v,g,y,x,b){var T=x.categoryDim,C=x.valueDim,M=b.pxSign,I=Math.max(t[C.index]+v,0),P=I;if(o){var O=Math.abs(g),N=wr(a.get("symbolMargin"),"15%")+"",V=!1;N.lastIndexOf("!")===N.length-1&&(V=!0,N=N.slice(0,N.length-1));var F=Pt(N,t[C.index]),U=Math.max(I+F*2,0),H=V?0:F*2,Z=Pp(o),$=Z?o:Ift((O+H)/U),K=O-$*I;F=K/2/(V?$:Math.max($-1,1)),U=I+F*2,H=V?0:F*2,!Z&&o!=="fixed"&&($=y?Ift((Math.abs(y)+H)/U):0),P=$*U-H,b.repeatTimes=$,b.symbolMargin=F}var Q=M*(P/2),rt=b.pathPosition=[];rt[T.index]=e[T.wh]/2,rt[C.index]=h==="start"?Q:h==="end"?g-Q:g/2,f&&(rt[0]+=f[0],rt[1]+=f[1]);var nt=b.bundlePosition=[];nt[T.index]=e[T.xy],nt[C.index]=e[C.xy];var ot=b.barRectShape=mt({},e);ot[C.wh]=M*Math.max(Math.abs(e[C.wh]),Math.abs(rt[C.index]+Q)),ot[T.wh]=e[T.wh];var ft=b.clipShape={};ft[T.xy]=-e[T.xy],ft[T.wh]=x.ecSize[T.wh],ft[C.xy]=0,ft[C.wh]=e[C.wh]}function Eft(a){var t=a.symbolPatternSize,e=nr(a.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Pft(a,t,e,o){var l=a.__pictorialBundle,f=e.symbolSize,h=e.valueLineWidth,v=e.pathPosition,g=t.valueDim,y=e.repeatTimes||0,x=0,b=f[t.valueDim.index]+h+e.symbolMargin*2;for(NG(a,function(I){I.__pictorialAnimationIndex=x,I.__pictorialRepeatTimes=y,x<y?Em(I,null,M(x),e,o):Em(I,null,{scaleX:0,scaleY:0},e,o,function(){l.remove(I)}),x++});x<y;x++){var T=Eft(e);T.__pictorialAnimationIndex=x,T.__pictorialRepeatTimes=y,l.add(T);var C=M(x);Em(T,{x:C.x,y:C.y,scaleX:0,scaleY:0},{scaleX:C.scaleX,scaleY:C.scaleY,rotation:C.rotation},e,o)}function M(I){var P=v.slice(),O=e.pxSign,N=I;return(e.symbolRepeatDirection==="start"?O>0:O<0)&&(N=y-1-I),P[g.index]=b*(N-y/2+.5)+v[g.index],{x:P[0],y:P[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function Rft(a,t,e,o){var l=a.__pictorialBundle,f=a.__pictorialMainPath;f?Em(f,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,o):(f=a.__pictorialMainPath=Eft(e),l.add(f),Em(f,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,o))}function Oft(a,t,e){var o=mt({},t.barRectShape),l=a.__pictorialBarRect;l?Em(l,null,{shape:o},t,e):(l=a.__pictorialBarRect=new ge({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),l.disableMorphing=!0,a.add(l))}function kft(a,t,e,o){if(e.symbolClip){var l=a.__pictorialClipPath,f=mt({},e.clipShape),h=t.valueDim,v=e.animationModel,g=e.dataIndex;if(l)we(l,{shape:f},v,g);else{f[h.wh]=0,l=new ge({shape:f}),a.__pictorialBundle.setClipPath(l),a.__pictorialClipPath=l;var y={};y[h.wh]=e.clipShape[h.wh],be[o?"updateProps":"initProps"](l,{shape:y},v,g)}}}function Cft(a,t){var e=a.getItemModel(t);return e.getAnimationDelayParams=kYt,e.isAnimationEnabled=NYt,e}function kYt(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function NYt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Dft(a,t,e,o){var l=new Ut,f=new Ut;return l.add(f),l.__pictorialBundle=f,f.x=e.bundlePosition[0],f.y=e.bundlePosition[1],e.symbolRepeat?Pft(l,t,e):Rft(l,t,e),Oft(l,e,o),kft(l,t,e,o),l.__pictorialShapeStr=Nft(a,e),l.__pictorialSymbolMeta=e,l}function zYt(a,t,e){var o=e.animationModel,l=e.dataIndex,f=a.__pictorialBundle;we(f,{x:e.bundlePosition[0],y:e.bundlePosition[1]},o,l),e.symbolRepeat?Pft(a,t,e,!0):Rft(a,t,e,!0),Oft(a,e,!0),kft(a,t,e,!0)}function Mft(a,t,e,o){var l=o.__pictorialBarRect;l&&l.removeTextContent();var f=[];NG(o,function(h){f.push(h)}),o.__pictorialMainPath&&f.push(o.__pictorialMainPath),o.__pictorialClipPath&&(e=null),X(f,function(h){zo(h,{scaleX:0,scaleY:0},e,t,function(){o.parent&&o.parent.remove(o)})}),a.setItemGraphicEl(t,null)}function Nft(a,t){return[a.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function NG(a,t,e){X(a.__pictorialBundle.children(),function(o){o!==a.__pictorialBarRect&&t.call(e,o)})}function Em(a,t,e,o,l,f){t&&a.attr(t),o.symbolClip&&!l?e&&a.attr(e):e&&be[l?"updateProps":"initProps"](a,e,o.animationModel,o.dataIndex,f)}function Lft(a,t,e){var o=e.dataIndex,l=e.itemModel,f=l.getModel("emphasis"),h=f.getModel("itemStyle").getItemStyle(),v=l.getModel(["blur","itemStyle"]).getItemStyle(),g=l.getModel(["select","itemStyle"]).getItemStyle(),y=l.getShallow("cursor"),x=f.get("focus"),b=f.get("blurScope"),T=f.get("scale");NG(a,function(I){if(I instanceof yr){var P=I.style;I.useStyle(mt({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},e.style))}else I.useStyle(e.style);var O=I.ensureState("emphasis");O.style=h,T&&(O.scaleX=I.scaleX*1.1,O.scaleY=I.scaleY*1.1),I.ensureState("blur").style=v,I.ensureState("select").style=g,y&&(I.cursor=y),I.z2=e.z2});var C=t.valueDim.posDesc[+(e.boundingLength>0)],M=a.__pictorialBarRect;M.ignoreClip=!0,_r(M,cr(l),{labelFetcher:t.seriesModel,labelDataIndex:o,defaultText:Vs(t.seriesModel.getData(),o),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:C}),Ke(a,x,b,f.get("disabled"))}function Ift(a){var t=Math.round(a);return Math.abs(a-t)<1e-4?t:Math.ceil(a)}var zft=IYt;var VYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,a.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Ma(hm.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(hm),Vft=VYt;function zG(a){a.registerChartView(zft),a.registerSeriesModel(Vft),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Qt(pD,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,vD("pictorialBar"))}var BYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,o,l){var f=e.getData(),h=this,v=this.group,g=e.getLayerSeries(),y=f.getLayout("layoutInfo"),x=y.rect,b=y.boundaryGap;v.x=0,v.y=x.y+b[0];function T(P){return P.name}var C=new ha(this._layersSeries||[],g,T,T),M=[];C.add(It(I,this,"add")).update(It(I,this,"update")).remove(It(I,this,"remove")).execute();function I(P,O,N){var V=h._layers;if(P==="remove"){v.remove(V[O]);return}for(var F=[],U=[],H,Z=g[O].indices,$=0;$<Z.length;$++){var K=f.getItemLayout(Z[$]),Q=K.x,rt=K.y0,nt=K.y;F.push(Q,rt),U.push(Q,rt+nt),H=f.getItemVisual(Z[$],"style")}var ot,ft=f.getItemLayout(Z[0]),lt=e.getModel("label"),pt=lt.get("margin"),xt=e.getModel("emphasis");if(P==="add"){var st=M[O]=new Ut;ot=new GD({shape:{points:F,stackedOnPoints:U,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),st.add(ot),v.add(st),e.isAnimationEnabled()&&ot.setClipPath(FYt(ot.getBoundingRect(),e,function(){ot.removeClipPath()}))}else{var st=V[N];ot=st.childAt(0),v.add(st),M[O]=st,we(ot,{shape:{points:F,stackedOnPoints:U}},e),Si(ot)}_r(ot,cr(e),{labelDataIndex:Z[$-1],defaultText:f.getName(Z[$-1]),inheritColor:H.fill},{normal:{verticalAlign:"middle"}}),ot.setTextConfig({position:null,local:!0});var dt=ot.getTextContent();dt&&(dt.x=ft.x-pt,dt.y=ft.y0+ft.y/2),ot.useStyle(H),f.setItemGraphicEl(O,ot),Ir(ot,e),Ke(ot,xt.get("focus"),xt.get("blurScope"),xt.get("disabled"))}this._layersSeries=g,this._layers=M},t.type="themeRiver",t}(ke);function FYt(a,t,e){var o=new ge({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return je(o,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},t,e),o}var Bft=BYt;var VG=2,UYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Nl(It(this.getData,this),It(this.getRawData,this))},t.prototype.fixData=function(e){var o=e.length,l={},f=rx(e,function(T){return l.hasOwnProperty(T[0]+"")||(l[T[0]+""]=-1),T[2]}),h=[];f.buckets.each(function(T,C){h.push({name:C,dataList:T})});for(var v=h.length,g=0;g<v;++g){for(var y=h[g].name,x=0;x<h[g].dataList.length;++x){var b=h[g].dataList[x][0]+"";l[b]=g}for(var b in l)l.hasOwnProperty(b)&&l[b]!==g&&(l[b]=g,e[o]=[b,0,y],o++)}return e},t.prototype.getInitialData=function(e,o){for(var l=this.getReferringComponents("singleAxis",pr).models[0],f=l.get("type"),h=Ee(e.data,function(M){return M[2]!==void 0}),v=this.fixData(h||[]),g=[],y=this.nameMap=Rt(),x=0,b=0;b<v.length;++b)g.push(v[b][VG]),y.get(v[b][VG])||(y.set(v[b][VG],x),x++);var T=Zo(v,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:uv(f)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,C=new Fr(T,this);return C.initData(v),C},t.prototype.getLayerSeries=function(){for(var e=this.getData(),o=e.count(),l=[],f=0;f<o;++f)l[f]=f;var h=e.mapDimension("single"),v=rx(l,function(y){return e.get("name",y)}),g=[];return v.buckets.each(function(y,x){y.sort(function(b,T){return e.get(h,b)-e.get(h,T)}),g.push({name:x,indices:y})}),g},t.prototype.getAxisTooltipData=function(e,o,l){yt(e)||(e=e?[e]:[]);for(var f=this.getData(),h=this.getLayerSeries(),v=[],g=h.length,y,x=0;x<g;++x){for(var b=Number.MAX_VALUE,T=-1,C=h[x].indices.length,M=0;M<C;++M){var I=f.get(e[0],h[x].indices[M]),P=Math.abs(I-o);P<=b&&(y=I,b=P,T=h[x].indices[M])}v.push(T)}return{dataIndices:v,nestestValue:y}},t.prototype.formatTooltip=function(e,o,l){var f=this.getData(),h=f.getName(e),v=f.get(f.mapDimension("value"),e);return Ar("nameValue",{name:h,value:v})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Ue),Fft=UYt;function BG(a,t){a.eachSeriesByType("themeRiver",function(e){var o=e.getData(),l=e.coordinateSystem,f={},h=l.getRect();f.rect=h;var v=e.get("boundaryGap"),g=l.getAxis();if(f.boundaryGap=v,g.orient==="horizontal"){v[0]=Pt(v[0],h.height),v[1]=Pt(v[1],h.height);var y=h.height-v[0]-v[1];Uft(o,e,y)}else{v[0]=Pt(v[0],h.width),v[1]=Pt(v[1],h.width);var x=h.width-v[0]-v[1];Uft(o,e,x)}o.setLayout("layoutInfo",f)})}function Uft(a,t,e){if(a.count())for(var o=t.coordinateSystem,l=t.getLayerSeries(),f=a.mapDimension("single"),h=a.mapDimension("value"),v=_t(l,function(P){return _t(P.indices,function(O){var N=o.dataToPoint(a.get(f,O));return N[1]=a.get(h,O),N})}),g=GYt(v),y=g.y0,x=e/g.max,b=l.length,T=l[0].indices.length,C,M=0;M<T;++M){C=y[M]*x,a.setItemLayout(l[0].indices[M],{layerIndex:0,x:v[0][M][0],y0:C,y:v[0][M][1]*x});for(var I=1;I<b;++I)C+=v[I-1][M][1]*x,a.setItemLayout(l[I].indices[M],{layerIndex:I,x:v[I][M][0],y0:C,y:v[I][M][1]*x})}}function GYt(a){for(var t=a.length,e=a[0].length,o=[],l=[],f=0,h=0;h<e;++h){for(var v=0,g=0;g<t;++g)v+=a[g][h][1];v>f&&(f=v),o.push(v)}for(var y=0;y<e;++y)l[y]=(f-o[y])/2;f=0;for(var x=0;x<e;++x){var b=o[x]+l[x];b>f&&(f=b)}return{y0:l,max:f}}function FG(a){a.registerChartView(Bft),a.registerSeriesModel(Fft),a.registerLayout(BG),a.registerProcessor(Fs("themeRiver"))}var HYt=2,WYt=4,YYt=function(a){at(t,a);function t(e,o,l,f){var h=a.call(this)||this;h.z2=HYt,h.textConfig={inside:!0},Kt(h).seriesIndex=o.seriesIndex;var v=new _e({z2:WYt,silent:e.getModel().get(["label","silent"])});return h.setTextContent(v),h.updateData(!0,e,o,l,f),h}return t.prototype.updateData=function(e,o,l,f,h){this.node=o,o.piece=this,l=l||this._seriesModel,f=f||this._ecModel;var v=this;Kt(v).dataIndex=o.dataIndex;var g=o.getModel(),y=g.getModel("emphasis"),x=o.getLayout(),b=mt({},x);b.label=null;var T=o.getVisual("style");T.lineJoin="bevel";var C=o.getVisual("decal");C&&(T.decal=Os(C,h));var M=kl(g.getModel("itemStyle"),b,!0);mt(b,M),X(Pi,function(N){var V=v.ensureState(N),F=g.getModel([N,"itemStyle"]);V.style=F.getItemStyle();var U=kl(F,b);U&&(V.shape=U)}),e?(v.setShape(b),v.shape.r=x.r0,je(v,{shape:{r:x.r}},l,o.dataIndex)):(we(v,{shape:b},l),Si(v)),v.useStyle(T),this._updateLabel(l);var I=g.getShallow("cursor");I&&v.attr("cursor",I),this._seriesModel=l||this._seriesModel,this._ecModel=f||this._ecModel;var P=y.get("focus"),O=P==="relative"?dl(o.getAncestorsIndices(),o.getDescendantIndices()):P==="ancestor"?o.getAncestorsIndices():P==="descendant"?o.getDescendantIndices():P;Ke(this,O,y.get("blurScope"),y.get("disabled"))},t.prototype._updateLabel=function(e){var o=this,l=this.node.getModel(),f=l.getModel("label"),h=this.node.getLayout(),v=h.endAngle-h.startAngle,g=(h.startAngle+h.endAngle)/2,y=Math.cos(g),x=Math.sin(g),b=this,T=b.getTextContent(),C=this.node.dataIndex,M=f.get("minAngle")/180*Math.PI,I=f.get("show")&&!(M!=null&&Math.abs(v)<M);T.ignore=!I,X(ic,function(O){var N=O==="normal"?l.getModel("label"):l.getModel([O,"label"]),V=O==="normal",F=V?T:T.ensureState(O),U=e.getFormattedLabel(C,O);V&&(U=U||o.node.name),F.style=Je(N,{},null,O!=="normal",!0),U&&(F.style.text=U);var H=N.get("show");H!=null&&!V&&(F.ignore=!H);var Z=P(N,"position"),$=V?b:b.states[O],K=$.style.fill;$.textConfig={outsideFill:N.get("color")==="inherit"?K:null,inside:Z!=="outside"};var Q,rt=P(N,"distance")||0,nt=P(N,"align"),ot=P(N,"rotate"),ft=Math.PI*.5,lt=Math.PI*1.5,pt=sa(ot==="tangential"?Math.PI/2-g:g),xt=pt>ft&&!_u(pt-ft)&&pt<lt;Z==="outside"?(Q=h.r+rt,nt=xt?"right":"left"):!nt||nt==="center"?(v===2*Math.PI&&h.r0===0?Q=0:Q=(h.r+h.r0)/2,nt="center"):nt==="left"?(Q=h.r0+rt,nt=xt?"right":"left"):nt==="right"&&(Q=h.r-rt,nt=xt?"left":"right"),F.style.align=nt,F.style.verticalAlign=P(N,"verticalAlign")||"middle",F.x=Q*y+h.cx,F.y=Q*x+h.cy;var st=0;ot==="radial"?st=sa(-g)+(xt?Math.PI:0):ot==="tangential"?st=sa(Math.PI/2-g)+(xt?Math.PI:0):ye(ot)&&(st=ot*Math.PI/180),F.rotation=sa(st)});function P(O,N){var V=O.get(N);return V??f.get(N)}T.dirtyStyle()},t}($r),UG=YYt;var RM="sunburstRootToNode",Gft="sunburstHighlight",ZYt="sunburstUnhighlight";function Hft(a){a.registerAction({type:RM,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},o);function o(l,f){var h=Uu(t,[RM],l);if(h){var v=l.getViewRoot();v&&(t.direction=_m(v,h.node)?"rollUp":"drillDown"),l.resetViewRoot(h.node)}}}),a.registerAction({type:Gft,update:"none"},function(t,e,o){t=mt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},l);function l(f){var h=Uu(t,[Gft],f);h&&(t.dataIndex=h.node.dataIndex)}o.dispatchAction(mt(t,{type:"highlight"}))}),a.registerAction({type:ZYt,update:"updateView"},function(t,e,o){t=mt({},t),o.dispatchAction(mt(t,{type:"downplay"}))})}var XYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l,f){var h=this;this.seriesModel=e,this.api=l,this.ecModel=o;var v=e.getData(),g=v.tree.root,y=e.getViewRoot(),x=this.group,b=e.get("renderLabelForZeroData"),T=[];y.eachNode(function(N){T.push(N)});var C=this._oldChildren||[];M(T,C),O(g,y),this._initEvents(),this._oldChildren=T;function M(N,V){if(N.length===0&&V.length===0)return;new ha(V,N,F,F).add(U).update(U).remove(Qt(U,null)).execute();function F(H){return H.getId()}function U(H,Z){var $=H==null?null:N[H],K=Z==null?null:V[Z];I($,K)}}function I(N,V){if(!b&&N&&!N.getValue()&&(N=null),N!==g&&V!==g){if(V&&V.piece)N?(V.piece.updateData(!1,N,e,o,l),v.setItemGraphicEl(N.dataIndex,V.piece)):P(V);else if(N){var F=new UG(N,e,o,l);x.add(F),v.setItemGraphicEl(N.dataIndex,F)}}}function P(N){N&&N.piece&&(x.remove(N.piece),N.piece=null)}function O(N,V){V.depth>0?(h.virtualPiece?h.virtualPiece.updateData(!1,N,e,o,l):(h.virtualPiece=new UG(N,e,o,l),x.add(h.virtualPiece)),V.piece.off("click"),h.virtualPiece.on("click",function(F){h._rootToNode(V.parentNode)})):h.virtualPiece&&(x.remove(h.virtualPiece),h.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(o){var l=!1,f=e.seriesModel.getViewRoot();f.eachNode(function(h){if(!l&&h.piece&&h.piece===o.target){var v=h.getModel().get("nodeClick");if(v==="rootToNode")e._rootToNode(h);else if(v==="link"){var g=h.getModel(),y=g.get("link");if(y){var x=g.get("target",!0)||"_blank";tv(y,x)}}l=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:RM,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,o){var l=o.getData(),f=l.getItemLayout(0);if(f){var h=e[0]-f.cx,v=e[1]-f.cy,g=Math.sqrt(h*h+v*v);return g<=f.r&&g>=f.r0}},t.type="sunburst",t}(ke),Wft=XYt;var qYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,o){var l={name:e.name,children:e.data};Yft(l);var f=this._levelModels=_t(e.levels||[],function(g){return new Fe(g,this,o)},this),h=ym.createTree(l,this,v);function v(g){g.wrapMethod("getItemModel",function(y,x){var b=h.getNodeByDataIndex(x),T=f[b.depth];return T&&(y.parentModel=T),y})}return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treePathInfo=Cc(l,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){xS(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Ue);function Yft(a){var t=0;X(a.children,function(o){Yft(o);var l=o.value;yt(l)&&(l=l[0]),t+=l});var e=a.value;yt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),yt(a.value)?a.value[0]=e:a.value=e}var Zft=qYt;var Xft=Math.PI/180;function GG(a,t,e){t.eachSeriesByType(a,function(o){var l=o.get("center"),f=o.get("radius");yt(f)||(f=[0,f]),yt(l)||(l=[l,l]);var h=e.getWidth(),v=e.getHeight(),g=Math.min(h,v),y=Pt(l[0],h),x=Pt(l[1],v),b=Pt(f[0],g/2),T=Pt(f[1],g/2),C=-o.get("startAngle")*Xft,M=o.get("minAngle")*Xft,I=o.getData().tree.root,P=o.getViewRoot(),O=P.depth,N=o.get("sort");N!=null&&qft(P,N);var V=0;X(P.children,function(pt){!isNaN(pt.getValue())&&V++});var F=P.getValue(),U=Math.PI/(F||V)*2,H=P.depth>0,Z=P.height-(H?-1:1),$=(T-b)/(Z||1),K=o.get("clockwise"),Q=o.get("stillShowZeroSum"),rt=K?1:-1,nt=function(pt,xt){if(pt){var st=xt;if(pt!==I){var dt=pt.getValue(),Et=F===0&&Q?U:dt*U;Et<M&&(Et=M),st=xt+rt*Et;var At=pt.depth-O-(H?-1:1),Zt=b+$*At,qt=b+$*(At+1),te=o.getLevelModel(pt);if(te){var j=te.get("r0",!0),Tt=te.get("r",!0),lr=te.get("radius",!0);lr!=null&&(j=lr[0],Tt=lr[1]),j!=null&&(Zt=Pt(j,g/2)),Tt!=null&&(qt=Pt(Tt,g/2))}pt.setLayout({angle:Et,startAngle:xt,endAngle:st,clockwise:K,cx:y,cy:x,r0:Zt,r:qt})}if(pt.children&&pt.children.length){var jt=0;X(pt.children,function(ve){jt+=nt(ve,xt+jt)})}return st-xt}};if(H){var ot=b,ft=b+$,lt=Math.PI*2;I.setLayout({angle:lt,startAngle:C,endAngle:C+lt,clockwise:K,cx:y,cy:x,r0:ot,r:ft})}nt(P,C)})}function qft(a,t){var e=a.children||[];a.children=$Yt(e,t),e.length&&X(a.children,function(o){qft(o,t)})}function $Yt(a,t){if(Nt(t)){var e=_t(a,function(l,f){var h=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return h}},index:f}});return e.sort(function(l,f){return t(l.params,f.params)}),_t(e,function(l){return a[l.index]})}else{var o=t==="asc";return a.sort(function(l,f){var h=(l.getValue()-f.getValue())*(o?1:-1);return h===0?(l.dataIndex-f.dataIndex)*(o?-1:1):h})}}function HG(a){var t={};function e(o,l,f){for(var h=o;h&&h.depth>1;)h=h.parentNode;var v=l.getColorFromPalette(h.name||h.dataIndex+"",t);return o.depth>1&&Dt(v)&&(v=G_(v,(o.depth-1)/(f-1)*.5)),v}a.eachSeriesByType("sunburst",function(o){var l=o.getData(),f=l.tree;f.eachNode(function(h){var v=h.getModel(),g=v.getModel("itemStyle").getItemStyle();g.fill||(g.fill=e(h,o,f.root.height));var y=l.ensureUniqueItemVisual(h.dataIndex,"style");mt(y,g)})})}function WG(a){a.registerChartView(Wft),a.registerSeriesModel(Zft),a.registerLayout(Qt(GG,"sunburst")),a.registerProcessor(Qt(Fs,"sunburst")),a.registerVisual(HG),Hft(a)}var YG={color:"fill",borderColor:"stroke"},$ft={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Vl=ue(),KYt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,o){return Ri(null,this)},t.prototype.getDataParams=function(e,o,l){var f=a.prototype.getDataParams.call(this,e,o);return l&&(f.info=Vl(l).info),f},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Ue),Kft=KYt;function jYt(a,t){return t=t||[0,0],_t(["x","y"],function(e,o){var l=this.getAxis(e),f=t[o],h=a[o]/2;return l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(f-h)-l.dataToCoord(f+h))},this)}function ZG(a){var t=a.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return a.dataToPoint(e)},size:It(jYt,a)}}}function JYt(a,t){return t=t||[0,0],_t([0,1],function(e){var o=t[e],l=a[e]/2,f=[],h=[];return f[e]=o-l,h[e]=o+l,f[1-e]=h[1-e]=t[1-e],Math.abs(this.dataToPoint(f)[e]-this.dataToPoint(h)[e])},this)}function XG(a){var t=a.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:a.getZoom()},api:{coord:function(e){return a.dataToPoint(e)},size:It(JYt,a)}}}function QYt(a,t){var e=this.getAxis(),o=t instanceof Array?t[0]:t,l=(a instanceof Array?a[0]:a)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(o-l)-e.dataToCoord(o+l))}function qG(a){var t=a.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return a.dataToPoint(e)},size:It(QYt,a)}}}function t8t(a,t){return t=t||[0,0],_t(["Radius","Angle"],function(e,o){var l="get"+e+"Axis",f=this[l](),h=t[o],v=a[o]/2,g=f.type==="category"?f.getBandWidth():Math.abs(f.dataToCoord(h-v)-f.dataToCoord(h+v));return e==="Angle"&&(g=g*Math.PI/180),g},this)}function $G(a){var t=a.getRadiusAxis(),e=a.getAngleAxis(),o=t.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:o[1],r0:o[0]},api:{coord:function(l){var f=t.dataToRadius(l[0]),h=e.dataToAngle(l[1]),v=a.coordToPoint([f,h]);return v.push(f,h*Math.PI/180),v},size:It(t8t,a)}}}function KG(a){var t=a.getRect(),e=a.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(o,l){return a.dataToPoint(o,l)}}}}function OM(a,t,e,o){return a&&(a.legacy||a.legacy!==!1&&!e&&!o&&t!=="tspan"&&(t==="text"||Yt(a,"text")))}function kM(a,t,e){var o=a,l,f,h;if(t==="text")h=o;else{h={},Yt(o,"text")&&(h.text=o.text),Yt(o,"rich")&&(h.rich=o.rich),Yt(o,"textFill")&&(h.fill=o.textFill),Yt(o,"textStroke")&&(h.stroke=o.textStroke),Yt(o,"fontFamily")&&(h.fontFamily=o.fontFamily),Yt(o,"fontSize")&&(h.fontSize=o.fontSize),Yt(o,"fontStyle")&&(h.fontStyle=o.fontStyle),Yt(o,"fontWeight")&&(h.fontWeight=o.fontWeight),f={type:"text",style:h,silent:!0},l={};var v=Yt(o,"textPosition");e?l.position=v?o.textPosition:"inside":v&&(l.position=o.textPosition),Yt(o,"textPosition")&&(l.position=o.textPosition),Yt(o,"textOffset")&&(l.offset=o.textOffset),Yt(o,"textRotation")&&(l.rotation=o.textRotation),Yt(o,"textDistance")&&(l.distance=o.textDistance)}return jft(h,a),X(h.rich,function(g){jft(g,g)}),{textConfig:l,textContent:f}}function jft(a,t){t&&(t.font=t.textFont||t.font,Yt(t,"textStrokeWidth")&&(a.lineWidth=t.textStrokeWidth),Yt(t,"textAlign")&&(a.align=t.textAlign),Yt(t,"textVerticalAlign")&&(a.verticalAlign=t.textVerticalAlign),Yt(t,"textLineHeight")&&(a.lineHeight=t.textLineHeight),Yt(t,"textWidth")&&(a.width=t.textWidth),Yt(t,"textHeight")&&(a.height=t.textHeight),Yt(t,"textBackgroundColor")&&(a.backgroundColor=t.textBackgroundColor),Yt(t,"textPadding")&&(a.padding=t.textPadding),Yt(t,"textBorderColor")&&(a.borderColor=t.textBorderColor),Yt(t,"textBorderWidth")&&(a.borderWidth=t.textBorderWidth),Yt(t,"textBorderRadius")&&(a.borderRadius=t.textBorderRadius),Yt(t,"textBoxShadowColor")&&(a.shadowColor=t.textBoxShadowColor),Yt(t,"textBoxShadowBlur")&&(a.shadowBlur=t.textBoxShadowBlur),Yt(t,"textBoxShadowOffsetX")&&(a.shadowOffsetX=t.textBoxShadowOffsetX),Yt(t,"textBoxShadowOffsetY")&&(a.shadowOffsetY=t.textBoxShadowOffsetY))}function jG(a,t,e){var o=a;o.textPosition=o.textPosition||e.position||"inside",e.offset!=null&&(o.textOffset=e.offset),e.rotation!=null&&(o.textRotation=e.rotation),e.distance!=null&&(o.textDistance=e.distance);var l=o.textPosition.indexOf("inside")>=0,f=a.fill||"#000";Jft(o,t);var h=o.textFill==null;return l?h&&(o.textFill=e.insideFill||"#fff",!o.textStroke&&e.insideStroke&&(o.textStroke=e.insideStroke),!o.textStroke&&(o.textStroke=f),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(h&&(o.textFill=a.fill||e.outsideFill||"#000"),!o.textStroke&&e.outsideStroke&&(o.textStroke=e.outsideStroke)),o.text=t.text,o.rich=t.rich,X(t.rich,function(v){Jft(v,v)}),o}function Jft(a,t){t&&(Yt(t,"fill")&&(a.textFill=t.fill),Yt(t,"stroke")&&(a.textStroke=t.fill),Yt(t,"lineWidth")&&(a.textStrokeWidth=t.lineWidth),Yt(t,"font")&&(a.font=t.font),Yt(t,"fontStyle")&&(a.fontStyle=t.fontStyle),Yt(t,"fontWeight")&&(a.fontWeight=t.fontWeight),Yt(t,"fontSize")&&(a.fontSize=t.fontSize),Yt(t,"fontFamily")&&(a.fontFamily=t.fontFamily),Yt(t,"align")&&(a.textAlign=t.align),Yt(t,"verticalAlign")&&(a.textVerticalAlign=t.verticalAlign),Yt(t,"lineHeight")&&(a.textLineHeight=t.lineHeight),Yt(t,"width")&&(a.textWidth=t.width),Yt(t,"height")&&(a.textHeight=t.height),Yt(t,"backgroundColor")&&(a.textBackgroundColor=t.backgroundColor),Yt(t,"padding")&&(a.textPadding=t.padding),Yt(t,"borderColor")&&(a.textBorderColor=t.borderColor),Yt(t,"borderWidth")&&(a.textBorderWidth=t.borderWidth),Yt(t,"borderRadius")&&(a.textBorderRadius=t.borderRadius),Yt(t,"shadowColor")&&(a.textBoxShadowColor=t.shadowColor),Yt(t,"shadowBlur")&&(a.textBoxShadowBlur=t.shadowBlur),Yt(t,"shadowOffsetX")&&(a.textBoxShadowOffsetX=t.shadowOffsetX),Yt(t,"shadowOffsetY")&&(a.textBoxShadowOffsetY=t.shadowOffsetY),Yt(t,"textShadowColor")&&(a.textShadowColor=t.textShadowColor),Yt(t,"textShadowBlur")&&(a.textShadowBlur=t.textShadowBlur),Yt(t,"textShadowOffsetX")&&(a.textShadowOffsetX=t.textShadowOffsetX),Yt(t,"textShadowOffsetY")&&(a.textShadowOffsetY=t.textShadowOffsetY))}var rct={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Qft=he(rct),pCe=Ai(Yn,function(a,t){return a[t]=1,a},{}),vCe=Yn.join(", "),RS=["","style","shape","extra"],Pm=ue();function JG(a,t,e,o,l){var f=a+"Animation",h=Cl(a,o,l)||{},v=Pm(t).userDuring;return h.duration>0&&(h.during=v?It(n8t,{el:t,userDuring:v}):null,h.setToFinal=!0,h.scope=a),mt(h,e[f]),h}function Rm(a,t,e,o){o=o||{};var l=o.dataIndex,f=o.isInit,h=o.clearStyle,v=e.isAnimationEnabled(),g=Pm(a),y=t.style;g.userDuring=t.during;var x={},b={};if(s8t(a,t,b),ect("shape",t,b),ect("extra",t,b),!f&&v&&(o8t(a,t,x),tct("shape",a,t,x),tct("extra",a,t,x),l8t(a,t,y,x)),b.style=y,e8t(a,b,h),i8t(a,t),v)if(f){var T={};X(RS,function(M){var I=M?t[M]:t;I&&I.enterFrom&&(M&&(T[M]=T[M]||{}),mt(M?T[M]:T,I.enterFrom))});var C=JG("enter",a,t,e,l);C.duration>0&&a.animateFrom(T,C)}else r8t(a,t,l||0,e,x);QG(a,t),y?a.dirty():a.markRedraw()}function QG(a,t){for(var e=Pm(a).leaveToProps,o=0;o<RS.length;o++){var l=RS[o],f=l?t[l]:t;f&&f.leaveTo&&(e||(e=Pm(a).leaveToProps={}),l&&(e[l]=e[l]||{}),mt(l?e[l]:e,f.leaveTo))}}function Om(a,t,e,o){if(a){var l=a.parent,f=Pm(a).leaveToProps;if(f){var h=JG("update",a,t,e,0);h.done=function(){l.remove(a),o&&o()},a.animateTo(f,h)}else l.remove(a),o&&o()}}function Lc(a){return a==="all"}function e8t(a,t,e){var o=t.style;if(!a.isGroup&&o){if(e){a.useStyle({});for(var l=a.animators,f=0;f<l.length;f++){var h=l[f];h.targetName==="style"&&h.changeTarget(a.style)}}a.setStyle(o)}t&&(t.style=null,t&&a.attr(t),t.style=o)}function r8t(a,t,e,o,l){if(l){var f=JG("update",a,t,o,e);f.duration>0&&a.animateFrom(l,f)}}function i8t(a,t){Yt(t,"silent")&&(a.silent=t.silent),Yt(t,"ignore")&&(a.ignore=t.ignore),a instanceof ai&&Yt(t,"invisible")&&(a.invisible=t.invisible),a instanceof se&&Yt(t,"autoBatch")&&(a.autoBatch=t.autoBatch)}var Bl={},a8t={setTransform:function(a,t){return Bl.el[a]=t,this},getTransform:function(a){return Bl.el[a]},setShape:function(a,t){var e=Bl.el,o=e.shape||(e.shape={});return o[a]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(a){var t=Bl.el.shape;if(t)return t[a]},setStyle:function(a,t){var e=Bl.el,o=e.style;return o&&(o[a]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(a){var t=Bl.el.style;if(t)return t[a]},setExtra:function(a,t){var e=Bl.el.extra||(Bl.el.extra={});return e[a]=t,this},getExtra:function(a){var t=Bl.el.extra;if(t)return t[a]}};function n8t(){var a=this,t=a.el;if(t){var e=Pm(t).userDuring,o=a.userDuring;if(e!==o){a.el=a.userDuring=null;return}Bl.el=t,o(a8t)}}function tct(a,t,e,o){var l=e[a];if(l){var f=t[a],h;if(f){var v=e.transition,g=l.transition;if(g)if(!h&&(h=o[a]={}),Lc(g))mt(h,f);else for(var y=qe(g),x=0;x<y.length;x++){var b=y[x],T=f[b];h[b]=T}else if(Lc(v)||ae(v,a)>=0){!h&&(h=o[a]={});for(var C=he(f),x=0;x<C.length;x++){var b=C[x],T=f[b];u8t(l[b],T)&&(h[b]=T)}}}}}function ect(a,t,e){var o=t[a];if(o)for(var l=e[a]={},f=he(o),h=0;h<f.length;h++){var v=f[h];l[v]=Tp(o[v])}}function o8t(a,t,e){for(var o=t.transition,l=Lc(o)?Yn:qe(o||[]),f=0;f<l.length;f++){var h=l[f];if(!(h==="style"||h==="shape"||h==="extra")){var v=a[h];e[h]=v}}}function s8t(a,t,e){for(var o=0;o<Qft.length;o++){var l=Qft[o],f=rct[l],h=t[l];h&&(e[f[0]]=h[0],e[f[1]]=h[1])}for(var o=0;o<Yn.length;o++){var v=Yn[o];t[v]!=null&&(e[v]=t[v])}}function l8t(a,t,e,o){if(e){var l=a.style,f;if(l){var h=e.transition,v=t.transition;if(h&&!Lc(h)){var g=qe(h);!f&&(f=o.style={});for(var y=0;y<g.length;y++){var x=g[y],b=l[x];f[x]=b}}else if(a.getAnimationStyleProps&&(Lc(v)||Lc(h)||ae(v,"style")>=0)){var T=a.getAnimationStyleProps(),C=T?T.style:null;if(C){!f&&(f=o.style={});for(var M=he(e),y=0;y<M.length;y++){var x=M[y];if(C[x]){var b=l[x];f[x]=b}}}}}}}function u8t(a,t){return Xr(a)?a!==t:a!=null&&isFinite(a)}var ict=ue(),f8t=["percent","easing","shape","style","extra"];function NM(a){a.stopAnimation("keyframe"),a.attr(ict(a))}function km(a,t,e){if(!(!e.isAnimationEnabled()||!t)){if(yt(t)){X(t,function(v){km(a,v,e)});return}var o=t.keyframes,l=t.duration;if(e&&l==null){var f=Cl("enter",e,0);l=f&&f.duration}if(!(!o||!l)){var h=ict(a);X(RS,function(v){if(!(v&&!a[v])){var g,y=!1;o.sort(function(x,b){return x.percent-b.percent}),X(o,function(x){var b=a.animators,T=v?x[v]:x;if(T){var C=he(T);if(v||(C=Ee(C,function(P){return ae(f8t,P)<0})),!!C.length){g||(g=a.animate(v,t.loop,!0),g.scope="keyframe");for(var M=0;M<b.length;M++)b[M]!==g&&b[M].targetName===g.targetName&&b[M].stopTracks(C);v&&(h[v]=h[v]||{});var I=v?h[v]:h;X(C,function(P){I[P]=((v?a[v]:a)||{})[P]}),g.whenWithKeys(l*x.percent,T,C,x.easing)}}}),g&&g.delay(t.delay||0).duration(l).start(t.easing)}})}}}var Hu="emphasis",Ic="normal",n5="blur",o5="select",Ec=[Ic,Hu,n5,o5],t5={normal:["itemStyle"],emphasis:[Hu,"itemStyle"],blur:[n5,"itemStyle"],select:[o5,"itemStyle"]},e5={normal:["label"],emphasis:[Hu,"label"],blur:[n5,"label"],select:[o5,"label"]},c8t=["x","y"],h8t="e\0\0",Qo={normal:{},emphasis:{},blur:{},select:{}},p8t={cartesian2d:ZG,geo:XG,single:qG,polar:$G,calendar:KG};function i5(a){return a instanceof se}function a5(a){return a instanceof ai}function v8t(a,t){t.copyTransform(a),a5(t)&&a5(a)&&(t.setStyle(a.style),t.z=a.z,t.z2=a.z2,t.zlevel=a.zlevel,t.invisible=a.invisible,t.ignore=a.ignore,i5(t)&&i5(a)&&t.setShape(a.shape))}var d8t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l,f){this._progressiveEls=null;var h=this._data,v=e.getData(),g=this.group,y=act(e,v,o,l);h||g.removeAll(),v.diff(h).add(function(b){r5(l,null,b,y(b,f),e,g,v)}).remove(function(b){var T=h.getItemGraphicEl(b);T&&Om(T,Vl(T).option,e)}).update(function(b,T){var C=h.getItemGraphicEl(T);r5(l,C,b,y(b,f),e,g,v)}).execute();var x=e.get("clip",!0)?Ol(e.coordinateSystem,!1,e):null;x?g.setClipPath(x):g.removeClipPath(),this._data=v},t.prototype.incrementalPrepareRender=function(e,o,l){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,o,l,f,h){var v=o.getData(),g=act(o,v,l,f),y=this._progressiveEls=[];function x(C){C.isGroup||(C.incremental=!0,C.ensureState("emphasis").hoverLayer=!0)}for(var b=e.start;b<e.end;b++){var T=r5(null,null,b,g(b,h),o,this.group,v);T&&(T.traverse(x),y.push(T))}},t.prototype.eachRendered=function(e){Za(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,o,l,f){var h=o.element;if(h==null||l.name===h)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===h)return!0;return!1},t.type="custom",t}(ke),lct=d8t;function s5(a){var t=a.type,e;if(t==="path"){var o=a.shape,l=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,f=cct(o);e=sc(f,null,l,o.layout||"center"),Vl(e).customPathData=f}else if(t==="image")e=new yr({}),Vl(e).customImagePath=a.style.image;else if(t==="text")e=new _e({});else if(t==="group")e=new Ut;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var h=$p(t);if(!h){var v="";Qe(v)}e=new h}return Vl(e).customGraphicType=t,e.name=a.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function l5(a,t,e,o,l,f,h){NM(t);var v=l&&l.normal.cfg;v&&t.setTextConfig(v),o&&o.transition==null&&(o.transition=c8t);var g=o&&o.style;if(g){if(t.type==="text"){var y=g;Yt(y,"textFill")&&(y.fill=y.textFill),Yt(y,"textStroke")&&(y.stroke=y.textStroke)}var x=void 0,b=i5(t)?g.decal:null;a&&b&&(b.dirty=!0,x=Os(b,a)),g.__decalPattern=x}if(a5(t)&&g){var x=g.__decalPattern;x&&(g.decal=x)}Rm(t,o,f,{dataIndex:e,isInit:h,clearStyle:!0}),km(t,o.keyframeAnimation,f)}function uct(a,t,e,o,l){var f=t.isGroup?null:t,h=l&&l[a].cfg;if(f){var v=f.ensureState(a);if(o===!1){var g=f.getState(a);g&&(g.style=null)}else v.style=o||null;h&&(v.textConfig=h),Cs(f)}}function g8t(a,t,e){if(!a.isGroup){var o=a,l=e.currentZ,f=e.currentZLevel;o.z=l,o.zlevel=f;var h=t.z2;h!=null&&(o.z2=h||0);for(var v=0;v<Ec.length;v++)m8t(o,t,Ec[v])}}function m8t(a,t,e){var o=e===Ic,l=o?t:zM(t,e),f=l?l.z2:null,h;f!=null&&(h=o?a:a.ensureState(e),h.z2=f||0)}function act(a,t,e,o){var l=a.get("renderItem"),f=a.coordinateSystem,h={};f&&(h=f.prepareCustoms?f.prepareCustoms(f):p8t[f.type](f));for(var v=zt({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:F,style:H,ordinalRawValue:U,styleEmphasis:Z,visual:Q,barLayout:rt,currentSeriesIndices:nt,font:ot},h.api||{}),g={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:h.coordSys,dataInsideLength:t.count(),encode:y8t(a.getData())},y,x,b={},T={},C={},M={},I=0;I<Ec.length;I++){var P=Ec[I];C[P]=a.getModel(t5[P]),M[P]=a.getModel(e5[P])}function O(ft){return ft===y?x||(x=t.getItemModel(ft)):t.getItemModel(ft)}function N(ft,lt){return t.hasItemOption?ft===y?b[lt]||(b[lt]=O(ft).getModel(t5[lt])):O(ft).getModel(t5[lt]):C[lt]}function V(ft,lt){return t.hasItemOption?ft===y?T[lt]||(T[lt]=O(ft).getModel(e5[lt])):O(ft).getModel(e5[lt]):M[lt]}return function(ft,lt){return y=ft,x=null,b={},T={},l&&l(zt({dataIndexInside:ft,dataIndex:t.getRawIndex(ft),actionType:lt?lt.type:null},g),v)};function F(ft,lt){return lt==null&&(lt=y),t.getStore().get(t.getDimensionIndex(ft||0),lt)}function U(ft,lt){lt==null&&(lt=y),ft=ft||0;var pt=t.getDimensionInfo(ft);if(!pt){var xt=t.getDimensionIndex(ft);return xt>=0?t.getStore().get(xt,lt):void 0}var st=t.get(pt.name,lt),dt=pt&&pt.ordinalMeta;return dt?dt.categories[st]:st}function H(ft,lt){lt==null&&(lt=y);var pt=t.getItemVisual(lt,"style"),xt=pt&&pt.fill,st=pt&&pt.opacity,dt=N(lt,Ic).getItemStyle();xt!=null&&(dt.fill=xt),st!=null&&(dt.opacity=st);var Et={inheritColor:Dt(xt)?xt:"#000"},At=V(lt,Ic),Zt=Je(At,null,Et,!1,!0);Zt.text=At.getShallow("show")?oe(a.getFormattedLabel(lt,Ic),Vs(t,lt)):null;var qt=yx(At,Et,!1);return K(ft,dt),dt=jG(dt,Zt,qt),ft&&$(dt,ft),dt.legacy=!0,dt}function Z(ft,lt){lt==null&&(lt=y);var pt=N(lt,Hu).getItemStyle(),xt=V(lt,Hu),st=Je(xt,null,null,!0,!0);st.text=xt.getShallow("show")?Ci(a.getFormattedLabel(lt,Hu),a.getFormattedLabel(lt,Ic),Vs(t,lt)):null;var dt=yx(xt,null,!0);return K(ft,pt),pt=jG(pt,st,dt),ft&&$(pt,ft),pt.legacy=!0,pt}function $(ft,lt){for(var pt in lt)Yt(lt,pt)&&(ft[pt]=lt[pt])}function K(ft,lt){ft&&(ft.textFill&&(lt.textFill=ft.textFill),ft.textPosition&&(lt.textPosition=ft.textPosition))}function Q(ft,lt){if(lt==null&&(lt=y),Yt(YG,ft)){var pt=t.getItemVisual(lt,"style");return pt?pt[YG[ft]]:null}if(Yt($ft,ft))return t.getItemVisual(lt,ft)}function rt(ft){if(f.type==="cartesian2d"){var lt=f.getBaseAxis();return Zat(zt({axis:lt},ft))}}function nt(){return e.getCurrentSeriesIndices()}function ot(ft){return Gg(ft,e)}}function y8t(a){var t={};return X(a.dimensions,function(e){var o=a.getDimensionInfo(e);if(!o.isExtraCoord){var l=o.coordDim,f=t[l]=t[l]||[];f[o.coordDimIndex]=a.getDimensionIndex(e)}}),t}function r5(a,t,e,o,l,f,h){if(!o){f.remove(t);return}var v=u5(a,t,e,o,l,f);return v&&h.setItemGraphicEl(e,v),v&&Ke(v,o.focus,o.blurScope,o.emphasisDisabled),v}function u5(a,t,e,o,l,f){var h=-1,v=t;t&&fct(t,o,l)&&(h=ae(f.childrenRef(),t),t=null);var g=!t,y=t;y?y.clearStates():(y=s5(o),v&&v8t(v,y)),o.morph===!1?y.disableMorphing=!0:y.disableMorphing&&(y.disableMorphing=!1),Qo.normal.cfg=Qo.normal.conOpt=Qo.emphasis.cfg=Qo.emphasis.conOpt=Qo.blur.cfg=Qo.blur.conOpt=Qo.select.cfg=Qo.select.conOpt=null,Qo.isLegacy=!1,x8t(y,e,o,l,g,Qo),_8t(y,e,o,l,g),l5(a,y,e,o,Qo,l,g),Yt(o,"info")&&(Vl(y).info=o.info);for(var x=0;x<Ec.length;x++){var b=Ec[x];if(b!==Ic){var T=zM(o,b),C=f5(o,T,b);uct(b,y,T,C,Qo)}}return g8t(y,o,l),o.type==="group"&&S8t(a,y,e,o,l),h>=0?f.replaceAt(y,h):f.add(y),y}function fct(a,t,e){var o=Vl(a),l=t.type,f=t.shape,h=t.style;return e.isUniversalTransitionEnabled()||l!=null&&l!==o.customGraphicType||l==="path"&&A8t(f)&&cct(f)!==o.customPathData||l==="image"&&Yt(h,"image")&&h.image!==o.customImagePath}function _8t(a,t,e,o,l){var f=e.clipPath;if(f===!1)a&&a.getClipPath()&&a.removeClipPath();else if(f){var h=a.getClipPath();h&&fct(h,f,o)&&(h=null),h||(h=s5(f),a.setClipPath(h)),l5(null,h,t,f,null,o,l)}}function x8t(a,t,e,o,l,f){if(!a.isGroup){nct(e,null,f),nct(e,Hu,f);var h=f.normal.conOpt,v=f.emphasis.conOpt,g=f.blur.conOpt,y=f.select.conOpt;if(h!=null||v!=null||y!=null||g!=null){var x=a.getTextContent();if(h===!1)x&&a.removeTextContent();else{h=f.normal.conOpt=h||{type:"text"},x?x.clearStates():(x=s5(h),a.setTextContent(x)),l5(null,x,t,h,null,o,l);for(var b=h&&h.style,T=0;T<Ec.length;T++){var C=Ec[T];if(C!==Ic){var M=f[C].conOpt;uct(C,x,M,f5(h,M,C),null)}}b?x.dirty():x.markRedraw()}}}}function nct(a,t,e){var o=t?zM(a,t):a,l=t?f5(a,o,Hu):a.style,f=a.type,h=o?o.textConfig:null,v=a.textContent,g=v?t?zM(v,t):v:null;if(l&&(e.isLegacy||OM(l,f,!!h,!!g))){e.isLegacy=!0;var y=kM(l,f,!t);!h&&y.textConfig&&(h=y.textConfig),!g&&y.textContent&&(g=y.textContent)}if(!t&&g){var x=g;!x.type&&(x.type="text")}var b=t?e[t]:e.normal;b.cfg=h,b.conOpt=g}function zM(a,t){return t?a?a[t]:null:a}function f5(a,t,e){var o=t&&t.style;return o==null&&e===Hu&&a&&(o=a.styleEmphasis),o}function S8t(a,t,e,o,l){var f=o.children,h=f?f.length:0,v=o.$mergeChildren,g=v==="byName"||o.diffChildrenByName,y=v===!1;if(!(!h&&!g&&!y)){if(g){w8t({api:a,oldChildren:t.children()||[],newChildren:f||[],dataIndex:e,seriesModel:l,group:t});return}y&&t.removeAll();for(var x=0;x<h;x++){var b=f[x],T=t.childAt(x);b?(b.ignore==null&&(b.ignore=!1),u5(a,T,e,b,l,t)):T.ignore=!0}for(var C=t.childCount()-1;C>=x;C--){var M=t.childAt(C);b8t(t,M,l)}}}function b8t(a,t,e){t&&Om(t,Vl(a).option,e)}function w8t(a){new ha(a.oldChildren,a.newChildren,oct,oct,a).add(sct).update(sct).remove(T8t).execute()}function oct(a,t){var e=a&&a.name;return e??h8t+t}function sct(a,t){var e=this.context,o=a!=null?e.newChildren[a]:null,l=t!=null?e.oldChildren[t]:null;u5(e.api,l,e.dataIndex,o,e.seriesModel,e.group)}function T8t(a){var t=this.context,e=t.oldChildren[a];e&&Om(e,Vl(e).option,t.seriesModel)}function cct(a){return a&&(a.pathData||a.d)}function A8t(a){return a&&(Yt(a,"pathData")||Yt(a,"d"))}function c5(a){a.registerChartView(lct),a.registerSeriesModel(Kft)}var Mv=ue(),hct=Ht,h5=It,C8t=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(t,e,o,l){var f=e.get("value"),h=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=o,!(!l&&this._lastValue===f&&this._lastStatus===h)){this._lastValue=f,this._lastStatus=h;var v=this._group,g=this._handle;if(!h||h==="hide"){v&&v.hide(),g&&g.hide();return}v&&v.show(),g&&g.show();var y={};this.makeElOption(y,f,t,e,o);var x=y.graphicKey;x!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=x;var b=this._moveAnimation=this.determineAnimation(t,e);if(!v)v=this._group=new Ut,this.createPointerEl(v,y,t,e),this.createLabelEl(v,y,t,e),o.getZr().add(v);else{var T=Qt(pct,e,b);this.updatePointerEl(v,y,T),this.updateLabelEl(v,y,T,e)}dct(v,e,!0),this._renderHandle(f)}},a.prototype.remove=function(t){this.clear(t)},a.prototype.dispose=function(t){this.clear(t)},a.prototype.determineAnimation=function(t,e){var o=e.get("animation"),l=t.axis,f=l.type==="category",h=e.get("snap");if(!h&&!f)return!1;if(o==="auto"||o==null){var v=this.animationThreshold;if(f&&l.getBandWidth()>v)return!0;if(h){var g=jD(t).seriesDataCount,y=l.getExtent();return Math.abs(y[0]-y[1])/g>v}return!1}return o===!0},a.prototype.makeElOption=function(t,e,o,l,f){},a.prototype.createPointerEl=function(t,e,o,l){var f=e.pointer;if(f){var h=Mv(t).pointerEl=new be[f.type](hct(e.pointer));t.add(h)}},a.prototype.createLabelEl=function(t,e,o,l){if(e.label){var f=Mv(t).labelEl=new _e(hct(e.label));t.add(f),vct(f,l)}},a.prototype.updatePointerEl=function(t,e,o){var l=Mv(t).pointerEl;l&&e.pointer&&(l.setStyle(e.pointer.style),o(l,{shape:e.pointer.shape}))},a.prototype.updateLabelEl=function(t,e,o,l){var f=Mv(t).labelEl;f&&(f.setStyle(e.label.style),o(f,{x:e.label.x,y:e.label.y}),vct(f,l))},a.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,o=this._api.getZr(),l=this._handle,f=e.getModel("handle"),h=e.get("status");if(!f.get("show")||!h||h==="hide"){l&&o.remove(l),this._handle=null;return}var v;this._handle||(v=!0,l=this._handle=Ms(f.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(y){cn(y.event)},onmousedown:h5(this._onHandleDragMove,this,0,0),drift:h5(this._onHandleDragMove,this),ondragend:h5(this._onHandleDragEnd,this)}),o.add(l)),dct(l,e,!1),l.setStyle(f.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var g=f.get("size");yt(g)||(g=[g,g]),l.scaleX=g[0]/2,l.scaleY=g[1]/2,Ho(this,"_doDispatchAxisPointer",f.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,v)}},a.prototype._moveHandleToValue=function(t,e){pct(this._axisPointerModel,!e&&this._moveAnimation,this._handle,p5(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(t,e){var o=this._handle;if(o){this._dragging=!0;var l=this.updateHandleTransform(p5(o),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=l,o.stopAnimation(),o.attr(p5(l)),Mv(o).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),o=this._group,l=this._handle;e&&o&&(this._lastGraphicKey=null,o&&e.remove(o),l&&e.remove(l),this._group=null,this._handle=null,this._payloadInfo=null),Nu(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(t,e,o){return o=o||0,{x:t[o],y:t[1-o],width:e[o],height:e[1-o]}},a}();function pct(a,t,e,o){gct(Mv(e).lastProp,o)||(Mv(e).lastProp=o,t?we(e,o,a):(e.stopAnimation(),e.attr(o)))}function gct(a,t){if(Ft(a)&&Ft(t)){var e=!0;return X(t,function(o,l){e=e&&gct(a[l],o)}),!!e}else return a===t}function vct(a,t){a[t.get(["label","show"])?"show":"hide"]()}function p5(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function dct(a,t,e){var o=t.get("z"),l=t.get("zlevel");a&&a.traverse(function(f){f.type!=="group"&&(o!=null&&(f.z=o),l!=null&&(f.zlevel=l),f.silent=e)})}var Nm=C8t;function zm(a){var t=a.get("type"),e=a.getModel(t+"Style"),o;return t==="line"?(o=e.getLineStyle(),o.fill=null):t==="shadow"&&(o=e.getAreaStyle(),o.stroke=null),o}function v5(a,t,e,o,l){var f=e.get("value"),h=d5(f,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),v=e.getModel("label"),g=Kn(v.get("padding")||0),y=v.getFont(),x=_l(h,y),b=l.position,T=x.width+g[1]+g[3],C=x.height+g[0]+g[2],M=l.align;M==="right"&&(b[0]-=T),M==="center"&&(b[0]-=T/2);var I=l.verticalAlign;I==="bottom"&&(b[1]-=C),I==="middle"&&(b[1]-=C/2),D8t(b,T,C,o);var P=v.get("backgroundColor");(!P||P==="auto")&&(P=t.get(["axisLine","lineStyle","color"])),a.label={x:b[0],y:b[1],style:Je(v,{text:h,font:y,fill:v.getTextColor(),padding:g,backgroundColor:P}),z2:10}}function D8t(a,t,e,o){var l=o.getWidth(),f=o.getHeight();a[0]=Math.min(a[0]+t,l)-t,a[1]=Math.min(a[1]+e,f)-e,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function d5(a,t,e,o,l){a=t.scale.parse(a);var f=t.scale.getLabel({value:a},{precision:l.precision}),h=l.formatter;if(h){var v={value:aS(t,{value:a}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};X(o,function(g){var y=e.getSeriesByIndex(g.seriesIndex),x=g.dataIndexInside,b=y&&y.getDataParams(x);b&&v.seriesData.push(b)}),Dt(h)?f=h.replace("{value}",f):Nt(h)&&(f=h(v))}return f}function OS(a,t,e){var o=ri();return Wa(o,o,e.rotation),Ki(o,o,e.position),ua([a.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],o)}function VM(a,t,e,o,l,f){var h=pa.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=l.get(["label","margin"]),v5(t,o,l,f,{position:OS(o.axis,a,e),align:h.textAlign,verticalAlign:h.textVerticalAlign})}function Vm(a,t,e){return e=e||0,{x1:a[e],y1:a[1-e],x2:t[e],y2:t[1-e]}}function BM(a,t,e){return e=e||0,{x:a[e],y:a[1-e],width:t[e],height:t[1-e]}}function g5(a,t,e,o,l,f){return{cx:a,cy:t,r0:e,r:o,startAngle:l,endAngle:f,clockwise:!0}}var M8t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,o,l,f,h){var v=l.axis,g=v.grid,y=f.get("type"),x=mct(g,v).getOtherAxis(v).getGlobalExtent(),b=v.toGlobalCoord(v.dataToCoord(o,!0));if(y&&y!=="none"){var T=zm(f),C=L8t[y](v,b,x);C.style=T,e.graphicKey=C.type,e.pointer=C}var M=gS(g.model,l);VM(o,e,M,l,f,h)},t.prototype.getHandleTransform=function(e,o,l){var f=gS(o.axis.grid.model,o,{labelInside:!1});f.labelMargin=l.get(["handle","margin"]);var h=OS(o.axis,e,f);return{x:h[0],y:h[1],rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,l,f){var h=l.axis,v=h.grid,g=h.getGlobalExtent(!0),y=mct(v,h).getOtherAxis(h).getGlobalExtent(),x=h.dim==="x"?0:1,b=[e.x,e.y];b[x]+=o[x],b[x]=Math.min(g[1],b[x]),b[x]=Math.max(g[0],b[x]);var T=(y[1]+y[0])/2,C=[T,T];C[x]=b[x];var M=[{verticalAlign:"middle"},{align:"center"}];return{x:b[0],y:b[1],rotation:e.rotation,cursorPoint:C,tooltipOption:M[x]}},t}(Nm);function mct(a,t){var e={};return e[t.dim+"AxisIndex"]=t.index,a.getCartesian(e)}var L8t={line:function(a,t,e){var o=Vm([t,e[0]],[t,e[1]],yct(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,t,e){var o=Math.max(1,a.getBandWidth()),l=e[1]-e[0];return{type:"Rect",shape:BM([t-o/2,e[0]],[o,l],yct(a))}}};function yct(a){return a.dim==="x"?0:1}var _ct=M8t;var I8t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(xe),xct=I8t;var Wu=ue(),E8t=X;function UM(a,t,e){if(!Ie.node){var o=t.getZr();Wu(o).records||(Wu(o).records={}),P8t(o,t);var l=Wu(o).records[a]||(Wu(o).records[a]={});l.handler=e}}function P8t(a,t){if(Wu(a).initialized)return;Wu(a).initialized=!0,e("click",Qt(Sct,"click")),e("mousemove",Qt(Sct,"mousemove")),e("globalout",O8t);function e(o,l){a.on(o,function(f){var h=k8t(t);E8t(Wu(a).records,function(v){v&&l(v,f,h.dispatchAction)}),R8t(h.pendings,t)})}}function R8t(a,t){var e=a.showTip.length,o=a.hideTip.length,l;e?l=a.showTip[e-1]:o&&(l=a.hideTip[o-1]),l&&(l.dispatchAction=null,t.dispatchAction(l))}function O8t(a,t,e){a.handler("leave",null,e)}function Sct(a,t,e,o){t.handler(a,e,o)}function k8t(a){var t={showTip:[],hideTip:[]},e=function(o){var l=t[o.type];l?l.push(o):(o.dispatchAction=e,a.dispatchAction(o))};return{dispatchAction:e,pendings:t}}function kS(a,t){if(!Ie.node){var e=t.getZr(),o=(Wu(e).records||{})[a];o&&(Wu(e).records[a]=null)}}var N8t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=o.getComponent("tooltip"),h=e.get("triggerOn")||f&&f.get("triggerOn")||"mousemove|click";UM("axisPointer",l,function(v,g,y){h!=="none"&&(v==="leave"||h.indexOf(v)>=0)&&y({type:"updateAxisPointer",currTrigger:v,x:g&&g.offsetX,y:g&&g.offsetY})})},t.prototype.remove=function(e,o){kS("axisPointer",o)},t.prototype.dispose=function(e,o){kS("axisPointer",o)},t.type="axisPointer",t}(He),wct=N8t;function NS(a,t){var e=[],o=a.seriesIndex,l;if(o==null||!(l=t.getSeriesByIndex(o)))return{point:[]};var f=l.getData(),h=Po(f,a);if(h==null||h<0||yt(h))return{point:[]};var v=f.getItemGraphicEl(h),g=l.coordinateSystem;if(l.getTooltipPosition)e=l.getTooltipPosition(h)||[];else if(g&&g.dataToPoint)if(a.isStacked){var y=g.getBaseAxis(),x=g.getOtherAxis(y),b=x.dim,T=y.dim,C=b==="x"||b==="radius"?1:0,M=f.mapDimension(T),I=[];I[C]=f.get(M,h),I[1-C]=f.get(f.getCalculationInfo("stackResultDimension"),h),e=g.dataToPoint(I)||[]}else e=g.dataToPoint(f.getValues(_t(g.dimensions,function(O){return f.mapDimension(O)}),h))||[];else if(v){var P=v.getBoundingRect().clone();P.applyTransform(v.transform),e=[P.x+P.width/2,P.y+P.height/2]}return{point:e,el:v}}var Tct=ue();function m5(a,t,e){var o=a.currTrigger,l=[a.x,a.y],f=a,h=a.dispatchAction||It(e.dispatchAction,e),v=t.getComponent("axisPointer").coordSysAxesInfo;if(v){GM(l)&&(l=NS({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var g=GM(l),y=f.axesInfo,x=v.axesInfo,b=o==="leave"||GM(l),T={},C={},M={list:[],map:{}},I={showPointer:Qt(V8t,C),showTooltip:Qt(B8t,M)};X(v.coordSysMap,function(O,N){var V=g||O.containPoint(l);X(v.coordSysAxesInfo[N],function(F,U){var H=F.axis,Z=H8t(y,F);if(!b&&V&&(!y||Z)){var $=Z&&Z.value;$==null&&!g&&($=H.pointToData(l)),$!=null&&Act(F,$,I,!1,T)}})});var P={};return X(x,function(O,N){var V=O.linkGroup;V&&!C[N]&&X(V.axesInfo,function(F,U){var H=C[U];if(F!==O&&H){var Z=H.value;V.mapper&&(Z=O.axis.scale.parse(V.mapper(Z,Cct(F),Cct(O)))),P[O.key]=Z}})}),X(P,function(O,N){Act(x[N],O,I,!0,T)}),F8t(C,x,T),U8t(M,l,a,h),G8t(x,h,e),T}}function Act(a,t,e,o,l){var f=a.axis;if(!(f.scale.isBlank()||!f.containData(t))){if(!a.involveSeries){e.showPointer(a,t);return}var h=z8t(t,a),v=h.payloadBatch,g=h.snapToValue;v[0]&&l.seriesIndex==null&&mt(l,v[0]),!o&&a.snap&&f.containData(g)&&g!=null&&(t=g),e.showPointer(a,t,v),e.showTooltip(a,h,g)}}function z8t(a,t){var e=t.axis,o=e.dim,l=a,f=[],h=Number.MAX_VALUE,v=-1;return X(t.seriesModels,function(g,y){var x=g.getData().mapDimensionsAll(o),b,T;if(g.getAxisTooltipData){var C=g.getAxisTooltipData(x,a,e);T=C.dataIndices,b=C.nestestValue}else{if(T=g.getData().indicesOfNearest(x[0],a,e.type==="category"?.5:null),!T.length)return;b=g.getData().get(x[0],T[0])}if(!(b==null||!isFinite(b))){var M=a-b,I=Math.abs(M);I<=h&&((I<h||M>=0&&v<0)&&(h=I,v=M,l=b,f.length=0),X(T,function(P){f.push({seriesIndex:g.seriesIndex,dataIndexInside:P,dataIndex:g.getData().getRawIndex(P)})}))}}),{payloadBatch:f,snapToValue:l}}function V8t(a,t,e,o){a[t.key]={value:e,payloadBatch:o}}function B8t(a,t,e,o){var l=e.payloadBatch,f=t.axis,h=f.model,v=t.axisPointerModel;if(!(!t.triggerTooltip||!l.length)){var g=t.coordSys.model,y=vm(g),x=a.map[y];x||(x=a.map[y]={coordSysId:g.id,coordSysIndex:g.componentIndex,coordSysType:g.type,coordSysMainType:g.mainType,dataByAxis:[]},a.list.push(x)),x.dataByAxis.push({axisDim:f.dim,axisIndex:h.componentIndex,axisType:h.type,axisId:h.id,value:o,valueLabelOpt:{precision:v.get(["label","precision"]),formatter:v.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function F8t(a,t,e){var o=e.axesInfo=[];X(t,function(l,f){var h=l.axisPointerModel.option,v=a[f];v?(!l.useHandle&&(h.status="show"),h.value=v.value,h.seriesDataIndices=(v.payloadBatch||[]).slice()):!l.useHandle&&(h.status="hide"),h.status==="show"&&o.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:h.value})})}function U8t(a,t,e,o){if(GM(t)||!a.list.length){o({type:"hideTip"});return}var l=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:a.list})}function G8t(a,t,e){var o=e.getZr(),l="axisPointerLastHighlights",f=Tct(o)[l]||{},h=Tct(o)[l]={};X(a,function(y,x){var b=y.axisPointerModel.option;b.status==="show"&&y.triggerEmphasis&&X(b.seriesDataIndices,function(T){var C=T.seriesIndex+" | "+T.dataIndex;h[C]=T})});var v=[],g=[];X(f,function(y,x){!h[x]&&g.push(y)}),X(h,function(y,x){!f[x]&&v.push(y)}),g.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:g}),v.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:v})}function H8t(a,t){for(var e=0;e<(a||[]).length;e++){var o=a[e];if(t.axis.dim===o.axisDim&&t.axis.model.componentIndex===o.axisIndex)return o}}function Cct(a){var t=a.axis.model,e={},o=e.axisDim=a.axis.dim;return e.axisIndex=e[o+"AxisIndex"]=t.componentIndex,e.axisName=e[o+"AxisName"]=t.name,e.axisId=e[o+"AxisId"]=t.id,e}function GM(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function Gs(a){Mn.registerAxisPointerClass("CartesianAxisPointer",_ct),a.registerComponentModel(xct),a.registerComponentView(wct),a.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!yt(e)&&(t.axisPointer.link=[e])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Qot(t,e)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},m5)}function y5(a){Ae(tM),Ae(Gs)}var W8t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,o,l,f,h){var v=l.axis;v.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=v.polar,y=g.getOtherAxis(v),x=y.getExtent(),b=v.dataToCoord(o),T=f.get("type");if(T&&T!=="none"){var C=zm(f),M=Z8t[T](v,g,b,x);M.style=C,e.graphicKey=M.type,e.pointer=M}var I=f.get(["label","margin"]),P=Y8t(o,l,f,g,I);v5(e,l,f,h,P)},t}(Nm);function Y8t(a,t,e,o,l){var f=t.axis,h=f.dataToCoord(a),v=o.getAngleAxis().getExtent()[0];v=v/180*Math.PI;var g=o.getRadiusAxis().getExtent(),y,x,b;if(f.dim==="radius"){var T=ri();Wa(T,T,v),Ki(T,T,[o.cx,o.cy]),y=ua([h,-l],T);var C=t.getModel("axisLabel").get("rotate")||0,M=pa.innerTextLayout(v,C*Math.PI/180,-1);x=M.textAlign,b=M.textVerticalAlign}else{var I=g[1];y=o.coordToPoint([I+l,h]);var P=o.cx,O=o.cy;x=Math.abs(y[0]-P)/I<.3?"center":y[0]>P?"left":"right",b=Math.abs(y[1]-O)/I<.3?"middle":y[1]>O?"top":"bottom"}return{position:y,align:x,verticalAlign:b}}var Z8t={line:function(a,t,e,o){return a.dim==="angle"?{type:"Line",shape:Vm(t.coordToPoint([o[0],e]),t.coordToPoint([o[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(a,t,e,o){var l=Math.max(1,a.getBandWidth()),f=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:g5(t.cx,t.cy,o[0],o[1],(-e-l/2)*f,(-e+l/2)*f)}:{type:"Sector",shape:g5(t.cx,t.cy,e-l/2,e+l/2,0,Math.PI*2)}}},Dct=W8t;var X8t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var o,l=this.ecModel;return l.eachComponent(e,function(f){f.getCoordSysModel()===this&&(o=f)},this),o},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(xe),Mct=X8t;var _5=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",pr).models[0]},t.type="polarAxis",t}(xe);or(_5,qo);var Lct=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t}(_5);var Ict=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t}(_5);var x5=function(a){at(t,a);function t(e,o){return a.call(this,"radius",e,o)||this}return t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)[this.dim==="radius"?0:1]},t}(Oi);x5.prototype.dataToRadius=Oi.prototype.dataToCoord;x5.prototype.radiusToData=Oi.prototype.coordToData;var Ect=x5;var q8t=ue(),S5=function(a){at(t,a);function t(e,o){return a.call(this,"angle",e,o||[0,360])||this}return t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,o=e.getLabelModel(),l=e.scale,f=l.getExtent(),h=l.count();if(f[1]-f[0]<1)return 0;var v=f[0],g=e.dataToCoord(v+1)-e.dataToCoord(v),y=Math.abs(g),x=_l(v==null?"":v+"",o.getFont(),"center","top"),b=Math.max(x.height,7),T=b/y;isNaN(T)&&(T=1/0);var C=Math.max(0,Math.floor(T)),M=q8t(e.model),I=M.lastAutoInterval,P=M.lastTickCount;return I!=null&&P!=null&&Math.abs(I-C)<=1&&Math.abs(P-h)<=1&&I>C?C=I:(M.lastTickCount=h,M.lastAutoInterval=C),C},t}(Oi);S5.prototype.dataToAngle=Oi.prototype.dataToCoord;S5.prototype.angleToData=Oi.prototype.coordToData;var Pct=S5;var b5=["radius","angle"],$8t=function(){function a(t){this.dimensions=b5,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Ect,this._angleAxis=new Pct,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},a.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},a.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(t){var e=[],o=this._angleAxis,l=this._radiusAxis;return o.scale.type===t&&e.push(o),l.scale.type===t&&e.push(l),e},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},a.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},a.prototype.pointToData=function(t,e){var o=this.pointToCoord(t);return[this._radiusAxis.radiusToData(o[0],e),this._angleAxis.angleToData(o[1],e)]},a.prototype.pointToCoord=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,l=this.getAngleAxis(),f=l.getExtent(),h=Math.min(f[0],f[1]),v=Math.max(f[0],f[1]);l.inverse?h=v-360:v=h+360;var g=Math.sqrt(e*e+o*o);e/=g,o/=g;for(var y=Math.atan2(-o,e)/Math.PI*180,x=y<h?1:-1;y<h||y>v;)y+=x*360;return[g,y]},a.prototype.coordToPoint=function(t){var e=t[0],o=t[1]/180*Math.PI,l=Math.cos(o)*e+this.cx,f=-Math.sin(o)*e+this.cy;return[l,f]},a.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),o=e.getExtent().slice();o[0]>o[1]&&o.reverse();var l=t.getExtent(),f=Math.PI/180,h=1e-4;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-l[0]*f,endAngle:-l[1]*f,clockwise:t.inverse,contain:function(v,g){var y=v-this.cx,x=g-this.cy,b=y*y+x*x,T=this.r,C=this.r0;return T!==C&&b-h<=T*T&&b+h>=C*C}}},a.prototype.convertToPixel=function(t,e,o){var l=Rct(e);return l===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,e,o){var l=Rct(e);return l===this?this.pointToData(o):null},a}();function Rct(a){var t=a.seriesModel,e=a.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var Oct=$8t;function K8t(a,t,e){var o=t.get("center"),l=e.getWidth(),f=e.getHeight();a.cx=Pt(o[0],l),a.cy=Pt(o[1],f);var h=a.getRadiusAxis(),v=Math.min(l,f)/2,g=t.get("radius");g==null?g=[0,"100%"]:yt(g)||(g=[0,g]);var y=[Pt(g[0],v),Pt(g[1],v)];h.inverse?h.setExtent(y[1],y[0]):h.setExtent(y[0],y[1])}function j8t(a,t){var e=this,o=e.getAngleAxis(),l=e.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),a.eachSeries(function(v){if(v.coordinateSystem===e){var g=v.getData();X(sm(g,"radius"),function(y){l.scale.unionExtentFromData(g,y)}),X(sm(g,"angle"),function(y){o.scale.unionExtentFromData(g,y)})}}),Xo(o.scale,o.model),Xo(l.scale,l.model),o.type==="category"&&!o.onBand){var f=o.getExtent(),h=360/o.scale.count();o.inverse?f[1]+=h:f[1]-=h,o.setExtent(f[0],f[1])}}function J8t(a){return a.mainType==="angleAxis"}function kct(a,t){var e;if(a.type=t.get("type"),a.scale=Ll(t),a.onBand=t.get("boundaryGap")&&a.type==="category",a.inverse=t.get("inverse"),J8t(t)){a.inverse=a.inverse!==t.get("clockwise");var o=t.get("startAngle"),l=(e=t.get("endAngle"))!==null&&e!==void 0?e:o+(a.inverse?-360:360);a.setExtent(o,l)}t.axis=a,a.model=t}var Q8t={dimensions:b5,create:function(a,t){var e=[];return a.eachComponent("polar",function(o,l){var f=new Oct(l+"");f.update=j8t;var h=f.getRadiusAxis(),v=f.getAngleAxis(),g=o.findAxisModel("radiusAxis"),y=o.findAxisModel("angleAxis");kct(h,g),kct(v,y),K8t(f,o,t),e.push(f),o.coordinateSystem=f,f.model=o}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var l=o.getReferringComponents("polar",pr).models[0];o.coordinateSystem=l.coordinateSystem}}),e}},Nct=Q8t;var t9t=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function HM(a,t,e){t[1]>t[0]&&(t=t.slice().reverse());var o=a.coordToPoint([t[0],e]),l=a.coordToPoint([t[1],e]);return{x1:o[0],y1:o[1],x2:l[0],y2:l[1]}}function WM(a){var t=a.getRadiusAxis();return t.inverse?0:1}function zct(a){var t=a[0],e=a[a.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&a.pop()}var e9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,o){if(this.group.removeAll(),!!e.get("show")){var l=e.axis,f=l.polar,h=f.getRadiusAxis().getExtent(),v=l.getTicksCoords(),g=l.getMinorTicksCoords(),y=_t(l.getViewLabels(),function(x){x=Ht(x);var b=l.scale,T=b.type==="ordinal"?b.getRawOrdinalNumber(x.tickValue):x.tickValue;return x.coord=l.dataToCoord(T),x});zct(y),zct(v),X(t9t,function(x){e.get([x,"show"])&&(!l.scale.isBlank()||x==="axisLine")&&r9t[x](this.group,e,f,v,g,h,y)},this)}},t.type="angleAxis",t}(Mn),r9t={axisLine:function(a,t,e,o,l,f){var h=t.getModel(["axisLine","lineStyle"]),v=e.getAngleAxis(),g=Math.PI/180,y=v.getExtent(),x=WM(e),b=x?0:1,T,C=Math.abs(y[1]-y[0])===360?"Circle":"Arc";f[b]===0?T=new be[C]({shape:{cx:e.cx,cy:e.cy,r:f[x],startAngle:-y[0]*g,endAngle:-y[1]*g,clockwise:v.inverse},style:h.getLineStyle(),z2:1,silent:!0}):T=new Au({shape:{cx:e.cx,cy:e.cy,r:f[x],r0:f[b]},style:h.getLineStyle(),z2:1,silent:!0}),T.style.fill=null,a.add(T)},axisTick:function(a,t,e,o,l,f){var h=t.getModel("axisTick"),v=(h.get("inside")?-1:1)*h.get("length"),g=f[WM(e)],y=_t(o,function(x){return new Er({shape:HM(e,[g,g+v],x.coord)})});a.add(ji(y,{style:zt(h.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,t,e,o,l,f){if(l.length){for(var h=t.getModel("axisTick"),v=t.getModel("minorTick"),g=(h.get("inside")?-1:1)*v.get("length"),y=f[WM(e)],x=[],b=0;b<l.length;b++)for(var T=0;T<l[b].length;T++)x.push(new Er({shape:HM(e,[y,y+g],l[b][T].coord)}));a.add(ji(x,{style:zt(v.getModel("lineStyle").getLineStyle(),zt(h.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,t,e,o,l,f,h){var v=t.getCategories(!0),g=t.getModel("axisLabel"),y=g.get("margin"),x=t.get("triggerEvent");X(h,function(b,T){var C=g,M=b.tickValue,I=f[WM(e)],P=e.coordToPoint([I+y,b.coord]),O=e.cx,N=e.cy,V=Math.abs(P[0]-O)/I<.3?"center":P[0]>O?"left":"right",F=Math.abs(P[1]-N)/I<.3?"middle":P[1]>N?"top":"bottom";if(v&&v[M]){var U=v[M];Ft(U)&&U.textStyle&&(C=new Fe(U.textStyle,g,g.ecModel))}var H=new _e({silent:pa.isLabelSilent(t),style:Je(C,{x:P[0],y:P[1],fill:C.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:b.formattedLabel,align:V,verticalAlign:F})});if(a.add(H),x){var Z=pa.makeAxisEventDataBase(t);Z.targetType="axisLabel",Z.value=b.rawLabel,Kt(H).eventData=Z}},this)},splitLine:function(a,t,e,o,l,f){var h=t.getModel("splitLine"),v=h.getModel("lineStyle"),g=v.get("color"),y=0;g=g instanceof Array?g:[g];for(var x=[],b=0;b<o.length;b++){var T=y++%g.length;x[T]=x[T]||[],x[T].push(new Er({shape:HM(e,f,o[b].coord)}))}for(var b=0;b<x.length;b++)a.add(ji(x[b],{style:zt({stroke:g[b%g.length]},v.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(a,t,e,o,l,f){if(l.length){for(var h=t.getModel("minorSplitLine"),v=h.getModel("lineStyle"),g=[],y=0;y<l.length;y++)for(var x=0;x<l[y].length;x++)g.push(new Er({shape:HM(e,f,l[y][x].coord)}));a.add(ji(g,{style:v.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(a,t,e,o,l,f){if(o.length){var h=t.getModel("splitArea"),v=h.getModel("areaStyle"),g=v.get("color"),y=0;g=g instanceof Array?g:[g];for(var x=[],b=Math.PI/180,T=-o[0].coord*b,C=Math.min(f[0],f[1]),M=Math.max(f[0],f[1]),I=t.get("clockwise"),P=1,O=o.length;P<=O;P++){var N=P===O?o[0].coord:o[P].coord,V=y++%g.length;x[V]=x[V]||[],x[V].push(new $r({shape:{cx:e.cx,cy:e.cy,r0:C,r:M,startAngle:T,endAngle:-N*b,clockwise:I},silent:!0})),T=-N*b}for(var P=0;P<x.length;P++)a.add(ji(x[P],{style:zt({fill:g[P%g.length]},v.getAreaStyle()),silent:!0}))}}},Vct=e9t;var i9t=["axisLine","axisTickLabel","axisName"],a9t=["splitLine","splitArea","minorSplitLine"],n9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,o){if(this.group.removeAll(),!!e.get("show")){var l=this._axisGroup,f=this._axisGroup=new Ut;this.group.add(f);var h=e.axis,v=h.polar,g=v.getAngleAxis(),y=h.getTicksCoords(),x=h.getMinorTicksCoords(),b=g.getExtent()[0],T=h.getExtent(),C=s9t(v,e,b),M=new pa(e,C);X(i9t,M.add,M),f.add(M.getGroup()),Iu(l,f,e),X(a9t,function(I){e.get([I,"show"])&&!h.scale.isBlank()&&o9t[I](this.group,e,v,b,T,y,x)},this)}},t.type="radiusAxis",t}(Mn),o9t={splitLine:function(a,t,e,o,l,f){var h=t.getModel("splitLine"),v=h.getModel("lineStyle"),g=v.get("color"),y=0,x=e.getAngleAxis(),b=Math.PI/180,T=x.getExtent(),C=Math.abs(T[1]-T[0])===360?"Circle":"Arc";g=g instanceof Array?g:[g];for(var M=[],I=0;I<f.length;I++){var P=y++%g.length;M[P]=M[P]||[],M[P].push(new be[C]({shape:{cx:e.cx,cy:e.cy,r:Math.max(f[I].coord,0),startAngle:-T[0]*b,endAngle:-T[1]*b,clockwise:x.inverse}}))}for(var I=0;I<M.length;I++)a.add(ji(M[I],{style:zt({stroke:g[I%g.length],fill:null},v.getLineStyle()),silent:!0}))},minorSplitLine:function(a,t,e,o,l,f,h){if(h.length){for(var v=t.getModel("minorSplitLine"),g=v.getModel("lineStyle"),y=[],x=0;x<h.length;x++)for(var b=0;b<h[x].length;b++)y.push(new la({shape:{cx:e.cx,cy:e.cy,r:h[x][b].coord}}));a.add(ji(y,{style:zt({fill:null},g.getLineStyle()),silent:!0}))}},splitArea:function(a,t,e,o,l,f){if(f.length){var h=t.getModel("splitArea"),v=h.getModel("areaStyle"),g=v.get("color"),y=0;g=g instanceof Array?g:[g];for(var x=[],b=f[0].coord,T=1;T<f.length;T++){var C=y++%g.length;x[C]=x[C]||[],x[C].push(new $r({shape:{cx:e.cx,cy:e.cy,r0:b,r:f[T].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),b=f[T].coord}for(var T=0;T<x.length;T++)a.add(ji(x[T],{style:zt({fill:g[T%g.length]},v.getAreaStyle()),silent:!0}))}}};function s9t(a,t,e){return{position:[a.cx,a.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var Bct=n9t;function Fct(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Uct(a,t){return t.dim+a.model.componentIndex}function l9t(a,t,e){var o={},l=u9t(Ee(t.getSeriesByType(a),function(f){return!t.isSeriesFiltered(f)&&f.coordinateSystem&&f.coordinateSystem.type==="polar"}));t.eachSeriesByType(a,function(f){if(f.coordinateSystem.type==="polar"){var h=f.getData(),v=f.coordinateSystem,g=v.getBaseAxis(),y=Uct(v,g),x=Fct(f),b=l[y][x],T=b.offset,C=b.width,M=v.getOtherAxis(g),I=f.coordinateSystem.cx,P=f.coordinateSystem.cy,O=f.get("barMinHeight")||0,N=f.get("barMinAngle")||0;o[x]=o[x]||[];for(var V=h.mapDimension(M.dim),F=h.mapDimension(g.dim),U=Xa(h,V),H=g.dim!=="radius"||!f.get("roundCap",!0),Z=M.model,$=Z.get("startValue"),K=M.dataToCoord($||0),Q=0,rt=h.count();Q<rt;Q++){var nt=h.get(V,Q),ot=h.get(F,Q),ft=nt>=0?"p":"n",lt=K;U&&(o[x][ot]||(o[x][ot]={p:K,n:K}),lt=o[x][ot][ft]);var pt=void 0,xt=void 0,st=void 0,dt=void 0;if(M.dim==="radius"){var Et=M.dataToCoord(nt)-K,At=g.dataToCoord(ot);Math.abs(Et)<O&&(Et=(Et<0?-1:1)*O),pt=lt,xt=lt+Et,st=At-T,dt=st-C,U&&(o[x][ot][ft]=xt)}else{var Zt=M.dataToCoord(nt,H)-K,qt=g.dataToCoord(ot);Math.abs(Zt)<N&&(Zt=(Zt<0?-1:1)*N),pt=qt+T,xt=pt+C,st=lt,dt=lt+Zt,U&&(o[x][ot][ft]=dt)}h.setItemLayout(Q,{cx:I,cy:P,r0:pt,r:xt,startAngle:-st*Math.PI/180,endAngle:-dt*Math.PI/180,clockwise:st>=dt})}}})}function u9t(a){var t={};X(a,function(o,l){var f=o.getData(),h=o.coordinateSystem,v=h.getBaseAxis(),g=Uct(h,v),y=v.getExtent(),x=v.type==="category"?v.getBandWidth():Math.abs(y[1]-y[0])/f.count(),b=t[g]||{bandWidth:x,remainedWidth:x,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},T=b.stacks;t[g]=b;var C=Fct(o);T[C]||b.autoWidthCount++,T[C]=T[C]||{width:0,maxWidth:0};var M=Pt(o.get("barWidth"),x),I=Pt(o.get("barMaxWidth"),x),P=o.get("barGap"),O=o.get("barCategoryGap");M&&!T[C].width&&(M=Math.min(b.remainedWidth,M),T[C].width=M,b.remainedWidth-=M),I&&(T[C].maxWidth=I),P!=null&&(b.gap=P),O!=null&&(b.categoryGap=O)});var e={};return X(t,function(o,l){e[l]={};var f=o.stacks,h=o.bandWidth,v=Pt(o.categoryGap,h),g=Pt(o.gap,1),y=o.remainedWidth,x=o.autoWidthCount,b=(y-v)/(x+(x-1)*g);b=Math.max(b,0),X(f,function(I,P){var O=I.maxWidth;O&&O<b&&(O=Math.min(O,y),I.width&&(O=Math.min(O,I.width)),y-=O,I.width=O,x--)}),b=(y-v)/(x+(x-1)*g),b=Math.max(b,0);var T=0,C;X(f,function(I,P){I.width||(I.width=b),C=I,T+=I.width*(1+g)}),C&&(T-=C.width*g);var M=-T/2;X(f,function(I,P){e[l][P]=e[l][P]||{offset:M,width:I.width},M+=I.width*(1+g)})}),e}var Gct=l9t;var f9t={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},c9t={splitNumber:5},h9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t}(He);function w5(a){Ae(Gs),Mn.registerAxisPointerClass("PolarAxisPointer",Dct),a.registerCoordinateSystem("polar",Nct),a.registerComponentModel(Mct),a.registerComponentView(h9t),Us(a,"angle",Lct,f9t),Us(a,"radius",Ict,c9t),a.registerComponentView(Vct),a.registerComponentView(Bct),a.registerLayout(Qt(Gct,"bar"))}function zS(a,t){t=t||{};var e=a.coordinateSystem,o=a.axis,l={},f=o.position,h=o.orient,v=e.getRect(),g=[v.x,v.x+v.width,v.y,v.y+v.height],y={horizontal:{top:g[2],bottom:g[3]},vertical:{left:g[0],right:g[1]}};l.position=[h==="vertical"?y.vertical[f]:g[0],h==="horizontal"?y.horizontal[f]:g[3]];var x={horizontal:0,vertical:1};l.rotation=Math.PI/2*x[h];var b={top:-1,bottom:1,right:1,left:-1};l.labelDirection=l.tickDirection=l.nameDirection=b[f],a.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),wr(t.labelInside,a.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var T=t.rotate;return T==null&&(T=a.get(["axisLabel","rotate"])),l.labelRotation=f==="top"?-T:T,l.z2=1,l}var p9t=["axisLine","axisTickLabel","axisName"],v9t=["splitArea","splitLine"],d9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,o,l,f){var h=this.group;h.removeAll();var v=this._axisGroup;this._axisGroup=new Ut;var g=zS(e),y=new pa(e,g);X(p9t,y.add,y),h.add(this._axisGroup),h.add(y.getGroup()),X(v9t,function(x){e.get([x,"show"])&&g9t[x](this,this.group,this._axisGroup,e)},this),Iu(v,this._axisGroup,e),a.prototype.render.call(this,e,o,l,f)},t.prototype.remove=function(){QD(this)},t.type="singleAxis",t}(Mn),g9t={splitLine:function(a,t,e,o){var l=o.axis;if(!l.scale.isBlank()){var f=o.getModel("splitLine"),h=f.getModel("lineStyle"),v=h.get("color");v=v instanceof Array?v:[v];for(var g=h.get("width"),y=o.coordinateSystem.getRect(),x=l.isHorizontal(),b=[],T=0,C=l.getTicksCoords({tickModel:f}),M=[],I=[],P=0;P<C.length;++P){var O=l.toGlobalCoord(C[P].coord);x?(M[0]=O,M[1]=y.y,I[0]=O,I[1]=y.y+y.height):(M[0]=y.x,M[1]=O,I[0]=y.x+y.width,I[1]=O);var N=new Er({shape:{x1:M[0],y1:M[1],x2:I[0],y2:I[1]},silent:!0});Lu(N.shape,g);var V=T++%v.length;b[V]=b[V]||[],b[V].push(N)}for(var F=h.getLineStyle(["color"]),P=0;P<b.length;++P)t.add(ji(b[P],{style:zt({stroke:v[P%v.length]},F),silent:!0}))}},splitArea:function(a,t,e,o){JD(a,e,o,o)}},Wct=d9t;var Yct=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(xe);or(Yct,qo.prototype);var YM=Yct;var m9t=function(a){at(t,a);function t(e,o,l,f,h){var v=a.call(this,e,o,l)||this;return v.type=f||"value",v.position=h||"bottom",v}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,o){return this.coordinateSystem.pointToData(e)[0]},t}(Oi),Zct=m9t;var T5=["single"],y9t=function(){function a(t,e,o){this.type="single",this.dimension="single",this.dimensions=T5,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,o)}return a.prototype._init=function(t,e,o){var l=this.dimension,f=new Zct(l,Ll(t),[0,0],t.get("type"),t.get("position")),h=f.type==="category";f.onBand=h&&t.get("boundaryGap"),f.inverse=t.get("inverse"),f.orient=t.get("orient"),t.axis=f,f.model=t,f.coordinateSystem=this,this._axis=f},a.prototype.update=function(t,e){t.eachSeries(function(o){if(o.coordinateSystem===this){var l=o.getData();X(l.mapDimensionsAll(this.dimension),function(f){this._axis.scale.unionExtentFromData(l,f)},this),Xo(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(t,e){this._rect=ar({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,o=e.isHorizontal(),l=o?[0,t.width]:[0,t.height],f=e.inverse?1:0;e.setExtent(l[f],l[1-f]),this._updateAxisTransform(e,o?t.x:t.y)},a.prototype._updateAxisTransform=function(t,e){var o=t.getExtent(),l=o[0]+o[1],f=t.isHorizontal();t.toGlobalCoord=f?function(h){return h+e}:function(h){return l-h+e},t.toLocalCoord=f?function(h){return h-e}:function(h){return l-h+e}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(t){var e=this.getRect(),o=this.getAxis(),l=o.orient;return l==="horizontal"?o.contain(o.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:o.contain(o.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},a.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]},a.prototype.dataToPoint=function(t){var e=this.getAxis(),o=this.getRect(),l=[],f=e.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),l[f]=e.toGlobalCoord(e.dataToCoord(+t)),l[1-f]=f===0?o.y+o.height/2:o.x+o.width/2,l},a.prototype.convertToPixel=function(t,e,o){var l=Xct(e);return l===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,e,o){var l=Xct(e);return l===this?this.pointToData(o):null},a}();function Xct(a){var t=a.seriesModel,e=a.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var qct=y9t;function _9t(a,t){var e=[];return a.eachComponent("singleAxis",function(o,l){var f=new qct(o,a,t);f.name="single_"+l,f.resize(o,t),o.coordinateSystem=f,e.push(f)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var l=o.getReferringComponents("singleAxis",pr).models[0];o.coordinateSystem=l&&l.coordinateSystem}}),e}var x9t={create:_9t,dimensions:T5},$ct=x9t;var Kct=["x","y"],S9t=["width","height"],b9t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,o,l,f,h){var v=l.axis,g=v.coordinateSystem,y=A5(g,1-ZM(v)),x=g.dataToPoint(o)[0],b=f.get("type");if(b&&b!=="none"){var T=zm(f),C=w9t[b](v,x,y);C.style=T,e.graphicKey=C.type,e.pointer=C}var M=zS(l);VM(o,e,M,l,f,h)},t.prototype.getHandleTransform=function(e,o,l){var f=zS(o,{labelInside:!1});f.labelMargin=l.get(["handle","margin"]);var h=OS(o.axis,e,f);return{x:h[0],y:h[1],rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,l,f){var h=l.axis,v=h.coordinateSystem,g=ZM(h),y=A5(v,g),x=[e.x,e.y];x[g]+=o[g],x[g]=Math.min(y[1],x[g]),x[g]=Math.max(y[0],x[g]);var b=A5(v,1-g),T=(b[1]+b[0])/2,C=[T,T];return C[g]=x[g],{x:x[0],y:x[1],rotation:e.rotation,cursorPoint:C,tooltipOption:{verticalAlign:"middle"}}},t}(Nm),w9t={line:function(a,t,e){var o=Vm([t,e[0]],[t,e[1]],ZM(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,t,e){var o=a.getBandWidth(),l=e[1]-e[0];return{type:"Rect",shape:BM([t-o/2,e[0]],[o,l],ZM(a))}}};function ZM(a){return a.isHorizontal()?0:1}function A5(a,t){var e=a.getRect();return[e[Kct[t]],e[Kct[t]]+e[S9t[t]]]}var jct=b9t;var T9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t}(He);function C5(a){Ae(Gs),Mn.registerAxisPointerClass("SingleAxisPointer",jct),a.registerComponentView(T9t),a.registerComponentView(Wct),a.registerComponentModel(YM),Us(a,"single",YM,YM.defaultOption),a.registerCoordinateSystem("single",$ct)}var A9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o,l){var f=Fo(e);a.prototype.init.apply(this,arguments),Jct(e,f)},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),Jct(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(xe);function Jct(a,t){var e=a.cellSize,o;yt(e)?o=e:o=a.cellSize=[e,e],o.length===1&&(o[1]=o[0]);var l=_t([0,1],function(f){return Crt(t,f)&&(o[f]="auto"),o[f]!=null&&o[f]!=="auto"});bn(a,t,{type:"box",ignoreSize:l})}var Qct=A9t;var C9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){var f=this.group;f.removeAll();var h=e.coordinateSystem,v=h.getRangeInfo(),g=h.getOrient(),y=o.getLocaleModel();this._renderDayRect(e,v,f),this._renderLines(e,v,g,f),this._renderYearText(e,v,g,f),this._renderMonthText(e,y,g,f),this._renderWeekText(e,y,v,g,f)},t.prototype._renderDayRect=function(e,o,l){for(var f=e.coordinateSystem,h=e.getModel("itemStyle").getItemStyle(),v=f.getCellWidth(),g=f.getCellHeight(),y=o.start.time;y<=o.end.time;y=f.getNextNDay(y,1).time){var x=f.dataToRect([y],!1).tl,b=new ge({shape:{x:x[0],y:x[1],width:v,height:g},cursor:"default",style:h});l.add(b)}},t.prototype._renderLines=function(e,o,l,f){var h=this,v=e.coordinateSystem,g=e.getModel(["splitLine","lineStyle"]).getLineStyle(),y=e.get(["splitLine","show"]),x=g.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var b=o.start,T=0;b.time<=o.end.time;T++){M(b.formatedDate),T===0&&(b=v.getDateInfo(o.start.y+"-"+o.start.m));var C=b.date;C.setMonth(C.getMonth()+1),b=v.getDateInfo(C)}M(v.getNextNDay(o.end.time,1).formatedDate);function M(I){h._firstDayOfMonth.push(v.getDateInfo(I)),h._firstDayPoints.push(v.dataToRect([I],!1).tl);var P=h._getLinePointsOfOneWeek(e,I,l);h._tlpoints.push(P[0]),h._blpoints.push(P[P.length-1]),y&&h._drawSplitline(P,g,f)}y&&this._drawSplitline(h._getEdgesPoints(h._tlpoints,x,l),g,f),y&&this._drawSplitline(h._getEdgesPoints(h._blpoints,x,l),g,f)},t.prototype._getEdgesPoints=function(e,o,l){var f=[e[0].slice(),e[e.length-1].slice()],h=l==="horizontal"?0:1;return f[0][h]=f[0][h]-o/2,f[1][h]=f[1][h]+o/2,f},t.prototype._drawSplitline=function(e,o,l){var f=new Nr({z2:20,shape:{points:e},style:o});l.add(f)},t.prototype._getLinePointsOfOneWeek=function(e,o,l){for(var f=e.coordinateSystem,h=f.getDateInfo(o),v=[],g=0;g<7;g++){var y=f.getNextNDay(h.time,g),x=f.dataToRect([y.time],!1);v[2*y.day]=x.tl,v[2*y.day+1]=x[l==="horizontal"?"bl":"tr"]}return v},t.prototype._formatterLabel=function(e,o){return Dt(e)&&e?brt(e,o):Nt(e)?e(o):o.nameMap},t.prototype._yearTextPositionControl=function(e,o,l,f,h){var v=o[0],g=o[1],y=["center","bottom"];f==="bottom"?(g+=h,y=["center","top"]):f==="left"?v-=h:f==="right"?(v+=h,y=["center","top"]):g-=h;var x=0;return(f==="left"||f==="right")&&(x=Math.PI/2),{rotation:x,x:v,y:g,style:{align:y[0],verticalAlign:y[1]}}},t.prototype._renderYearText=function(e,o,l,f){var h=e.getModel("yearLabel");if(h.get("show")){var v=h.get("margin"),g=h.get("position");g||(g=l!=="horizontal"?"top":"left");var y=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],x=(y[0][0]+y[1][0])/2,b=(y[0][1]+y[1][1])/2,T=l==="horizontal"?0:1,C={top:[x,y[T][1]],bottom:[x,y[1-T][1]],left:[y[1-T][0],b],right:[y[T][0],b]},M=o.start.y;+o.end.y>+o.start.y&&(M=M+"-"+o.end.y);var I=h.get("formatter"),P={start:o.start.y,end:o.end.y,nameMap:M},O=this._formatterLabel(I,P),N=new _e({z2:30,style:Je(h,{text:O}),silent:h.get("silent")});N.attr(this._yearTextPositionControl(N,C[g],l,g,v)),f.add(N)}},t.prototype._monthTextPositionControl=function(e,o,l,f,h){var v="left",g="top",y=e[0],x=e[1];return l==="horizontal"?(x=x+h,o&&(v="center"),f==="start"&&(g="bottom")):(y=y+h,o&&(g="middle"),f==="start"&&(v="right")),{x:y,y:x,align:v,verticalAlign:g}},t.prototype._renderMonthText=function(e,o,l,f){var h=e.getModel("monthLabel");if(h.get("show")){var v=h.get("nameMap"),g=h.get("margin"),y=h.get("position"),x=h.get("align"),b=[this._tlpoints,this._blpoints];(!v||Dt(v))&&(v&&(o=_x(v)||o),v=o.get(["time","monthAbbr"])||[]);var T=y==="start"?0:1,C=l==="horizontal"?0:1;g=y==="start"?-g:g;for(var M=x==="center",I=h.get("silent"),P=0;P<b[T].length-1;P++){var O=b[T][P].slice(),N=this._firstDayOfMonth[P];if(M){var V=this._firstDayPoints[P];O[C]=(V[C]+b[0][P+1][C])/2}var F=h.get("formatter"),U=v[+N.m-1],H={yyyy:N.y,yy:(N.y+"").slice(2),MM:N.m,M:+N.m,nameMap:U},Z=this._formatterLabel(F,H),$=new _e({z2:30,style:mt(Je(h,{text:Z}),this._monthTextPositionControl(O,M,l,y,g)),silent:I});f.add($)}}},t.prototype._weekTextPositionControl=function(e,o,l,f,h){var v="center",g="middle",y=e[0],x=e[1],b=l==="start";return o==="horizontal"?(y=y+f+(b?1:-1)*h[0]/2,v=b?"right":"left"):(x=x+f+(b?1:-1)*h[1]/2,g=b?"bottom":"top"),{x:y,y:x,align:v,verticalAlign:g}},t.prototype._renderWeekText=function(e,o,l,f,h){var v=e.getModel("dayLabel");if(v.get("show")){var g=e.coordinateSystem,y=v.get("position"),x=v.get("nameMap"),b=v.get("margin"),T=g.getFirstDayOfWeek();if(!x||Dt(x)){x&&(o=_x(x)||o);var C=o.get(["time","dayOfWeekShort"]);x=C||_t(o.get(["time","dayOfWeekAbbr"]),function(H){return H[0]})}var M=g.getNextNDay(l.end.time,7-l.lweek).time,I=[g.getCellWidth(),g.getCellHeight()];b=Pt(b,Math.min(I[1],I[0])),y==="start"&&(M=g.getNextNDay(l.start.time,-(7+l.fweek)).time,b=-b);for(var P=v.get("silent"),O=0;O<7;O++){var N=g.getNextNDay(M,O),V=g.dataToRect([N.time],!1).center,F=O;F=Math.abs((O+T)%7);var U=new _e({z2:30,style:mt(Je(v,{text:x[F]}),this._weekTextPositionControl(V,f,y,b,I)),silent:P});h.add(U)}}},t.type="calendar",t}(He),tht=C9t;var D5=864e5,D9t=function(){function a(t,e,o){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=t}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(t){t=Ei(t);var e=t.getFullYear(),o=t.getMonth()+1,l=o<10?"0"+o:""+o,f=t.getDate(),h=f<10?"0"+f:""+f,v=t.getDay();return v=Math.abs((v+7-this.getFirstDayOfWeek())%7),{y:e+"",m:l,d:h,day:v,time:t.getTime(),formatedDate:e+"-"+l+"-"+h,date:t}},a.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},a.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,l=["width","height"],f=this._model.getCellSize().slice(),h=this._model.getBoxLayoutParams(),v=this._orient==="horizontal"?[o,7]:[7,o];X([0,1],function(b){x(f,b)&&(h[l[b]]=f[b]*v[b])});var g={width:e.getWidth(),height:e.getHeight()},y=this._rect=ar(h,g);X([0,1],function(b){x(f,b)||(f[b]=y[l[b]]/v[b])});function x(b,T){return b[T]!=null&&b[T]!=="auto"}this._sw=f[0],this._sh=f[1]},a.prototype.dataToPoint=function(t,e){yt(t)&&(t=t[0]),e==null&&(e=!0);var o=this.getDateInfo(t),l=this._rangeInfo,f=o.formatedDate;if(e&&!(o.time>=l.start.time&&o.time<l.end.time+D5))return[NaN,NaN];var h=o.day,v=this._getRangeInfo([l.start.time,f]).nthWeek;return this._orient==="vertical"?[this._rect.x+h*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]:[this._rect.x+v*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]},a.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},a.prototype.dataToRect=function(t,e){var o=this.dataToPoint(t,e);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},a.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,o=Math.floor((t[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,e-1,l):this._getDateByWeeksAndDay(e,o-1,l)},a.prototype.convertToPixel=function(t,e,o){var l=eht(e);return l===this?l.dataToPoint(o):null},a.prototype.convertFromPixel=function(t,e,o){var l=eht(e);return l===this?l.pointToData(o):null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(yt(t)&&t.length===1&&(t=t[0]),yt(t))e=t;else{var o=t.toString();if(/^\d{4}$/.test(o)&&(e=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var l=this.getDateInfo(o),f=l.date;f.setMonth(f.getMonth()+1);var h=this.getNextNDay(f,-1);e=[l.formatedDate,h.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(e=[o,o])}if(!e)return t;var v=this._getRangeInfo(e);return v.start.time>v.end.time&&e.reverse(),e},a.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],o;e[0].time>e[1].time&&(o=!0,e.reverse());var l=Math.floor(e[1].time/D5)-Math.floor(e[0].time/D5)+1,f=new Date(e[0].time),h=f.getDate(),v=e[1].date.getDate();f.setDate(h+l-1);var g=f.getDate();if(g!==v)for(var y=f.getTime()-e[1].time>0?1:-1;(g=f.getDate())!==v&&(f.getTime()-e[1].time)*y>0;)l-=y,f.setDate(g-y);var x=Math.floor((l+e[0].day+6)/7),b=o?-x+1:x-1;return o&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:l,weeks:x,nthWeek:b,fweek:e[0].day,lweek:e[1].day}},a.prototype._getDateByWeeksAndDay=function(t,e,o){var l=this._getRangeInfo(o);if(t>l.weeks||t===0&&e<l.fweek||t===l.weeks&&e>l.lweek)return null;var f=(t-1)*7-l.fweek+e,h=new Date(l.start.time);return h.setDate(+l.start.d+f),this.getDateInfo(h)},a.create=function(t,e){var o=[];return t.eachComponent("calendar",function(l){var f=new a(l,t,e);o.push(f),l.coordinateSystem=f}),t.eachSeries(function(l){l.get("coordinateSystem")==="calendar"&&(l.coordinateSystem=o[l.get("calendarIndex")||0])}),o},a.dimensions=["time","value"],a}();function eht(a){var t=a.calendarModel,e=a.seriesModel,o=t?t.coordinateSystem:e?e.coordinateSystem:null;return o}var rht=D9t;function M5(a){a.registerComponentModel(Qct),a.registerComponentView(tht),a.registerCoordinateSystem("calendar",rht)}function M9t(a,t){var e=a.existing;if(t.id=a.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var o=t.parentOption;o?t.parentId=o.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function iht(a,t){var e;return X(t,function(o){a[o]!=null&&a[o]!=="auto"&&(e=!0)}),e}function L9t(a,t,e){var o=mt({},e),l=a[t],f=e.$action||"merge";if(f==="merge")if(l){if(0)var h;ne(l,o,!0),bn(l,o,{ignoreSize:!0}),mV(e,l),XM(e,l),XM(e,l,"shape"),XM(e,l,"style"),XM(e,l,"extra"),e.clipPath=l.clipPath}else a[t]=o;else f==="replace"?a[t]=o:f==="remove"&&l&&(a[t]=null)}var aht=["transition","enterFrom","leaveTo"],I9t=aht.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function XM(a,t,e){if(e&&(!a[e]&&t[e]&&(a[e]={}),a=a[e],t=t[e]),!(!a||!t))for(var o=e?aht:I9t,l=0;l<o.length;l++){var f=o[l];a[f]==null&&t[f]!=null&&(a[f]=t[f])}}function E9t(a,t){if(a&&(a.hv=t.hv=[iht(t,["left","right"]),iht(t,["top","bottom"])],a.type==="group")){var e=a,o=t;e.width==null&&(e.width=o.width=0),e.height==null&&(e.height=o.height=0)}}var nht=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,o){var l=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,e,o),this.option.elements=l},t.prototype.optionUpdated=function(e,o){var l=this.option,f=(o?l:e).elements,h=l.elements=o?[]:l.elements,v=[];this._flatten(f,v,null);var g=EA(h,v,"normalMerge"),y=this._elOptionsToUpdate=[];X(g,function(x,b){var T=x.newOption;T&&(y.push(T),M9t(x,T),L9t(h,b,T),E9t(h[b],T))},this),l.elements=Ee(h,function(x){return x&&delete x.$action,x!=null})},t.prototype._flatten=function(e,o,l){X(e,function(f){if(f){l&&(f.parentOption=l),o.push(f);var h=f.children;h&&h.length&&this._flatten(h,o,f),delete f.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(xe);var oht={path:null,compoundPath:null,group:Ut,image:yr,text:_e},ts=ue(),uht=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=Rt()},t.prototype.render=function(e,o,l){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,l)},t.prototype._updateElements=function(e){var o=e.useElOptionsToUpdate();if(o){var l=this._elMap,f=this.group,h=e.get("z"),v=e.get("zlevel");X(o,function(g){var y=kr(g.id,null),x=y!=null?l.get(y):null,b=kr(g.parentId,null),T=b!=null?l.get(b):f,C=g.type,M=g.style;C==="text"&&M&&g.hv&&g.hv[1]&&(M.textVerticalAlign=M.textBaseline=M.verticalAlign=M.align=null);var I=g.textContent,P=g.textConfig;if(M&&OM(M,C,!!P,!!I)){var O=kM(M,C,!0);!P&&O.textConfig&&(P=g.textConfig=O.textConfig),!I&&O.textContent&&(I=O.textContent)}var N=P9t(g),V=g.$action||"merge",F=V==="merge",U=V==="replace";if(F){var H=!x,Z=x;H?Z=sht(y,T,g.type,l):(Z&&(ts(Z).isNew=!1),NM(Z)),Z&&(Rm(Z,N,e,{isInit:H}),lht(Z,g,h,v))}else if(U){qM(x,g,l,e);var $=sht(y,T,g.type,l);$&&(Rm($,N,e,{isInit:!0}),lht($,g,h,v))}else V==="remove"&&(QG(x,g),qM(x,g,l,e));var K=l.get(y);if(K&&I)if(F){var Q=K.getTextContent();Q?Q.attr(I):K.setTextContent(new _e(I))}else U&&K.setTextContent(new _e(I));if(K){var rt=g.clipPath;if(rt){var nt=rt.type,ot=void 0,H=!1;if(F){var ft=K.getClipPath();H=!ft||ts(ft).type!==nt,ot=H?L5(nt):ft}else U&&(H=!0,ot=L5(nt));K.setClipPath(ot),Rm(ot,rt,e,{isInit:H}),km(ot,rt.keyframeAnimation,e)}var lt=ts(K);K.setTextConfig(P),lt.option=g,R9t(K,e,g),Vo({el:K,componentModel:e,itemName:K.name,itemTooltipOption:g.tooltip}),km(K,g.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,o){for(var l=e.option.elements,f=this.group,h=this._elMap,v=o.getWidth(),g=o.getHeight(),y=["x","y"],x=0;x<l.length;x++){var b=l[x],T=kr(b.id,null),C=T!=null?h.get(T):null;if(!(!C||!C.isGroup)){var M=C.parent,I=M===f,P=ts(C),O=ts(M);P.width=Pt(P.option.width,I?v:O.width)||0,P.height=Pt(P.option.height,I?g:O.height)||0}}for(var x=l.length-1;x>=0;x--){var b=l[x],T=kr(b.id,null),C=T!=null?h.get(T):null;if(C){var M=C.parent,O=ts(M),N=M===f?{width:v,height:g}:{width:O.width,height:O.height},V={},F=lc(C,b,N,null,{hv:b.hv,boundingMode:b.bounding},V);if(!ts(C).isNew&&F){for(var U=b.transition,H={},Z=0;Z<y.length;Z++){var $=y[Z],K=V[$];U&&(Lc(U)||ae(U,$)>=0)?H[$]=K:C[$]=K}we(C,H,e,0)}else C.attr(V)}}},t.prototype._clear=function(){var e=this,o=this._elMap;o.each(function(l){qM(l,ts(l).option,o,e._lastGraphicModel)}),this._elMap=Rt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(He);function L5(a){var t=Yt(oht,a)?oht[a]:$p(a),e=new t({});return ts(e).type=a,e}function sht(a,t,e,o){var l=L5(e);return t.add(l),o.set(a,l),ts(l).id=a,ts(l).isNew=!0,l}function qM(a,t,e,o){var l=a&&a.parent;l&&(a.type==="group"&&a.traverse(function(f){qM(f,t,e,o)}),Om(a,t,o),e.removeKey(ts(a).id))}function lht(a,t,e,o){a.isGroup||X([["cursor",ai.prototype.cursor],["zlevel",o||0],["z",e||0],["z2",0]],function(l){var f=l[0];Yt(t,f)?a[f]=oe(t[f],l[1]):a[f]==null&&(a[f]=l[1])}),X(he(t),function(l){if(l.indexOf("on")===0){var f=t[l];a[l]=Nt(f)?f:null}}),Yt(t,"draggable")&&(a.draggable=t.draggable),t.name!=null&&(a.name=t.name),t.id!=null&&(a.id=t.id)}function P9t(a){return a=mt({},a),X(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(dV),function(t){delete a[t]}),a}function R9t(a,t,e){var o=Kt(a).eventData;!a.silent&&!a.ignore&&!o&&(o=Kt(a).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:a.name}),o&&(o.info=e.info)}function I5(a){a.registerComponentModel(nht),a.registerComponentView(uht),a.registerPreprocessor(function(t){var e=t.graphic;yt(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var E5=["x","y","radius","angle","single"],O9t=["cartesian2d","polar","singleAxis"];function fht(a){var t=a.get("coordinateSystem");return ae(O9t,t)>=0}function es(a){return a+"Axis"}function cht(a,t){var e=Rt(),o=[],l=Rt();a.eachComponent({mainType:"dataZoom",query:t},function(x){l.get(x.uid)||v(x)});var f;do f=!1,a.eachComponent("dataZoom",h);while(f);function h(x){!l.get(x.uid)&&g(x)&&(v(x),f=!0)}function v(x){l.set(x.uid,!0),o.push(x),y(x)}function g(x){var b=!1;return x.eachTargetAxis(function(T,C){var M=e.get(T);M&&M[C]&&(b=!0)}),b}function y(x){x.eachTargetAxis(function(b,T){(e.get(b)||e.set(b,[]))[T]=!0})}return o}function $M(a){var t=a.ecModel,e={infoList:[],infoMap:Rt()};return a.eachTargetAxis(function(o,l){var f=t.getComponent(es(o),l);if(f){var h=f.getCoordSysModel();if(h){var v=h.uid,g=e.infoMap.get(v);g||(g={model:h,axisModels:[]},e.infoList.push(g),e.infoMap.set(v,g)),g.axisModels.push(f)}}}),e}var P5=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},a}(),k9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,o,l){var f=hht(e);this.settledOption=f,this.mergeDefaultAndTheme(e,l),this._doInit(f)},t.prototype.mergeOption=function(e){var o=hht(e);ne(this.option,e,!0),ne(this.settledOption,o,!0),this._doInit(o)},t.prototype._doInit=function(e){var o=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var l=this.settledOption;X([["start","startValue"],["end","endValue"]],function(f,h){this._rangePropMode[h]==="value"&&(o[f[0]]=l[f[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),o=this._targetAxisInfoMap=Rt(),l=this._fillSpecifiedTargetAxis(o);l?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(f){f.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var o=!1;return X(E5,function(l){var f=this.getReferringComponents(es(l),vtt);if(f.specified){o=!0;var h=new P5;X(f.models,function(v){h.add(v.componentIndex)}),e.set(l,h)}},this),o},t.prototype._fillAutoTargetAxisByOrient=function(e,o){var l=this.ecModel,f=!0;if(f){var h=o==="vertical"?"y":"x",v=l.findComponents({mainType:h+"Axis"});g(v,h)}if(f){var v=l.findComponents({mainType:"singleAxis",filter:function(x){return x.get("orient",!0)===o}});g(v,"single")}function g(y,x){var b=y[0];if(b){var T=new P5;if(T.add(b.componentIndex),e.set(x,T),f=!1,x==="x"||x==="y"){var C=b.getReferringComponents("grid",pr).models[0];C&&X(y,function(M){b.componentIndex!==M.componentIndex&&C===M.getReferringComponents("grid",pr).models[0]&&T.add(M.componentIndex)})}}}f&&X(E5,function(y){if(f){var x=l.findComponents({mainType:es(y),filter:function(T){return T.get("type",!0)==="category"}});if(x[0]){var b=new P5;b.add(x[0].componentIndex),e.set(y,b),f=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(o){!e&&(e=o)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var o=this._rangePropMode,l=this.get("rangeMode");X([["start","startValue"],["end","endValue"]],function(f,h){var v=e[f[0]]!=null,g=e[f[1]]!=null;v&&!g?o[h]="percent":!v&&g?o[h]="value":l?o[h]=l[h]:v&&(o[h]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(o,l){e==null&&(e=this.ecModel.getComponent(es(o),l))},this),e},t.prototype.eachTargetAxis=function(e,o){this._targetAxisInfoMap.each(function(l,f){X(l.indexList,function(h){e.call(o,f,h)})})},t.prototype.getAxisProxy=function(e,o){var l=this.getAxisModel(e,o);if(l)return l.__dzAxisProxy},t.prototype.getAxisModel=function(e,o){var l=this._targetAxisInfoMap.get(e);if(l&&l.indexMap[o])return this.ecModel.getComponent(es(e),o)},t.prototype.setRawRange=function(e){var o=this.option,l=this.settledOption;X([["start","startValue"],["end","endValue"]],function(f){(e[f[0]]!=null||e[f[1]]!=null)&&(o[f[0]]=l[f[0]]=e[f[0]],o[f[1]]=l[f[1]]=e[f[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var o=this.option;X(["start","startValue","end","endValue"],function(l){o[l]=e[l]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,o){if(e==null&&o==null){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataValueWindow()}else return this.getAxisProxy(e,o).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var o,l=this._targetAxisInfoMap.keys(),f=0;f<l.length;f++)for(var h=l[f],v=this._targetAxisInfoMap.get(h),g=0;g<v.indexList.length;g++){var y=this.getAxisProxy(h,v.indexList[g]);if(y.hostedBy(this))return y;o||(o=y)}return o},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(xe);function hht(a){var t={};return X(["start","end","startValue","endValue","throttle"],function(e){a.hasOwnProperty(e)&&(t[e]=a[e])}),t}var Pc=k9t;var N9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Pc),pht=N9t;var z9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l,f){this.dataZoomModel=e,this.ecModel=o,this.api=l},t.type="dataZoom",t}(He),Bm=z9t;var V9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Bm),vht=V9t;var Fm=X,dht=hi,B9t=function(){function a(t,e,o,l){this._dimName=t,this._axisIndex=e,this.ecModel=l,this._dataZoomModel=o}return a.prototype.hostedBy=function(t){return this._dataZoomModel===t},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(fht(e)){var o=es(this._dimName),l=e.getReferringComponents(o,pr).models[0];l&&this._axisIndex===l.componentIndex&&t.push(e)}},this),t},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return Ht(this._minMaxSpan)},a.prototype.calculateDataWindow=function(t){var e=this._dataExtent,o=this.getAxisModel(),l=o.axis.scale,f=this._dataZoomModel.getRangePropMode(),h=[0,100],v=[],g=[],y;Fm(["start","end"],function(T,C){var M=t[T],I=t[T+"Value"];f[C]==="percent"?(M==null&&(M=h[C]),I=l.parse($e(M,h,e))):(y=!0,I=I==null?e[C]:l.parse(I),M=$e(I,e,h)),g[C]=I==null||isNaN(I)?e[C]:I,v[C]=M==null||isNaN(M)?h[C]:M}),dht(g),dht(v);var x=this._minMaxSpan;y?b(g,v,e,h,!1):b(v,g,h,e,!0);function b(T,C,M,I,P){var O=P?"Span":"ValueSpan";Ln(0,T,M,"all",x["min"+O],x["max"+O]);for(var N=0;N<2;N++)C[N]=$e(T[N],M,I,!0),P&&(C[N]=l.parse(C[N]))}return{valueWindow:g,percentWindow:v}},a.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=F9t(this,this._dimName,e),this._updateMinMaxSpan();var o=this.calculateDataWindow(t.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var o=this._dimName,l=this.getTargetSeriesModels(),f=t.get("filterMode"),h=this._valueWindow;if(f==="none")return;Fm(l,function(g){var y=g.getData(),x=y.mapDimensionsAll(o);if(x.length){if(f==="weakFilter"){var b=y.getStore(),T=_t(x,function(C){return y.getDimensionIndex(C)},y);y.filterSelf(function(C){for(var M,I,P,O=0;O<x.length;O++){var N=b.get(T[O],C),V=!isNaN(N),F=N<h[0],U=N>h[1];if(V&&!F&&!U)return!0;V&&(P=!0),F&&(M=!0),U&&(I=!0)}return P&&M&&I})}else Fm(x,function(C){if(f==="empty")g.setData(y=y.map(C,function(I){return v(I)?I:NaN}));else{var M={};M[C]=h,y.selectRange(M)}});Fm(x,function(C){y.setApproximateExtent(h,C)})}});function v(g){return g>=h[0]&&g<=h[1]}},a.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,o=this._dataExtent;Fm(["min","max"],function(l){var f=e.get(l+"Span"),h=e.get(l+"ValueSpan");h!=null&&(h=this.getAxisModel().axis.scale.parse(h)),h!=null?f=$e(o[0]+h,o,[0,100],!0):f!=null&&(h=$e(f,[0,100],o,!0)-o[0]),t[l+"Span"]=f,t[l+"ValueSpan"]=h},this)},a.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,o=this._valueWindow;if(e){var l=wg(o,[0,500]);l=Math.min(l,20);var f=t.axis.scale.rawExtentInfo;e[0]!==0&&f.setDeterminedMinMax("min",+o[0].toFixed(l)),e[1]!==100&&f.setDeterminedMinMax("max",+o[1].toFixed(l)),f.freeze()}},a}();function F9t(a,t,e){var o=[1/0,-1/0];Fm(e,function(h){ant(o,h.getData(),t)});var l=a.getAxisModel(),f=xD(l.axis.scale,l,o).calculate();return[f.min,f.max]}var ght=B9t;var U9t={getTargetSeries:function(a){function t(l){a.eachComponent("dataZoom",function(f){f.eachTargetAxis(function(h,v){var g=a.getComponent(es(h),v);l(h,v,g,f)})})}t(function(l,f,h,v){h.__dzAxisProxy=null});var e=[];t(function(l,f,h,v){h.__dzAxisProxy||(h.__dzAxisProxy=new ght(l,f,v,a),e.push(h.__dzAxisProxy))});var o=Rt();return X(e,function(l){X(l.getTargetSeriesModels(),function(f){o.set(f.uid,f)})}),o},overallReset:function(a,t){a.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(o,l){e.getAxisProxy(o,l).reset(e)}),e.eachTargetAxis(function(o,l){e.getAxisProxy(o,l).filterData(e,t)})}),a.eachComponent("dataZoom",function(e){var o=e.findRepresentativeAxisProxy();if(o){var l=o.getDataPercentWindow(),f=o.getDataValueWindow();e.setCalculatedRange({start:l[0],end:l[1],startValue:f[0],endValue:f[1]})}})}},mht=U9t;function R5(a){a.registerAction("dataZoom",function(t,e){var o=cht(e,t);X(o,function(l){l.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var yht=!1;function Lv(a){yht||(yht=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,mht),R5(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function _ht(a){a.registerComponentModel(pht),a.registerComponentView(vht),Lv(a)}var Yi=function(){function a(){}return a}();var xht={};function Rc(a,t){xht[a]=t}function KM(a){return xht[a]}var H9t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;X(this.option.feature,function(o,l){var f=KM(l);f&&(f.getDefaultOption&&(f.defaultOption=f.getDefaultOption(e)),ne(o,f.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(xe),Sht=H9t;function bht(a,t,e){var o=t.getBoxLayoutParams(),l=t.get("padding"),f={width:e.getWidth(),height:e.getHeight()},h=ar(o,f,l);Is(t.get("orient"),a,t.get("itemGap"),h.width,h.height),lc(a,o,f,l)}function jM(a,t){var e=Kn(t.get("padding")),o=t.getItemStyle(["color","opacity"]);return o.fill=t.get("backgroundColor"),a=new ge({shape:{x:a.x-e[3],y:a.y-e[0],width:a.width+e[1]+e[3],height:a.height+e[0]+e[2],r:t.get("borderRadius")},style:o,silent:!0,z2:-1}),a}var Y9t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,o,l,f){var h=this.group;if(h.removeAll(),!e.get("show"))return;var v=+e.get("itemSize"),g=e.get("orient")==="vertical",y=e.get("feature")||{},x=this._features||(this._features={}),b=[];X(y,function(M,I){b.push(I)}),new ha(this._featureNames||[],b).add(T).update(T).remove(Qt(T,null)).execute(),this._featureNames=b;function T(M,I){var P=b[M],O=b[I],N=y[P],V=new Fe(N,e,e.ecModel),F;if(f&&f.newTitle!=null&&f.featureName===P&&(N.title=f.newTitle),P&&!O){if(Z9t(P))F={onclick:V.option.onclick,featureName:P};else{var U=KM(P);if(!U)return;F=new U}x[P]=F}else if(F=x[O],!F)return;F.uid=Bo("toolbox-feature"),F.model=V,F.ecModel=o,F.api=l;var H=F instanceof Yi;if(!P&&O){H&&F.dispose&&F.dispose(o,l);return}if(!V.get("show")||H&&F.unusable){H&&F.remove&&F.remove(o,l);return}C(V,F,P),V.setIconStatus=function(Z,$){var K=this.option,Q=this.iconPaths;K.iconStatus=K.iconStatus||{},K.iconStatus[Z]=$,Q[Z]&&($==="emphasis"?Aa:Ca)(Q[Z])},F instanceof Yi&&F.render&&F.render(V,o,l,f)}function C(M,I,P){var O=M.getModel("iconStyle"),N=M.getModel(["emphasis","iconStyle"]),V=I instanceof Yi&&I.getIcons?I.getIcons():M.get("icon"),F=M.get("title")||{},U,H;Dt(V)?(U={},U[P]=V):U=V,Dt(F)?(H={},H[P]=F):H=F;var Z=M.iconPaths={};X(U,function($,K){var Q=Ms($,{},{x:-v/2,y:-v/2,width:v,height:v});Q.setStyle(O.getItemStyle());var rt=Q.ensureState("emphasis");rt.style=N.getItemStyle();var nt=new _e({style:{text:H[K],align:N.get("textAlign"),borderRadius:N.get("textBorderRadius"),padding:N.get("textPadding"),fill:null,font:Gg({fontStyle:N.get("textFontStyle"),fontFamily:N.get("textFontFamily"),fontSize:N.get("textFontSize"),fontWeight:N.get("textFontWeight")},o)},ignore:!0});Q.setTextContent(nt),Vo({el:Q,componentModel:e,itemName:K,formatterParamsExtra:{title:H[K]}}),Q.__title=H[K],Q.on("mouseover",function(){var ot=N.getItemStyle(),ft=g?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";nt.setStyle({fill:N.get("textFill")||ot.fill||ot.stroke||"#000",backgroundColor:N.get("textBackgroundColor")}),Q.setTextConfig({position:N.get("textPosition")||ft}),nt.ignore=!e.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){M.get(["iconStatus",K])!=="emphasis"&&l.leaveEmphasis(this),nt.hide()}),(M.get(["iconStatus",K])==="emphasis"?Aa:Ca)(Q),h.add(Q),Q.on("click",It(I.onclick,I,o,l,K)),Z[K]=Q})}bht(h,e,l),h.add(jM(h.getBoundingRect(),e)),g||h.eachChild(function(M){var I=M.__title,P=M.ensureState("emphasis"),O=P.textConfig||(P.textConfig={}),N=M.getTextContent(),V=N&&N.ensureState("emphasis");if(V&&!Nt(V)&&I){var F=V.style||(V.style={}),U=_l(I,_e.makeFont(F)),H=M.x+h.x,Z=M.y+h.y+v,$=!1;Z+U.height>l.getHeight()&&(O.position="top",$=!0);var K=$?-5-U.height:v+10;H+U.width/2>l.getWidth()?(O.position=["100%",K],F.align="right"):H-U.width/2<0&&(O.position=[0,K],F.align="left")}})},t.prototype.updateView=function(e,o,l,f){X(this._features,function(h){h instanceof Yi&&h.updateView&&h.updateView(h.model,o,l,f)})},t.prototype.remove=function(e,o){X(this._features,function(l){l instanceof Yi&&l.remove&&l.remove(e,o)}),this.group.removeAll()},t.prototype.dispose=function(e,o){X(this._features,function(l){l instanceof Yi&&l.dispose&&l.dispose(e,o)})},t.type="toolbox",t}(He);function Z9t(a){return a.indexOf("my")===0}var wht=Y9t;var X9t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,o){var l=this.model,f=l.get("name")||e.get("title.0.text")||"echarts",h=o.getZr().painter.getType()==="svg",v=h?"svg":l.get("type",!0)||"png",g=o.getConnectedDataURL({type:v,backgroundColor:l.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")}),y=Ie.browser;if(typeof MouseEvent=="function"&&(y.newEdge||!y.ie&&!y.edge)){var x=document.createElement("a");x.download=f+"."+v,x.target="_blank",x.href=g;var b=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(b)}else if(window.navigator.msSaveOrOpenBlob||h){var T=g.split(","),C=T[0].indexOf("base64")>-1,M=h?decodeURIComponent(T[1]):T[1];C&&(M=window.atob(M));var I=f+"."+v;if(window.navigator.msSaveOrOpenBlob){for(var P=M.length,O=new Uint8Array(P);P--;)O[P]=M.charCodeAt(P);var N=new Blob([O]);window.navigator.msSaveOrOpenBlob(N,I)}else{var V=document.createElement("iframe");document.body.appendChild(V);var F=V.contentWindow,U=F.document;U.open("image/svg+xml","replace"),U.write(M),U.close(),F.focus(),U.execCommand("SaveAs",!0,I),document.body.removeChild(V)}}else{var H=l.get("lang"),Z='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',$=window.open();$.document.write(Z),$.document.title=f}},t.getDefaultOption=function(e){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},t}(Yi),Tht=X9t;var Aht="__ec_magicType_stack__";var q9t=[["line","bar"],["stack"]],$9t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,o=e.get("icon"),l={};return X(e.get("type"),function(f){o[f]&&(l[f]=o[f])}),l},t.getDefaultOption=function(e){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},t.prototype.onclick=function(e,o,l){var f=this.model,h=f.get(["seriesIndex",l]);if(Cht[l]){var v={series:[]},g=function(b){var T=b.subType,C=b.id,M=Cht[l](T,C,b,f);M&&(zt(M,b.option),v.series.push(M));var I=b.coordinateSystem;if(I&&I.type==="cartesian2d"&&(l==="line"||l==="bar")){var P=I.getAxesByScale("ordinal")[0];if(P){var O=P.dim,N=O+"Axis",V=b.getReferringComponents(N,pr).models[0],F=V.componentIndex;v[N]=v[N]||[];for(var U=0;U<=F;U++)v[N][F]=v[N][F]||{};v[N][F].boundaryGap=l==="bar"}}};X(q9t,function(b){ae(b,l)>=0&&X(b,function(T){f.setIconStatus(T,"normal")})}),f.setIconStatus(l,"emphasis"),e.eachComponent({mainType:"series",query:h==null?null:{seriesIndex:h}},g);var y,x=l;l==="stack"&&(y=ne({stack:f.option.title.tiled,tiled:f.option.title.stack},f.option.title),f.get(["iconStatus",l])!=="emphasis"&&(x="tiled")),o.dispatchAction({type:"changeMagicType",currentType:x,newOption:v,newTitle:y,featureName:"magicType"})}},t}(Yi),Cht={line:function(a,t,e,o){if(a==="bar")return ne({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(a,t,e,o){if(a==="line")return ne({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(a,t,e,o){var l=e.get("stack")===Aht;if(a==="line"||a==="bar")return o.setIconStatus("stack",l?"normal":"emphasis"),ne({id:t,stack:l?"":Aht},o.get(["option","stack"])||{},!0)}};Ra({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,t){t.mergeOption(a.newOption)});var Dht=$9t;var QM=new Array(60).join("-"),Um="	";function K9t(a){var t={},e=[],o=[];return a.eachRawSeries(function(l){var f=l.coordinateSystem;if(f&&(f.type==="cartesian2d"||f.type==="polar")){var h=f.getBaseAxis();if(h.type==="category"){var v=h.dim+"_"+h.index;t[v]||(t[v]={categoryAxis:h,valueAxis:f.getOtherAxis(h),series:[]},o.push({axisDim:h.dim,axisIndex:h.index})),t[v].series.push(l)}else e.push(l)}else e.push(l)}),{seriesGroupByCategoryAxis:t,other:e,meta:o}}function j9t(a){var t=[];return X(a,function(e,o){var l=e.categoryAxis,f=e.valueAxis,h=f.dim,v=[" "].concat(_t(e.series,function(C){return C.name})),g=[l.model.getCategories()];X(e.series,function(C){var M=C.getRawData();g.push(C.getRawData().mapArray(M.mapDimension(h),function(I){return I}))});for(var y=[v.join(Um)],x=0;x<g[0].length;x++){for(var b=[],T=0;T<g.length;T++)b.push(g[T][x]);y.push(b.join(Um))}t.push(y.join(`
`))}),t.join(`

`+QM+`

`)}function J9t(a){return _t(a,function(t){var e=t.getRawData(),o=[t.name],l=[];return e.each(e.dimensions,function(){for(var f=arguments.length,h=arguments[f-1],v=e.getName(h),g=0;g<f-1;g++)l[g]=arguments[g];o.push((v?v+Um:"")+l.join(Um))}),o.join(`
`)}).join(`

`+QM+`

`)}function Q9t(a){var t=K9t(a);return{value:Ee([j9t(t.seriesGroupByCategoryAxis),J9t(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+QM+`

`),meta:t.meta}}function JM(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function t7t(a){var t=a.slice(0,a.indexOf(`
`));if(t.indexOf(Um)>=0)return!0}var O5=new RegExp("["+Um+"]+","g");function e7t(a){for(var t=a.split(/\n+/g),e=JM(t.shift()).split(O5),o=[],l=_t(e,function(g){return{name:g,data:[]}}),f=0;f<t.length;f++){var h=JM(t[f]).split(O5);o.push(h.shift());for(var v=0;v<h.length;v++)l[v]&&(l[v].data[f]=h[v])}return{series:l,categories:o}}function r7t(a){for(var t=a.split(/\n+/g),e=JM(t.shift()),o=[],l=0;l<t.length;l++){var f=JM(t[l]);if(f){var h=f.split(O5),v="",g=void 0,y=!1;isNaN(h[0])?(y=!0,v=h[0],h=h.slice(1),o[l]={name:v,value:[]},g=o[l].value):g=o[l]=[];for(var x=0;x<h.length;x++)g.push(+h[x]);g.length===1&&(y?o[l].value=g[0]:o[l]=g[0])}}return{name:e,data:o}}function i7t(a,t){var e=a.split(new RegExp(`
*`+QM+`
*`,"g")),o={series:[]};return X(e,function(l,f){if(t7t(l)){var h=e7t(l),v=t[f],g=v.axisDim+"Axis";v&&(o[g]=o[g]||[],o[g][v.axisIndex]={data:h.categories},o.series=o.series.concat(h.series))}else{var h=r7t(l);o.series.push(h)}}),o}var a7t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var l=o.getDom(),f=this.model;this._dom&&l.removeChild(this._dom);var h=document.createElement("div");h.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",h.style.backgroundColor=f.get("backgroundColor")||"#fff";var v=document.createElement("h4"),g=f.get("lang")||[];v.innerHTML=g[0]||f.get("title"),v.style.cssText="margin:10px 20px",v.style.color=f.get("textColor");var y=document.createElement("div"),x=document.createElement("textarea");y.style.cssText="overflow:auto";var b=f.get("optionToContent"),T=f.get("contentToOption"),C=Q9t(e);if(Nt(b)){var M=b(o.getOption());Dt(M)?y.innerHTML=M:hu(M)&&y.appendChild(M)}else{x.readOnly=f.get("readOnly");var I=x.style;I.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",I.color=f.get("textColor"),I.borderColor=f.get("textareaBorderColor"),I.backgroundColor=f.get("textareaColor"),x.value=C.value,y.appendChild(x)}var P=C.meta,O=document.createElement("div");O.style.cssText="position:absolute;bottom:5px;left:0;right:0";var N="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",V=document.createElement("div"),F=document.createElement("div");N+=";background-color:"+f.get("buttonColor"),N+=";color:"+f.get("buttonTextColor");var U=this;function H(){l.removeChild(h),U._dom=null}R_(V,"click",H),R_(F,"click",function(){if(T==null&&b!=null||T!=null&&b==null){H();return}var Z;try{Nt(T)?Z=T(y,o.getOption()):Z=i7t(x.value,P)}catch($){throw H(),new Error("Data view format error "+$)}Z&&o.dispatchAction({type:"changeDataView",newOption:Z}),H()}),V.innerHTML=g[1],F.innerHTML=g[2],F.style.cssText=V.style.cssText=N,!f.get("readOnly")&&O.appendChild(F),O.appendChild(V),h.appendChild(v),h.appendChild(y),h.appendChild(O),y.style.height=l.clientHeight-80+"px",l.appendChild(h),this._dom=h},t.prototype.remove=function(e,o){this._dom&&o.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.getDefaultOption=function(e){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},t}(Yi);function n7t(a,t){return _t(a,function(e,o){var l=t&&t[o];if(Ft(l)&&!yt(l)){var f=Ft(e)&&!yt(e);f||(e={value:e});var h=l.name!=null&&e.name==null;return e=zt(e,l),h&&delete e.name,e}else return e})}Ra({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,t){var e=[];X(a.newOption.series,function(o){var l=t.getSeriesByName(o.name)[0];if(!l)e.push(mt({type:"scatter"},o));else{var f=l.get("data");e.push({name:o.name,data:n7t(o.data,f)})}}),t.mergeOption(zt({series:e},a.newOption))});var Mht=a7t;var Lht=X,Iht=ue();function Eht(a,t){var e=k5(a);Lht(t,function(o,l){for(var f=e.length-1;f>=0;f--){var h=e[f];if(h[l])break}if(f<0){var v=a.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(v){var g=v.getPercentRange();e[0][l]={dataZoomId:l,start:g[0],end:g[1]}}}}),e.push(t)}function Pht(a){var t=k5(a),e=t[t.length-1];t.length>1&&t.pop();var o={};return Lht(e,function(l,f){for(var h=t.length-1;h>=0;h--)if(l=t[h][f],l){o[f]=l;break}}),o}function Rht(a){Iht(a).snapshots=null}function Oht(a){return k5(a).length}function k5(a){var t=Iht(a);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var o7t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,o){Rht(e),o.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return o},t}(Yi);Ra({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,t){t.resetOption("recreate")});var Nht=o7t;var s7t=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],l7t=function(){function a(t,e,o){var l=this;this._targetInfoList=[];var f=zht(e,t);X(u7t,function(h,v){(!o||!o.include||ae(o.include,v)>=0)&&h(f,l._targetInfoList)})}return a.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(o,l,f){if((o.coordRanges||(o.coordRanges=[])).push(l),!o.coordRange){o.coordRange=l;var h=N5[o.brushType](0,f,l);o.__rangeOffset={offset:Uht[o.brushType](h.values,o.range,[1,1]),xyMinMax:h.xyMinMax}}}),t},a.prototype.matchOutputRanges=function(t,e,o){X(t,function(l){var f=this.findTargetInfo(l,e);f&&f!==!0&&X(f.coordSyses,function(h){var v=N5[l.brushType](1,h,l.range,!0);o(l,v.values,h,e)})},this)},a.prototype.setInputRanges=function(t,e){X(t,function(o){var l=this.findTargetInfo(o,e);if(o.range=o.range||[],l&&l!==!0){o.panelId=l.panelId;var f=N5[o.brushType](0,l.coordSys,o.coordRange),h=o.__rangeOffset;o.range=h?Uht[o.brushType](f.values,h.offset,f7t(f.xyMinMax,h.xyMinMax)):f.values}},this)},a.prototype.makePanelOpts=function(t,e){return _t(this._targetInfoList,function(o){var l=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:e?e(o):null,clipPath:bM(l),isTargetByCursor:TM(l,t,o.coordSysModel),getLinearBrushOtherExtent:wM(l)}})},a.prototype.controlSeries=function(t,e,o){var l=this.findTargetInfo(t,o);return l===!0||l&&ae(l.coordSyses,e.coordinateSystem)>=0},a.prototype.findTargetInfo=function(t,e){for(var o=this._targetInfoList,l=zht(e,t),f=0;f<o.length;f++){var h=o[f],v=t.panelId;if(v){if(h.panelId===v)return h}else for(var g=0;g<Vht.length;g++)if(Vht[g](l,h))return h}return!0},a}();function z5(a){return a[0]>a[1]&&a.reverse(),a}function zht(a,t){return Kf(a,t,{includeMainTypes:s7t})}var u7t={grid:function(a,t){var e=a.xAxisModels,o=a.yAxisModels,l=a.gridModels,f=Rt(),h={},v={};!e&&!o&&!l||(X(e,function(g){var y=g.axis.grid.model;f.set(y.id,y),h[y.id]=!0}),X(o,function(g){var y=g.axis.grid.model;f.set(y.id,y),v[y.id]=!0}),X(l,function(g){f.set(g.id,g),h[g.id]=!0,v[g.id]=!0}),f.each(function(g){var y=g.coordinateSystem,x=[];X(y.getCartesians(),function(b,T){(ae(e,b.getAxis("x").model)>=0||ae(o,b.getAxis("y").model)>=0)&&x.push(b)}),t.push({panelId:"grid--"+g.id,gridModel:g,coordSysModel:g,coordSys:x[0],coordSyses:x,getPanelRect:Bht.grid,xAxisDeclared:h[g.id],yAxisDeclared:v[g.id]})}))},geo:function(a,t){X(a.geoModels,function(e){var o=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:o,coordSyses:[o],getPanelRect:Bht.geo})})}},Vht=[function(a,t){var e=a.xAxisModel,o=a.yAxisModel,l=a.gridModel;return!l&&e&&(l=e.axis.grid.model),!l&&o&&(l=o.axis.grid.model),l&&l===t.gridModel},function(a,t){var e=a.geoModel;return e&&e===t.geoModel}],Bht={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,t=a.getBoundingRect().clone();return t.applyTransform(qn(a)),t}},N5={lineX:Qt(Fht,0),lineY:Qt(Fht,1),rect:function(a,t,e,o){var l=a?t.pointToData([e[0][0],e[1][0]],o):t.dataToPoint([e[0][0],e[1][0]],o),f=a?t.pointToData([e[0][1],e[1][1]],o):t.dataToPoint([e[0][1],e[1][1]],o),h=[z5([l[0],f[0]]),z5([l[1],f[1]])];return{values:h,xyMinMax:h}},polygon:function(a,t,e,o){var l=[[1/0,-1/0],[1/0,-1/0]],f=_t(e,function(h){var v=a?t.pointToData(h,o):t.dataToPoint(h,o);return l[0][0]=Math.min(l[0][0],v[0]),l[1][0]=Math.min(l[1][0],v[1]),l[0][1]=Math.max(l[0][1],v[0]),l[1][1]=Math.max(l[1][1],v[1]),v});return{values:f,xyMinMax:l}}};function Fht(a,t,e,o){var l=e.getAxis(["x","y"][a]),f=z5(_t([0,1],function(v){return t?l.coordToData(l.toLocalCoord(o[v]),!0):l.toGlobalCoord(l.dataToCoord(o[v]))})),h=[];return h[a]=f,h[1-a]=[NaN,NaN],{values:f,xyMinMax:h}}var Uht={lineX:Qt(Ght,0),lineY:Qt(Ght,1),rect:function(a,t,e){return[[a[0][0]-e[0]*t[0][0],a[0][1]-e[0]*t[0][1]],[a[1][0]-e[1]*t[1][0],a[1][1]-e[1]*t[1][1]]]},polygon:function(a,t,e){return _t(a,function(o,l){return[o[0]-e[0]*t[l][0],o[1]-e[1]*t[l][1]]})}};function Ght(a,t,e,o){return[t[0]-o[a]*e[0],t[1]-o[a]*e[1]]}function f7t(a,t){var e=Hht(a),o=Hht(t),l=[e[0]/o[0],e[1]/o[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}function Hht(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var VS=l7t;var V5=X,c7t=ctt("toolbox-dataZoom_");var h7t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,o,l,f){this._brushController||(this._brushController=new Im(l.getZr()),this._brushController.on("brush",It(this._onBrush,this)).mount()),d7t(e,o,this,f,l),v7t(e,o)},t.prototype.onclick=function(e,o,l){p7t[l].call(this)},t.prototype.remove=function(e,o){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,o){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var o=e.areas;if(!e.isEnd||!o.length)return;var l={},f=this.ecModel;this._brushController.updateCovers([]);var h=new VS(B5(this.model),f,{include:["grid"]});h.matchOutputRanges(o,f,function(y,x,b){if(b.type==="cartesian2d"){var T=y.brushType;T==="rect"?(v("x",b,x[0]),v("y",b,x[1])):v({lineX:"x",lineY:"y"}[T],b,x)}}),Eht(f,l),this._dispatchZoomAction(l);function v(y,x,b){var T=x.getAxis(y),C=T.model,M=g(y,C,f),I=M.findRepresentativeAxisProxy(C).getMinMaxSpan();(I.minValueSpan!=null||I.maxValueSpan!=null)&&(b=Ln(0,b.slice(),T.scale.getExtent(),0,I.minValueSpan,I.maxValueSpan)),M&&(l[M.id]={dataZoomId:M.id,startValue:b[0],endValue:b[1]})}function g(y,x,b){var T;return b.eachComponent({mainType:"dataZoom",subType:"select"},function(C){var M=C.getAxisModel(y,x.componentIndex);M&&(T=C)}),T}},t.prototype._dispatchZoomAction=function(e){var o=[];V5(e,function(l,f){o.push(Ht(l))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},t.getDefaultOption=function(e){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},t}(Yi),p7t={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(Pht(this.ecModel))}};function B5(a){var t={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function v7t(a,t){a.setIconStatus("back",Oht(t)>1?"emphasis":"normal")}function d7t(a,t,e,o,l){var f=e._isZoomActive;o&&o.type==="takeGlobalCursor"&&(f=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),e._isZoomActive=f,a.setIconStatus("zoom",f?"emphasis":"normal");var h=new VS(B5(a),t,{include:["grid"]}),v=h.makePanelOpts(l,function(g){return g.xAxisDeclared&&!g.yAxisDeclared?"lineX":!g.xAxisDeclared&&g.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(v).enableBrush(f&&v.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}Rrt("dataZoom",function(a){var t=a.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var o=t.getModel(e),l=[],f=B5(o),h=Kf(a,f);V5(h.xAxisModels,function(g){return v(g,"xAxis","xAxisIndex")}),V5(h.yAxisModels,function(g){return v(g,"yAxis","yAxisIndex")});function v(g,y,x){var b=g.componentIndex,T={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:c7t+y+b};T[x]=b,l.push(T)}return l});var Wht=h7t;function F5(a){a.registerComponentModel(Sht),a.registerComponentView(wht),Rc("saveAsImage",Tht),Rc("magicType",Dht),Rc("dataView",Mht),Rc("dataZoom",Wht),Rc("restore",Nht),Ae(_ht)}var g7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(xe),Yht=g7t;function tL(a){var t=a.get("confine");return t!=null?!!t:a.get("renderMode")==="richText"}function Zht(a){if(Ie.domSupported){for(var t=document.documentElement.style,e=0,o=a.length;e<o;e++)if(a[e]in t)return a[e]}}var U5=Zht(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xht=Zht(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function G5(a,t){if(!a)return t;t=Zg(t,!0);var e=a.indexOf(t);return a=e===-1?t:"-"+a.slice(0,e)+"-"+t,a.toLowerCase()}function qht(a,t){var e=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return e?t?e[t]:e:null}var m7t=G5(Xht,"transition"),H5=G5(U5,"transform"),y7t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ie.transform3dSupported?"will-change:transform;":"");function _7t(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function x7t(a,t,e){if(!Dt(e)||e==="inside")return"";var o=a.get("backgroundColor"),l=a.get("borderWidth");t=Ls(t);var f=_7t(e),h=Math.max(Math.round(l)*1.5,6),v="",g=H5+":",y;ae(["left","right"],f)>-1?(v+="top:50%",g+="translateY(-50%) rotate("+(y=f==="left"?-225:-45)+"deg)"):(v+="left:50%",g+="translateX(-50%) rotate("+(y=f==="top"?225:45)+"deg)");var x=y*Math.PI/180,b=h+l,T=b*Math.abs(Math.cos(x))+b*Math.abs(Math.sin(x)),C=Math.round(((T-Math.SQRT2*l)/2+Math.SQRT2*l-(T-b)/2)*100)/100;v+=";"+f+":-"+C+"px";var M=t+" solid "+l+"px;",I=["position:absolute;width:"+h+"px;height:"+h+"px;z-index:-1;",v+";"+g+";","border-bottom:"+M,"border-right:"+M,"background-color:"+o+";"];return'<div style="'+I.join("")+'"></div>'}function S7t(a,t){var e="cubic-bezier(0.23,1,0.32,1)",o=" "+a/2+"s "+e,l="opacity"+o+",visibility"+o;return t||(o=" "+a+"s "+e,l+=Ie.transformSupported?","+H5+o:",left"+o+",top"+o),m7t+":"+l}function $ht(a,t,e){var o=a.toFixed(0)+"px",l=t.toFixed(0)+"px";if(!Ie.transformSupported)return e?"top:"+l+";left:"+o+";":[["top",l],["left",o]];var f=Ie.transform3dSupported,h="translate"+(f?"3d":"")+"("+o+","+l+(f?",0":"")+")";return e?"top:0;left:0;"+H5+":"+h+";":[["top",0],["left",0],[U5,h]]}function b7t(a){var t=[],e=a.get("fontSize"),o=a.getTextColor();o&&t.push("color:"+o),t.push("font:"+a.getFont());var l=oe(a.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+l+"px");var f=a.get("textShadowColor"),h=a.get("textShadowBlur")||0,v=a.get("textShadowOffsetX")||0,g=a.get("textShadowOffsetY")||0;return f&&h&&t.push("text-shadow:"+v+"px "+g+"px "+h+"px "+f),X(["decoration","align"],function(y){var x=a.get(y);x&&t.push("text-"+y+":"+x)}),t.join(";")}function w7t(a,t,e){var o=[],l=a.get("transitionDuration"),f=a.get("backgroundColor"),h=a.get("shadowBlur"),v=a.get("shadowColor"),g=a.get("shadowOffsetX"),y=a.get("shadowOffsetY"),x=a.getModel("textStyle"),b=NC(a,"html"),T=g+"px "+y+"px "+h+"px "+v;return o.push("box-shadow:"+T),t&&l&&o.push(S7t(l,e)),f&&o.push("background-color:"+f),X(["width","color","radius"],function(C){var M="border-"+C,I=Zg(M),P=a.get(I);P!=null&&o.push(M+":"+P+(C==="color"?"":"px"))}),o.push(b7t(x)),b!=null&&o.push("padding:"+Kn(b).join("px ")+"px"),o.join(";")+";"}function Kht(a,t,e,o,l){var f=t&&t.painter;if(e){var h=f&&f.getViewportRoot();h&&tQ(a,h,e,o,l)}else{a[0]=o,a[1]=l;var v=f&&f.getViewportRootOffset();v&&(a[0]+=v.offsetLeft,a[1]+=v.offsetTop)}a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}var T7t=function(){function a(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ie.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var l=this._zr=t.getZr(),f=e.appendTo,h=f&&(Dt(f)?document.querySelector(f):hu(f)?f:Nt(f)&&f(t.getDom()));Kht(this._styleCoord,l,h,t.getWidth()/2,t.getHeight()/2),(h||t.getDom()).appendChild(o),this._api=t,this._container=h;var v=this;o.onmouseenter=function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0},o.onmousemove=function(g){if(g=g||window.event,!v._enterable){var y=l.handler,x=l.painter.getViewportRoot();fn(x,g,!0),y.dispatch("mousemove",g)}},o.onmouseleave=function(){v._inContent=!1,v._enterable&&v._show&&v.hideLater(v._hideDelay)}}return a.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),o=qht(e,"position"),l=e.style;l.position!=="absolute"&&o!=="absolute"&&(l.position="relative")}var f=t.get("alwaysShowContent");f&&this._moveIfResized(),this._alwaysShowContent=f,this.el.className=t.get("className")||""},a.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,l=o.style,f=this._styleCoord;o.innerHTML?l.cssText=y7t+w7t(t,!this._firstShow,this._longHide)+$ht(f[0],f[1],!0)+("border-color:"+Ls(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(t,e,o,l,f){var h=this.el;if(t==null){h.innerHTML="";return}var v="";if(Dt(f)&&o.get("trigger")==="item"&&!tL(o)&&(v=x7t(o,l,f)),Dt(t))h.innerHTML=t+v;else if(t){h.innerHTML="",yt(t)||(t=[t]);for(var g=0;g<t.length;g++)hu(t[g])&&t[g].parentNode!==h&&h.appendChild(t[g]);if(v&&h.childNodes.length){var y=document.createElement("div");y.innerHTML=v,h.appendChild(y)}}},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},a.prototype.moveTo=function(t,e){if(this.el){var o=this._styleCoord;if(Kht(o,this._zr,this._container,t,e),o[0]!=null&&o[1]!=null){var l=this.el.style,f=$ht(o[0],o[1]);X(f,function(h){l[h[0]]=h[1]})}}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},a.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Ie.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(It(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},a}(),jht=T7t;var A7t=function(){function a(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Qht(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return a.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(t,e,o,l,f){var h=this;Ft(t)&&Qe(""),this.el&&this._zr.remove(this.el);var v=o.getModel("textStyle");this.el=new _e({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:l,textShadowColor:v.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:NC(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),X(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(y){h.el.style[y]=o.get(y)}),X(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(y){h.el.style[y]=v.get(y)||0}),this._zr.add(this.el);var g=this;this.el.on("mouseover",function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0}),this.el.on("mouseout",function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1})},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=Jht(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},a.prototype.moveTo=function(t,e){var o=this.el;if(o){var l=this._styleCoord;Qht(l,this._zr,t,e),t=l[0],e=l[1];var f=o.style,h=Oc(f.borderWidth||0),v=Jht(f);o.x=t+h+v.left,o.y=e+h+v.top,o.markRedraw()}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(It(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function Oc(a){return Math.max(0,a)}function Jht(a){var t=Oc(a.shadowBlur||0),e=Oc(a.shadowOffsetX||0),o=Oc(a.shadowOffsetY||0);return{left:Oc(t-e),right:Oc(t+e),top:Oc(t-o),bottom:Oc(t+o)}}function Qht(a,t,e,o){a[0]=e,a[1]=o,a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}var tpt=A7t;var C7t=new ge({shape:{x:-1,y:-1,width:2,height:2}}),D7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o){if(!(Ie.node||!o.getDom())){var l=e.getComponent("tooltip"),f=this._renderMode=gtt(l.get("renderMode"));this._tooltipContent=f==="richText"?new tpt(o):new jht(o,{appendTo:l.get("appendToBody",!0)?"body":l.get("appendTo",!0)})}},t.prototype.render=function(e,o,l){if(!(Ie.node||!l.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=o,this._api=l;var f=this._tooltipContent;f.update(e),f.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?Ho(this,"_updatePosition",50,"fixRate"):Nu(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,o=e.get("triggerOn");UM("itemTooltip",this._api,It(function(l,f,h){o!=="none"&&(o.indexOf(l)>=0?this._tryShow(f,h):l==="leave"&&this._hide(h))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,o=this._ecModel,l=this._api,f=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&f!=="none"&&f!=="click"){var h=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&h.manuallyShowTip(e,o,l,{x:h._lastX,y:h._lastY,dataByCoordSys:h._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,o,l,f){if(!(f.from===this.uid||Ie.node||!l.getDom())){var h=ept(f,l);this._ticket="";var v=f.dataByCoordSys,g=E7t(f,o,l);if(g){var y=g.el.getBoundingRect().clone();y.applyTransform(g.el.transform),this._tryShow({offsetX:y.x+y.width/2,offsetY:y.y+y.height/2,target:g.el,position:f.position,positionDefault:"bottom"},h)}else if(f.tooltip&&f.x!=null&&f.y!=null){var x=C7t;x.x=f.x,x.y=f.y,x.update(),Kt(x).tooltipConfig={name:null,option:f.tooltip},this._tryShow({offsetX:f.x,offsetY:f.y,target:x},h)}else if(v)this._tryShow({offsetX:f.x,offsetY:f.y,position:f.position,dataByCoordSys:v,tooltipOption:f.tooltipOption},h);else if(f.seriesIndex!=null){if(this._manuallyAxisShowTip(e,o,l,f))return;var b=NS(f,o),T=b.point[0],C=b.point[1];T!=null&&C!=null&&this._tryShow({offsetX:T,offsetY:C,target:b.el,position:f.position,positionDefault:"bottom"},h)}else f.x!=null&&f.y!=null&&(l.dispatchAction({type:"updateAxisPointer",x:f.x,y:f.y}),this._tryShow({offsetX:f.x,offsetY:f.y,position:f.position,target:l.getZr().findHover(f.x,f.y).target},h))}},t.prototype.manuallyHideTip=function(e,o,l,f){var h=this._tooltipContent;this._tooltipModel&&h.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,f.from!==this.uid&&this._hide(ept(f,l))},t.prototype._manuallyAxisShowTip=function(e,o,l,f){var h=f.seriesIndex,v=f.dataIndex,g=o.getComponent("axisPointer").coordSysAxesInfo;if(!(h==null||v==null||g==null)){var y=o.getSeriesByIndex(h);if(y){var x=y.getData(),b=BS([x.getItemModel(v),y,(y.coordinateSystem||{}).model],this._tooltipModel);if(b.get("trigger")==="axis")return l.dispatchAction({type:"updateAxisPointer",seriesIndex:h,dataIndex:v,position:f.position}),!0}}},t.prototype._tryShow=function(e,o){var l=e.target,f=this._tooltipModel;if(f){this._lastX=e.offsetX,this._lastY=e.offsetY;var h=e.dataByCoordSys;if(h&&h.length)this._showAxisTooltip(h,e);else if(l){var v=Kt(l);if(v.ssrType==="legend")return;this._lastDataByCoordSys=null;var g,y;Ps(l,function(x){if(Kt(x).dataIndex!=null)return g=x,!0;if(Kt(x).tooltipConfig!=null)return y=x,!0},!0),g?this._showSeriesItemTooltip(e,g,o):y?this._showComponentItemTooltip(e,y,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},t.prototype._showOrMove=function(e,o){var l=e.get("showDelay");o=It(o,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(o,l):o()},t.prototype._showAxisTooltip=function(e,o){var l=this._ecModel,f=this._tooltipModel,h=[o.offsetX,o.offsetY],v=BS([o.tooltipOption],f),g=this._renderMode,y=[],x=Ar("section",{blocks:[],noHeader:!0}),b=[],T=new zC;X(e,function(N){X(N.dataByAxis,function(V){var F=l.getComponent(V.axisDim+"Axis",V.axisIndex),U=V.value;if(!(!F||U==null)){var H=d5(U,F.axis,l,V.seriesDataIndices,V.valueLabelOpt),Z=Ar("section",{header:H,noHeader:!Di(H),sortBlocks:!0,blocks:[]});x.blocks.push(Z),X(V.seriesDataIndices,function($){var K=l.getSeriesByIndex($.seriesIndex),Q=$.dataIndexInside,rt=K.getDataParams(Q);if(!(rt.dataIndex<0)){rt.axisDim=V.axisDim,rt.axisIndex=V.axisIndex,rt.axisType=V.axisType,rt.axisId=V.axisId,rt.axisValue=aS(F.axis,{value:U}),rt.axisValueLabel=H,rt.marker=T.makeTooltipMarker("item",Ls(rt.color),g);var nt=EV(K.formatTooltip(Q,!0,null)),ot=nt.frag;if(ot){var ft=BS([K],f).get("valueFormatter");Z.blocks.push(ft?mt({valueFormatter:ft},ot):ot)}nt.text&&b.push(nt.text),y.push(rt)}})}})}),x.blocks.reverse(),b.reverse();var C=o.position,M=v.get("order"),I=VV(x,T,g,M,l.get("useUTC"),v.get("textStyle"));I&&b.unshift(I);var P=g==="richText"?`

`:"<br/>",O=b.join(P);this._showOrMove(v,function(){this._updateContentNotChangedOnAxis(e,y)?this._updatePosition(v,C,h[0],h[1],this._tooltipContent,y):this._showTooltipContent(v,O,y,Math.random()+"",h[0],h[1],C,null,T)})},t.prototype._showSeriesItemTooltip=function(e,o,l){var f=this._ecModel,h=Kt(o),v=h.seriesIndex,g=f.getSeriesByIndex(v),y=h.dataModel||g,x=h.dataIndex,b=h.dataType,T=y.getData(b),C=this._renderMode,M=e.positionDefault,I=BS([T.getItemModel(x),y,g&&(g.coordinateSystem||{}).model],this._tooltipModel,M?{position:M}:null),P=I.get("trigger");if(!(P!=null&&P!=="item")){var O=y.getDataParams(x,b),N=new zC;O.marker=N.makeTooltipMarker("item",Ls(O.color),C);var V=EV(y.formatTooltip(x,!1,b)),F=I.get("order"),U=I.get("valueFormatter"),H=V.frag,Z=H?VV(U?mt({valueFormatter:U},H):H,N,C,F,f.get("useUTC"),I.get("textStyle")):V.text,$="item_"+y.name+"_"+x;this._showOrMove(I,function(){this._showTooltipContent(I,Z,O,$,e.offsetX,e.offsetY,e.position,e.target,N)}),l({type:"showTip",dataIndexInside:x,dataIndex:T.getRawIndex(x),seriesIndex:v,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,o,l){var f=this._renderMode==="html",h=Kt(o),v=h.tooltipConfig,g=v.option||{},y=g.encodeHTMLContent;if(Dt(g)){var x=g;g={content:x,formatter:x},y=!0}y&&f&&g.content&&(g=Ht(g),g.content=ci(g.content));var b=[g],T=this._ecModel.getComponent(h.componentMainType,h.componentIndex);T&&b.push(T),b.push({formatter:g.content});var C=e.positionDefault,M=BS(b,this._tooltipModel,C?{position:C}:null),I=M.get("content"),P=Math.random()+"",O=new zC;this._showOrMove(M,function(){var N=Ht(M.get("formatterParams")||{});this._showTooltipContent(M,I,N,P,e.offsetX,e.offsetY,e.position,o,O)}),l({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,o,l,f,h,v,g,y,x){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var b=this._tooltipContent;b.setEnterable(e.get("enterable"));var T=e.get("formatter");g=g||e.get("position");var C=o,M=this._getNearestPoint([h,v],l,e.get("trigger"),e.get("borderColor")),I=M.color;if(T)if(Dt(T)){var P=e.ecModel.get("useUTC"),O=yt(l)?l[0]:l,N=O&&O.axisType&&O.axisType.indexOf("time")>=0;C=T,N&&(C=Pu(O.axisValue,C,P)),C=Xg(C,l,!0)}else if(Nt(T)){var V=It(function(F,U){F===this._ticket&&(b.setContent(U,x,e,I,g),this._updatePosition(e,g,h,v,b,l,y))},this);this._ticket=f,C=T(l,f,V)}else C=T;b.setContent(C,x,e,I,g),b.show(e,I),this._updatePosition(e,g,h,v,b,l,y)}},t.prototype._getNearestPoint=function(e,o,l,f){if(l==="axis"||yt(o))return{color:f||(this._renderMode==="html"?"#fff":"none")};if(!yt(o))return{color:f||o.color||o.borderColor}},t.prototype._updatePosition=function(e,o,l,f,h,v,g){var y=this._api.getWidth(),x=this._api.getHeight();o=o||e.get("position");var b=h.getSize(),T=e.get("align"),C=e.get("verticalAlign"),M=g&&g.getBoundingRect().clone();if(g&&M.applyTransform(g.transform),Nt(o)&&(o=o([l,f],v,h.el,M,{viewSize:[y,x],contentSize:b.slice()})),yt(o))l=Pt(o[0],y),f=Pt(o[1],x);else if(Ft(o)){var I=o;I.width=b[0],I.height=b[1];var P=ar(I,{width:y,height:x});l=P.x,f=P.y,T=null,C=null}else if(Dt(o)&&g){var O=I7t(o,M,b,e.get("borderWidth"));l=O[0],f=O[1]}else{var O=M7t(l,f,h,y,x,T?null:20,C?null:20);l=O[0],f=O[1]}if(T&&(l-=rpt(T)?b[0]/2:T==="right"?b[0]:0),C&&(f-=rpt(C)?b[1]/2:C==="bottom"?b[1]:0),tL(e)){var O=L7t(l,f,h,y,x);l=O[0],f=O[1]}h.moveTo(l,f)},t.prototype._updateContentNotChangedOnAxis=function(e,o){var l=this._lastDataByCoordSys,f=this._cbParamsList,h=!!l&&l.length===e.length;return h&&X(l,function(v,g){var y=v.dataByAxis||[],x=e[g]||{},b=x.dataByAxis||[];h=h&&y.length===b.length,h&&X(y,function(T,C){var M=b[C]||{},I=T.seriesDataIndices||[],P=M.seriesDataIndices||[];h=h&&T.value===M.value&&T.axisType===M.axisType&&T.axisId===M.axisId&&I.length===P.length,h&&X(I,function(O,N){var V=P[N];h=h&&O.seriesIndex===V.seriesIndex&&O.dataIndex===V.dataIndex}),f&&X(T.seriesDataIndices,function(O){var N=O.seriesIndex,V=o[N],F=f[N];V&&F&&F.data!==V.data&&(h=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=o,!!h},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,o){Ie.node||!o.getDom()||(Nu(this,"_updatePosition"),this._tooltipContent.dispose(),kS("itemTooltip",o))},t.type="tooltip",t}(He);function BS(a,t,e){var o=t.ecModel,l;e?(l=new Fe(e,o,o),l=new Fe(t.option,l,o)):l=t;for(var f=a.length-1;f>=0;f--){var h=a[f];h&&(h instanceof Fe&&(h=h.get("tooltip",!0)),Dt(h)&&(h={formatter:h}),h&&(l=new Fe(h,l,o)))}return l}function ept(a,t){return a.dispatchAction||It(t.dispatchAction,t)}function M7t(a,t,e,o,l,f,h){var v=e.getSize(),g=v[0],y=v[1];return f!=null&&(a+g+f+2>o?a-=g+f:a+=f),h!=null&&(t+y+h>l?t-=y+h:t+=h),[a,t]}function L7t(a,t,e,o,l){var f=e.getSize(),h=f[0],v=f[1];return a=Math.min(a+h,o)-h,t=Math.min(t+v,l)-v,a=Math.max(a,0),t=Math.max(t,0),[a,t]}function I7t(a,t,e,o){var l=e[0],f=e[1],h=Math.ceil(Math.SQRT2*o)+8,v=0,g=0,y=t.width,x=t.height;switch(a){case"inside":v=t.x+y/2-l/2,g=t.y+x/2-f/2;break;case"top":v=t.x+y/2-l/2,g=t.y-f-h;break;case"bottom":v=t.x+y/2-l/2,g=t.y+x+h;break;case"left":v=t.x-l-h,g=t.y+x/2-f/2;break;case"right":v=t.x+y+h,g=t.y+x/2-f/2}return[v,g]}function rpt(a){return a==="center"||a==="middle"}function E7t(a,t,e){var o=ex(a).queryOptionMap,l=o.keys()[0];if(!(!l||l==="series")){var f=jf(t,l,o.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}),h=f.models[0];if(h){var v=e.getViewOfComponentModel(h),g;if(v.group.traverse(function(y){var x=Kt(y).tooltipConfig;if(x&&x.name===a.name)return g=y,!0}),g)return{componentMainType:l,componentIndex:h.componentIndex,el:g}}}}var ipt=D7t;function W5(a){Ae(Gs),a.registerComponentModel(Yht),a.registerComponentView(ipt),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},mr),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},mr)}var P7t=["rect","polygon","keep","clear"];function Y5(a,t){var e=qe(a?a.brush:[]);if(e.length){var o=[];X(e,function(g){var y=g.hasOwnProperty("toolbox")?g.toolbox:[];y instanceof Array&&(o=o.concat(y))});var l=a&&a.toolbox;yt(l)&&(l=l[0]),l||(l={feature:{}},a.toolbox=[l]);var f=l.feature||(l.feature={}),h=f.brush||(f.brush={}),v=h.type||(h.type=[]);v.push.apply(v,o),R7t(v),t&&!v.length&&v.push.apply(v,P7t)}}function R7t(a){var t={};X(a,function(e){t[e]=1}),a.length=0,X(t,function(e,o){a.push(o)})}var apt=X;function npt(a){if(a){for(var t in a)if(a.hasOwnProperty(t))return!0}}function FS(a,t,e){var o={};return apt(t,function(f){var h=o[f]=l();apt(a[f],function(v,g){if(Jr.isValidType(g)){var y={type:g,visual:v};e&&e(y,f),h[g]=new Jr(y),g==="opacity"&&(y=Ht(y),y.type="colorAlpha",h.__hidden.__alphaForOpacity=new Jr(y))}})}),o;function l(){var f=function(){};f.prototype.__hidden=f.prototype;var h=new f;return h}}function eL(a,t,e){var o;X(e,function(l){t.hasOwnProperty(l)&&npt(t[l])&&(o=!0)}),o&&X(e,function(l){t.hasOwnProperty(l)&&npt(t[l])?a[l]=Ht(t[l]):delete a[l]})}function opt(a,t,e,o,l,f){var h={};X(a,function(b){var T=Jr.prepareVisualTypes(t[b]);h[b]=T});var v;function g(b){return Bx(e,v,b)}function y(b,T){YV(e,v,b,T)}f==null?e.each(x):e.each([f],x);function x(b,T){v=f==null?b:T;var C=e.getRawDataItem(v);if(!(C&&C.visualMap===!1))for(var M=o.call(l,b),I=t[M],P=h[M],O=0,N=P.length;O<N;O++){var V=P[O];I[V]&&I[V].applyVisual(b,g,y)}}}function spt(a,t,e,o){var l={};return X(a,function(f){var h=Jr.prepareVisualTypes(t[f]);l[f]=h}),{progress:function(h,v){var g;o!=null&&(g=v.getDimensionIndex(o));function y(U){return Bx(v,b,U)}function x(U,H){YV(v,b,U,H)}for(var b,T=v.getStore();(b=h.next())!=null;){var C=v.getRawDataItem(b);if(!(C&&C.visualMap===!1))for(var M=o!=null?T.get(g,b):b,I=e(M),P=t[I],O=l[I],N=0,V=O.length;N<V;N++){var F=O[N];P[F]&&P[F].applyVisual(M,y,x)}}}}}function fpt(a){var t=a.brushType,e={point:function(o){return lpt[t].point(o,e,a)},rect:function(o){return lpt[t].rect(o,e,a)}};return e}var lpt={lineX:upt(0),lineY:upt(1),rect:{point:function(a,t,e){return a&&e.boundingRect.contain(a[0],a[1])},rect:function(a,t,e){return a&&e.boundingRect.intersect(a)}},polygon:{point:function(a,t,e){return a&&e.boundingRect.contain(a[0],a[1])&&Vu(e.range,a[0],a[1])},rect:function(a,t,e){var o=e.range;if(!a||o.length<=1)return!1;var l=a.x,f=a.y,h=a.width,v=a.height,g=o[0];if(Vu(o,l,f)||Vu(o,l+h,f)||Vu(o,l,f+v)||Vu(o,l+h,f+v)||ie.create(a).contain(g[0],g[1])||Ug(l,f,l+h,f,o)||Ug(l,f,l,f+v,o)||Ug(l+h,f,l+h,f+v,o)||Ug(l,f+v,l+h,f+v,o))return!0}}};function upt(a){var t=["x","y"],e=["width","height"];return{point:function(o,l,f){if(o){var h=f.range,v=o[a];return US(v,h)}},rect:function(o,l,f){if(o){var h=f.range,v=[o[t[a]],o[t[a]]+o[e[a]]];return v[1]<v[0]&&v.reverse(),US(v[0],h)||US(v[1],h)||US(h[0],v)||US(h[1],v)}}}}function US(a,t){return t[0]<=a&&a<=t[1]}var cpt=["inBrush","outOfBrush"],Z5="__ecBrushSelect",X5="__ecInBrushSelectEvent";function q5(a){a.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new VS(t.option,a);e.setInputRanges(t.areas,a)})}function $5(a,t,e){var o=[],l,f;a.eachComponent({mainType:"brush"},function(h){e&&e.type==="takeGlobalCursor"&&h.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),q5(a),a.eachComponent({mainType:"brush"},function(h,v){var g={brushId:h.id,brushIndex:v,brushName:h.name,areas:Ht(h.areas),selected:[]};o.push(g);var y=h.option,x=y.brushLink,b=[],T=[],C=[],M=!1;v||(l=y.throttleType,f=y.throttleDelay);var I=_t(h.areas,function(U){var H=z7t[U.brushType],Z=zt({boundingRect:H?H(U):void 0},U);return Z.selectors=fpt(Z),Z}),P=FS(h.option,cpt,function(U){U.mappingMethod="fixed"});yt(x)&&X(x,function(U){b[U]=1});function O(U){return x==="all"||!!b[U]}function N(U){return!!U.length}a.eachSeries(function(U,H){var Z=C[H]=[];U.subType==="parallel"?V(U,H):F(U,H,Z)});function V(U,H){var Z=U.coordinateSystem;M=M||Z.hasAxisBrushed(),O(H)&&Z.eachActiveState(U.getData(),function($,K){$==="active"&&(T[K]=1)})}function F(U,H,Z){if(!(!U.brushSelector||N7t(h,H))&&(X(I,function(K){h.brushTargetManager.controlSeries(K,U,a)&&Z.push(K),M=M||N(Z)}),O(H)&&N(Z))){var $=U.getData();$.each(function(K){hpt(U,Z,$,K)&&(T[K]=1)})}}a.eachSeries(function(U,H){var Z={seriesId:U.id,seriesIndex:H,seriesName:U.name,dataIndex:[]};g.selected.push(Z);var $=C[H],K=U.getData(),Q=O(H)?function(rt){return T[rt]?(Z.dataIndex.push(K.getRawIndex(rt)),"inBrush"):"outOfBrush"}:function(rt){return hpt(U,$,K,rt)?(Z.dataIndex.push(K.getRawIndex(rt)),"inBrush"):"outOfBrush"};(O(H)?M:N($))&&opt(cpt,P,K,Q)})}),O7t(t,l,f,o,e)}function O7t(a,t,e,o,l){if(l){var f=a.getZr();if(!f[X5]){f[Z5]||(f[Z5]=k7t);var h=Ho(f,Z5,e,t);h(a,o)}}}function k7t(a,t){if(!a.isDisposed()){var e=a.getZr();e[X5]=!0,a.dispatchAction({type:"brushSelect",batch:t}),e[X5]=!1}}function hpt(a,t,e,o){for(var l=0,f=t.length;l<f;l++){var h=t[l];if(a.brushSelector(o,e,h.selectors,h))return!0}}function N7t(a,t){var e=a.option.seriesIndex;return e!=null&&e!=="all"&&(yt(e)?ae(e,t)<0:t!==e)}var z7t={rect:function(a){return ppt(a.range)},polygon:function(a){for(var t,e=a.range,o=0,l=e.length;o<l;o++){t=t||[[1/0,-1/0],[1/0,-1/0]];var f=e[o];f[0]<t[0][0]&&(t[0][0]=f[0]),f[0]>t[0][1]&&(t[0][1]=f[0]),f[1]<t[1][0]&&(t[1][0]=f[1]),f[1]>t[1][1]&&(t[1][1]=f[1])}return t&&ppt(t)}};function ppt(a){return new ie(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var V7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o){this.ecModel=e,this.api=o,this.model,(this._brushController=new Im(o.getZr())).on("brush",It(this._onBrush,this)).mount()},t.prototype.render=function(e,o,l,f){this.model=e,this._updateController(e,o,l,f)},t.prototype.updateTransform=function(e,o,l,f){q5(o),this._updateController(e,o,l,f)},t.prototype.updateVisual=function(e,o,l,f){this.updateTransform(e,o,l,f)},t.prototype.updateView=function(e,o,l,f){this._updateController(e,o,l,f)},t.prototype._updateController=function(e,o,l,f){(!f||f.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(l)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var o=this.model.id,l=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:Ht(l),$from:o}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:Ht(l),$from:o})},t.type="brush",t}(He),vpt=V7t;var B7t="#ddd",F7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,o){var l=this.option;!o&&eL(l,e,["inBrush","outOfBrush"]);var f=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:B7t},f.hasOwnProperty("liftZ")||(f.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=_t(e,function(o){return dpt(this.option,o)},this))},t.prototype.setBrushOption=function(e){this.brushOption=dpt(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(xe);function dpt(a,t){return ne({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new Fe(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},t,!0)}var gpt=F7t;var U7t=["rect","polygon","lineX","lineY","keep","clear"],G7t=function(a){at(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,o,l){var f,h,v;o.eachComponent({mainType:"brush"},function(g){f=g.brushType,h=g.brushOption.brushMode||"single",v=v||!!g.areas.length}),this._brushType=f,this._brushMode=h,X(e.get("type",!0),function(g){e.setIconStatus(g,(g==="keep"?h==="multiple":g==="clear"?v:g===f)?"emphasis":"normal")})},t.prototype.updateView=function(e,o,l){this.render(e,o,l)},t.prototype.getIcons=function(){var e=this.model,o=e.get("icon",!0),l={};return X(e.get("type",!0),function(f){o[f]&&(l[f]=o[f])}),l},t.prototype.onclick=function(e,o,l){var f=this._brushType,h=this._brushMode;l==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:l==="keep"?f:f===l?!1:l,brushMode:l==="keep"?h==="multiple"?"single":"multiple":h}})},t.getDefaultOption=function(e){var o={show:!0,type:U7t.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return o},t}(Yi),mpt=G7t;function K5(a){a.registerComponentView(vpt),a.registerComponentModel(gpt),a.registerPreprocessor(Y5),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,$5),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(o){o.setAreas(t.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},mr),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},mr),Rc("brush",mpt)}var H7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(xe),W7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,o,l){if(this.group.removeAll(),!!e.get("show")){var f=this.group,h=e.getModel("textStyle"),v=e.getModel("subtextStyle"),g=e.get("textAlign"),y=oe(e.get("textBaseline"),e.get("textVerticalAlign")),x=new _e({style:Je(h,{text:e.get("text"),fill:h.getTextColor()},{disableBox:!0}),z2:10}),b=x.getBoundingRect(),T=e.get("subtext"),C=new _e({style:Je(v,{text:T,fill:v.getTextColor(),y:b.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),M=e.get("link"),I=e.get("sublink"),P=e.get("triggerEvent",!0);x.silent=!M&&!P,C.silent=!I&&!P,M&&x.on("click",function(){tv(M,"_"+e.get("target"))}),I&&C.on("click",function(){tv(I,"_"+e.get("subtarget"))}),Kt(x).eventData=Kt(C).eventData=P?{componentType:"title",componentIndex:e.componentIndex}:null,f.add(x),T&&f.add(C);var O=f.getBoundingRect(),N=e.getBoxLayoutParams();N.width=O.width,N.height=O.height;var V=ar(N,{width:l.getWidth(),height:l.getHeight()},e.get("padding"));g||(g=e.get("left")||e.get("right"),g==="middle"&&(g="center"),g==="right"?V.x+=V.width:g==="center"&&(V.x+=V.width/2)),y||(y=e.get("top")||e.get("bottom"),y==="center"&&(y="middle"),y==="bottom"?V.y+=V.height:y==="middle"&&(V.y+=V.height/2),y=y||"top"),f.x=V.x,f.y=V.y,f.markRedraw();var F={align:g,verticalAlign:y};x.setStyle(F),C.setStyle(F),O=f.getBoundingRect();var U=V.margin,H=e.getItemStyle(["color","opacity"]);H.fill=e.get("backgroundColor");var Z=new ge({shape:{x:O.x-U[3],y:O.y-U[0],width:O.width+U[1]+U[3],height:O.height+U[0]+U[2],r:e.get("borderRadius")},style:H,subPixelOptimize:!0,silent:!0});f.add(Z)}},t.type="title",t}(He);function j5(a){a.registerComponentModel(H7t),a.registerComponentView(W7t)}var Y7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),this._initData()},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var o=this._data.count();this.option.loop?e=(e%o+o)%o:(e>=o&&(e=o-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,o=e.data||[],l=e.axisType,f=this._names=[],h;l==="category"?(h=[],X(o,function(y,x){var b=kr(As(y),""),T;Ft(y)?(T=Ht(y),T.value=x):T=x,h.push(T),f.push(b)})):h=o;var v={category:"ordinal",time:"time",value:"number"}[l]||"number",g=this._data=new Fr([{name:"value",type:v}],this);g.initData(h,f)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(xe),J5=Y7t;var ypt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=Ma(J5.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(J5);or(ypt,nv.prototype);var _pt=ypt;var Z7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t}(He),xpt=Z7t;var X7t=function(a){at(t,a);function t(e,o,l,f){var h=a.call(this,e,o,l)||this;return h.type=f||"value",h}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Oi),Spt=X7t;var Q5=Math.PI,bpt=ue(),q7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,o){this.api=o},t.prototype.render=function(e,o,l){if(this.model=e,this.api=l,this.ecModel=o,this.group.removeAll(),e.get("show",!0)){var f=this._layout(e,l),h=this._createGroup("_mainGroup"),v=this._createGroup("_labelGroup"),g=this._axis=this._createAxis(f,e);e.formatTooltip=function(y){var x=g.scale.getLabel({value:y});return Ar("nameValue",{noName:!0,value:x})},X(["AxisLine","AxisTick","Control","CurrentPointer"],function(y){this["_render"+y](f,h,g,e)},this),this._renderAxisLabel(f,v,g,e),this._position(f,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,o){var l=e.get(["label","position"]),f=e.get("orient"),h=K7t(e,o),v;l==null||l==="auto"?v=f==="horizontal"?h.y+h.height/2<o.getHeight()/2?"-":"+":h.x+h.width/2<o.getWidth()/2?"+":"-":Dt(l)?v={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[f][l]:v=l;var g={horizontal:"center",vertical:v>=0||v==="+"?"left":"right"},y={horizontal:v>=0||v==="+"?"top":"bottom",vertical:"middle"},x={horizontal:0,vertical:Q5/2},b=f==="vertical"?h.height:h.width,T=e.getModel("controlStyle"),C=T.get("show",!0),M=C?T.get("itemSize"):0,I=C?T.get("itemGap"):0,P=M+I,O=e.get(["label","rotate"])||0;O=O*Q5/180;var N,V,F,U=T.get("position",!0),H=C&&T.get("showPlayBtn",!0),Z=C&&T.get("showPrevBtn",!0),$=C&&T.get("showNextBtn",!0),K=0,Q=b;U==="left"||U==="bottom"?(H&&(N=[0,0],K+=P),Z&&(V=[K,0],K+=P),$&&(F=[Q-M,0],Q-=P)):(H&&(N=[Q-M,0],Q-=P),Z&&(V=[0,0],K+=P),$&&(F=[Q-M,0],Q-=P));var rt=[K,Q];return e.get("inverse")&&rt.reverse(),{viewRect:h,mainLength:b,orient:f,rotation:x[f],labelRotation:O,labelPosOpt:v,labelAlign:e.get(["label","align"])||g[f],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||y[f],playPosition:N,prevBtnPosition:V,nextBtnPosition:F,axisExtent:rt,controlSize:M,controlGap:I}},t.prototype._position=function(e,o){var l=this._mainGroup,f=this._labelGroup,h=e.viewRect;if(e.orient==="vertical"){var v=ri(),g=h.x,y=h.y+h.height;Ki(v,v,[-g,-y]),Wa(v,v,-Q5/2),Ki(v,v,[g,y]),h=h.clone(),h.applyTransform(v)}var x=N(h),b=N(l.getBoundingRect()),T=N(f.getBoundingRect()),C=[l.x,l.y],M=[f.x,f.y];M[0]=C[0]=x[0][0];var I=e.labelPosOpt;if(I==null||Dt(I)){var P=I==="+"?0:1;V(C,b,x,1,P),V(M,T,x,1,1-P)}else{var P=I>=0?0:1;V(C,b,x,1,P),M[1]=C[1]+I}l.setPosition(C),f.setPosition(M),l.rotation=f.rotation=e.rotation,O(l),O(f);function O(F){F.originX=x[0][0]-F.x,F.originY=x[1][0]-F.y}function N(F){return[[F.x,F.x+F.width],[F.y,F.y+F.height]]}function V(F,U,H,Z,$){F[Z]+=H[Z][$]-U[Z][$]}},t.prototype._createAxis=function(e,o){var l=o.getData(),f=o.get("axisType"),h=$7t(o,f);h.getTicks=function(){return l.mapArray(["value"],function(y){return{value:y}})};var v=l.getDataExtent("value");h.setExtent(v[0],v[1]),h.calcNiceTicks();var g=new Spt("value",h,e.axisExtent,f);return g.model=o,g},t.prototype._createGroup=function(e){var o=this[e]=new Ut;return this.group.add(o),o},t.prototype._renderAxisLine=function(e,o,l,f){var h=l.getExtent();if(f.get(["lineStyle","show"])){var v=new Er({shape:{x1:h[0],y1:0,x2:h[1],y2:0},style:mt({lineCap:"round"},f.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(v);var g=this._progressLine=new Er({shape:{x1:h[0],x2:this._currentPointer?this._currentPointer.x:h[0],y1:0,y2:0},style:zt({lineCap:"round",lineWidth:v.style.lineWidth},f.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(g)}},t.prototype._renderAxisTick=function(e,o,l,f){var h=this,v=f.getData(),g=l.scale.getTicks();this._tickSymbols=[],X(g,function(y){var x=l.dataToCoord(y.value),b=v.getItemModel(y.value),T=b.getModel("itemStyle"),C=b.getModel(["emphasis","itemStyle"]),M=b.getModel(["progress","itemStyle"]),I={x,y:0,onclick:It(h._changeTimeline,h,y.value)},P=wpt(b,T,o,I);P.ensureState("emphasis").style=C.getItemStyle(),P.ensureState("progress").style=M.getItemStyle(),ko(P);var O=Kt(P);b.get("tooltip")?(O.dataIndex=y.value,O.dataModel=f):O.dataIndex=O.dataModel=null,h._tickSymbols.push(P)})},t.prototype._renderAxisLabel=function(e,o,l,f){var h=this,v=l.getLabelModel();if(v.get("show")){var g=f.getData(),y=l.getViewLabels();this._tickLabels=[],X(y,function(x){var b=x.tickValue,T=g.getItemModel(b),C=T.getModel("label"),M=T.getModel(["emphasis","label"]),I=T.getModel(["progress","label"]),P=l.dataToCoord(x.tickValue),O=new _e({x:P,y:0,rotation:e.labelRotation-e.rotation,onclick:It(h._changeTimeline,h,b),silent:!1,style:Je(C,{text:x.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});O.ensureState("emphasis").style=Je(M),O.ensureState("progress").style=Je(I),o.add(O),ko(O),bpt(O).dataIndex=b,h._tickLabels.push(O)})}},t.prototype._renderControl=function(e,o,l,f){var h=e.controlSize,v=e.rotation,g=f.getModel("controlStyle").getItemStyle(),y=f.getModel(["emphasis","controlStyle"]).getItemStyle(),x=f.getPlayState(),b=f.get("inverse",!0);T(e.nextBtnPosition,"next",It(this._changeTimeline,this,b?"-":"+")),T(e.prevBtnPosition,"prev",It(this._changeTimeline,this,b?"+":"-")),T(e.playPosition,x?"stop":"play",It(this._handlePlayClick,this,!x),!0);function T(C,M,I,P){if(C){var O=na(oe(f.get(["controlStyle",M+"BtnSize"]),h),h),N=[0,-O/2,O,O],V=j7t(f,M+"Icon",N,{x:C[0],y:C[1],originX:h/2,originY:0,rotation:P?-v:0,rectHover:!0,style:g,onclick:I});V.ensureState("emphasis").style=y,o.add(V),ko(V)}}},t.prototype._renderCurrentPointer=function(e,o,l,f){var h=f.getData(),v=f.getCurrentIndex(),g=h.getItemModel(v).getModel("checkpointStyle"),y=this,x={onCreate:function(b){b.draggable=!0,b.drift=It(y._handlePointerDrag,y),b.ondragend=It(y._handlePointerDragend,y),Tpt(b,y._progressLine,v,l,f,!0)},onUpdate:function(b){Tpt(b,y._progressLine,v,l,f)}};this._currentPointer=wpt(g,g,this._mainGroup,{},this._currentPointer,x)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,o,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,o){var l=this._toAxisCoord(e)[0],f=this._axis,h=hi(f.getExtent().slice());l>h[1]&&(l=h[1]),l<h[0]&&(l=h[0]),this._currentPointer.x=l,this._currentPointer.markRedraw();var v=this._progressLine;v&&(v.shape.x2=l,v.dirty());var g=this._findNearestTick(l),y=this.model;(o||g!==y.getCurrentIndex()&&y.get("realtime"))&&this._changeTimeline(g)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=e.model;e._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var o=this._mainGroup.getLocalTransform();return ua(e,o,!0)},t.prototype._findNearestTick=function(e){var o=this.model.getData(),l=1/0,f,h=this._axis;return o.each(["value"],function(v,g){var y=h.dataToCoord(v),x=Math.abs(y-e);x<l&&(l=x,f=g)}),f},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var o=this.model.getCurrentIndex();e==="+"?e=o+1:e==="-"&&(e=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),o=this._tickSymbols,l=this._tickLabels;if(o)for(var f=0;f<o.length;f++)o&&o[f]&&o[f].toggleState("progress",f<e);if(l)for(var f=0;f<l.length;f++)l&&l[f]&&l[f].toggleState("progress",bpt(l[f]).dataIndex<=e)},t.type="timeline.slider",t}(xpt);function $7t(a,t){if(t=t||a.get("type"),t)switch(t){case"category":return new rS({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new gD({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new Dn}}function K7t(a,t){return ar(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},a.get("padding"))}function j7t(a,t,e,o){var l=o.style,f=Ms(a.get(["controlStyle",t]),o||{},new ie(e[0],e[1],e[2],e[3]));return l&&f.setStyle(l),f}function wpt(a,t,e,o,l,f){var h=t.get("color");if(l)l.setColor(h),e.add(l),f&&f.onUpdate(l);else{var v=a.get("symbol");l=nr(v,-1,-1,2,2,h),l.setStyle("strokeNoScale",!0),e.add(l),f&&f.onCreate(l)}var g=t.getItemStyle(["color"]);l.setStyle(g),o=ne({rectHover:!0,z2:100},o,!0);var y=Rs(a.get("symbolSize"));o.scaleX=y[0]/2,o.scaleY=y[1]/2;var x=to(a.get("symbolOffset"),y);x&&(o.x=(o.x||0)+x[0],o.y=(o.y||0)+x[1]);var b=a.get("symbolRotate");return o.rotation=(b||0)*Math.PI/180||0,l.attr(o),l.updateTransform(),l}function Tpt(a,t,e,o,l,f){if(!a.dragging){var h=l.getModel("checkpointStyle"),v=o.dataToCoord(l.getData().get("value",e));if(f||!h.get("animation",!0))a.attr({x:v,y:0}),t&&t.attr({shape:{x2:v}});else{var g={duration:h.get("animationDuration",!0),easing:h.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:v,y:0},g),t&&t.animateTo({shape:{x2:v}},g)}}}var Apt=q7t;function Cpt(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,o){var l=e.getComponent("timeline");return l&&t.currentIndex!=null&&(l.setCurrentIndex(t.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),zt({currentIndex:l.option.currentIndex},t)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var o=e.getComponent("timeline");o&&t.playState!=null&&o.setPlayState(t.playState)})}function tH(a){var t=a&&a.timeline;yt(t)||(t=t?[t]:[]),X(t,function(e){e&&J7t(e)})}function J7t(a){var t=a.type,e={number:"value",time:"time"};if(e[t]&&(a.axisType=e[t],delete a.type),Dpt(a),Iv(a,"controlPosition")){var o=a.controlStyle||(a.controlStyle={});Iv(o,"position")||(o.position=a.controlPosition),o.position==="none"&&!Iv(o,"show")&&(o.show=!1,delete o.position),delete a.controlPosition}X(a.data||[],function(l){Ft(l)&&!yt(l)&&(!Iv(l,"value")&&Iv(l,"name")&&(l.value=l.name),Dpt(l))})}function Dpt(a){var t=a.itemStyle||(a.itemStyle={}),e=t.emphasis||(t.emphasis={}),o=a.label||a.label||{},l=o.normal||(o.normal={}),f={normal:1,emphasis:1};X(o,function(h,v){!f[v]&&!Iv(l,v)&&(l[v]=h)}),e.label&&!Iv(o,"emphasis")&&(o.emphasis=e.label,delete e.label)}function Iv(a,t){return a.hasOwnProperty(t)}function eH(a){a.registerComponentModel(_pt),a.registerComponentView(Apt),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),Cpt(a),a.registerPreprocessor(tH)}function Ev(a,t){if(!a)return!1;for(var e=yt(a)?a:[a],o=0;o<e.length;o++)if(e[o]&&e[o][t])return!0;return!1}function iL(a){Zn(a,"label",["show"])}var aL=ue(),Mpt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return t.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),this._mergeOption(e,l,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Ie.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,o){this._mergeOption(e,o,!1,!1)},t.prototype._mergeOption=function(e,o,l,f){var h=this.mainType;l||o.eachSeries(function(v){var g=v.get(this.mainType,!0),y=aL(v)[h];if(!g||!g.data){aL(v)[h]=null;return}y?y._mergeOption(g,o,!0):(f&&iL(g),X(g.data,function(x){x instanceof Array?(iL(x[0]),iL(x[1])):iL(x)}),y=this.createMarkerModelFromSeries(g,this,o),mt(y,{mainType:this.mainType,seriesIndex:v.seriesIndex,name:v.name,createdBySelf:!0}),y.__hostSeries=v),aL(v)[h]=y},this)},t.prototype.formatTooltip=function(e,o,l){var f=this.getData(),h=this.getRawValue(e),v=f.getName(e);return Ar("section",{header:this.name,blocks:[Ar("nameValue",{name:v,value:h,noName:!v,noValue:h==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,o){var l=nv.prototype.getDataParams.call(this,e,o),f=this.__hostSeries;return f&&(l.seriesId=f.id,l.seriesName=f.name,l.seriesType=f.subType),l},t.getMarkerModelFromSeries=function(e,o){return aL(e)[o]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(xe);or(Mpt,nv.prototype);var Ja=Mpt;var Q7t=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,o,l){return new t(e,o,l)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Ja),Lpt=Q7t;function iH(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function tZt(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function nL(a,t,e,o,l,f){var h=[],v=Xa(t,o),g=v?t.getCalculationInfo("stackResultDimension"):o,y=sL(t,g,a),x=t.indicesOfNearest(g,y)[0];h[l]=t.get(e,x),h[f]=t.get(g,x);var b=t.get(o,x),T=oa(t.get(o,x));return T=Math.min(T,20),T>=0&&(h[f]=+h[f].toFixed(T)),[h,b]}var rH={min:Qt(nL,"min"),max:Qt(nL,"max"),average:Qt(nL,"average"),median:Qt(nL,"median")};function kc(a,t){if(t){var e=a.getData(),o=a.coordinateSystem,l=o&&o.dimensions;if(!tZt(t)&&!yt(t.coord)&&yt(l)){var f=aH(t,e,o,a);if(t=Ht(t),t.type&&rH[t.type]&&f.baseAxis&&f.valueAxis){var h=ae(l,f.baseAxis.dim),v=ae(l,f.valueAxis.dim),g=rH[t.type](e,f.baseDataDim,f.valueDataDim,h,v);t.coord=g[0],t.value=g[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!yt(l))t.coord=[];else for(var y=t.coord,x=0;x<2;x++)rH[y[x]]&&(y[x]=sL(e,e.mapDimension(l[x]),y[x]));return t}}function aH(a,t,e,o){var l={};return a.valueIndex!=null||a.valueDim!=null?(l.valueDataDim=a.valueIndex!=null?t.getDimension(a.valueIndex):a.valueDim,l.valueAxis=e.getAxis(eZt(o,l.valueDataDim)),l.baseAxis=e.getOtherAxis(l.valueAxis),l.baseDataDim=t.mapDimension(l.baseAxis.dim)):(l.baseAxis=o.getBaseAxis(),l.valueAxis=e.getOtherAxis(l.baseAxis),l.baseDataDim=t.mapDimension(l.baseAxis.dim),l.valueDataDim=t.mapDimension(l.valueAxis.dim)),l}function eZt(a,t){var e=a.getData().getDimensionInfo(t);return e&&e.coordDim}function Nc(a,t){return a&&a.containData&&t.coord&&!iH(t)?a.containData(t.coord):!0}function Ipt(a,t,e){return a&&a.containZone&&t.coord&&e.coord&&!iH(t)&&!iH(e)?a.containZone(t.coord,e.coord):!0}function oL(a,t){return a?function(e,o,l,f){var h=f<2?e.coord&&e.coord[f]:e.value;return Go(h,t[f])}:function(e,o,l,f){return Go(e.value,t[f])}}function sL(a,t,e){if(e==="average"){var o=0,l=0;return a.each(t,function(f,h){isNaN(f)||(o+=f,l++)}),o/l}else return e==="median"?a.getMedian(t):a.getDataExtent(t)[e==="max"?1:0]}var oH=ue(),rZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Rt()},t.prototype.render=function(e,o,l){var f=this,h=this.markerGroupMap;h.each(function(v){oH(v).keep=!1}),o.eachSeries(function(v){var g=Ja.getMarkerModelFromSeries(v,f.type);g&&f.renderSeries(v,g,o,l)}),h.each(function(v){!oH(v).keep&&f.group.remove(v.group)})},t.prototype.markKeep=function(e){oH(e).keep=!0},t.prototype.toggleBlurSeries=function(e,o){var l=this;X(e,function(f){var h=Ja.getMarkerModelFromSeries(f,l.type);if(h){var v=h.getData();v.eachItemGraphicEl(function(g){g&&(o?GA(g):cx(g))})}})},t.type="marker",t}(He),Gm=rZt;function Ept(a,t,e){var o=t.coordinateSystem;a.each(function(l){var f=a.getItemModel(l),h,v=Pt(f.get("x"),e.getWidth()),g=Pt(f.get("y"),e.getHeight());if(!isNaN(v)&&!isNaN(g))h=[v,g];else if(t.getMarkerPosition)h=t.getMarkerPosition(a.getValues(a.dimensions,l));else if(o){var y=a.get(o.dimensions[0],l),x=a.get(o.dimensions[1],l);h=o.dataToPoint([y,x])}isNaN(v)||(h[0]=v),isNaN(g)||(h[1]=g),a.setItemLayout(l,h)})}var iZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,o,l){o.eachSeries(function(f){var h=Ja.getMarkerModelFromSeries(f,"markPoint");h&&(Ept(h.getData(),f,l),this.markerGroupMap.get(f.id).updateLayout())},this)},t.prototype.renderSeries=function(e,o,l,f){var h=e.coordinateSystem,v=e.id,g=e.getData(),y=this.markerGroupMap,x=y.get(v)||y.set(v,new Rl),b=aZt(h,e,o);o.setData(b),Ept(o.getData(),e,f),b.each(function(T){var C=b.getItemModel(T),M=C.getShallow("symbol"),I=C.getShallow("symbolSize"),P=C.getShallow("symbolRotate"),O=C.getShallow("symbolOffset"),N=C.getShallow("symbolKeepAspect");if(Nt(M)||Nt(I)||Nt(P)||Nt(O)){var V=o.getRawValue(T),F=o.getDataParams(T);Nt(M)&&(M=M(V,F)),Nt(I)&&(I=I(V,F)),Nt(P)&&(P=P(V,F)),Nt(O)&&(O=O(V,F))}var U=C.getModel("itemStyle").getItemStyle(),H=Ml(g,"color");U.fill||(U.fill=H),b.setItemVisual(T,{symbol:M,symbolSize:I,symbolRotate:P,symbolOffset:O,symbolKeepAspect:N,style:U})}),x.updateData(b),this.group.add(x.group),b.eachItemGraphicEl(function(T){T.traverse(function(C){Kt(C).dataModel=o})}),this.markKeep(x),x.group.silent=o.get("silent")||e.get("silent")},t.type="markPoint",t}(Gm);function aZt(a,t,e){var o;a?o=_t(a&&a.dimensions,function(v){var g=t.getData().getDimensionInfo(t.getData().mapDimension(v))||{};return mt(mt({},g),{name:v,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new Fr(o,e),f=_t(e.get("data"),Qt(kc,t));a&&(f=Ee(f,Qt(Nc,a)));var h=oL(!!a,o);return l.initData(f,null,h),l}var Ppt=iZt;function sH(a){a.registerComponentModel(Lpt),a.registerComponentView(Ppt),a.registerPreprocessor(function(t){Ev(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var nZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,o,l){return new t(e,o,l)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Ja),Rpt=nZt;var lL=ue(),oZt=function(a,t,e,o){var l=a.getData(),f;if(yt(o))f=o;else{var h=o.type;if(h==="min"||h==="max"||h==="average"||h==="median"||o.xAxis!=null||o.yAxis!=null){var v=void 0,g=void 0;if(o.yAxis!=null||o.xAxis!=null)v=t.getAxis(o.yAxis!=null?"y":"x"),g=wr(o.yAxis,o.xAxis);else{var y=aH(o,l,t,a);v=y.valueAxis;var x=om(l,y.valueDataDim);g=sL(l,x,h)}var b=v.dim==="x"?0:1,T=1-b,C=Ht(o),M={coord:[]};C.type=null,C.coord=[],C.coord[T]=-1/0,M.coord[T]=1/0;var I=e.get("precision");I>=0&&ye(g)&&(g=+g.toFixed(Math.min(I,20))),C.coord[b]=M.coord[b]=g,f=[C,M,{type:h,valueIndex:o.valueIndex,value:g}]}else f=[]}var P=[kc(a,f[0]),kc(a,f[1]),mt({},f[2])];return P[2].type=P[2].type||null,ne(P[2],P[0]),ne(P[2],P[1]),P};function uL(a){return!isNaN(a)&&!isFinite(a)}function Opt(a,t,e,o){var l=1-a,f=o.dimensions[a];return uL(t[l])&&uL(e[l])&&t[a]===e[a]&&o.getAxis(f).containData(t[a])}function sZt(a,t){if(a.type==="cartesian2d"){var e=t[0].coord,o=t[1].coord;if(e&&o&&(Opt(1,e,o,a)||Opt(0,e,o,a)))return!0}return Nc(a,t[0])&&Nc(a,t[1])}function lH(a,t,e,o,l){var f=o.coordinateSystem,h=a.getItemModel(t),v,g=Pt(h.get("x"),l.getWidth()),y=Pt(h.get("y"),l.getHeight());if(!isNaN(g)&&!isNaN(y))v=[g,y];else{if(o.getMarkerPosition)v=o.getMarkerPosition(a.getValues(a.dimensions,t));else{var x=f.dimensions,b=a.get(x[0],t),T=a.get(x[1],t);v=f.dataToPoint([b,T])}if($o(f,"cartesian2d")){var C=f.getAxis("x"),M=f.getAxis("y"),x=f.dimensions;uL(a.get(x[0],t))?v[0]=C.toGlobalCoord(C.getExtent()[e?0:1]):uL(a.get(x[1],t))&&(v[1]=M.toGlobalCoord(M.getExtent()[e?0:1]))}isNaN(g)||(v[0]=g),isNaN(y)||(v[1]=y)}a.setItemLayout(t,v)}var lZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,o,l){o.eachSeries(function(f){var h=Ja.getMarkerModelFromSeries(f,"markLine");if(h){var v=h.getData(),g=lL(h).from,y=lL(h).to;g.each(function(x){lH(g,x,!0,f,l),lH(y,x,!1,f,l)}),v.each(function(x){v.setItemLayout(x,[g.getItemLayout(x),y.getItemLayout(x)])}),this.markerGroupMap.get(f.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,o,l,f){var h=e.coordinateSystem,v=e.id,g=e.getData(),y=this.markerGroupMap,x=y.get(v)||y.set(v,new Am);this.group.add(x.group);var b=uZt(h,e,o),T=b.from,C=b.to,M=b.line;lL(o).from=T,lL(o).to=C,o.setData(M);var I=o.get("symbol"),P=o.get("symbolSize"),O=o.get("symbolRotate"),N=o.get("symbolOffset");yt(I)||(I=[I,I]),yt(P)||(P=[P,P]),yt(O)||(O=[O,O]),yt(N)||(N=[N,N]),b.from.each(function(F){V(T,F,!0),V(C,F,!1)}),M.each(function(F){var U=M.getItemModel(F).getModel("lineStyle").getLineStyle();M.setItemLayout(F,[T.getItemLayout(F),C.getItemLayout(F)]),U.stroke==null&&(U.stroke=T.getItemVisual(F,"style").fill),M.setItemVisual(F,{fromSymbolKeepAspect:T.getItemVisual(F,"symbolKeepAspect"),fromSymbolOffset:T.getItemVisual(F,"symbolOffset"),fromSymbolRotate:T.getItemVisual(F,"symbolRotate"),fromSymbolSize:T.getItemVisual(F,"symbolSize"),fromSymbol:T.getItemVisual(F,"symbol"),toSymbolKeepAspect:C.getItemVisual(F,"symbolKeepAspect"),toSymbolOffset:C.getItemVisual(F,"symbolOffset"),toSymbolRotate:C.getItemVisual(F,"symbolRotate"),toSymbolSize:C.getItemVisual(F,"symbolSize"),toSymbol:C.getItemVisual(F,"symbol"),style:U})}),x.updateData(M),b.line.eachItemGraphicEl(function(F){Kt(F).dataModel=o,F.traverse(function(U){Kt(U).dataModel=o})});function V(F,U,H){var Z=F.getItemModel(U);lH(F,U,H,e,f);var $=Z.getModel("itemStyle").getItemStyle();$.fill==null&&($.fill=Ml(g,"color")),F.setItemVisual(U,{symbolKeepAspect:Z.get("symbolKeepAspect"),symbolOffset:oe(Z.get("symbolOffset",!0),N[H?0:1]),symbolRotate:oe(Z.get("symbolRotate",!0),O[H?0:1]),symbolSize:oe(Z.get("symbolSize"),P[H?0:1]),symbol:oe(Z.get("symbol",!0),I[H?0:1]),style:$})}this.markKeep(x),x.group.silent=o.get("silent")||e.get("silent")},t.type="markLine",t}(Gm);function uZt(a,t,e){var o;a?o=_t(a&&a.dimensions,function(y){var x=t.getData().getDimensionInfo(t.getData().mapDimension(y))||{};return mt(mt({},x),{name:y,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new Fr(o,e),f=new Fr(o,e),h=new Fr([],e),v=_t(e.get("data"),Qt(oZt,t,a,e));a&&(v=Ee(v,Qt(sZt,a)));var g=oL(!!a,o);return l.initData(_t(v,function(y){return y[0]}),null,g),f.initData(_t(v,function(y){return y[1]}),null,g),h.initData(_t(v,function(y){return y[2]})),h.hasItemOption=!0,{from:l,to:f,line:h}}var kpt=lZt;function uH(a){a.registerComponentModel(Rpt),a.registerComponentView(kpt),a.registerPreprocessor(function(t){Ev(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var fZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,o,l){return new t(e,o,l)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Ja),Npt=fZt;var fL=ue(),cZt=function(a,t,e,o){var l=o[0],f=o[1];if(!(!l||!f)){var h=kc(a,l),v=kc(a,f),g=h.coord,y=v.coord;g[0]=wr(g[0],-1/0),g[1]=wr(g[1],-1/0),y[0]=wr(y[0],1/0),y[1]=wr(y[1],1/0);var x=up([{},h,v]);return x.coord=[h.coord,v.coord],x.x0=h.x,x.y0=h.y,x.x1=v.x,x.y1=v.y,x}};function cL(a){return!isNaN(a)&&!isFinite(a)}function zpt(a,t,e,o){var l=1-a;return cL(t[l])&&cL(e[l])}function hZt(a,t){var e=t.coord[0],o=t.coord[1],l={coord:e,x:t.x0,y:t.y0},f={coord:o,x:t.x1,y:t.y1};return $o(a,"cartesian2d")?e&&o&&(zpt(1,e,o,a)||zpt(0,e,o,a))?!0:Ipt(a,l,f):Nc(a,l)||Nc(a,f)}function Vpt(a,t,e,o,l){var f=o.coordinateSystem,h=a.getItemModel(t),v,g=Pt(h.get(e[0]),l.getWidth()),y=Pt(h.get(e[1]),l.getHeight());if(!isNaN(g)&&!isNaN(y))v=[g,y];else{if(o.getMarkerPosition){var x=a.getValues(["x0","y0"],t),b=a.getValues(["x1","y1"],t),T=f.clampData(x),C=f.clampData(b),M=[];e[0]==="x0"?M[0]=T[0]>C[0]?b[0]:x[0]:M[0]=T[0]>C[0]?x[0]:b[0],e[1]==="y0"?M[1]=T[1]>C[1]?b[1]:x[1]:M[1]=T[1]>C[1]?x[1]:b[1],v=o.getMarkerPosition(M,e,!0)}else{var I=a.get(e[0],t),P=a.get(e[1],t),O=[I,P];f.clampData&&f.clampData(O,O),v=f.dataToPoint(O,!0)}if($o(f,"cartesian2d")){var N=f.getAxis("x"),V=f.getAxis("y"),I=a.get(e[0],t),P=a.get(e[1],t);cL(I)?v[0]=N.toGlobalCoord(N.getExtent()[e[0]==="x0"?0:1]):cL(P)&&(v[1]=V.toGlobalCoord(V.getExtent()[e[1]==="y0"?0:1]))}isNaN(g)||(v[0]=g),isNaN(y)||(v[1]=y)}return v}var Bpt=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],pZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,o,l){o.eachSeries(function(f){var h=Ja.getMarkerModelFromSeries(f,"markArea");if(h){var v=h.getData();v.each(function(g){var y=_t(Bpt,function(b){return Vpt(v,g,b,f,l)});v.setItemLayout(g,y);var x=v.getItemGraphicEl(g);x.setShape("points",y)})}},this)},t.prototype.renderSeries=function(e,o,l,f){var h=e.coordinateSystem,v=e.id,g=e.getData(),y=this.markerGroupMap,x=y.get(v)||y.set(v,{group:new Ut});this.group.add(x.group),this.markKeep(x);var b=vZt(h,e,o);o.setData(b),b.each(function(T){var C=_t(Bpt,function($){return Vpt(b,T,$,e,f)}),M=h.getAxis("x").scale,I=h.getAxis("y").scale,P=M.getExtent(),O=I.getExtent(),N=[M.parse(b.get("x0",T)),M.parse(b.get("x1",T))],V=[I.parse(b.get("y0",T)),I.parse(b.get("y1",T))];hi(N),hi(V);var F=!(P[0]>N[1]||P[1]<N[0]||O[0]>V[1]||O[1]<V[0]),U=!F;b.setItemLayout(T,{points:C,allClipped:U});var H=b.getItemModel(T).getModel("itemStyle").getItemStyle(),Z=Ml(g,"color");H.fill||(H.fill=Z,Dt(H.fill)&&(H.fill=qf(H.fill,.4))),H.stroke||(H.stroke=Z),b.setItemVisual(T,"style",H)}),b.diff(fL(x).data).add(function(T){var C=b.getItemLayout(T);if(!C.allClipped){var M=new Br({shape:{points:C.points}});b.setItemGraphicEl(T,M),x.group.add(M)}}).update(function(T,C){var M=fL(x).data.getItemGraphicEl(C),I=b.getItemLayout(T);I.allClipped?M&&x.group.remove(M):(M?we(M,{shape:{points:I.points}},o,T):M=new Br({shape:{points:I.points}}),b.setItemGraphicEl(T,M),x.group.add(M))}).remove(function(T){var C=fL(x).data.getItemGraphicEl(T);x.group.remove(C)}).execute(),b.eachItemGraphicEl(function(T,C){var M=b.getItemModel(C),I=b.getItemVisual(C,"style");T.useStyle(b.getItemVisual(C,"style")),_r(T,cr(M),{labelFetcher:o,labelDataIndex:C,defaultText:b.getName(C)||"",inheritColor:Dt(I.fill)?qf(I.fill,1):"#000"}),Ir(T,M),Ke(T,null,null,M.get(["emphasis","disabled"])),Kt(T).dataModel=o}),fL(x).data=b,x.group.silent=o.get("silent")||e.get("silent")},t.type="markArea",t}(Gm);function vZt(a,t,e){var o,l,f=["x0","y0","x1","y1"];if(a){var h=_t(a&&a.dimensions,function(y){var x=t.getData(),b=x.getDimensionInfo(x.mapDimension(y))||{};return mt(mt({},b),{name:y,ordinalMeta:null})});l=_t(f,function(y,x){return{name:y,type:h[x%2].type}}),o=new Fr(l,e)}else l=[{name:"value",type:"float"}],o=new Fr(l,e);var v=_t(e.get("data"),Qt(cZt,t,a,e));a&&(v=Ee(v,Qt(hZt,a)));var g=a?function(y,x,b,T){var C=y.coord[Math.floor(T/2)][T%2];return Go(C,l[T])}:function(y,x,b,T){return Go(y.value,l[T])};return o.initData(v,null,g),o.hasItemOption=!0,o}var Fpt=pZt;function fH(a){a.registerComponentModel(Npt),a.registerComponentView(Fpt),a.registerPreprocessor(function(t){Ev(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var dZt=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},gZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,o){a.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},t.prototype._updateSelector=function(e){var o=e.selector,l=this.ecModel;o===!0&&(o=e.selector=["all","inverse"]),yt(o)&&X(o,function(f,h){Dt(f)&&(f={type:f}),o[h]=ne(f,dZt(l,f.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var o=!1,l=0;l<e.length;l++){var f=e[l].get("name");if(this.isSelected(f)){this.select(f),o=!0;break}}!o&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var o=[],l=[];e.eachRawSeries(function(g){var y=g.name;l.push(y);var x;if(g.legendVisualProvider){var b=g.legendVisualProvider,T=b.getAllNames();e.isSeriesFiltered(g)||(l=l.concat(T)),T.length?o=o.concat(T):x=!0}else x=!0;x&&Mg(g)&&o.push(g.name)}),this._availableNames=l;var f=this.get("data")||o,h=Rt(),v=_t(f,function(g){return(Dt(g)||ye(g))&&(g={name:g}),h.get(g.name)?null:(h.set(g.name,!0),new Fe(g,this,this.ecModel))},this);this._data=Ee(v,function(g){return!!g})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var o=this.option.selected,l=this.get("selectedMode");if(l==="single"){var f=this._data;X(f,function(h){o[h.get("name")]=!1})}o[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var o=this.option.selected;o.hasOwnProperty(e)||(o[e]=!0),this[o[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,o=this.option.selected;X(e,function(l){o[l.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,o=this.option.selected;X(e,function(l){var f=l.get("name",!0);o.hasOwnProperty(f)||(o[f]=!0),o[f]=!o[f]})},t.prototype.isSelected=function(e){var o=this.option.selected;return!(o.hasOwnProperty(e)&&!o[e])&&ae(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(xe),GS=gZt;var Hm=Qt,cH=X,hL=Ut,mZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new hL),this.group.add(this._selectorGroup=new hL),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,o,l){var f=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var h=e.get("align"),v=e.get("orient");(!h||h==="auto")&&(h=e.get("left")==="right"&&v==="vertical"?"right":"left");var g=e.get("selector",!0),y=e.get("selectorPosition",!0);g&&(!y||y==="auto")&&(y=v==="horizontal"?"end":"start"),this.renderInner(h,e,o,l,g,v,y);var x=e.getBoxLayoutParams(),b={width:l.getWidth(),height:l.getHeight()},T=e.get("padding"),C=ar(x,b,T),M=this.layoutInner(e,h,C,f,g,y),I=ar(zt({width:M.width,height:M.height},x),b,T);this.group.x=I.x-M.x,this.group.y=I.y-M.y,this.group.markRedraw(),this.group.add(this._backgroundEl=jM(M,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,o,l,f,h,v,g){var y=this.getContentGroup(),x=Rt(),b=o.get("selectedMode"),T=[];l.eachRawSeries(function(C){!C.get("legendHoverLink")&&T.push(C.id)}),cH(o.getData(),function(C,M){var I=C.get("name");if(!this.newlineDisabled&&(I===""||I===`
`)){var P=new hL;P.newline=!0,y.add(P);return}var O=l.getSeriesByName(I)[0];if(!x.get(I))if(O){var N=O.getData(),V=N.getVisual("legendLineStyle")||{},F=N.getVisual("legendIcon"),U=N.getVisual("style"),H=this._createItem(O,I,M,C,o,e,V,U,F,b,f);H.on("click",Hm(Upt,I,null,f,T)).on("mouseover",Hm(hH,O.name,null,f,T)).on("mouseout",Hm(pH,O.name,null,f,T)),l.ssr&&H.eachChild(function(Z){var $=Kt(Z);$.seriesIndex=O.seriesIndex,$.dataIndex=M,$.ssrType="legend"}),x.set(I,!0)}else l.eachRawSeries(function(Z){if(!x.get(I)&&Z.legendVisualProvider){var $=Z.legendVisualProvider;if(!$.containName(I))return;var K=$.indexOfName(I),Q=$.getItemVisual(K,"style"),rt=$.getItemVisual(K,"legendIcon"),nt=Ii(Q.fill);nt&&nt[3]===0&&(nt[3]=.2,Q=mt(mt({},Q),{fill:hn(nt,"rgba")}));var ot=this._createItem(Z,I,M,C,o,e,{},Q,rt,b,f);ot.on("click",Hm(Upt,null,I,f,T)).on("mouseover",Hm(hH,null,I,f,T)).on("mouseout",Hm(pH,null,I,f,T)),l.ssr&&ot.eachChild(function(ft){var lt=Kt(ft);lt.seriesIndex=Z.seriesIndex,lt.dataIndex=M,lt.ssrType="legend"}),x.set(I,!0)}},this)},this),h&&this._createSelector(h,o,f,v,g)},t.prototype._createSelector=function(e,o,l,f,h){var v=this.getSelectorGroup();cH(e,function(y){var x=y.type,b=new _e({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:x==="all"?"legendAllSelect":"legendInverseSelect",legendId:o.id})}});v.add(b);var T=o.getModel("selectorLabel"),C=o.getModel(["emphasis","selectorLabel"]);_r(b,{normal:T,emphasis:C},{defaultText:y.title}),ko(b)})},t.prototype._createItem=function(e,o,l,f,h,v,g,y,x,b,T){var C=e.visualDrawType,M=h.get("itemWidth"),I=h.get("itemHeight"),P=h.isSelected(o),O=f.get("symbolRotate"),N=f.get("symbolKeepAspect"),V=f.get("icon");x=V||x||"roundRect";var F=yZt(x,f,g,y,C,P,T),U=new hL,H=f.getModel("textStyle");if(Nt(e.getLegendIcon)&&(!V||V==="inherit"))U.add(e.getLegendIcon({itemWidth:M,itemHeight:I,icon:x,iconRotate:O,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:N}));else{var Z=V==="inherit"&&e.getData().getVisual("symbol")?O==="inherit"?e.getData().getVisual("symbolRotate"):O:0;U.add(_Zt({itemWidth:M,itemHeight:I,icon:x,iconRotate:Z,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:N}))}var $=v==="left"?M+5:-5,K=v,Q=h.get("formatter"),rt=o;Dt(Q)&&Q?rt=Q.replace("{name}",o??""):Nt(Q)&&(rt=Q(o));var nt=P?H.getTextColor():f.get("inactiveColor");U.add(new _e({style:Je(H,{text:rt,x:$,y:I/2,fill:nt,align:K,verticalAlign:"middle"},{inheritColor:nt})}));var ot=new ge({shape:U.getBoundingRect(),style:{fill:"transparent"}}),ft=f.getModel("tooltip");return ft.get("show")&&Vo({el:ot,componentModel:h,itemName:o,itemTooltipOption:ft.option}),U.add(ot),U.eachChild(function(lt){lt.silent=!0}),ot.silent=!b,this.getContentGroup().add(U),ko(U),U.__legendDataIndex=l,U},t.prototype.layoutInner=function(e,o,l,f,h,v){var g=this.getContentGroup(),y=this.getSelectorGroup();Is(e.get("orient"),g,e.get("itemGap"),l.width,l.height);var x=g.getBoundingRect(),b=[-x.x,-x.y];if(y.markRedraw(),g.markRedraw(),h){Is("horizontal",y,e.get("selectorItemGap",!0));var T=y.getBoundingRect(),C=[-T.x,-T.y],M=e.get("selectorButtonGap",!0),I=e.getOrient().index,P=I===0?"width":"height",O=I===0?"height":"width",N=I===0?"y":"x";v==="end"?C[I]+=x[P]+M:b[I]+=T[P]+M,C[1-I]+=x[O]/2-T[O]/2,y.x=C[0],y.y=C[1],g.x=b[0],g.y=b[1];var V={x:0,y:0};return V[P]=x[P]+M+T[P],V[O]=Math.max(x[O],T[O]),V[N]=Math.min(0,T[N]+C[1-I]),V}else return g.x=b[0],g.y=b[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(He);function yZt(a,t,e,o,l,f,h){function v(P,O){P.lineWidth==="auto"&&(P.lineWidth=O.lineWidth>0?2:0),cH(P,function(N,V){P[V]==="inherit"&&(P[V]=O[V])})}var g=t.getModel("itemStyle"),y=g.getItemStyle(),x=a.lastIndexOf("empty",0)===0?"fill":"stroke",b=g.getShallow("decal");y.decal=!b||b==="inherit"?o.decal:Os(b,h),y.fill==="inherit"&&(y.fill=o[l]),y.stroke==="inherit"&&(y.stroke=o[x]),y.opacity==="inherit"&&(y.opacity=(l==="fill"?o:e).opacity),v(y,o);var T=t.getModel("lineStyle"),C=T.getLineStyle();if(v(C,e),y.fill==="auto"&&(y.fill=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),C.stroke==="auto"&&(C.stroke=o.fill),!f){var M=t.get("inactiveBorderWidth"),I=y[x];y.lineWidth=M==="auto"?o.lineWidth>0&&I?2:0:y.lineWidth,y.fill=t.get("inactiveColor"),y.stroke=t.get("inactiveBorderColor"),C.stroke=T.get("inactiveColor"),C.lineWidth=T.get("inactiveWidth")}return{itemStyle:y,lineStyle:C}}function _Zt(a){var t=a.icon||"roundRect",e=nr(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return e.setStyle(a.itemStyle),e.rotation=(a.iconRotate||0)*Math.PI/180,e.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Upt(a,t,e,o){pH(a,t,e,o),e.dispatchAction({type:"legendToggleSelect",name:a??t}),hH(a,t,e,o)}function Gpt(a){for(var t=a.getZr().storage.getDisplayList(),e,o=0,l=t.length;o<l&&!(e=t[o].states.emphasis);)o++;return e&&e.hoverLayer}function hH(a,t,e,o){Gpt(e)||e.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:o})}function pH(a,t,e,o){Gpt(e)||e.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:o})}var pL=mZt;function vH(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(e){for(var o=0;o<t.length;o++)if(!t[o].isSelected(e.name))return!1;return!0})}function HS(a,t,e){var o=a==="allSelect"||a==="inverseSelect",l={},f=[];e.eachComponent({mainType:"legend",query:t},function(v){o?v[a]():v[a](t.name),Hpt(v,l),f.push(v.componentIndex)});var h={};return e.eachComponent("legend",function(v){X(l,function(g,y){v[g?"select":"unSelect"](y)}),Hpt(v,h)}),o?{selected:h,legendIndex:f}:{name:t.name,selected:h}}function Hpt(a,t){var e=t||{};return X(a.getData(),function(o){var l=o.get("name");if(!(l===`
`||l==="")){var f=a.isSelected(l);Yt(e,l)?e[l]=e[l]&&f:e[l]=f}}),e}function Wpt(a){a.registerAction("legendToggleSelect","legendselectchanged",Qt(HS,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",Qt(HS,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",Qt(HS,"inverseSelect")),a.registerAction("legendSelect","legendselected",Qt(HS,"select")),a.registerAction("legendUnSelect","legendunselected",Qt(HS,"unSelect"))}function vL(a){a.registerComponentModel(GS),a.registerComponentView(pL),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,vH),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Wpt(a)}var xZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,o,l){var f=Fo(e);a.prototype.init.call(this,e,o,l),Ypt(this,e,f)},t.prototype.mergeOption=function(e,o){a.prototype.mergeOption.call(this,e,o),Ypt(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Ma(GS.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(GS);function Ypt(a,t,e){var o=a.getOrient(),l=[1,1];l[o.index]=0,bn(t,e,{type:"box",ignoreSize:!!l})}var Zpt=xZt;var Xpt=Ut,dH=["width","height"],gH=["x","y"],SZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Xpt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Xpt)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,o,l,f,h,v,g){var y=this;a.prototype.renderInner.call(this,e,o,l,f,h,v,g);var x=this._controllerGroup,b=o.get("pageIconSize",!0),T=yt(b)?b:[b,b];M("pagePrev",0);var C=o.getModel("pageTextStyle");x.add(new _e({name:"pageText",style:{text:"xx/xx",fill:C.getTextColor(),font:C.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),M("pageNext",1);function M(I,P){var O=I+"DataIndex",N=Ms(o.get("pageIcons",!0)[o.getOrient().name][P],{onclick:It(y._pageGo,y,O,o,f)},{x:-T[0]/2,y:-T[1]/2,width:T[0],height:T[1]});N.name=I,x.add(N)}},t.prototype.layoutInner=function(e,o,l,f,h,v){var g=this.getSelectorGroup(),y=e.getOrient().index,x=dH[y],b=gH[y],T=dH[1-y],C=gH[1-y];h&&Is("horizontal",g,e.get("selectorItemGap",!0));var M=e.get("selectorButtonGap",!0),I=g.getBoundingRect(),P=[-I.x,-I.y],O=Ht(l);h&&(O[x]=l[x]-I[x]-M);var N=this._layoutContentAndController(e,f,O,y,x,T,C,b);if(h){if(v==="end")P[y]+=N[x]+M;else{var V=I[x]+M;P[y]-=V,N[b]-=V}N[x]+=I[x]+M,P[1-y]+=N[C]+N[T]/2-I[T]/2,N[T]=Math.max(N[T],I[T]),N[C]=Math.min(N[C],I[C]+P[1-y]),g.x=P[0],g.y=P[1],g.markRedraw()}return N},t.prototype._layoutContentAndController=function(e,o,l,f,h,v,g,y){var x=this.getContentGroup(),b=this._containerGroup,T=this._controllerGroup;Is(e.get("orient"),x,e.get("itemGap"),f?l.width:null,f?null:l.height),Is("horizontal",T,e.get("pageButtonItemGap",!0));var C=x.getBoundingRect(),M=T.getBoundingRect(),I=this._showController=C[h]>l[h],P=[-C.x,-C.y];o||(P[f]=x[y]);var O=[0,0],N=[-M.x,-M.y],V=oe(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(I){var F=e.get("pageButtonPosition",!0);F==="end"?N[f]+=l[h]-M[h]:O[f]+=M[h]+V}N[1-f]+=C[v]/2-M[v]/2,x.setPosition(P),b.setPosition(O),T.setPosition(N);var U={x:0,y:0};if(U[h]=I?l[h]:C[h],U[v]=Math.max(C[v],M[v]),U[g]=Math.min(0,M[g]+N[1-f]),b.__rectSize=l[h],I){var H={x:0,y:0};H[h]=Math.max(l[h]-M[h]-V,0),H[v]=U[v],b.setClipPath(new ge({shape:H})),b.__rectSize=H[h]}else T.eachChild(function($){$.attr({invisible:!0,silent:!0})});var Z=this._getPageInfo(e);return Z.pageIndex!=null&&we(x,{x:Z.contentPosition[0],y:Z.contentPosition[1]},I?e:null),this._updatePageInfoView(e,Z),U},t.prototype._pageGo=function(e,o,l){var f=this._getPageInfo(o)[e];f!=null&&l.dispatchAction({type:"legendScroll",scrollDataIndex:f,legendId:o.id})},t.prototype._updatePageInfoView=function(e,o){var l=this._controllerGroup;X(["pagePrev","pageNext"],function(x){var b=x+"DataIndex",T=o[b]!=null,C=l.childOfName(x);C&&(C.setStyle("fill",T?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),C.cursor=T?"pointer":"default")});var f=l.childOfName("pageText"),h=e.get("pageFormatter"),v=o.pageIndex,g=v!=null?v+1:0,y=o.pageCount;f&&h&&f.setStyle("text",Dt(h)?h.replace("{current}",g==null?"":g+"").replace("{total}",y==null?"":y+""):h({current:g,total:y}))},t.prototype._getPageInfo=function(e){var o=e.get("scrollDataIndex",!0),l=this.getContentGroup(),f=this._containerGroup.__rectSize,h=e.getOrient().index,v=dH[h],g=gH[h],y=this._findTargetItemIndex(o),x=l.children(),b=x[y],T=x.length,C=T?1:0,M={contentPosition:[l.x,l.y],pageCount:C,pageIndex:C-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!b)return M;var I=F(b);M.contentPosition[h]=-I.s;for(var P=y+1,O=I,N=I,V=null;P<=T;++P)V=F(x[P]),(!V&&N.e>O.s+f||V&&!U(V,O.s))&&(N.i>O.i?O=N:O=V,O&&(M.pageNextDataIndex==null&&(M.pageNextDataIndex=O.i),++M.pageCount)),N=V;for(var P=y-1,O=I,N=I,V=null;P>=-1;--P)V=F(x[P]),(!V||!U(N,V.s))&&O.i<N.i&&(N=O,M.pagePrevDataIndex==null&&(M.pagePrevDataIndex=O.i),++M.pageCount,++M.pageIndex),O=V;return M;function F(H){if(H){var Z=H.getBoundingRect(),$=Z[g]+H[g];return{s:$,e:$+Z[v],i:H.__legendDataIndex}}}function U(H,Z){return H.e>=Z&&H.s<=Z+f}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var o,l=this.getContentGroup(),f;return l.eachChild(function(h,v){var g=h.__legendDataIndex;f==null&&g!=null&&(f=v),g===e&&(o=v)}),o??f},t.type="legend.scroll",t}(pL),qpt=SZt;function mH(a){a.registerAction("legendScroll","legendscroll",function(t,e){var o=t.scrollDataIndex;o!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(l){l.setScrollDataIndex(o)})})}function $pt(a){Ae(vL),a.registerComponentModel(Zpt),a.registerComponentView(qpt),mH(a)}function yH(a){Ae(vL),Ae($pt)}var bZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Ma(Pc.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Pc),Kpt=bZt;var _H=ue();function jpt(a,t,e){_H(a).coordSysRecordMap.each(function(o){var l=o.dataZoomInfoMap.get(t.uid);l&&(l.getRange=e)})}function Jpt(a,t){for(var e=_H(a).coordSysRecordMap,o=e.keys(),l=0;l<o.length;l++){var f=o[l],h=e.get(f),v=h.dataZoomInfoMap;if(v){var g=t.uid,y=v.get(g);y&&(v.removeKey(g),v.keys().length||Qpt(e,h))}}}function Qpt(a,t){if(t){a.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function wZt(a,t){var e={model:t,containsPoint:Qt(AZt,t),dispatchAction:Qt(TZt,a),dataZoomInfoMap:null,controller:null},o=e.controller=new zl(a.getZr());return X(["pan","zoom","scrollMove"],function(l){o.on(l,function(f){var h=[];e.dataZoomInfoMap.each(function(v){if(f.isAvailableBehavior(v.model.option)){var g=(v.getRange||{})[l],y=g&&g(v.dzReferCoordSysInfo,e.model.mainType,e.controller,f);!v.model.get("disabled",!0)&&y&&h.push({dataZoomId:v.model.id,start:y[0],end:y[1]})}}),h.length&&e.dispatchAction(h)})}),e}function TZt(a,t){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function AZt(a,t,e,o){return a.coordinateSystem.containPoint([e,o])}function CZt(a){var t,e="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},l=!0;return a.each(function(f){var h=f.model,v=h.get("disabled",!0)?!1:h.get("zoomLock",!0)?"move":!0;o[e+v]>o[e+t]&&(t=v),l=l&&h.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!l}}}function tvt(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(t,e){var o=_H(e),l=o.coordSysRecordMap||(o.coordSysRecordMap=Rt());l.each(function(f){f.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(f){var h=$M(f);X(h.infoList,function(v){var g=v.model.uid,y=l.get(g)||l.set(g,wZt(e,v.model)),x=y.dataZoomInfoMap||(y.dataZoomInfoMap=Rt());x.set(f.uid,{dzReferCoordSysInfo:v,model:f,getRange:null})})}),l.each(function(f){var h=f.controller,v,g=f.dataZoomInfoMap;if(g){var y=g.keys()[0];y!=null&&(v=g.get(y))}if(!v){Qpt(l,f);return}var x=CZt(g);h.enable(x.controlType,x.opt),h.setPointerChecker(f.containsPoint),Ho(f,"dispatchAction",v.model.get("throttle",!0),"fixRate")})})}var MZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,o,l){if(a.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),jpt(l,e,{pan:It(xH.pan,this),zoom:It(xH.zoom,this),scrollMove:It(xH.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Jpt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Bm),xH={zoom:function(a,t,e,o){var l=this.range,f=l.slice(),h=a.axisModels[0];if(h){var v=SH[t](null,[o.originX,o.originY],h,e,a),g=(v.signal>0?v.pixelStart+v.pixelLength-v.pixel:v.pixel-v.pixelStart)/v.pixelLength*(f[1]-f[0])+f[0],y=Math.max(1/o.scale,0);f[0]=(f[0]-g)*y+g,f[1]=(f[1]-g)*y+g;var x=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ln(0,f,[0,100],0,x.minSpan,x.maxSpan),this.range=f,l[0]!==f[0]||l[1]!==f[1])return f}},pan:evt(function(a,t,e,o,l,f){var h=SH[o]([f.oldX,f.oldY],[f.newX,f.newY],t,l,e);return h.signal*(a[1]-a[0])*h.pixel/h.pixelLength}),scrollMove:evt(function(a,t,e,o,l,f){var h=SH[o]([0,0],[f.scrollDelta,f.scrollDelta],t,l,e);return h.signal*(a[1]-a[0])*f.scrollDelta})};function evt(a){return function(t,e,o,l){var f=this.range,h=f.slice(),v=t.axisModels[0];if(v){var g=a(h,v,t,e,o,l);if(Ln(g,h,[0,100],"all"),this.range=h,f[0]!==h[0]||f[1]!==h[1])return h}}}var SH={grid:function(a,t,e,o,l){var f=e.axis,h={},v=l.model.coordinateSystem.getRect();return a=a||[0,0],f.dim==="x"?(h.pixel=t[0]-a[0],h.pixelLength=v.width,h.pixelStart=v.x,h.signal=f.inverse?1:-1):(h.pixel=t[1]-a[1],h.pixelLength=v.height,h.pixelStart=v.y,h.signal=f.inverse?-1:1),h},polar:function(a,t,e,o,l){var f=e.axis,h={},v=l.model.coordinateSystem,g=v.getRadiusAxis().getExtent(),y=v.getAngleAxis().getExtent();return a=a?v.pointToCoord(a):[0,0],t=v.pointToCoord(t),e.mainType==="radiusAxis"?(h.pixel=t[0]-a[0],h.pixelLength=g[1]-g[0],h.pixelStart=g[0],h.signal=f.inverse?1:-1):(h.pixel=t[1]-a[1],h.pixelLength=y[1]-y[0],h.pixelStart=y[0],h.signal=f.inverse?-1:1),h},singleAxis:function(a,t,e,o,l){var f=e.axis,h=l.model.coordinateSystem.getRect(),v={};return a=a||[0,0],f.orient==="horizontal"?(v.pixel=t[0]-a[0],v.pixelLength=h.width,v.pixelStart=h.x,v.signal=f.inverse?1:-1):(v.pixel=t[1]-a[1],v.pixelLength=h.height,v.pixelStart=h.y,v.signal=f.inverse?-1:1),v}},rvt=MZt;function WS(a){Lv(a),a.registerComponentModel(Kpt),a.registerComponentView(rvt),tvt(a)}var LZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Ma(Pc.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Pc),ivt=LZt;var YS=ge,avt=7,IZt=1,bH=30,EZt=7,ZS="horizontal",nvt="vertical",PZt=5,RZt=["line","bar","candlestick","scatter"],OZt={easing:"cubicOut",duration:100,delay:0},kZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,o){this.api=o,this._onBrush=It(this._onBrush,this),this._onBrushEnd=It(this._onBrushEnd,this)},t.prototype.render=function(e,o,l,f){if(a.prototype.render.apply(this,arguments),Ho(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!f||f.type!=="dataZoom"||f.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Nu(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Ut;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(o),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,o=this.api,l=e.get("brushSelect"),f=l?EZt:0,h=this._findCoordRect(),v={width:o.getWidth(),height:o.getHeight()},g=this._orient===ZS?{right:v.width-h.x-h.width,top:v.height-bH-avt-f,width:h.width,height:bH}:{right:avt,top:h.y,width:bH,height:h.height},y=Fo(e.option);X(["right","top","width","height"],function(b){y[b]==="ph"&&(y[b]=g[b])});var x=ar(y,v);this._location={x:x.x,y:x.y},this._size=[x.width,x.height],this._orient===nvt&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,o=this._location,l=this._orient,f=this.dataZoomModel.getFirstTargetAxisModel(),h=f&&f.get("inverse"),v=this._displayables.sliderGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;v.attr(l===ZS&&!h?{scaleY:g?1:-1,scaleX:1}:l===ZS&&h?{scaleY:g?1:-1,scaleX:-1}:l===nvt&&!h?{scaleY:g?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:g?-1:1,scaleX:-1,rotation:Math.PI/2});var y=e.getBoundingRect([v]);e.x=o.x-y.x,e.y=o.y-y.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,o=this._size,l=this._displayables.sliderGroup,f=e.get("brushSelect");l.add(new YS({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var h=new YS({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:It(this._onClickPanel,this)}),v=this.api.getZr();f?(h.on("mousedown",this._onBrushStart,this),h.cursor="crosshair",v.on("mousemove",this._onBrush),v.on("mouseup",this._onBrushEnd)):(v.off("mousemove",this._onBrush),v.off("mouseup",this._onBrushEnd)),l.add(h)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var o=this._size,l=this._shadowSize||[],f=e.series,h=f.getRawData(),v=f.getShadowDim&&f.getShadowDim(),g=v&&h.getDimensionInfo(v)?f.getShadowDim():e.otherDim;if(g==null)return;var y=this._shadowPolygonPts,x=this._shadowPolylinePts;if(h!==this._shadowData||g!==this._shadowDim||o[0]!==l[0]||o[1]!==l[1]){var b=h.getDataExtent(g),T=(b[1]-b[0])*.3;b=[b[0]-T,b[1]+T];var C=[0,o[1]],M=[0,o[0]],I=[[o[0],0],[0,0]],P=[],O=M[1]/(h.count()-1),N=0,V=Math.round(h.count()/o[0]),F;h.each([g],function(K,Q){if(V>0&&Q%V){N+=O;return}var rt=K==null||isNaN(K)||K==="",nt=rt?0:$e(K,b,C,!0);rt&&!F&&Q?(I.push([I[I.length-1][0],0]),P.push([P[P.length-1][0],0])):!rt&&F&&(I.push([N,0]),P.push([N,0])),I.push([N,nt]),P.push([N,nt]),N+=O,F=rt}),y=this._shadowPolygonPts=I,x=this._shadowPolylinePts=P}this._shadowData=h,this._shadowDim=g,this._shadowSize=[o[0],o[1]];var U=this.dataZoomModel;function H(K){var Q=U.getModel(K?"selectedDataBackground":"dataBackground"),rt=new Ut,nt=new Br({shape:{points:y},segmentIgnoreThreshold:1,style:Q.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ot=new Nr({shape:{points:x},segmentIgnoreThreshold:1,style:Q.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return rt.add(nt),rt.add(ot),rt}for(var Z=0;Z<3;Z++){var $=H(Z===1);this._displayables.sliderGroup.add($),this._displayables.dataShadowSegs.push($)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,o=e.get("showDataShadow");if(o!==!1){var l,f=this.ecModel;return e.eachTargetAxis(function(h,v){var g=e.getAxisProxy(h,v).getTargetSeriesModels();X(g,function(y){if(!l&&!(o!==!0&&ae(RZt,y.get("type"))<0)){var x=f.getComponent(es(h),v).axis,b=NZt(h),T,C=y.coordinateSystem;b!=null&&C.getOtherAxis&&(T=C.getOtherAxis(x).inverse),b=y.getData().mapDimension(b),l={thisAxis:x,series:y,thisDim:h,otherDim:b,otherAxisInverse:T}}},this)},this),l}},t.prototype._renderHandle=function(){var e=this.group,o=this._displayables,l=o.handles=[null,null],f=o.handleLabels=[null,null],h=this._displayables.sliderGroup,v=this._size,g=this.dataZoomModel,y=this.api,x=g.get("borderRadius")||0,b=g.get("brushSelect"),T=o.filler=new YS({silent:b,style:{fill:g.get("fillerColor")},textConfig:{position:"inside"}});h.add(T),h.add(new YS({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:v[0],height:v[1],r:x},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:IZt,fill:"rgba(0,0,0,0)"}})),X([0,1],function(V){var F=g.get("handleIcon");!Fx[F]&&F.indexOf("path://")<0&&F.indexOf("image://")<0&&(F="path://"+F);var U=nr(F,-1,0,2,2,null,!0);U.attr({cursor:ovt(this._orient),draggable:!0,drift:It(this._onDragMove,this,V),ondragend:It(this._onDragEnd,this),onmouseover:It(this._showDataInfo,this,!0),onmouseout:It(this._showDataInfo,this,!1),z2:5});var H=U.getBoundingRect(),Z=g.get("handleSize");this._handleHeight=Pt(Z,this._size[1]),this._handleWidth=H.width/H.height*this._handleHeight,U.setStyle(g.getModel("handleStyle").getItemStyle()),U.style.strokeNoScale=!0,U.rectHover=!0,U.ensureState("emphasis").style=g.getModel(["emphasis","handleStyle"]).getItemStyle(),ko(U);var $=g.get("handleColor");$!=null&&(U.style.fill=$),h.add(l[V]=U);var K=g.getModel("textStyle"),Q=g.get("handleLabel")||{},rt=Q.show||!1;e.add(f[V]=new _e({silent:!0,invisible:!rt,style:Je(K,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:K.getTextColor(),font:K.getFont()}),z2:10}))},this);var C=T;if(b){var M=Pt(g.get("moveHandleSize"),v[1]),I=o.moveHandle=new ge({style:g.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:v[1]-.5,height:M}}),P=M*.8,O=o.moveHandleIcon=nr(g.get("moveHandleIcon"),-P/2,-P/2,P,P,"#fff",!0);O.silent=!0,O.y=v[1]+M/2-.5,I.ensureState("emphasis").style=g.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var N=Math.min(v[1]/2,Math.max(M,10));C=o.moveZone=new ge({invisible:!0,shape:{y:v[1]-N,height:M+N}}),C.on("mouseover",function(){y.enterEmphasis(I)}).on("mouseout",function(){y.leaveEmphasis(I)}),h.add(I),h.add(O),h.add(C)}C.attr({draggable:!0,cursor:ovt(this._orient),drift:It(this._onDragMove,this,"all"),ondragstart:It(this._showDataInfo,this,!0),ondragend:It(this._onDragEnd,this),onmouseover:It(this._showDataInfo,this,!0),onmouseout:It(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[$e(e[0],[0,100],o,!0),$e(e[1],[0,100],o,!0)]},t.prototype._updateInterval=function(e,o){var l=this.dataZoomModel,f=this._handleEnds,h=this._getViewExtent(),v=l.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];Ln(o,f,h,l.get("zoomLock")?"all":e,v.minSpan!=null?$e(v.minSpan,g,h,!0):null,v.maxSpan!=null?$e(v.maxSpan,g,h,!0):null);var y=this._range,x=this._range=hi([$e(f[0],h,g,!0),$e(f[1],h,g,!0)]);return!y||y[0]!==x[0]||y[1]!==x[1]},t.prototype._updateView=function(e){var o=this._displayables,l=this._handleEnds,f=hi(l.slice()),h=this._size;X([0,1],function(C){var M=o.handles[C],I=this._handleHeight;M.attr({scaleX:I/2,scaleY:I/2,x:l[C]+(C?-1:1),y:h[1]/2-I/2})},this),o.filler.setShape({x:f[0],y:0,width:f[1]-f[0],height:h[1]});var v={x:f[0],width:f[1]-f[0]};o.moveHandle&&(o.moveHandle.setShape(v),o.moveZone.setShape(v),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",v.x+v.width/2));for(var g=o.dataShadowSegs,y=[0,f[0],f[1],h[0]],x=0;x<g.length;x++){var b=g[x],T=b.getClipPath();T||(T=new ge,b.setClipPath(T)),T.setShape({x:y[x],y:0,width:y[x+1]-y[x],height:h[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var o=this.dataZoomModel,l=this._displayables,f=l.handleLabels,h=this._orient,v=["",""];if(o.get("showDetail")){var g=o.findRepresentativeAxisProxy();if(g){var y=g.getAxisModel().axis,x=this._range,b=e?g.calculateDataWindow({start:x[0],end:x[1]}).valueWindow:g.getDataValueWindow();v=[this._formatLabel(b[0],y),this._formatLabel(b[1],y)]}}var T=hi(this._handleEnds.slice());C.call(this,0),C.call(this,1);function C(M){var I=qn(l.handles[M].parent,this.group),P=Kp(M===0?"right":"left",I),O=this._handleWidth/2+PZt,N=ua([T[M]+(M===0?-O:O),this._size[1]/2],I);f[M].setStyle({x:N[0],y:N[1],verticalAlign:h===ZS?"middle":P,align:h===ZS?P:"center",text:v[M]})}},t.prototype._formatLabel=function(e,o){var l=this.dataZoomModel,f=l.get("labelFormatter"),h=l.get("labelPrecision");(h==null||h==="auto")&&(h=o.getPixelPrecision());var v=e==null||isNaN(e)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(h,20));return Nt(f)?f(e,v):Dt(f)?f.replace("{value}",v):v},t.prototype._showDataInfo=function(e){var o=this.dataZoomModel.get("handleLabel")||{},l=o.show||!1,f=this.dataZoomModel.getModel(["emphasis","handleLabel"]),h=f.get("show")||!1,v=e||this._dragging?h:l,g=this._displayables,y=g.handleLabels;y[0].attr("invisible",!v),y[1].attr("invisible",!v),g.moveHandle&&this.api[v?"enterEmphasis":"leaveEmphasis"](g.moveHandle,1)},t.prototype._onDragMove=function(e,o,l,f){this._dragging=!0,cn(f.event);var h=this._displayables.sliderGroup.getLocalTransform(),v=ua([o,l],h,!0),g=this._updateInterval(e,v[0]),y=this.dataZoomModel.get("realtime");this._updateView(!y),g&&y&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var o=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(l[0]<0||l[0]>o[0]||l[1]<0||l[1]>o[1])){var f=this._handleEnds,h=(f[0]+f[1])/2,v=this._updateInterval("all",l[0]-h);this._updateView(),v&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var o=e.offsetX,l=e.offsetY;this._brushStart=new Le(o,l),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var l=o.shape,f=+new Date;if(!(f-this._brushStartTime<200&&Math.abs(l.width)<5)){var h=this._getViewExtent(),v=[0,100];this._range=hi([$e(l.x,h,v,!0),$e(l.x+l.width,h,v,!0)]),this._handleEnds=[l.x,l.x+l.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(cn(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,o){var l=this._displayables,f=this.dataZoomModel,h=l.brushRect;h||(h=l.brushRect=new YS({silent:!0,style:f.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(h)),h.attr("ignore",!1);var v=this._brushStart,g=this._displayables.sliderGroup,y=g.transformCoordToLocal(e,o),x=g.transformCoordToLocal(v.x,v.y),b=this._size;y[0]=Math.max(Math.min(b[0],y[0]),0),h.setShape({x:x[0],y:0,width:y[0]-x[0],height:b[1]})},t.prototype._dispatchZoomAction=function(e){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?OZt:null,start:o[0],end:o[1]})},t.prototype._findCoordRect=function(){var e,o=$M(this.dataZoomModel).infoList;if(!e&&o.length){var l=o[0].model.coordinateSystem;e=l.getRect&&l.getRect()}if(!e){var f=this.api.getWidth(),h=this.api.getHeight();e={x:f*.2,y:h*.2,width:f*.6,height:h*.6}}return e},t.type="dataZoom.slider",t}(Bm);function NZt(a){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[a]}function ovt(a){return a==="vertical"?"ns-resize":"ew-resize"}var svt=kZt;function XS(a){a.registerComponentModel(ivt),a.registerComponentView(svt),Lv(a)}function wH(a){Ae(WS),Ae(XS)}var zZt={get:function(a,t,e){var o=Ht((VZt[a]||{})[t]);return e&&yt(o)?o[o.length-1]:o}},VZt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},dL=zZt;var lvt=Jr.mapVisual,BZt=Jr.eachVisual,FZt=yt,uvt=X,UZt=hi,GZt=$e,HZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l)},t.prototype.optionUpdated=function(e,o){var l=this.option;!o&&eL(l,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var o=this.stateList;e=It(e,this),this.controllerVisuals=FS(this.option.controller,o,e),this.targetVisuals=FS(this.option.target,o,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,o=[];return e==null||e==="all"?this.ecModel.eachSeries(function(l,f){o.push(f)}):o=qe(e),o},t.prototype.eachTargetSeries=function(e,o){X(this.getTargetSeriesIndices(),function(l){var f=this.ecModel.getSeriesByIndex(l);f&&e.call(o,f)},this)},t.prototype.isTargetSeries=function(e){var o=!1;return this.eachTargetSeries(function(l){l===e&&(o=!0)}),o},t.prototype.formatValueText=function(e,o,l){var f=this.option,h=f.precision,v=this.dataBound,g=f.formatter,y;l=l||["<",">"],yt(e)&&(e=e.slice(),y=!0);var x=o?e:y?[b(e[0]),b(e[1])]:b(e);if(Dt(g))return g.replace("{value}",y?x[0]:x).replace("{value2}",y?x[1]:x);if(Nt(g))return y?g(e[0],e[1]):g(e);if(y)return e[0]===v[0]?l[0]+" "+x[1]:e[1]===v[1]?l[1]+" "+x[0]:x[0]+" - "+x[1];return x;function b(T){return T===v[0]?"min":T===v[1]?"max":(+T).toFixed(Math.min(h,20))}},t.prototype.resetExtent=function(){var e=this.option,o=UZt([e.min,e.max]);this._dataExtent=o},t.prototype.getDataDimensionIndex=function(e){var o=this.option.dimension;if(o!=null)return e.getDimensionIndex(o);for(var l=e.dimensions,f=l.length-1;f>=0;f--){var h=l[f],v=e.getDimensionInfo(h);if(!v.isCalculationCoord)return v.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,o=this.option,l={inRange:o.inRange,outOfRange:o.outOfRange},f=o.target||(o.target={}),h=o.controller||(o.controller={});ne(f,l),ne(h,l);var v=this.isCategory();g.call(this,f),g.call(this,h),y.call(this,f,"inRange","outOfRange"),x.call(this,h);function g(b){FZt(o.color)&&!b.inRange&&(b.inRange={color:o.color.slice().reverse()}),b.inRange=b.inRange||{color:e.get("gradientColor")}}function y(b,T,C){var M=b[T],I=b[C];M&&!I&&(I=b[C]={},uvt(M,function(P,O){if(Jr.isValidType(O)){var N=dL.get(O,"inactive",v);N!=null&&(I[O]=N,O==="color"&&!I.hasOwnProperty("opacity")&&!I.hasOwnProperty("colorAlpha")&&(I.opacity=[0,0]))}}))}function x(b){var T=(b.inRange||{}).symbol||(b.outOfRange||{}).symbol,C=(b.inRange||{}).symbolSize||(b.outOfRange||{}).symbolSize,M=this.get("inactiveColor"),I=this.getItemSymbol(),P=I||"roundRect";uvt(this.stateList,function(O){var N=this.itemSize,V=b[O];V||(V=b[O]={color:v?M:[M]}),V.symbol==null&&(V.symbol=T&&Ht(T)||(v?P:[P])),V.symbolSize==null&&(V.symbolSize=C&&Ht(C)||(v?N[0]:[N[0],N[0]])),V.symbol=lvt(V.symbol,function(H){return H==="none"?P:H});var F=V.symbolSize;if(F!=null){var U=-1/0;BZt(F,function(H){H>U&&(U=H)}),V.symbolSize=lvt(F,function(H){return GZt(H,[0,U],[0,N[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(xe),Wm=HZt;var fvt=[20,140],WZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=fvt[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=fvt[1])},t.prototype._resetRange=function(){var e=this.getExtent(),o=this.option.range;!o||o.auto?(e.auto=1,this.option.range=e):yt(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],e[0]),o[1]=Math.min(o[1],e[1]))},t.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),X(this.stateList,function(e){var o=this.option.controller[e].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),o=hi((this.get("range")||[]).slice());return o[0]>e[1]&&(o[0]=e[1]),o[1]>e[1]&&(o[1]=e[1]),o[0]<e[0]&&(o[0]=e[0]),o[1]<e[0]&&(o[1]=e[0]),o},t.prototype.getValueState=function(e){var o=this.option.range,l=this.getExtent();return(o[0]<=l[0]||o[0]<=e)&&(o[1]>=l[1]||e<=o[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[];return this.eachTargetSeries(function(l){var f=[],h=l.getData();h.each(this.getDataDimensionIndex(h),function(v,g){e[0]<=v&&v<=e[1]&&f.push(g)},this),o.push({seriesId:l.id,dataIndex:f})},this),o},t.prototype.getVisualMeta=function(e){var o=cvt(this,"outOfRange",this.getExtent()),l=cvt(this,"inRange",this.option.range.slice()),f=[];function h(C,M){f.push({value:C,color:e(C,M)})}for(var v=0,g=0,y=l.length,x=o.length;g<x&&(!l.length||o[g]<=l[0]);g++)o[g]<l[v]&&h(o[g],"outOfRange");for(var b=1;v<y;v++,b=0)b&&f.length&&h(l[v],"outOfRange"),h(l[v],"inRange");for(var b=1;g<x;g++)(!l.length||l[l.length-1]<o[g])&&(b&&(f.length&&h(f[f.length-1].value,"outOfRange"),b=0),h(o[g],"outOfRange"));var T=f.length;return{stops:f,outerColors:[T?f[0].color:"transparent",T?f[T-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ma(Wm.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Wm);function cvt(a,t,e){if(e[0]===e[1])return e.slice();for(var o=200,l=(e[1]-e[0])/o,f=e[0],h=[],v=0;v<=o&&f<e[1];v++)h.push(f),f+=l;return h.push(e[1]),h}var hvt=WZt;var YZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,o){this.ecModel=e,this.api=o},t.prototype.render=function(e,o,l,f){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,o,l,f)},t.prototype.renderBackground=function(e){var o=this.visualMapModel,l=Kn(o.get("padding")||0),f=e.getBoundingRect();e.add(new ge({z2:-1,silent:!0,shape:{x:f.x-l[3],y:f.y-l[0],width:f.width+l[3]+l[1],height:f.height+l[0]+l[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,o,l){l=l||{};var f=l.forceState,h=this.visualMapModel,v={};if(o==="color"){var g=h.get("contentColor");v.color=g}function y(C){return v[C]}function x(C,M){v[C]=M}var b=h.controllerVisuals[f||h.getValueState(e)],T=Jr.prepareVisualTypes(b);return X(T,function(C){var M=b[C];l.convertOpacityToAlpha&&C==="opacity"&&(C="colorAlpha",M=b.__alphaForOpacity),Jr.dependsOn(C,o)&&M&&M.applyVisual(e,y,x)}),v[o]},t.prototype.positionGroup=function(e){var o=this.visualMapModel,l=this.api;lc(e,o.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})},t.prototype.doRender=function(e,o,l,f){},t.type="visualMap",t}(He),gL=YZt;var pvt=[["left","right","width"],["top","bottom","height"]];function mL(a,t,e){var o=a.option,l=o.align;if(l!=null&&l!=="auto")return l;for(var f={width:t.getWidth(),height:t.getHeight()},h=o.orient==="horizontal"?1:0,v=pvt[h],g=[0,null,10],y={},x=0;x<3;x++)y[pvt[1-h][x]]=g[x],y[v[x]]=x===2?e[0]:o[v[x]];var b=[["x","width",3],["y","height",0]][h],T=ar(y,f,o.padding);return v[(T.margin[b[2]]||0)+T[b[0]]+T[b[1]]*.5<f[b[1]]*.5?0:1]}function Ym(a,t){return X(a||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),a}var Fl=$e,ZZt=X,dvt=Math.min,TH=Math.max,XZt=12,qZt=6,$Zt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,o){a.prototype.init.call(this,e,o),this._hoverLinkFromSeriesMouseOver=It(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=It(this._hideIndicator,this)},t.prototype.doRender=function(e,o,l,f){(!f||f.type!=="selectDataRange"||f.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,o=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(o);var l=e.get("text");this._renderEndsText(o,l,0),this._renderEndsText(o,l,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},t.prototype._renderEndsText=function(e,o,l){if(o){var f=o[1-l];f=f!=null?f+"":"";var h=this.visualMapModel,v=h.get("textGap"),g=h.itemSize,y=this._shapes.mainGroup,x=this._applyTransform([g[0]/2,l===0?-v:g[1]+v],y),b=this._applyTransform(l===0?"bottom":"top",y),T=this._orient,C=this.visualMapModel.textStyleModel;this.group.add(new _e({style:Je(C,{x:x[0],y:x[1],verticalAlign:T==="horizontal"?"middle":b,align:T==="horizontal"?b:"center",text:f})}))}},t.prototype._renderBar=function(e){var o=this.visualMapModel,l=this._shapes,f=o.itemSize,h=this._orient,v=this._useHandle,g=mL(o,this.api,f),y=l.mainGroup=this._createBarGroup(g),x=new Ut;y.add(x),x.add(l.outOfRange=gvt()),x.add(l.inRange=gvt(null,v?yvt(this._orient):null,It(this._dragHandle,this,"all",!1),It(this._dragHandle,this,"all",!0))),x.setClipPath(new ge({shape:{x:0,y:0,width:f[0],height:f[1],r:3}}));var b=o.textStyleModel.getTextRect("\u56FD"),T=TH(b.width,b.height);v&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(o,y,0,f,T,h),this._createHandle(o,y,1,f,T,h)),this._createIndicator(o,y,f,T,h),e.add(y)},t.prototype._createHandle=function(e,o,l,f,h,v){var g=It(this._dragHandle,this,l,!1),y=It(this._dragHandle,this,l,!0),x=na(e.get("handleSize"),f[0]),b=nr(e.get("handleIcon"),-x/2,-x/2,x,x,null,!0),T=yvt(this._orient);b.attr({cursor:T,draggable:!0,drift:g,ondragend:y,onmousemove:function(O){cn(O.event)}}),b.x=f[0]/2,b.useStyle(e.getModel("handleStyle").getItemStyle()),b.setStyle({strokeNoScale:!0,strokeFirst:!0}),b.style.lineWidth*=2,b.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Tu(b,!0),o.add(b);var C=this.visualMapModel.textStyleModel,M=new _e({cursor:T,draggable:!0,drift:g,onmousemove:function(O){cn(O.event)},ondragend:y,style:Je(C,{x:0,y:0,text:""})});M.ensureState("blur").style={opacity:.1},M.stateTransition={duration:200},this.group.add(M);var I=[x,0],P=this._shapes;P.handleThumbs[l]=b,P.handleLabelPoints[l]=I,P.handleLabels[l]=M},t.prototype._createIndicator=function(e,o,l,f,h){var v=na(e.get("indicatorSize"),l[0]),g=nr(e.get("indicatorIcon"),-v/2,-v/2,v,v,null,!0);g.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var y=e.getModel("indicatorStyle").getItemStyle();if(g instanceof yr){var x=g.style;g.useStyle(mt({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},y))}else g.useStyle(y);o.add(g);var b=this.visualMapModel.textStyleModel,T=new _e({silent:!0,invisible:!0,style:Je(b,{x:0,y:0,text:""})});this.group.add(T);var C=[(h==="horizontal"?f/2:qZt)+l[0]/2,0],M=this._shapes;M.indicator=g,M.indicatorLabel=T,M.indicatorLabelPoint=C,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,o,l,f){if(this._useHandle){if(this._dragging=!o,!o){var h=this._applyTransform([l,f],this._shapes.mainGroup,!0);this._updateInterval(e,h[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():mvt(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,o=this._dataInterval=e.getSelected(),l=e.getExtent(),f=[0,e.itemSize[1]];this._handleEnds=[Fl(o[0],l,f,!0),Fl(o[1],l,f,!0)]},t.prototype._updateInterval=function(e,o){o=o||0;var l=this.visualMapModel,f=this._handleEnds,h=[0,l.itemSize[1]];Ln(o,f,h,e,0);var v=l.getExtent();this._dataInterval=[Fl(f[0],h,v,!0),Fl(f[1],h,v,!0)]},t.prototype._updateView=function(e){var o=this.visualMapModel,l=o.getExtent(),f=this._shapes,h=[0,o.itemSize[1]],v=e?h:this._handleEnds,g=this._createBarVisual(this._dataInterval,l,v,"inRange"),y=this._createBarVisual(l,l,h,"outOfRange");f.inRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),f.outOfRange.setStyle({fill:y.barColor}).setShape("points",y.barPoints),this._updateHandle(v,g)},t.prototype._createBarVisual=function(e,o,l,f){var h={forceState:f,convertOpacityToAlpha:!0},v=this._makeColorGradient(e,h),g=[this.getControllerVisual(e[0],"symbolSize",h),this.getControllerVisual(e[1],"symbolSize",h)],y=this._createBarPoints(l,g);return{barColor:new No(0,0,0,1,v),barPoints:y,handlesColor:[v[0].color,v[v.length-1].color]}},t.prototype._makeColorGradient=function(e,o){var l=100,f=[],h=(e[1]-e[0])/l;f.push({color:this.getControllerVisual(e[0],"color",o),offset:0});for(var v=1;v<l;v++){var g=e[0]+h*v;if(g>e[1])break;f.push({color:this.getControllerVisual(g,"color",o),offset:v/l})}return f.push({color:this.getControllerVisual(e[1],"color",o),offset:1}),f},t.prototype._createBarPoints=function(e,o){var l=this.visualMapModel.itemSize;return[[l[0]-o[0],e[0]],[l[0],e[0]],[l[0],e[1]],[l[0]-o[1],e[1]]]},t.prototype._createBarGroup=function(e){var o=this._orient,l=this.visualMapModel.get("inverse");return new Ut(o==="horizontal"&&!l?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&l?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!l?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,o){if(this._useHandle){var l=this._shapes,f=this.visualMapModel,h=l.handleThumbs,v=l.handleLabels,g=f.itemSize,y=f.getExtent(),x=this._applyTransform("left",l.mainGroup);ZZt([0,1],function(b){var T=h[b];T.setStyle("fill",o.handlesColor[b]),T.y=e[b];var C=Fl(e[b],[0,g[1]],y,!0),M=this.getControllerVisual(C,"symbolSize");T.scaleX=T.scaleY=M/g[0],T.x=g[0]-M/2;var I=ua(l.handleLabelPoints[b],qn(T,this.group));if(this._orient==="horizontal"){var P=x==="left"||x==="top"?(g[0]-M)/2:(g[0]-M)/-2;I[1]+=P}v[b].setStyle({x:I[0],y:I[1],text:f.formatValueText(this._dataInterval[b]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",l.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,o,l,f){var h=this.visualMapModel,v=h.getExtent(),g=h.itemSize,y=[0,g[1]],x=this._shapes,b=x.indicator;if(b){b.attr("invisible",!1);var T={convertOpacityToAlpha:!0},C=this.getControllerVisual(e,"color",T),M=this.getControllerVisual(e,"symbolSize"),I=Fl(e,v,y,!0),P=g[0]-M/2,O={x:b.x,y:b.y};b.y=I,b.x=P;var N=ua(x.indicatorLabelPoint,qn(b,this.group)),V=x.indicatorLabel;V.attr("invisible",!1);var F=this._applyTransform("left",x.mainGroup),U=this._orient,H=U==="horizontal";V.setStyle({text:(l||"")+h.formatValueText(o),verticalAlign:H?F:"middle",align:H?"center":F});var Z={x:P,y:I,style:{fill:C}},$={style:{x:N[0],y:N[1]}};if(h.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var K={duration:100,easing:"cubicInOut",additive:!0};b.x=O.x,b.y=O.y,b.animateTo(Z,K),V.animateTo($,K)}else b.attr(Z),V.attr($);this._firstShowIndicator=!1;var Q=this._shapes.handleLabels;if(Q)for(var rt=0;rt<Q.length;rt++)this.api.enterBlur(Q[rt])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(o){if(e._hovering=!0,!e._dragging){var l=e.visualMapModel.itemSize,f=e._applyTransform([o.offsetX,o.offsetY],e._shapes.mainGroup,!0,!0);f[1]=dvt(TH(0,f[1]),l[1]),e._doHoverLinkToSeries(f[1],0<=f[0]&&f[0]<=l[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,o){var l=this.visualMapModel,f=l.itemSize;if(l.option.hoverLink){var h=[0,f[1]],v=l.getExtent();e=dvt(TH(h[0],e),h[1]);var g=KZt(l,v,h),y=[e-g,e+g],x=Fl(e,h,v,!0),b=[Fl(y[0],h,v,!0),Fl(y[1],h,v,!0)];y[0]<h[0]&&(b[0]=-1/0),y[1]>h[1]&&(b[1]=1/0),o&&(b[0]===-1/0?this._showIndicator(x,b[1],"< ",g):b[1]===1/0?this._showIndicator(x,b[0],"> ",g):this._showIndicator(x,x,"\u2248 ",g));var T=this._hoverLinkDataIndices,C=[];(o||mvt(l))&&(C=this._hoverLinkDataIndices=l.findTargetDataIndices(b));var M=ptt(T,C);this._dispatchHighDown("downplay",Ym(M[0],l)),this._dispatchHighDown("highlight",Ym(M[1],l))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var o;if(Ps(e.target,function(g){var y=Kt(g);if(y.dataIndex!=null)return o=y,!0},!0),!!o){var l=this.ecModel.getSeriesByIndex(o.seriesIndex),f=this.visualMapModel;if(f.isTargetSeries(l)){var h=l.getData(o.dataType),v=h.getStore().get(f.getDataDimensionIndex(h),o.dataIndex);isNaN(v)||this._showIndicator(v,v)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var l=0;l<o.length;l++)this.api.leaveBlur(o[l])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ym(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,o,l,f){var h=qn(o,f?null:this.group);return yt(e)?ua(e,h,l):Kp(e,h,l)},t.prototype._dispatchHighDown=function(e,o){o&&o.length&&this.api.dispatchAction({type:e,batch:o})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(gL);function gvt(a,t,e,o){return new Br({shape:{points:a},draggable:!!e,cursor:t,drift:e,onmousemove:function(l){cn(l.event)},ondragend:o})}function KZt(a,t,e){var o=XZt/2,l=a.get("hoverLinkDataSize");return l&&(o=Fl(l,t,e,!0)/2),o}function mvt(a){var t=a.get("hoverLinkOnHandle");return!!(t??a.get("realtime"))}function yvt(a){return a==="vertical"?"ns-resize":"ew-resize"}var _vt=$Zt;var xvt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Svt=function(a,t){t.eachComponent({mainType:"visualMap",query:a},function(e){e.setSelected(a.selected)})};var bvt=[{createOnAllSeries:!0,reset:function(a,t){var e=[];return t.eachComponent("visualMap",function(o){var l=a.pipelineContext;!o.isTargetSeries(a)||l&&l.large||e.push(spt(o.stateList,o.targetVisuals,It(o.getValueState,o),o.getDataDimensionIndex(a.getData())))}),e}},{createOnAllSeries:!0,reset:function(a,t){var e=a.getData(),o=[];t.eachComponent("visualMap",function(l){if(l.isTargetSeries(a)){var f=l.getVisualMeta(It(jZt,null,a,l))||{stops:[],outerColors:[]},h=l.getDataDimensionIndex(e);h>=0&&(f.dimension=h,o.push(f))}}),a.getData().setVisual("visualMeta",o)}}];function jZt(a,t,e,o){for(var l=t.targetVisuals[o],f=Jr.prepareVisualTypes(l),h={color:Ml(a.getData(),"color")},v=0,g=f.length;v<g;v++){var y=f[v],x=l[y==="opacity"?"__alphaForOpacity":y];x&&x.applyVisual(e,b,T)}return h.color;function b(C){return h[C]}function T(C,M){h[C]=M}}var wvt=X;function AH(a){var t=a&&a.visualMap;yt(t)||(t=t?[t]:[]),wvt(t,function(e){if(e){Zm(e,"splitList")&&!Zm(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var o=e.pieces;o&&yt(o)&&wvt(o,function(l){Ft(l)&&(Zm(l,"start")&&!Zm(l,"min")&&(l.min=l.start),Zm(l,"end")&&!Zm(l,"max")&&(l.max=l.end))})}})}function Zm(a,t){return a&&a.hasOwnProperty&&a.hasOwnProperty(t)}var Tvt=!1;function qS(a){Tvt||(Tvt=!0,a.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),a.registerAction(xvt,Svt),X(bvt,function(t){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,t)}),a.registerPreprocessor(AH))}function $S(a){a.registerComponentModel(hvt),a.registerComponentView(_vt),qS(a)}var JZt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],QZt[this._mode].call(this,this._pieceList),this._resetSelected(e,o);var f=this.option.categories;this.resetVisual(function(h,v){l==="categories"?(h.mappingMethod="category",h.categories=Ht(f)):(h.dataExtent=this.getExtent(),h.mappingMethod="piecewise",h.pieceList=_t(this._pieceList,function(g){return g=Ht(g),v!=="inRange"&&(g.visual=null),g}))})},t.prototype.completeVisualOption=function(){var e=this.option,o={},l=Jr.listVisualTypes(),f=this.isCategory();X(e.pieces,function(v){X(l,function(g){v.hasOwnProperty(g)&&(o[g]=1)})}),X(o,function(v,g){var y=!1;X(this.stateList,function(x){y=y||h(e,x,g)||h(e.target,x,g)},this),!y&&X(this.stateList,function(x){(e[x]||(e[x]={}))[g]=dL.get(g,x==="inRange"?"active":"inactive",f)})},this);function h(v,g,y){return v&&v[g]&&v[g].hasOwnProperty(y)}a.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,o){var l=this.option,f=this._pieceList,h=(o?l:e).selected||{};if(l.selected=h,X(f,function(g,y){var x=this.getSelectedMapKey(g);h.hasOwnProperty(x)||(h[x]=!0)},this),l.selectedMode==="single"){var v=!1;X(f,function(g,y){var x=this.getSelectedMapKey(g);h[x]&&(v?h[x]=!1:v=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Ht(e)},t.prototype.getValueState=function(e){var o=Jr.findPieceIndex(e,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[],l=this._pieceList;return this.eachTargetSeries(function(f){var h=[],v=f.getData();v.each(this.getDataDimensionIndex(v),function(g,y){var x=Jr.findPieceIndex(g,l);x===e&&h.push(y)},this),o.push({seriesId:f.id,dataIndex:h})},this),o},t.prototype.getRepresentValue=function(e){var o;if(this.isCategory())o=e.value;else if(e.value!=null)o=e.value;else{var l=e.interval||[];o=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return o},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var o=[],l=["",""],f=this;function h(x,b){var T=f.getRepresentValue({interval:x});b||(b=f.getValueState(T));var C=e(T,b);x[0]===-1/0?l[0]=C:x[1]===1/0?l[1]=C:o.push({value:x[0],color:C},{value:x[1],color:C})}var v=this._pieceList.slice();if(!v.length)v.push({interval:[-1/0,1/0]});else{var g=v[0].interval[0];g!==-1/0&&v.unshift({interval:[-1/0,g]}),g=v[v.length-1].interval[1],g!==1/0&&v.push({interval:[g,1/0]})}var y=-1/0;return X(v,function(x){var b=x.interval;b&&(b[0]>y&&h([y,b[0]],"outOfRange"),h(b.slice()),y=b[1])},this),{stops:o,outerColors:l}},t.type="visualMap.piecewise",t.defaultOption=Ma(Wm.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Wm),QZt={splitNumber:function(a){var t=this.option,e=Math.min(t.precision,20),o=this.getExtent(),l=t.splitNumber;l=Math.max(parseInt(l,10),1),t.splitNumber=l;for(var f=(o[1]-o[0])/l;+f.toFixed(e)!==f&&e<5;)e++;t.precision=e,f=+f.toFixed(e),t.minOpen&&a.push({interval:[-1/0,o[0]],close:[0,0]});for(var h=0,v=o[0];h<l;v+=f,h++){var g=h===l-1?o[1]:v+f;a.push({interval:[v,g],close:[1,1]})}t.maxOpen&&a.push({interval:[o[1],1/0],close:[0,0]}),Q_(a),X(a,function(y,x){y.index=x,y.text=this.formatValueText(y.interval)},this)},categories:function(a){var t=this.option;X(t.categories,function(e){a.push({text:this.formatValueText(e,!0),value:e})},this),Avt(t,a)},pieces:function(a){var t=this.option;X(t.pieces,function(e,o){Ft(e)||(e={value:e});var l={text:"",index:o};if(e.label!=null&&(l.text=e.label),e.hasOwnProperty("value")){var f=l.value=e.value;l.interval=[f,f],l.close=[1,1]}else{for(var h=l.interval=[],v=l.close=[0,0],g=[1,0,1],y=[-1/0,1/0],x=[],b=0;b<2;b++){for(var T=[["gte","gt","min"],["lte","lt","max"]][b],C=0;C<3&&h[b]==null;C++)h[b]=e[T[C]],v[b]=g[C],x[b]=C===2;h[b]==null&&(h[b]=y[b])}x[0]&&h[1]===1/0&&(v[0]=0),x[1]&&h[0]===-1/0&&(v[1]=0),h[0]===h[1]&&v[0]&&v[1]&&(l.value=h[0])}l.visual=Jr.retrieveVisuals(e),a.push(l)},this),Avt(t,a),Q_(a),X(a,function(e){var o=e.close,l=[["<","\u2264"][o[1]],[">","\u2265"][o[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,l)},this)}};function Avt(a,t){var e=a.inverse;(a.orient==="vertical"?!e:e)&&t.reverse()}var Cvt=JZt;var tXt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var o=this.visualMapModel,l=o.get("textGap"),f=o.textStyleModel,h=f.getFont(),v=f.getTextColor(),g=this._getItemAlign(),y=o.itemSize,x=this._getViewData(),b=x.endsText,T=wr(o.get("showLabel",!0),!b),C=!o.get("selectedMode");b&&this._renderEndsText(e,b[0],y,T,g),X(x.viewPieceList,function(M){var I=M.piece,P=new Ut;P.onclick=It(this._onItemClick,this,I),this._enableHoverLink(P,M.indexInModelPieceList);var O=o.getRepresentValue(I);if(this._createItemSymbol(P,O,[0,0,y[0],y[1]],C),T){var N=this.visualMapModel.getValueState(O);P.add(new _e({style:{x:g==="right"?-l:y[0]+l,y:y[1]/2,text:I.text,verticalAlign:"middle",align:g,font:h,fill:v,opacity:N==="outOfRange"?.5:1},silent:C}))}e.add(P)},this),b&&this._renderEndsText(e,b[1],y,T,g),Is(o.get("orient"),e,o.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,o){var l=this;e.on("mouseover",function(){return f("highlight")}).on("mouseout",function(){return f("downplay")});var f=function(h){var v=l.visualMapModel;v.option.hoverLink&&l.api.dispatchAction({type:h,batch:Ym(v.findTargetDataIndices(o),v)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,o=e.option;if(o.orient==="vertical")return mL(e,this.api,e.itemSize);var l=o.align;return(!l||l==="auto")&&(l="left"),l},t.prototype._renderEndsText=function(e,o,l,f,h){if(o){var v=new Ut,g=this.visualMapModel.textStyleModel;v.add(new _e({style:Je(g,{x:f?h==="right"?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:f?h:"center",text:o})})),e.add(v)}},t.prototype._getViewData=function(){var e=this.visualMapModel,o=_t(e.getPieceList(),function(v,g){return{piece:v,indexInModelPieceList:g}}),l=e.get("text"),f=e.get("orient"),h=e.get("inverse");return(f==="horizontal"?h:!h)?o.reverse():l&&(l=l.slice().reverse()),{viewPieceList:o,endsText:l}},t.prototype._createItemSymbol=function(e,o,l,f){var h=nr(this.getControllerVisual(o,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(o,"color"));h.silent=f,e.add(h)},t.prototype._onItemClick=function(e){var o=this.visualMapModel,l=o.option,f=l.selectedMode;if(f){var h=Ht(l.selected),v=o.getSelectedMapKey(e);f==="single"||f===!0?(h[v]=!0,X(h,function(g,y){h[y]=y===v})):h[v]=!h[v],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:h})}},t.type="visualMap.piecewise",t}(gL),Dvt=tXt;function KS(a){a.registerComponentModel(Cvt),a.registerComponentView(Dvt),qS(a)}function CH(a){Ae($S),Ae(KS)}var eXt={label:{enabled:!0},decal:{show:!1}},Mvt=ue(),rXt={};function DH(a,t){var e=a.getModel("aria");if(!e.get("enabled"))return;var o=Ht(eXt);ne(o.label,a.getLocaleModel().get("aria"),!1),ne(e.option,o,!1),l(),f();function l(){var y=e.getModel("decal"),x=y.get("show");if(x){var b=Rt();a.eachSeries(function(T){if(!T.isColorBySeries()){var C=b.get(T.type);C||(C={},b.set(T.type,C)),Mvt(T).scope=C}}),a.eachRawSeries(function(T){if(a.isSeriesFiltered(T))return;if(Nt(T.enableAriaDecal)){T.enableAriaDecal();return}var C=T.getData();if(T.isColorBySeries()){var N=Lx(T.ecModel,T.name,rXt,a.getSeriesCount()),V=C.getVisual("decal");C.setVisual("decal",F(V,N))}else{var M=T.getRawData(),I={},P=Mvt(T).scope;C.each(function(U){var H=C.getRawIndex(U);I[H]=U});var O=M.count();M.each(function(U){var H=I[U],Z=M.getName(U)||U+"",$=Lx(T.ecModel,Z,P,O),K=C.getItemVisual(H,"decal");C.setItemVisual(H,"decal",F(K,$))})}function F(U,H){var Z=U?mt(mt({},H),U):H;return Z.dirty=!0,Z}})}}function f(){var y=t.getZr().dom;if(y){var x=a.getLocaleModel().get("aria"),b=e.getModel("label");if(b.option=zt(b.option,x),!!b.get("enabled")){if(y.setAttribute("role","img"),b.get("description")){y.setAttribute("aria-label",b.get("description"));return}var T=a.getSeriesCount(),C=b.get(["data","maxCount"])||10,M=b.get(["series","maxCount"])||10,I=Math.min(T,M),P;if(!(T<1)){var O=v();if(O){var N=b.get(["general","withTitle"]);P=h(N,{title:O})}else P=b.get(["general","withoutTitle"]);var V=[],F=T>1?b.get(["series","multiple","prefix"]):b.get(["series","single","prefix"]);P+=h(F,{seriesCount:T}),a.eachSeries(function($,K){if(K<I){var Q=void 0,rt=$.get("name"),nt=rt?"withName":"withoutName";Q=T>1?b.get(["series","multiple",nt]):b.get(["series","single",nt]),Q=h(Q,{seriesId:$.seriesIndex,seriesName:$.get("name"),seriesType:g($.subType)});var ot=$.getData();if(ot.count()>C){var ft=b.get(["data","partialData"]);Q+=h(ft,{displayCnt:C})}else Q+=b.get(["data","allData"]);for(var lt=b.get(["data","separator","middle"]),pt=b.get(["data","separator","end"]),xt=b.get(["data","excludeDimensionId"]),st=[],dt=0;dt<ot.count();dt++)if(dt<C){var Et=ot.getName(dt),At=xt?Ee(ot.getValues(dt),function(qt,te){return ae(xt,te)===-1}):ot.getValues(dt),Zt=b.get(["data",Et?"withName":"withoutName"]);st.push(h(Zt,{name:Et,value:At.join(lt)}))}Q+=st.join(lt)+pt,V.push(Q)}});var U=b.getModel(["series","multiple","separator"]),H=U.get("middle"),Z=U.get("end");P+=V.join(H)+Z,y.setAttribute("aria-label",P)}}}}function h(y,x){if(!Dt(y))return y;var b=y;return X(x,function(T,C){b=b.replace(new RegExp("\\{\\s*"+C+"\\s*\\}","g"),T)}),b}function v(){var y=a.get("title");return y&&y.length&&(y=y[0]),y&&y.text}function g(y){var x=a.getLocaleModel().get(["series","typeNames"]);return x[y]||x.chart}}function MH(a){if(!(!a||!a.aria)){var t=a.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},X(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function LH(a){a.registerPreprocessor(MH),a.registerVisual(a.PRIORITY.VISUAL.ARIA,DH)}var Lvt={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},iXt=function(){function a(t){var e=this._condVal=Dt(t)?new RegExp(t):vN(t)?t:null;if(e==null){var o="";Qe(o)}}return a.prototype.evaluate=function(t){var e=typeof t;return Dt(e)?this._condVal.test(t):ye(e)?this._condVal.test(t+""):!1},a}(),aXt=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),nXt=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},a}(),oXt=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},a}(),sXt=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),lXt=function(){function a(){}return a.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,o=e(this.valueGetterParam),l=t?this.valueParser(o):null,f=0;f<this.subCondList.length;f++)if(!this.subCondList[f].evaluate(t?l:o))return!1;return!0},a}();function IH(a,t){if(a===!0||a===!1){var e=new aXt;return e.value=a,e}var o="";return Evt(a)||Qe(o),a.and?Ivt("and",a,t):a.or?Ivt("or",a,t):a.not?uXt(a,t):fXt(a,t)}function Ivt(a,t,e){var o=t[a],l="";yt(o)||Qe(l),o.length||Qe(l);var f=a==="and"?new nXt:new oXt;return f.children=_t(o,function(h){return IH(h,e)}),f.children.length||Qe(l),f}function uXt(a,t){var e=a.not,o="";Evt(e)||Qe(o);var l=new sXt;return l.child=IH(e,t),l.child||Qe(o),l}function fXt(a,t){for(var e="",o=t.prepareGetValue(a),l=[],f=he(a),h=a.parser,v=h?IC(h):null,g=0;g<f.length;g++){var y=f[g];if(!(y==="parser"||t.valueGetterAttrMap.get(y))){var x=Yt(Lvt,y)?Lvt[y]:y,b=a[y],T=v?v(b):b,C=nit(x,T)||x==="reg"&&new iXt(T);C||Qe(e),l.push(C)}}l.length||Qe(e);var M=new lXt;return M.valueGetterParam=o,M.valueParser=v,M.getValue=t.getValue,M.subCondList=l,M}function Evt(a){return Ft(a)&&!Xr(a)}var cXt=function(){function a(t,e){this._cond=IH(t,e)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function Pvt(a,t){return new cXt(a,t)}var Rvt={type:"echarts:filter",transform:function(a){for(var t=a.upstream,e,o=Pvt(a.config,{valueGetterAttrMap:Rt({dimension:!0}),prepareGetValue:function(v){var g="",y=v.dimension;Yt(v,"dimension")||Qe(g);var x=t.getDimensionInfo(y);return x||Qe(g),{dimIdx:x.index}},getValue:function(v){return t.retrieveValueFromItem(e,v.dimIdx)}}),l=[],f=0,h=t.count();f<h;f++)e=t.getRawDataItem(f),o.evaluate()&&l.push(e);return{data:l}}};var Ovt={type:"echarts:sort",transform:function(a){var t=a.upstream,e=a.config,o="",l=qe(e);l.length||Qe(o);var f=[];X(l,function(x){var b=x.dimension,T=x.order,C=x.parser,M=x.incomparable;if(b==null&&Qe(o),T!=="asc"&&T!=="desc"&&Qe(o),M&&M!=="min"&&M!=="max"){var I="";Qe(I)}if(T!=="asc"&&T!=="desc"){var P="";Qe(P)}var O=t.getDimensionInfo(b);O||Qe(o);var N=C?IC(C):null;C&&!N&&Qe(o),f.push({dimIdx:O.index,parser:N,comparator:new EC(T,M)})});var h=t.sourceFormat;h!==pi&&h!==ca&&Qe(o);for(var v=[],g=0,y=t.count();g<y;g++)v.push(t.getRawDataItem(g));return v.sort(function(x,b){for(var T=0;T<f.length;T++){var C=f[T],M=t.retrieveValueFromItem(x,C.dimIdx),I=t.retrieveValueFromItem(b,C.dimIdx);C.parser&&(M=C.parser(M),I=C.parser(I));var P=C.comparator.evaluate(M,I);if(P!==0)return P}return 0}),{data:v}}};function EH(a){a.registerTransform(Rvt),a.registerTransform(Ovt)}var hXt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,o,l){a.prototype.init.call(this,e,o,l),this._sourceManager=new OC(this),kV(this)},t.prototype.mergeOption=function(e,o){a.prototype.mergeOption.call(this,e,o),kV(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:wn},t}(xe);var pXt=function(a){at(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t}(He);function PH(a){a.registerComponentModel(hXt),a.registerComponentView(pXt)}var Ul=Hi.CMD;function Xm(a,t){return Math.abs(a-t)<1e-5}function yL(a){var t=a.data,e=a.len(),o=[],l,f=0,h=0,v=0,g=0;function y(ot,ft){l&&l.length>2&&o.push(l),l=[ot,ft]}function x(ot,ft,lt,pt){Xm(ot,lt)&&Xm(ft,pt)||l.push(ot,ft,lt,pt,lt,pt)}function b(ot,ft,lt,pt,xt,st){var dt=Math.abs(ft-ot),Et=Math.tan(dt/4)*4/3,At=ft<ot?-1:1,Zt=Math.cos(ot),qt=Math.sin(ot),te=Math.cos(ft),j=Math.sin(ft),Tt=Zt*xt+lt,lr=qt*st+pt,jt=te*xt+lt,ve=j*st+pt,Xt=xt*Et*At,fe=st*Et*At;l.push(Tt-Xt*qt,lr+fe*Zt,jt+Xt*j,ve-fe*te,jt,ve)}for(var T,C,M,I,P=0;P<e;){var O=t[P++],N=P===1;switch(N&&(f=t[P],h=t[P+1],v=f,g=h,(O===Ul.L||O===Ul.C||O===Ul.Q)&&(l=[v,g])),O){case Ul.M:f=v=t[P++],h=g=t[P++],y(v,g);break;case Ul.L:T=t[P++],C=t[P++],x(f,h,T,C),f=T,h=C;break;case Ul.C:l.push(t[P++],t[P++],t[P++],t[P++],f=t[P++],h=t[P++]);break;case Ul.Q:T=t[P++],C=t[P++],M=t[P++],I=t[P++],l.push(f+2/3*(T-f),h+2/3*(C-h),M+2/3*(T-M),I+2/3*(C-I),M,I),f=M,h=I;break;case Ul.A:var V=t[P++],F=t[P++],U=t[P++],H=t[P++],Z=t[P++],$=t[P++]+Z;P+=1;var K=!t[P++];T=Math.cos(Z)*U+V,C=Math.sin(Z)*H+F,N?(v=T,g=C,y(v,g)):x(f,h,T,C),f=Math.cos($)*U+V,h=Math.sin($)*H+F;for(var Q=(K?-1:1)*Math.PI/2,rt=Z;K?rt>$:rt<$;rt+=Q){var nt=K?Math.max(rt+Q,$):Math.min(rt+Q,$);b(rt,nt,V,F,U,H)}break;case Ul.R:v=f=t[P++],g=h=t[P++],T=v+t[P++],C=g+t[P++],y(T,g),x(T,g,T,C),x(T,C,v,C),x(v,C,v,g),x(v,g,T,g);break;case Ul.Z:l&&x(f,h,v,g),f=v,h=g;break}}return l&&l.length>2&&o.push(l),o}function RH(a,t,e,o,l,f,h,v,g,y){if(Xm(a,e)&&Xm(t,o)&&Xm(l,h)&&Xm(f,v)){g.push(h,v);return}var x=2/y,b=x*x,T=h-a,C=v-t,M=Math.sqrt(T*T+C*C);T/=M,C/=M;var I=e-a,P=o-t,O=l-h,N=f-v,V=I*I+P*P,F=O*O+N*N;if(V<b&&F<b){g.push(h,v);return}var U=T*I+C*P,H=-T*O-C*N,Z=V-U*U,$=F-H*H;if(Z<b&&U>=0&&$<b&&H>=0){g.push(h,v);return}var K=[],Q=[];Io(a,e,l,h,.5,K),Io(t,o,f,v,.5,Q),RH(K[0],Q[0],K[1],Q[1],K[2],Q[2],K[3],Q[3],g,y),RH(K[4],Q[4],K[5],Q[5],K[6],Q[6],K[7],Q[7],g,y)}function kvt(a,t){var e=yL(a),o=[];t=t||1;for(var l=0;l<e.length;l++){var f=e[l],h=[],v=f[0],g=f[1];h.push(v,g);for(var y=2;y<f.length;){var x=f[y++],b=f[y++],T=f[y++],C=f[y++],M=f[y++],I=f[y++];RH(v,g,x,b,T,C,M,I,h,t),v=M,g=I}o.push(h)}return o}function Bvt(a,t,e){var o=a[t],l=a[1-t],f=Math.abs(o/l),h=Math.ceil(Math.sqrt(f*e)),v=Math.floor(e/h);v===0&&(v=1,h=e);for(var g=[],y=0;y<h;y++)g.push(v);var x=h*v,b=e-x;if(b>0)for(var y=0;y<b;y++)g[y%h]+=1;return g}function Nvt(a,t,e){for(var o=a.r0,l=a.r,f=a.startAngle,h=a.endAngle,v=Math.abs(h-f),g=v*l,y=l-o,x=g>Math.abs(y),b=Bvt([g,y],x?0:1,t),T=(x?v:y)/b.length,C=0;C<b.length;C++)for(var M=(x?y:v)/b[C],I=0;I<b[C];I++){var P={};x?(P.startAngle=f+T*C,P.endAngle=f+T*(C+1),P.r0=o+M*I,P.r=o+M*(I+1)):(P.startAngle=f+M*I,P.endAngle=f+M*(I+1),P.r0=o+T*C,P.r=o+T*(C+1)),P.clockwise=a.clockwise,P.cx=a.cx,P.cy=a.cy,e.push(P)}}function vXt(a,t,e){for(var o=a.width,l=a.height,f=o>l,h=Bvt([o,l],f?0:1,t),v=f?"width":"height",g=f?"height":"width",y=f?"x":"y",x=f?"y":"x",b=a[v]/h.length,T=0;T<h.length;T++)for(var C=a[g]/h[T],M=0;M<h[T];M++){var I={};I[y]=T*b,I[x]=M*C,I[v]=b,I[g]=C,I.x+=a.x,I.y+=a.y,e.push(I)}}function zvt(a,t,e,o){return a*o-e*t}function dXt(a,t,e,o,l,f,h,v){var g=e-a,y=o-t,x=h-l,b=v-f,T=zvt(x,b,g,y);if(Math.abs(T)<1e-6)return null;var C=a-l,M=t-f,I=zvt(C,M,x,b)/T;return I<0||I>1?null:new Le(I*g+a,I*y+t)}function gXt(a,t,e){var o=new Le;Le.sub(o,e,t),o.normalize();var l=new Le;Le.sub(l,a,t);var f=l.dot(o);return f}function qm(a,t){var e=a[a.length-1];e&&e[0]===t[0]&&e[1]===t[1]||a.push(t)}function mXt(a,t,e){for(var o=a.length,l=[],f=0;f<o;f++){var h=a[f],v=a[(f+1)%o],g=dXt(h[0],h[1],v[0],v[1],t.x,t.y,e.x,e.y);g&&l.push({projPt:gXt(g,t,e),pt:g,idx:f})}if(l.length<2)return[{points:a},{points:a}];l.sort(function(P,O){return P.projPt-O.projPt});var y=l[0],x=l[l.length-1];if(x.idx<y.idx){var b=y;y=x,x=b}for(var T=[y.pt.x,y.pt.y],C=[x.pt.x,x.pt.y],M=[T],I=[C],f=y.idx+1;f<=x.idx;f++)qm(M,a[f].slice());qm(M,C),qm(M,T);for(var f=x.idx+1;f<=y.idx+o;f++)qm(I,a[f%o].slice());return qm(I,T),qm(I,C),[{points:M},{points:I}]}function Vvt(a){var t=a.points,e=[],o=[];Np(t,e,o);var l=new ie(e[0],e[1],o[0]-e[0],o[1]-e[1]),f=l.width,h=l.height,v=l.x,g=l.y,y=new Le,x=new Le;return f>h?(y.x=x.x=v+f/2,y.y=g,x.y=g+h):(y.y=x.y=g+h/2,y.x=v,x.x=v+f),mXt(t,y,x)}function _L(a,t,e,o){if(e===1)o.push(t);else{var l=Math.floor(e/2),f=a(t);_L(a,f[0],l,o),_L(a,f[1],e-l,o)}return o}function yXt(a,t){for(var e=[],o=0;o<t;o++)e.push(zg(a));return e}function _Xt(a,t){t.setStyle(a.style),t.z=a.z,t.z2=a.z2,t.zlevel=a.zlevel}function xXt(a){for(var t=[],e=0;e<a.length;)t.push([a[e++],a[e++]]);return t}function Fvt(a,t){var e=[],o=a.shape,l;switch(a.type){case"rect":vXt(o,t,e),l=ge;break;case"sector":Nvt(o,t,e),l=$r;break;case"circle":Nvt({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},t,e),l=$r;break;default:var f=a.getComputedTransform(),h=f?Math.sqrt(Math.max(f[0]*f[0]+f[1]*f[1],f[2]*f[2]+f[3]*f[3])):1,v=_t(kvt(a.getUpdatedPathProxy(),h),function(O){return xXt(O)}),g=v.length;if(g===0)_L(Vvt,{points:v[0]},t,e);else if(g===t)for(var y=0;y<g;y++)e.push({points:v[y]});else{var x=0,b=_t(v,function(O){var N=[],V=[];Np(O,N,V);var F=(V[1]-N[1])*(V[0]-N[0]);return x+=F,{poly:O,area:F}});b.sort(function(O,N){return N.area-O.area});for(var T=t,y=0;y<g;y++){var C=b[y];if(T<=0)break;var M=y===g-1?T:Math.ceil(C.area/x*t);M<0||(_L(Vvt,{points:C.poly},M,e),T-=M)}}l=Br;break}if(!l)return yXt(a,t);for(var I=[],y=0;y<e.length;y++){var P=new l;P.setShape(e[y]),_Xt(a,P),I.push(P)}return I}function SXt(a,t){var e=a.length,o=t.length;if(e===o)return[a,t];for(var l=[],f=[],h=e<o?a:t,v=Math.min(e,o),g=Math.abs(o-e)/6,y=(v-2)/6,x=Math.ceil(g/y)+1,b=[h[0],h[1]],T=g,C=2;C<v;){var M=h[C-2],I=h[C-1],P=h[C++],O=h[C++],N=h[C++],V=h[C++],F=h[C++],U=h[C++];if(T<=0){b.push(P,O,N,V,F,U);continue}for(var H=Math.min(T,x-1)+1,Z=1;Z<=H;Z++){var $=Z/H;Io(M,P,N,F,$,l),Io(I,O,V,U,$,f),M=l[3],I=f[3],b.push(l[1],f[1],l[2],f[2],M,I),P=l[5],O=f[5],N=l[6],V=f[6]}T-=H-1}return h===a?[b,t]:[a,b]}function Uvt(a,t){for(var e=a.length,o=a[e-2],l=a[e-1],f=[],h=0;h<t.length;)f[h++]=o,f[h++]=l;return f}function bXt(a,t){for(var e,o,l,f=[],h=[],v=0;v<Math.max(a.length,t.length);v++){var g=a[v],y=t[v],x=void 0,b=void 0;g?y?(e=SXt(g,y),x=e[0],b=e[1],o=x,l=b):(b=Uvt(l||g,g),x=g):(x=Uvt(o||y,y),b=y),f.push(x),h.push(b)}return[f,h]}function Gvt(a){for(var t=0,e=0,o=0,l=a.length,f=0,h=l-2;f<l;h=f,f+=2){var v=a[h],g=a[h+1],y=a[f],x=a[f+1],b=v*x-y*g;t+=b,e+=(v+y)*b,o+=(g+x)*b}return t===0?[a[0]||0,a[1]||0]:[e/t/3,o/t/3,t]}function wXt(a,t,e,o){for(var l=(a.length-2)/6,f=1/0,h=0,v=a.length,g=v-2,y=0;y<l;y++){for(var x=y*6,b=0,T=0;T<v;T+=2){var C=T===0?x:(x+T-2)%g+2,M=a[C]-e[0],I=a[C+1]-e[1],P=t[T]-o[0],O=t[T+1]-o[1],N=P-M,V=O-I;b+=N*N+V*V}b<f&&(f=b,h=y)}return h}function TXt(a){for(var t=[],e=a.length,o=0;o<e;o+=2)t[o]=a[e-o-2],t[o+1]=a[e-o-1];return t}function AXt(a,t,e,o){for(var l=[],f,h=0;h<a.length;h++){var v=a[h],g=t[h],y=Gvt(v),x=Gvt(g);f==null&&(f=y[2]<0!=x[2]<0);var b=[],T=[],C=0,M=1/0,I=[],P=v.length;f&&(v=TXt(v));for(var O=wXt(v,g,y,x)*6,N=P-2,V=0;V<N;V+=2){var F=(O+V)%N+2;b[V+2]=v[F]-y[0],b[V+3]=v[F+1]-y[1]}if(b[0]=v[O]-y[0],b[1]=v[O+1]-y[1],e>0)for(var U=o/e,H=-o/2;H<=o/2;H+=U){for(var Z=Math.sin(H),$=Math.cos(H),K=0,V=0;V<v.length;V+=2){var Q=b[V],rt=b[V+1],nt=g[V]-x[0],ot=g[V+1]-x[1],ft=nt*$-ot*Z,lt=nt*Z+ot*$;I[V]=ft,I[V+1]=lt;var pt=ft-Q,xt=lt-rt;K+=pt*pt+xt*xt}if(K<M){M=K,C=H;for(var st=0;st<I.length;st++)T[st]=I[st]}}else for(var dt=0;dt<P;dt+=2)T[dt]=g[dt]-x[0],T[dt+1]=g[dt+1]-x[1];l.push({from:b,to:T,fromCp:y,toCp:x,rotation:-C})}return l}function JS(a){return a.__isCombineMorphing}var Wvt="__mOriginal_";function xL(a,t,e){var o=Wvt+t,l=a[o]||a[t];a[o]||(a[o]=a[t]);var f=e.replace,h=e.after,v=e.before;a[t]=function(){var g=arguments,y;return v&&v.apply(this,g),f?y=f.apply(this,g):y=l.apply(this,g),h&&h.apply(this,g),y}}function jS(a,t){var e=Wvt+t;a[e]&&(a[t]=a[e],a[e]=null)}function Hvt(a,t){for(var e=0;e<a.length;e++)for(var o=a[e],l=0;l<o.length;){var f=o[l],h=o[l+1];o[l++]=t[0]*f+t[2]*h+t[4],o[l++]=t[1]*f+t[3]*h+t[5]}}function Yvt(a,t){var e=a.getUpdatedPathProxy(),o=t.getUpdatedPathProxy(),l=bXt(yL(e),yL(o)),f=l[0],h=l[1],v=a.getComputedTransform(),g=t.getComputedTransform();function y(){this.transform=null}v&&Hvt(f,v),g&&Hvt(h,g),xL(t,"updateTransform",{replace:y}),t.transform=null;var x=AXt(f,h,10,Math.PI),b=[];xL(t,"buildPath",{replace:function(T){for(var C=t.__morphT,M=1-C,I=[],P=0;P<x.length;P++){var O=x[P],N=O.from,V=O.to,F=O.rotation*C,U=O.fromCp,H=O.toCp,Z=Math.sin(F),$=Math.cos(F);pp(I,U,H,C);for(var K=0;K<N.length;K+=2){var Q=N[K],rt=N[K+1],nt=V[K],ot=V[K+1],ft=Q*M+nt*C,lt=rt*M+ot*C;b[K]=ft*$-lt*Z+I[0],b[K+1]=ft*Z+lt*$+I[1]}var pt=b[0],xt=b[1];T.moveTo(pt,xt);for(var K=2;K<N.length;){var nt=b[K++],ot=b[K++],st=b[K++],dt=b[K++],Et=b[K++],At=b[K++];pt===nt&&xt===ot&&st===Et&&dt===At?T.lineTo(Et,At):T.bezierCurveTo(nt,ot,st,dt,Et,At),pt=Et,xt=At}}}})}function bL(a,t,e){if(!a||!t)return t;var o=e.done,l=e.during;Yvt(a,t),t.__morphT=0;function f(){jS(t,"buildPath"),jS(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},zt({during:function(h){t.dirtyShape(),l&&l(h)},done:function(){f(),o&&o()}},e)),t}function CXt(a,t,e,o,l,f){var h=16;a=l===e?0:Math.round(32767*(a-e)/(l-e)),t=f===o?0:Math.round(32767*(t-o)/(f-o));for(var v=0,g,y=(1<<h)/2;y>0;y/=2){var x=0,b=0;(a&y)>0&&(x=1),(t&y)>0&&(b=1),v+=y*y*(3*x^b),b===0&&(x===1&&(a=y-1-a,t=y-1-t),g=a,a=t,t=g)}return v}function SL(a){var t=1/0,e=1/0,o=-1/0,l=-1/0,f=_t(a,function(v){var g=v.getBoundingRect(),y=v.getComputedTransform(),x=g.x+g.width/2+(y?y[4]:0),b=g.y+g.height/2+(y?y[5]:0);return t=Math.min(x,t),e=Math.min(b,e),o=Math.max(x,o),l=Math.max(b,l),[x,b]}),h=_t(f,function(v,g){return{cp:v,z:CXt(v[0],v[1],t,e,o,l),path:a[g]}});return h.sort(function(v,g){return v.z-g.z}).map(function(v){return v.path})}function Zvt(a){return Fvt(a.path,a.count)}function OH(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Xvt(a,t,e){var o=[];function l(U){for(var H=0;H<U.length;H++){var Z=U[H];JS(Z)?l(Z.childrenRef()):Z instanceof se&&o.push(Z)}}l(a);var f=o.length;if(!f)return OH();var h=e.dividePath||Zvt,v=h({path:t,count:f});if(v.length!==f)return console.error("Invalid morphing: unmatched splitted path"),OH();o=SL(o),v=SL(v);for(var g=e.done,y=e.during,x=e.individualDelay,b=new pn,T=0;T<f;T++){var C=o[T],M=v[T];M.parent=t,M.copyTransform(b),x||Yvt(C,M)}t.__isCombineMorphing=!0,t.childrenRef=function(){return v};function I(U){for(var H=0;H<v.length;H++)v[H].addSelfToZr(U)}xL(t,"addSelfToZr",{after:function(U){I(U)}}),xL(t,"removeSelfFromZr",{after:function(U){for(var H=0;H<v.length;H++)v[H].removeSelfFromZr(U)}});function P(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,jS(t,"addSelfToZr"),jS(t,"removeSelfFromZr")}var O=v.length;if(x)for(var N=O,V=function(){N--,N===0&&(P(),g&&g())},T=0;T<O;T++){var F=x?zt({delay:(e.delay||0)+x(T,O,o[T],v[T]),done:V},e):e;bL(o[T],v[T],F)}else t.__morphT=0,t.animateTo({__morphT:1},zt({during:function(U){for(var H=0;H<O;H++){var Z=v[H];Z.__morphT=t.__morphT,Z.dirtyShape()}y&&y(U)},done:function(){P();for(var U=0;U<a.length;U++)jS(a[U],"updateTransform");g&&g()}},e));return t.__zr&&I(t.__zr),{fromIndividuals:o,toIndividuals:v,count:O}}function qvt(a,t,e){var o=t.length,l=[],f=e.dividePath||Zvt;function h(C){for(var M=0;M<C.length;M++){var I=C[M];JS(I)?h(I.childrenRef()):I instanceof se&&l.push(I)}}if(JS(a)){h(a.childrenRef());var v=l.length;if(v<o)for(var g=0,y=v;y<o;y++)l.push(zg(l[g++%v]));l.length=o}else{l=f({path:a,count:o});for(var x=a.getComputedTransform(),y=0;y<l.length;y++)l[y].setLocalTransform(x);if(l.length!==o)return console.error("Invalid morphing: unmatched splitted path"),OH()}l=SL(l),t=SL(t);for(var b=e.individualDelay,y=0;y<o;y++){var T=b?zt({delay:(e.delay||0)+b(y,o,l[y],t[y])},e):e;bL(l[y],t[y],T)}return{fromIndividuals:l,toIndividuals:t,count:t.length}}function $vt(a){return yt(a[0])}function Kvt(a,t){for(var e=[],o=a.length,l=0;l<o;l++)e.push({one:a[l],many:[]});for(var l=0;l<t.length;l++){var f=t[l].length,h=void 0;for(h=0;h<f;h++)e[h%o].many.push(t[l][h])}for(var v=0,l=o-1;l>=0;l--)if(!e[l].many.length){var g=e[v].many;if(g.length<=1)if(v)v=0;else return e;var f=g.length,y=Math.ceil(f/2);e[l].many=g.slice(y,f),e[v].many=g.slice(0,y),v++}return e}var DXt={clone:function(a){for(var t=[],e=1-Math.pow(1-a.path.style.opacity,1/a.count),o=0;o<a.count;o++){var l=zg(a.path);l.setStyle("opacity",e),t.push(l)}return t},split:null};function wL(a,t,e,o,l,f){if(!a.length||!t.length)return;var h=Cl("update",o,l);if(!(h&&h.duration>0))return;var v=o.getModel("universalTransition").get("delay"),g=Object.assign({setToFinal:!0},h),y,x;$vt(a)&&(y=a,x=t),$vt(t)&&(y=t,x=a);function b(O,N,V,F,U){var H=O.many,Z=O.one;if(H.length===1&&!U){var $=N?H[0]:Z,K=N?Z:H[0];if(JS($))b({many:[$],one:K},!0,V,F,!0);else{var Q=v?zt({delay:v(V,F)},g):g;bL($,K,Q),f($,K,$,K,Q)}}else for(var rt=zt({dividePath:DXt[e],individualDelay:v&&function(xt,st,dt,Et){return v(xt+V,F)}},g),nt=N?Xvt(H,Z,rt):qvt(Z,H,rt),ot=nt.fromIndividuals,ft=nt.toIndividuals,lt=ot.length,pt=0;pt<lt;pt++){var Q=v?zt({delay:v(pt,lt)},g):g;f(ot[pt],ft[pt],N?H[pt]:O.one,N?O.one:H[pt],Q)}}for(var T=y?y===a:a.length>t.length,C=y?Kvt(x,y):Kvt(T?t:a,[T?a:t]),M=0,I=0;I<C.length;I++)M+=C[I].many.length;for(var P=0,I=0;I<C.length;I++)b(C[I],T,P,M),P+=C[I].many.length}function zc(a){if(!a)return[];if(yt(a)){for(var t=[],e=0;e<a.length;e++)t.push(zc(a[e]));return t}var o=[];return a.traverse(function(l){l instanceof se&&!l.disableMorphing&&!l.invisible&&!l.ignore&&o.push(l)}),o}var adt=1e4,MXt=0,jvt=1,Jvt=2,LXt=ue();function IXt(a,t){for(var e=a.dimensions,o=0;o<e.length;o++){var l=a.getDimensionInfo(e[o]);if(l&&l.otherDims[t]===0)return e[o]}}function EXt(a,t,e){var o=a.getDimensionInfo(e),l=o&&o.ordinalMeta;if(o){var f=a.get(o.name,t);return l&&l.categories[f]||f+""}}function Qvt(a,t,e,o){var l=o?"itemChildGroupId":"itemGroupId",f=IXt(a,l);if(f){var h=EXt(a,t,f);return h}var v=a.getRawDataItem(t),g=o?"childGroupId":"groupId";if(v&&v[g])return v[g]+"";if(!o)return e||a.getId(t)}function tdt(a){var t=[];return X(a,function(e){var o=e.data,l=e.dataGroupId;if(!(o.count()>adt))for(var f=o.getIndices(),h=0;h<f.length;h++)t.push({data:o,groupId:Qvt(o,h,l,!1),childGroupId:Qvt(o,h,l,!0),divide:e.divide,dataIndex:h})}),t}function kH(a,t,e){a.traverse(function(o){o instanceof se&&je(o,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function NH(a){if(a.parent){var t=a.getComputedTransform();a.setLocalTransform(t),a.parent.remove(a)}}function $m(a){a.stopAnimation(),a.isGroup&&a.traverse(function(t){t.stopAnimation()})}function PXt(a,t,e){var o=Cl("update",e,t);o&&a.traverse(function(l){if(l instanceof ai){var f=jet(l);f&&l.animateFrom({style:f},o)}})}function RXt(a,t){var e=a.length;if(e!==t.length)return!1;for(var o=0;o<e;o++){var l=a[o],f=t[o];if(l.data.getId(l.dataIndex)!==f.data.getId(f.dataIndex))return!1}return!0}function ndt(a,t,e){var o=tdt(a),l=tdt(t);function f(V,F,U,H,Z){(U||V)&&F.animateFrom({style:U&&U!==V?mt(mt({},U.style),V.style):V.style},Z)}var h=!1,v=MXt,g=Rt(),y=Rt();o.forEach(function(V){V.groupId&&g.set(V.groupId,!0),V.childGroupId&&y.set(V.childGroupId,!0)});for(var x=0;x<l.length;x++){var b=l[x].groupId;if(y.get(b)){v=jvt;break}var T=l[x].childGroupId;if(T&&g.get(T)){v=Jvt;break}}function C(V,F){return function(U){var H=U.data,Z=U.dataIndex;return F?H.getId(Z):V?v===jvt?U.childGroupId:U.groupId:v===Jvt?U.childGroupId:U.groupId}}var M=RXt(o,l),I={};if(!M)for(var x=0;x<l.length;x++){var P=l[x],O=P.data.getItemGraphicEl(P.dataIndex);O&&(I[O.id]=!0)}function N(V,F){var U=o[F],H=l[V],Z=H.data.hostModel,$=U.data.getItemGraphicEl(U.dataIndex),K=H.data.getItemGraphicEl(H.dataIndex);if($===K){K&&PXt(K,H.dataIndex,Z);return}$&&I[$.id]||K&&($m(K),$?($m($),NH($),h=!0,wL(zc($),zc(K),H.divide,Z,V,f)):kH(K,Z,V))}new ha(o,l,C(!0,M),C(!1,M),null,"multiple").update(N).updateManyToOne(function(V,F){var U=l[V],H=U.data,Z=H.hostModel,$=H.getItemGraphicEl(U.dataIndex),K=Ee(_t(F,function(Q){return o[Q].data.getItemGraphicEl(o[Q].dataIndex)}),function(Q){return Q&&Q!==$&&!I[Q.id]});$&&($m($),K.length?(X(K,function(Q){$m(Q),NH(Q)}),h=!0,wL(zc(K),zc($),U.divide,Z,V,f)):kH($,Z,U.dataIndex))}).updateOneToMany(function(V,F){var U=o[F],H=U.data.getItemGraphicEl(U.dataIndex);if(!(H&&I[H.id])){var Z=Ee(_t(V,function(K){return l[K].data.getItemGraphicEl(l[K].dataIndex)}),function(K){return K&&K!==H}),$=l[V[0]].data.hostModel;Z.length&&(X(Z,function(K){return $m(K)}),H?($m(H),NH(H),h=!0,wL(zc(H),zc(Z),U.divide,$,V[0],f)):X(Z,function(K){return kH(K,$,V[0])}))}}).updateManyToMany(function(V,F){new ha(F,V,function(U){return o[U].data.getId(o[U].dataIndex)},function(U){return l[U].data.getId(l[U].dataIndex)}).update(function(U,H){N(V[U],F[H])}).execute()}).execute(),h&&X(t,function(V){var F=V.data,U=F.hostModel,H=U&&e.getViewOfSeriesModel(U),Z=Cl("update",U,0);H&&U.isAnimationEnabled()&&Z&&Z.duration>0&&H.group.traverse(function($){$ instanceof se&&!$.animators.length&&$.animateFrom({style:{opacity:0}},Z)})})}function edt(a){var t=a.getModel("universalTransition").get("seriesKey");return t||a.id}function rdt(a){return yt(a)?a.sort().join(","):a}function Vc(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function OXt(a,t){var e=Rt(),o=Rt(),l=Rt();X(a.oldSeries,function(h,v){var g=a.oldDataGroupIds[v],y=a.oldData[v],x=edt(h),b=rdt(x);o.set(b,{dataGroupId:g,data:y}),yt(x)&&X(x,function(T){l.set(T,{key:b,dataGroupId:g,data:y})})});function f(h){e.get(h)&&ntt("Duplicated seriesKey in universalTransition "+h)}return X(t.updatedSeries,function(h){if(h.isUniversalTransitionEnabled()&&h.isAnimationEnabled()){var v=h.get("dataGroupId"),g=h.getData(),y=edt(h),x=rdt(y),b=o.get(x);if(b)e.set(x,{oldSeries:[{dataGroupId:b.dataGroupId,divide:Vc(b.data),data:b.data}],newSeries:[{dataGroupId:v,divide:Vc(g),data:g}]});else if(yt(y)){var T=[];X(y,function(I){var P=o.get(I);P.data&&T.push({dataGroupId:P.dataGroupId,divide:Vc(P.data),data:P.data})}),T.length&&e.set(x,{oldSeries:T,newSeries:[{dataGroupId:v,data:g,divide:Vc(g)}]})}else{var C=l.get(y);if(C){var M=e.get(C.key);M||(M={oldSeries:[{dataGroupId:C.dataGroupId,data:C.data,divide:Vc(C.data)}],newSeries:[]},e.set(C.key,M)),M.newSeries.push({dataGroupId:v,data:g,divide:Vc(g)})}}}}),e}function idt(a,t){for(var e=0;e<a.length;e++){var o=t.seriesIndex!=null&&t.seriesIndex===a[e].seriesIndex||t.seriesId!=null&&t.seriesId===a[e].id;if(o)return e}}function kXt(a,t,e,o){var l=[],f=[];X(qe(a.from),function(h){var v=idt(t.oldSeries,h);v>=0&&l.push({dataGroupId:t.oldDataGroupIds[v],data:t.oldData[v],divide:Vc(t.oldData[v]),groupIdDim:h.dimension})}),X(qe(a.to),function(h){var v=idt(e.updatedSeries,h);if(v>=0){var g=e.updatedSeries[v].getData();f.push({dataGroupId:t.oldDataGroupIds[v],data:g,divide:Vc(g),groupIdDim:h.dimension})}}),l.length>0&&f.length>0&&ndt(l,f,o)}function zH(a){a.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){X(qe(o.seriesTransition),function(l){X(qe(l.to),function(f){for(var h=o.updatedSeries,v=0;v<h.length;v++)(f.seriesIndex!=null&&f.seriesIndex===h[v].seriesIndex||f.seriesId!=null&&f.seriesId===h[v].id)&&(h[v][Nx]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(t,e,o){var l=LXt(e);if(l.oldSeries&&o.updatedSeries&&o.optionChanged){var f=o.seriesTransition;if(f)X(qe(f),function(C){kXt(C,l,o,e)});else{var h=OXt(l,o);X(h.keys(),function(C){var M=h.get(C);ndt(M.oldSeries,M.newSeries,e)})}X(o.updatedSeries,function(C){C[Nx]&&(C[Nx]=!1)})}for(var v=t.getSeries(),g=l.oldSeries=[],y=l.oldDataGroupIds=[],x=l.oldData=[],b=0;b<v.length;b++){var T=v[b].getData();T.count()<adt&&(g.push(v[b]),y.push(v[b].get("dataGroupId")),x.push(T))}})}Ae([dF]);Ae([vF]);Ae([bF,AF,PF,HF,ZF,uU,_U,LU,KU,jU,QU,mG,SG,TG,IG,EG,PG,RG,zG,FG,WG,c5]);Ae(y5);Ae(w5);Ae(_S);Ae(C5);Ae(ES);Ae(M5);Ae(I5);Ae(F5);Ae(W5);Ae(Gs);Ae(K5);Ae(j5);Ae(eH);Ae(sH);Ae(uH);Ae(fH);Ae(yH);Ae(wH);Ae(WS);Ae(XS);Ae(CH);Ae($S);Ae(KS);Ae(LH);Ae(EH);Ae(PH);Ae(zH);Ae(XB);var wFe=cNt(ldt());var C3={};sn(C3,{FetchEnctype:()=>Fc,FetchMethod:()=>io,FetchRequest:()=>Xc,FetchResponse:()=>fy,FrameElement:()=>is,FrameLoadingStyle:()=>Rv,FrameRenderer:()=>hy,PageRenderer:()=>py,PageSnapshot:()=>rs,StreamActions:()=>A3,StreamElement:()=>UL,StreamSourceElement:()=>GL,cache:()=>Udt,clearCache:()=>Zdt,config:()=>Zi,connectStreamSource:()=>w3,disconnectStreamSource:()=>T3,fetch:()=>x3,fetchEnctypeFromString:()=>Mdt,fetchMethodFromString:()=>fI,isSafe:()=>cI,navigator:()=>Gdt,registerAdapter:()=>Hdt,renderStreamMessage:()=>Ydt,session:()=>gi,setConfirmMethod:()=>qdt,setFormMode:()=>$dt,setProgressBarDelay:()=>Xdt,start:()=>b3,visit:()=>Wdt});(function(a){if(typeof a.requestSubmit=="function")return;a.requestSubmit=function(o){o?(t(o,this),o.click()):(o=document.createElement("input"),o.type="submit",o.hidden=!0,this.appendChild(o),o.click(),this.removeChild(o))};function t(o,l){o instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),o.type=="submit"||e(TypeError,"The specified element is not a submit button"),o.form==l||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}function e(o,l,f){throw new o("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+l+".",f)}})(HTMLFormElement.prototype);var gdt=new WeakMap;function NXt(a){let t=a instanceof Element?a:a instanceof Node?a.parentElement:null,e=t?t.closest("input, button"):null;return e?.type=="submit"?e:null}function zXt(a){let t=NXt(a.target);t&&t.form&&gdt.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let a=window.Event.prototype;if("SubmitEvent"in window){let t=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in t))a=t;else return}addEventListener("click",zXt,!0),Object.defineProperty(a,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return gdt.get(this.target)}})})();var Rv={eager:"eager",lazy:"lazy"},HL=class HL extends HTMLElement{constructor(){super();Bt(this,"loaded",Promise.resolve());this.delegate=new HL.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return VXt(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};Bt(HL,"delegateConstructor");var is=HL;function VXt(a){switch(a.toLowerCase()){case"lazy":return Rv.lazy;default:return Rv.eager}}var BXt={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function rb(a){if(a.getAttribute("data-turbo-eval")=="false")return a;{let t=document.createElement("script"),e=bdt();return e&&(t.nonce=e),t.textContent=a.textContent,t.async=!1,FXt(t,a),t}}function FXt(a,t){for(let{name:e,value:o}of t.attributes)a.setAttribute(e,o)}function UXt(a){let t=document.createElement("template");return t.innerHTML=a,t.content}function ni(a,{target:t,cancelable:e,detail:o}={}){let l=new CustomEvent(a,{cancelable:e,bubbles:!0,composed:!0,detail:o});return t&&t.isConnected?t.dispatchEvent(l):document.documentElement.dispatchEvent(l),l}function udt(a){a.preventDefault(),a.stopImmediatePropagation()}function eb(){return document.visibilityState==="hidden"?ydt():mdt()}function mdt(){return new Promise(a=>requestAnimationFrame(()=>a()))}function ydt(){return new Promise(a=>setTimeout(()=>a(),0))}function GXt(){return Promise.resolve()}function _dt(a=""){return new DOMParser().parseFromString(a,"text/html")}function xdt(a,...t){let e=HXt(a,t).replace(/^\n/,"").split(`
`),o=e[0].match(/^\s+/),l=o?o[0].length:0;return e.map(f=>f.slice(l)).join(`
`)}function HXt(a,t){return a.reduce((e,o,l)=>{let f=t[l]==null?"":t[l];return e+o+f},"")}function Zc(){return Array.from({length:36}).map((a,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function EL(a,...t){for(let e of t.map(o=>o?.getAttribute(a)))if(typeof e=="string")return e;return null}function WXt(a,...t){return t.some(e=>e&&e.hasAttribute(a))}function PL(...a){for(let t of a)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function RL(...a){for(let t of a)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function YXt(a,t=2e3){return new Promise(e=>{let o=()=>{a.removeEventListener("error",o),a.removeEventListener("load",o),e()};a.addEventListener("load",o,{once:!0}),a.addEventListener("error",o,{once:!0}),setTimeout(e,t)})}function Sdt(a){switch(a){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function ZXt(a){return a=="advance"||a=="replace"||a=="restore"}function Nv(...a){let t=EL("data-turbo-action",...a);return ZXt(t)?t:null}function m3(a){return document.querySelector(`meta[name="${a}"]`)}function OL(a){let t=m3(a);return t&&t.content}function bdt(){let a=m3("csp-nonce");if(a){let{nonce:t,content:e}=a;return t==""?e:t}}function XXt(a,t){let e=m3(a);return e||(e=document.createElement("meta"),e.setAttribute("name",a),document.head.appendChild(e)),e.setAttribute("content",t),e}function ty(a,t){if(a instanceof Element)return a.closest(t)||ty(a.assignedSlot||a.getRootNode()?.host,t)}function y3(a){return!!a&&a.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof a.focus=="function"}function wdt(a){return Array.from(a.querySelectorAll("[autofocus]")).find(y3)}async function qXt(a,t){let e=t();a(),await mdt();let o=t();return[e,o]}function Tdt(a){if(a==="_blank")return!1;if(a){for(let t of document.getElementsByName(a))if(t instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Adt(a){return ty(a,"a[href]:not([target^=_]):not([download])")}function Cdt(a){return Qi(a.getAttribute("href")||"")}function $Xt(a,t){let e=null;return(...o)=>{let l=()=>a.apply(this,o);clearTimeout(e),e=setTimeout(l,t)}}var KXt={"aria-disabled":{beforeSubmit:a=>{a.setAttribute("aria-disabled","true"),a.addEventListener("click",udt)},afterSubmit:a=>{a.removeAttribute("aria-disabled"),a.removeEventListener("click",udt)}},disabled:{beforeSubmit:a=>a.disabled=!0,afterSubmit:a=>a.disabled=!1}},nb,BH=class{constructor(t){Ce(this,nb,null);Object.assign(this,t)}get submitter(){return Oe(this,nb)}set submitter(t){gr(this,nb,KXt[t]||t)}};nb=new WeakMap;var jXt=new BH({mode:"on",submitter:"disabled"}),Zi={drive:BXt,forms:jXt};function Qi(a){return new URL(a.toString(),document.baseURI)}function zv(a){let t;if(a.hash)return a.hash.slice(1);if(t=a.href.match(/#(.*)$/))return t[1]}function _3(a,t){let e=t?.getAttribute("formaction")||a.getAttribute("action")||a.action;return Qi(e)}function JXt(a){return(rqt(a).match(/\.[^.]*$/)||[])[0]||""}function QXt(a,t){let e=iqt(t);return a.href===Qi(e).href||a.href.startsWith(e)}function Bc(a,t){return QXt(a,t)&&!Zi.drive.unvisitableExtensions.has(JXt(a))}function FH(a){let t=zv(a);return t!=null?a.href.slice(0,-(t.length+1)):a.href}function AL(a){return FH(a)}function tqt(a,t){return Qi(a).href==Qi(t).href}function eqt(a){return a.pathname.split("/").slice(1)}function rqt(a){return eqt(a).slice(-1)[0]}function iqt(a){return aqt(a.origin+a.pathname)}function aqt(a){return a.endsWith("/")?a:a+"/"}var fy=class{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Qi(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}},UH=class extends Set{constructor(t){super(),this.maxSize=t}add(t){if(this.size>=this.maxSize){let o=this.values().next().value;this.delete(o)}super.add(t)}},Ddt=new UH(20),nqt=window.fetch;function x3(a,t={}){let e=new Headers(t.headers||{}),o=Zc();return Ddt.add(o),e.append("X-Turbo-Request-Id",o),nqt(a,{...t,headers:e})}function fI(a){switch(a.toLowerCase()){case"get":return io.get;case"post":return io.post;case"put":return io.put;case"patch":return io.patch;case"delete":return io.delete}}var io={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function Mdt(a){switch(a.toLowerCase()){case Fc.multipart:return Fc.multipart;case Fc.plain:return Fc.plain;default:return Fc.urlEncoded}}var Fc={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},ob,WL,Ldt,YL,Idt,Xc=class{constructor(t,e,o,l=new URLSearchParams,f=null,h=Fc.urlEncoded){Ce(this,WL);Ce(this,YL);Bt(this,"abortController",new AbortController);Ce(this,ob,t=>{});let[v,g]=fdt(Qi(o),e,l,h);this.delegate=t,this.url=v,this.target=f,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:e.toUpperCase(),headers:{...this.defaultHeaders},body:g,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=h}get method(){return this.fetchOptions.method}set method(t){let e=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,o=fI(t)||io.get;this.url.search="";let[l,f]=fdt(this.url,o,e,this.enctype);this.url=l,this.fetchOptions.body=f,this.fetchOptions.method=o.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(t){this.fetchOptions.headers=t}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(t){this.fetchOptions.body=t}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:t}=this;this.delegate.prepareRequest(this);let e=await Be(this,WL,Ldt).call(this,t);try{this.delegate.requestStarted(this),e.detail.fetchRequest?this.response=e.detail.fetchRequest.response:this.response=x3(this.url.href,t);let o=await this.response;return await this.receive(o)}catch(o){if(o.name!=="AbortError")throw Be(this,YL,Idt).call(this,o)&&this.delegate.requestErrored(this,o),o}finally{this.delegate.requestFinished(this)}}async receive(t){let e=new fy(t);return ni("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),e}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return cI(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}};ob=new WeakMap,WL=new WeakSet,Ldt=async function(t){let e=new Promise(l=>gr(this,ob,l)),o=ni("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:Oe(this,ob)},target:this.target});return this.url=o.detail.url,o.defaultPrevented&&await e,o},YL=new WeakSet,Idt=function(t){return!ni("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented};function cI(a){return fI(a)==io.get}function fdt(a,t,e,o){let l=Array.from(e).length>0?new URLSearchParams(Edt(e)):a.searchParams;return cI(t)?[oqt(a,l),null]:o==Fc.urlEncoded?[a,l]:[a,e]}function Edt(a){let t=[];for(let[e,o]of a)o instanceof File||t.push([e,o]);return t}function oqt(a,t){let e=new URLSearchParams(Edt(t));return a.search=e.toString(),a}var GH=class{constructor(t,e){Bt(this,"started",!1);Bt(this,"intersect",t=>{t.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},$u=class{static wrap(t){return typeof t=="string"?new this(UXt(t)):t}constructor(t){this.fragment=sqt(t)}};Bt($u,"contentType","text/vnd.turbo-stream.html");function sqt(a){for(let t of a.querySelectorAll("turbo-stream")){let e=document.importNode(t,!0);for(let o of e.templateElement.content.querySelectorAll("script"))o.replaceWith(rb(o));t.replaceWith(e)}return a}var lqt=100,Ov,Xu,HH=class{constructor(){Ce(this,Ov,null);Ce(this,Xu,null)}get(t){if(Oe(this,Xu)&&Oe(this,Xu).url===t&&Oe(this,Xu).expire>Date.now())return Oe(this,Xu).request}setLater(t,e,o){this.clear(),gr(this,Ov,setTimeout(()=>{e.perform(),this.set(t,e,o),gr(this,Ov,null)},lqt))}set(t,e,o){gr(this,Xu,{url:t,request:e,expire:new Date(new Date().getTime()+o)})}clear(){Oe(this,Ov)&&clearTimeout(Oe(this,Ov)),gr(this,Xu,null)}};Ov=new WeakMap,Xu=new WeakMap;var uqt=10*1e3,Qm=new HH,Km={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},kL=class a{constructor(t,e,o,l=!1){Bt(this,"state",Km.initialized);let f=dqt(e,o),h=vqt(pqt(e,o),f),v=fqt(e,o),g=gqt(e,o);this.delegate=t,this.formElement=e,this.submitter=o,this.fetchRequest=new Xc(this,f,h,v,e,g),this.mustRedirect=l}static confirmMethod(t){return Promise.resolve(confirm(t))}get method(){return this.fetchRequest.method}set method(t){this.fetchRequest.method=t}get action(){return this.fetchRequest.url.toString()}set action(t){this.fetchRequest.url=Qi(t)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:t,requesting:e}=Km,o=EL("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof o=="string"&&!await(typeof Zi.forms.confirm=="function"?Zi.forms.confirm:a.confirmMethod)(o,this.formElement,this.submitter))&&this.state==t)return this.state=e,this.fetchRequest.perform()}stop(){let{stopping:t,stopped:e}=Km;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){let e=cqt(OL("csrf-param"))||OL("csrf-token");e&&(t.headers["X-CSRF-Token"]=e)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType($u.contentType)}requestStarted(t){this.state=Km.waiting,this.submitter&&Zi.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),PL(this.formElement),ni("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,e){Qm.clear(),this.result={success:e.succeeded,fetchResponse:e}}requestSucceededWithResponse(t,e){if(e.clientError||e.serverError){this.delegate.formSubmissionFailedWithResponse(this,e);return}if(Qm.clear(),this.requestMustRedirect(t)&&hqt(e)){let o=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,o)}else this.state=Km.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)}requestFailedWithResponse(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)}requestErrored(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)}requestFinished(t){this.state=Km.stopped,this.submitter&&Zi.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),RL(this.formElement),ni("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||WXt("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function fqt(a,t){let e=new FormData(a),o=t?.getAttribute("name"),l=t?.getAttribute("value");return o&&e.append(o,l||""),e}function cqt(a){if(a!=null){let e=(document.cookie?document.cookie.split("; "):[]).find(o=>o.startsWith(a));if(e){let o=e.split("=").slice(1).join("=");return o?decodeURIComponent(o):void 0}}}function hqt(a){return a.statusCode==200&&!a.redirected}function pqt(a,t){let e=typeof a.action=="string"?a.action:null;return t?.hasAttribute("formaction")?t.getAttribute("formaction")||"":a.getAttribute("action")||e||""}function vqt(a,t){let e=Qi(a);return cI(t)&&(e.search=""),e}function dqt(a,t){let e=t?.getAttribute("formmethod")||a.getAttribute("method")||"";return fI(e.toLowerCase())||io.get}function gqt(a,t){return Mdt(t?.getAttribute("formenctype")||a.enctype)}var cy=class{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return wdt(this.element)}get permanentElements(){return Rdt(this.element)}getPermanentElementById(t){return Pdt(this.element,t)}getPermanentElementMapForSnapshot(t){let e={};for(let o of this.permanentElements){let{id:l}=o,f=t.getPermanentElementById(l);f&&(e[l]=[o,f])}return e}};function Pdt(a,t){return a.querySelector(`#${t}[data-turbo-permanent]`)}function Rdt(a){return a.querySelectorAll("[id][data-turbo-permanent]")}var ib=class{constructor(t,e){Bt(this,"started",!1);Bt(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});Bt(this,"submitBubbled",t=>{if(!t.defaultPrevented){let e=t.target instanceof HTMLFormElement?t.target:void 0,o=t.submitter||void 0;e&&mqt(e,o)&&yqt(e,o)&&this.delegate.willSubmitForm(e,o)&&(t.preventDefault(),t.stopImmediatePropagation(),this.delegate.formSubmitted(e,o))}});this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function mqt(a,t){return(t?.getAttribute("formmethod")||a.getAttribute("method"))!="dialog"}function yqt(a,t){let e=t?.getAttribute("formtarget")||a.getAttribute("target");return Tdt(e)}var sb,lb,NL=class{constructor(t,e){Ce(this,sb,t=>{});Ce(this,lb,t=>{});this.delegate=t,this.element=e}scrollToAnchor(t){let e=this.snapshot.getElementForAnchor(t);e?(this.scrollToElement(e),this.focusElement(e)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(zv(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:e}){this.scrollRoot.scrollTo(t,e)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){let{isPreview:e,shouldRender:o,willRender:l,newSnapshot:f}=t,h=l;if(o)try{this.renderPromise=new Promise(x=>gr(this,sb,x)),this.renderer=t,await this.prepareToRenderSnapshot(t);let v=new Promise(x=>gr(this,lb,x)),g={resume:Oe(this,lb),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(f,g)||await v,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(f,e,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,Oe(this,sb).call(this,void 0),delete this.renderPromise}else h&&this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(t){this.element.setAttribute("data-turbo-visit-direction",t)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}};sb=new WeakMap,lb=new WeakMap;var WH=class extends NL{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new cy(this.element)}},zL=class{constructor(t,e){Bt(this,"clickBubbled",t=>{this.clickEventIsSignificant(t)?this.clickEvent=t:delete this.clickEvent});Bt(this,"linkClicked",t=>{this.clickEvent&&this.clickEventIsSignificant(t)&&this.delegate.shouldInterceptLinkClick(t.target,t.detail.url,t.detail.originalEvent)&&(this.clickEvent.preventDefault(),t.preventDefault(),this.delegate.linkClickIntercepted(t.target,t.detail.url,t.detail.originalEvent)),delete this.clickEvent});Bt(this,"willVisit",t=>{delete this.clickEvent});this.delegate=t,this.element=e}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(t){let e=t.composed?t.target?.parentElement:t.target,o=Adt(e)||e;return o instanceof Element&&o.closest("turbo-frame, html")==this.element}},VL=class{constructor(t,e){Bt(this,"started",!1);Bt(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});Bt(this,"clickBubbled",t=>{if(t instanceof MouseEvent&&this.clickEventIsSignificant(t)){let e=t.composedPath&&t.composedPath()[0]||t.target,o=Adt(e);if(o&&Tdt(o.target)){let l=Cdt(o);this.delegate.willFollowLinkToLocation(o,l,t)&&(t.preventDefault(),this.delegate.followedLinkToLocation(o,l))}}});this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}},BL=class{constructor(t,e){this.delegate=t,this.linkInterceptor=new VL(this,e)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(t,e){return!1}prefetchAndCacheRequestToLocation(t,e){}willFollowLinkToLocation(t,e,o){return this.delegate.willSubmitFormLinkToLocation(t,e,o)&&(t.hasAttribute("data-turbo-method")||t.hasAttribute("data-turbo-stream"))}followedLinkToLocation(t,e){let o=document.createElement("form"),l="hidden";for(let[b,T]of e.searchParams)o.append(Object.assign(document.createElement("input"),{type:l,name:b,value:T}));let f=Object.assign(e,{search:""});o.setAttribute("data-turbo","true"),o.setAttribute("action",f.href),o.setAttribute("hidden","");let h=t.getAttribute("data-turbo-method");h&&o.setAttribute("method",h);let v=t.getAttribute("data-turbo-frame");v&&o.setAttribute("data-turbo-frame",v);let g=Nv(t);g&&o.setAttribute("data-turbo-action",g);let y=t.getAttribute("data-turbo-confirm");y&&o.setAttribute("data-turbo-confirm",y),t.hasAttribute("data-turbo-stream")&&o.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,e,o),document.body.appendChild(o),o.addEventListener("turbo:submit-end",()=>o.remove(),{once:!0}),requestAnimationFrame(()=>o.requestSubmit())}},FL=class{static async preservingPermanentElements(t,e,o){let l=new this(t,e);l.enter(),await o(),l.leave()}constructor(t,e){this.delegate=t,this.permanentElementMap=e}enter(){for(let t in this.permanentElementMap){let[e,o]=this.permanentElementMap[t];this.delegate.enteringBardo(e,o),this.replaceNewPermanentElementWithPlaceholder(o)}}leave(){for(let t in this.permanentElementMap){let[e]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(e),this.replacePlaceholderWithPermanentElement(e),this.delegate.leavingBardo(e)}}replaceNewPermanentElementWithPlaceholder(t){let e=_qt(t);t.replaceWith(e)}replaceCurrentPermanentElementWithClone(t){let e=t.cloneNode(!0);t.replaceWith(e)}replacePlaceholderWithPermanentElement(t){this.getPlaceholderById(t.id)?.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(e=>e.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function _qt(a){let t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",a.id),t}var qu,ab=class{constructor(t,e,o,l=!0){Ce(this,qu,null);this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=o,this.willRender=l,this.renderElement=this.constructor.renderElement,this.promise=new Promise((f,h)=>this.resolvingFunctions={resolve:f,reject:h})}static renderElement(t,e){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await FL.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let t=this.connectedSnapshot.firstAutofocusableElement;t&&t.focus()}}enteringBardo(t){Oe(this,qu)||t.contains(this.currentSnapshot.activeElement)&&gr(this,qu,this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(Oe(this,qu))&&Oe(this,qu)instanceof HTMLElement&&(Oe(this,qu).focus(),gr(this,qu,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}};qu=new WeakMap;var hy=class extends ab{static renderElement(t,e){let o=document.createRange();o.selectNodeContents(t),o.deleteContents();let l=e,f=l.ownerDocument?.createRange();f&&(f.selectNodeContents(l),t.appendChild(f.extractContents()))}constructor(t,e,o,l,f,h=!0){super(e,o,l,f,h),this.delegate=t}get shouldRender(){return!0}async render(){await eb(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await eb(),this.focusFirstAutofocusableElement(),await eb(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let t=this.currentElement.firstElementChild,e=xqt(this.currentElement.getAttribute("data-autoscroll-block"),"end"),o=Sqt(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:e,behavior:o}),!0}return!1}activateScriptElements(){for(let t of this.newScriptElements){let e=rb(t);t.replaceWith(e)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function xqt(a,t){return a=="end"||a=="start"||a=="center"||a=="nearest"?a:t}function Sqt(a,t){return a=="auto"||a=="smooth"?a:t}var bqt=function(){let a=()=>{},t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:a,afterNodeAdded:a,beforeNodeMorphed:a,afterNodeMorphed:a,beforeNodeRemoved:a,afterNodeRemoved:a,beforeAttributeUpdated:a},head:{style:"merge",shouldPreserve:T=>T.getAttribute("im-preserve")==="true",shouldReAppend:T=>T.getAttribute("im-re-append")==="true",shouldRemove:a,afterHeadMorphed:a},restoreFocus:!0};function e(T,C,M={}){T=x(T);let I=b(C),P=y(T,I,M),O=l(P,()=>v(P,T,I,N=>N.morphStyle==="innerHTML"?(f(N,T,I),Array.from(T.childNodes)):o(N,T,I)));return P.pantry.remove(),O}function o(T,C,M){let I=b(C),P=Array.from(I.childNodes),O=P.indexOf(C),N=P.length-(O+1);return f(T,I,M,C,C.nextSibling),P=Array.from(I.childNodes),P.slice(O,P.length-N)}function l(T,C){if(!T.config.restoreFocus)return C();let M=document.activeElement;if(!(M instanceof HTMLInputElement||M instanceof HTMLTextAreaElement))return C();let{id:I,selectionStart:P,selectionEnd:O}=M,N=C();return I&&I!==document.activeElement?.id&&(M=T.target.querySelector(`#${I}`),M?.focus()),M&&!M.selectionEnd&&O&&M.setSelectionRange(P,O),N}let f=function(){function T(F,U,H,Z=null,$=null){U instanceof HTMLTemplateElement&&H instanceof HTMLTemplateElement&&(U=U.content,H=H.content),Z||(Z=U.firstChild);for(let K of H.childNodes){if(Z&&Z!=$){let rt=M(F,K,Z,$);if(rt){rt!==Z&&P(F,Z,rt),h(rt,K,F),Z=rt.nextSibling;continue}}if(K instanceof Element&&F.persistentIds.has(K.id)){let rt=O(U,K.id,Z,F);h(rt,K,F),Z=rt.nextSibling;continue}let Q=C(U,K,Z,F);Q&&(Z=Q.nextSibling)}for(;Z&&Z!=$;){let K=Z;Z=Z.nextSibling,I(F,K)}}function C(F,U,H,Z){if(Z.callbacks.beforeNodeAdded(U)===!1)return null;if(Z.idMap.has(U)){let $=document.createElement(U.tagName);return F.insertBefore($,H),h($,U,Z),Z.callbacks.afterNodeAdded($),$}else{let $=document.importNode(U,!0);return F.insertBefore($,H),Z.callbacks.afterNodeAdded($),$}}let M=function(){function F(Z,$,K,Q){let rt=null,nt=$.nextSibling,ot=0,ft=K;for(;ft&&ft!=Q;){if(H(ft,$)){if(U(Z,ft,$))return ft;rt===null&&(Z.idMap.has(ft)||(rt=ft))}if(rt===null&&nt&&H(ft,nt)&&(ot++,nt=nt.nextSibling,ot>=2&&(rt=void 0)),ft.contains(document.activeElement))break;ft=ft.nextSibling}return rt||null}function U(Z,$,K){let Q=Z.idMap.get($),rt=Z.idMap.get(K);if(!rt||!Q)return!1;for(let nt of Q)if(rt.has(nt))return!0;return!1}function H(Z,$){let K=Z,Q=$;return K.nodeType===Q.nodeType&&K.tagName===Q.tagName&&(!K.id||K.id===Q.id)}return F}();function I(F,U){if(F.idMap.has(U))V(F.pantry,U,null);else{if(F.callbacks.beforeNodeRemoved(U)===!1)return;U.parentNode?.removeChild(U),F.callbacks.afterNodeRemoved(U)}}function P(F,U,H){let Z=U;for(;Z&&Z!==H;){let $=Z;Z=Z.nextSibling,I(F,$)}return Z}function O(F,U,H,Z){let $=Z.target.querySelector(`#${U}`)||Z.pantry.querySelector(`#${U}`);return N($,Z),V(F,$,H),$}function N(F,U){let H=F.id;for(;F=F.parentNode;){let Z=U.idMap.get(F);Z&&(Z.delete(H),Z.size||U.idMap.delete(F))}}function V(F,U,H){if(F.moveBefore)try{F.moveBefore(U,H)}catch{F.insertBefore(U,H)}else F.insertBefore(U,H)}return T}(),h=function(){function T(N,V,F){return F.ignoreActive&&N===document.activeElement?null:(F.callbacks.beforeNodeMorphed(N,V)===!1||(N instanceof HTMLHeadElement&&F.head.ignore||(N instanceof HTMLHeadElement&&F.head.style!=="morph"?g(N,V,F):(C(N,V,F),O(N,F)||f(F,N,V))),F.callbacks.afterNodeMorphed(N,V)),N)}function C(N,V,F){let U=V.nodeType;if(U===1){let H=N,Z=V,$=H.attributes,K=Z.attributes;for(let Q of K)P(Q.name,H,"update",F)||H.getAttribute(Q.name)!==Q.value&&H.setAttribute(Q.name,Q.value);for(let Q=$.length-1;0<=Q;Q--){let rt=$[Q];if(rt&&!Z.hasAttribute(rt.name)){if(P(rt.name,H,"remove",F))continue;H.removeAttribute(rt.name)}}O(H,F)||M(H,Z,F)}(U===8||U===3)&&N.nodeValue!==V.nodeValue&&(N.nodeValue=V.nodeValue)}function M(N,V,F){if(N instanceof HTMLInputElement&&V instanceof HTMLInputElement&&V.type!=="file"){let U=V.value,H=N.value;I(N,V,"checked",F),I(N,V,"disabled",F),V.hasAttribute("value")?H!==U&&(P("value",N,"update",F)||(N.setAttribute("value",U),N.value=U)):P("value",N,"remove",F)||(N.value="",N.removeAttribute("value"))}else if(N instanceof HTMLOptionElement&&V instanceof HTMLOptionElement)I(N,V,"selected",F);else if(N instanceof HTMLTextAreaElement&&V instanceof HTMLTextAreaElement){let U=V.value,H=N.value;if(P("value",N,"update",F))return;U!==H&&(N.value=U),N.firstChild&&N.firstChild.nodeValue!==U&&(N.firstChild.nodeValue=U)}}function I(N,V,F,U){let H=V[F],Z=N[F];if(H!==Z){let $=P(F,N,"update",U);$||(N[F]=V[F]),H?$||N.setAttribute(F,""):P(F,N,"remove",U)||N.removeAttribute(F)}}function P(N,V,F,U){return N==="value"&&U.ignoreActiveValue&&V===document.activeElement?!0:U.callbacks.beforeAttributeUpdated(N,V,F)===!1}function O(N,V){return!!V.ignoreActiveValue&&N===document.activeElement&&N!==document.body}return T}();function v(T,C,M,I){if(T.head.block){let P=C.querySelector("head"),O=M.querySelector("head");if(P&&O){let N=g(P,O,T);return Promise.all(N).then(()=>{let V=Object.assign(T,{head:{block:!1,ignore:!0}});return I(V)})}}return I(T)}function g(T,C,M){let I=[],P=[],O=[],N=[],V=new Map;for(let U of C.children)V.set(U.outerHTML,U);for(let U of T.children){let H=V.has(U.outerHTML),Z=M.head.shouldReAppend(U),$=M.head.shouldPreserve(U);H||$?Z?P.push(U):(V.delete(U.outerHTML),O.push(U)):M.head.style==="append"?Z&&(P.push(U),N.push(U)):M.head.shouldRemove(U)!==!1&&P.push(U)}N.push(...V.values());let F=[];for(let U of N){let H=document.createRange().createContextualFragment(U.outerHTML).firstChild;if(M.callbacks.beforeNodeAdded(H)!==!1){if("href"in H&&H.href||"src"in H&&H.src){let Z,$=new Promise(function(K){Z=K});H.addEventListener("load",function(){Z()}),F.push($)}T.appendChild(H),M.callbacks.afterNodeAdded(H),I.push(H)}}for(let U of P)M.callbacks.beforeNodeRemoved(U)!==!1&&(T.removeChild(U),M.callbacks.afterNodeRemoved(U));return M.head.afterHeadMorphed(T,{added:I,kept:O,removed:P}),F}let y=function(){function T(V,F,U){let{persistentIds:H,idMap:Z}=O(V,F),$=C(U),K=$.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(K))throw`Do not understand how to morph style ${K}`;return{target:V,newContent:F,config:$,morphStyle:K,ignoreActive:$.ignoreActive,ignoreActiveValue:$.ignoreActiveValue,restoreFocus:$.restoreFocus,idMap:Z,persistentIds:H,pantry:M(),callbacks:$.callbacks,head:$.head}}function C(V){let F=Object.assign({},t);return Object.assign(F,V),F.callbacks=Object.assign({},t.callbacks,V.callbacks),F.head=Object.assign({},t.head,V.head),F}function M(){let V=document.createElement("div");return V.hidden=!0,document.body.insertAdjacentElement("afterend",V),V}function I(V){let F=Array.from(V.querySelectorAll("[id]"));return V.id&&F.push(V),F}function P(V,F,U,H){for(let Z of H)if(F.has(Z.id)){let $=Z;for(;$;){let K=V.get($);if(K==null&&(K=new Set,V.set($,K)),K.add(Z.id),$===U)break;$=$.parentElement}}}function O(V,F){let U=I(V),H=I(F),Z=N(U,H),$=new Map;P($,Z,V,U);let K=F.__idiomorphRoot||F;return P($,Z,K,H),{persistentIds:Z,idMap:$}}function N(V,F){let U=new Set,H=new Map;for(let{id:$,tagName:K}of V)H.has($)?U.add($):H.set($,K);let Z=new Set;for(let{id:$,tagName:K}of F)Z.has($)?U.add($):H.get($)===K&&Z.add($);for(let $ of U)Z.delete($);return Z}return T}(),{normalizeElement:x,normalizeParent:b}=function(){let T=new WeakSet;function C(O){return O instanceof Document?O.documentElement:O}function M(O){if(O==null)return document.createElement("div");if(typeof O=="string")return M(P(O));if(T.has(O))return O;if(O instanceof Node){if(O.parentNode)return I(O);{let N=document.createElement("div");return N.append(O),N}}else{let N=document.createElement("div");for(let V of[...O])N.append(V);return N}}function I(O){return{childNodes:[O],querySelectorAll:N=>{let V=O.querySelectorAll(N);return O.matches(N)?[O,...V]:V},insertBefore:(N,V)=>O.parentNode.insertBefore(N,V),moveBefore:(N,V)=>O.parentNode.moveBefore(N,V),get __idiomorphRoot(){return O}}}function P(O){let N=new DOMParser,V=O.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(V.match(/<\/html>/)||V.match(/<\/head>/)||V.match(/<\/body>/)){let F=N.parseFromString(O,"text/html");if(V.match(/<\/html>/))return T.add(F),F;{let U=F.firstChild;return U&&T.add(U),U}}else{let U=N.parseFromString("<body><template>"+O+"</template></body>","text/html").body.querySelector("template").content;return T.add(U),U}}return{normalizeElement:C,normalizeParent:M}}();return{morph:e,defaults:t}}();function S3(a,t,{callbacks:e,...o}={}){bqt.morph(a,t,{...o,callbacks:new YH(e)})}function Odt(a,t){S3(a,t.childNodes,{morphStyle:"innerHTML"})}var ub,YH=class{constructor({beforeNodeMorphed:t}={}){Ce(this,ub,void 0);Bt(this,"beforeNodeAdded",t=>!(t.id&&t.hasAttribute("data-turbo-permanent")&&document.getElementById(t.id)));Bt(this,"beforeNodeMorphed",(t,e)=>{if(t instanceof Element)return!t.hasAttribute("data-turbo-permanent")&&Oe(this,ub).call(this,t,e)?!ni("turbo:before-morph-element",{cancelable:!0,target:t,detail:{currentElement:t,newElement:e}}).defaultPrevented:!1});Bt(this,"beforeAttributeUpdated",(t,e,o)=>!ni("turbo:before-morph-attribute",{cancelable:!0,target:e,detail:{attributeName:t,mutationType:o}}).defaultPrevented);Bt(this,"beforeNodeRemoved",t=>this.beforeNodeMorphed(t));Bt(this,"afterNodeMorphed",(t,e)=>{t instanceof Element&&ni("turbo:morph-element",{target:t,detail:{currentElement:t,newElement:e}})});gr(this,ub,t||(()=>!0))}};ub=new WeakMap;var ZH=class extends hy{static renderElement(t,e){ni("turbo:before-frame-morph",{target:t,detail:{currentElement:t,newElement:e}}),Odt(t,e)}async preservingPermanentElements(t){return await t()}},Zu=class Zu{constructor(){Bt(this,"hiding",!1);Bt(this,"value",0);Bt(this,"visible",!1);Bt(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return xdt`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${Zu.animationDuration}ms ease-out,
          opacity ${Zu.animationDuration/2}ms ${Zu.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,Zu.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,Zu.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let t=document.createElement("style");t.type="text/css",t.textContent=Zu.defaultCSS;let e=bdt();return e&&(t.nonce=e),t}createProgressElement(){let t=document.createElement("div");return t.className="turbo-progress-bar",t}};Bt(Zu,"animationDuration",300);var XH=Zu,qH=class extends cy{constructor(){super(...arguments);Bt(this,"detailsByOuterHTML",this.children.filter(e=>!Cqt(e)).map(e=>Lqt(e)).reduce((e,o)=>{let{outerHTML:l}=o,f=l in e?e[l]:{type:wqt(o),tracked:Tqt(o),elements:[]};return{...e,[l]:{...f,elements:[...f.elements,o]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,o){return Object.keys(this.detailsByOuterHTML).filter(l=>!(l in o.detailsByOuterHTML)).map(l=>this.detailsByOuterHTML[l]).filter(({type:l})=>l==e).map(({elements:[l]})=>l)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,o)=>{let{type:l,tracked:f,elements:h}=this.detailsByOuterHTML[o];return l==null&&!f?[...e,...h]:h.length>1?[...e,...h.slice(1)]:e},[])}getMetaValue(e){let o=this.findMetaElementByName(e);return o?o.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((o,l)=>{let{elements:[f]}=this.detailsByOuterHTML[l];return Mqt(f,e)?f:o},void 0|void 0)}};function wqt(a){if(Aqt(a))return"script";if(Dqt(a))return"stylesheet"}function Tqt(a){return a.getAttribute("data-turbo-track")=="reload"}function Aqt(a){return a.localName=="script"}function Cqt(a){return a.localName=="noscript"}function Dqt(a){let t=a.localName;return t=="style"||t=="link"&&a.getAttribute("rel")=="stylesheet"}function Mqt(a,t){return a.localName=="meta"&&a.getAttribute("name")==t}function Lqt(a){return a.hasAttribute("nonce")&&a.setAttribute("nonce",""),a}var rs=class a extends cy{static fromHTMLString(t=""){return this.fromDocument(_dt(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({documentElement:t,body:e,head:o}){return new this(t,e,new qH(o))}constructor(t,e,o){super(e),this.documentElement=t,this.headSnapshot=o}clone(){let t=this.element.cloneNode(!0),e=this.element.querySelectorAll("select"),o=t.querySelectorAll("select");for(let[l,f]of e.entries()){let h=o[l];for(let v of h.selectedOptions)v.selected=!1;for(let v of f.selectedOptions)h.options[v.index].selected=!0}for(let l of t.querySelectorAll('input[type="password"]'))l.value="";return new a(this.documentElement,t,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let t=this.getSetting("root")??"/";return Qi(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}},fb,Uc,$H=class{constructor(){Ce(this,fb,!1);Ce(this,Uc,Promise.resolve())}renderChange(t,e){return t&&this.viewTransitionsAvailable&&!Oe(this,fb)?(gr(this,fb,!0),gr(this,Uc,Oe(this,Uc).then(async()=>{await document.startViewTransition(e).finished}))):gr(this,Uc,Oe(this,Uc).then(e)),Oe(this,Uc)}get viewTransitionsAvailable(){return document.startViewTransition}};fb=new WeakMap,Uc=new WeakMap;var Iqt={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},CL={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},Yu={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},ey={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Eqt={advance:"forward",restore:"back",replace:"none"},KH=class{constructor(t,e,o,l={}){Bt(this,"identifier",Zc());Bt(this,"timingMetrics",{});Bt(this,"followedRedirect",!1);Bt(this,"historyChanged",!1);Bt(this,"scrolled",!1);Bt(this,"shouldCacheSnapshot",!0);Bt(this,"acceptsStreamResponse",!1);Bt(this,"snapshotCached",!1);Bt(this,"state",Yu.initialized);Bt(this,"viewTransitioner",new $H);this.delegate=t,this.location=e,this.restorationIdentifier=o||Zc();let{action:f,historyChanged:h,referrer:v,snapshot:g,snapshotHTML:y,response:x,visitCachedSnapshot:b,willRender:T,updateHistory:C,shouldCacheSnapshot:M,acceptsStreamResponse:I,direction:P}={...Iqt,...l};this.action=f,this.historyChanged=h,this.referrer=v,this.snapshot=g,this.snapshotHTML=y,this.response=x,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=b,this.willRender=T,this.updateHistory=C,this.scrolled=!T,this.shouldCacheSnapshot=M,this.acceptsStreamResponse=I,this.direction=P||Eqt[f]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Yu.initialized&&(this.recordTimingMetric(CL.visitStart),this.state=Yu.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Yu.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Yu.canceled)}complete(){this.state==Yu.started&&(this.recordTimingMetric(CL.visitEnd),this.adapter.visitCompleted(this),this.state=Yu.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==Yu.started&&(this.state=Yu.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let t=this.location.href===this.referrer?.href?"replace":this.action,e=Sdt(t);this.history.update(e,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Xc(this,io.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(CL.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){let{statusCode:e}=t;cdt(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}}finishRequest(){this.recordTimingMetric(CL.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:t,responseHTML:e}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,cdt(t)&&e!=null){let o=rs.fromHTMLString(e);await this.renderPageSnapshot(o,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(rs.fromHTMLString(e),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!zv(this.location)||t.hasAnchor(zv(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return rs.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let t=this.getCachedSnapshot();if(t){let e=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(t,e),this.adapter.visitRendered(this),e||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType($u.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,e){}async requestSucceededWithResponse(t,e){let o=await e.responseHTML,{redirected:l,statusCode:f}=e;o==null?this.recordResponse({statusCode:ey.contentTypeMismatch,redirected:l}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:f,responseHTML:o,redirected:l}))}async requestFailedWithResponse(t,e){let o=await e.responseHTML,{redirected:l,statusCode:f}=e;o==null?this.recordResponse({statusCode:ey.contentTypeMismatch,redirected:l}):this.recordResponse({statusCode:f,responseHTML:o,redirected:l})}requestErrored(t,e){this.recordResponse({statusCode:ey.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){let t=zv(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise(e=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>e(),0):requestAnimationFrame(()=>e())}),await t(),delete this.frame}async renderPageSnapshot(t,e){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(t),async()=>{await this.view.renderPage(t,e,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function cdt(a){return a>=200&&a<300}var jH=class{constructor(t){Bt(this,"progressBar",new XH);Bt(this,"showProgressBar",()=>{this.progressBar.show()});this.session=t}visitProposedToLocation(t,e){Bc(t,this.navigator.rootLocation)?this.navigator.startVisit(t,e?.restorationIdentifier||Zc(),e):window.location.href=t.toString()}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,e){switch(e){case ey.networkFailure:case ey.timeoutFailure:case ey.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:e}});default:return t.loadResponse()}}visitRequestFinished(t){}visitCompleted(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(t){this.reload(t)}visitFailed(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(t){}linkPrefetchingIsEnabledForLocation(t){return!0}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){ni("turbo:reload",{detail:t}),window.location.href=this.location?.toString()||window.location.href}get navigator(){return this.session.navigator}},JH=class{constructor(){Bt(this,"selector","[data-turbo-temporary]");Bt(this,"deprecatedSelector","[data-turbo-cache=false]");Bt(this,"started",!1);Bt(this,"removeTemporaryElements",t=>{for(let e of this.temporaryElements)e.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}},ZL,kdt,ry,DL,iy,ML,QH=class{constructor(t,e){Ce(this,ZL);Ce(this,ry);Ce(this,iy);this.session=t,this.element=e,this.linkInterceptor=new zL(this,e),this.formSubmitObserver=new ib(this,e)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,e,o){return Be(this,ry,DL).call(this,t)}linkClickIntercepted(t,e,o){let l=Be(this,iy,ML).call(this,t);l&&l.delegate.linkClickIntercepted(t,e,o)}willSubmitForm(t,e){return t.closest("turbo-frame")==null&&Be(this,ZL,kdt).call(this,t,e)&&Be(this,ry,DL).call(this,t,e)}formSubmitted(t,e){let o=Be(this,iy,ML).call(this,t,e);o&&o.delegate.formSubmitted(t,e)}};ZL=new WeakSet,kdt=function(t,e){let o=_3(t,e),l=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),f=Qi(l?.content??"/");return Be(this,ry,DL).call(this,t,e)&&Bc(o,f)},ry=new WeakSet,DL=function(t,e){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,e):this.session.elementIsNavigatable(t)){let l=Be(this,iy,ML).call(this,t,e);return l?l!=t.closest("turbo-frame"):!1}else return!1},iy=new WeakSet,ML=function(t,e){let o=e?.getAttribute("data-turbo-frame")||t.getAttribute("data-turbo-frame");if(o&&o!="_top"){let l=this.element.querySelector(`#${o}:not([disabled])`);if(l instanceof is)return l}};var t3=class{constructor(t){Bt(this,"location");Bt(this,"restorationIdentifier",Zc());Bt(this,"restorationData",{});Bt(this,"started",!1);Bt(this,"pageLoaded",!1);Bt(this,"currentIndex",0);Bt(this,"onPopState",t=>{if(this.shouldHandlePopState()){let{turbo:e}=t.state||{};if(e){this.location=new URL(window.location.href);let{restorationIdentifier:o,restorationIndex:l}=e;this.restorationIdentifier=o;let f=l>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,o,f),this.currentIndex=l}}});Bt(this,"onPageLoad",async t=>{await GXt(),this.pageLoaded=!0});this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,e){this.update(history.pushState,t,e)}replace(t,e){this.update(history.replaceState,t,e)}update(t,e,o=Zc()){t===history.pushState&&++this.currentIndex;let l={turbo:{restorationIdentifier:o,restorationIndex:this.currentIndex}};t.call(history,l,"",e.href),this.location=e,this.restorationIdentifier=o}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){let{restorationIdentifier:e}=this,o=this.restorationData[e];this.restorationData[e]={...o,...t}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},ay,cb,hb,pb,XL,vb,qL,Ndt,$L,zdt,e3=class{constructor(t,e){Ce(this,qL);Ce(this,$L);Bt(this,"started",!1);Ce(this,ay,null);Ce(this,cb,()=>{this.eventTarget.addEventListener("mouseenter",Oe(this,hb),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",Oe(this,pb),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",Oe(this,vb),!0),this.started=!0});Ce(this,hb,t=>{if(OL("turbo-prefetch")==="false")return;let e=t.target;if(e.matches&&e.matches("a[href]:not([target^=_]):not([download])")&&Be(this,$L,zdt).call(this,e)){let l=e,f=Cdt(l);if(this.delegate.canPrefetchRequestToLocation(l,f)){gr(this,ay,l);let h=new Xc(this,io.get,f,new URLSearchParams,e);Qm.setLater(f.toString(),h,Oe(this,qL,Ndt))}}});Ce(this,pb,t=>{t.target===Oe(this,ay)&&Oe(this,XL).call(this)});Ce(this,XL,()=>{Qm.clear(),gr(this,ay,null)});Ce(this,vb,t=>{if(t.target.tagName!=="FORM"&&t.detail.fetchOptions.method==="GET"){let e=Qm.get(t.detail.url.toString());e&&(t.detail.fetchRequest=e),Qm.clear()}});this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",Oe(this,cb),{once:!0}):Oe(this,cb).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",Oe(this,hb),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",Oe(this,pb),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",Oe(this,vb),!0),this.started=!1)}prepareRequest(t){let e=t.target;t.headers["X-Sec-Purpose"]="prefetch";let o=e.closest("turbo-frame"),l=e.getAttribute("data-turbo-frame")||o?.getAttribute("target")||o?.id;l&&l!=="_top"&&(t.headers["Turbo-Frame"]=l)}requestSucceededWithResponse(){}requestStarted(t){}requestErrored(t){}requestFinished(t){}requestPreventedHandlingResponse(t,e){}requestFailedWithResponse(t,e){}};ay=new WeakMap,cb=new WeakMap,hb=new WeakMap,pb=new WeakMap,XL=new WeakMap,vb=new WeakMap,qL=new WeakSet,Ndt=function(){return Number(OL("turbo-prefetch-cache-time"))||uqt},$L=new WeakSet,zdt=function(t){return!(!t.getAttribute("href")||Pqt(t)||Rqt(t)||Oqt(t)||kqt(t)||zqt(t))};var Pqt=a=>a.origin!==document.location.origin||!["http:","https:"].includes(a.protocol)||a.hasAttribute("target"),Rqt=a=>a.pathname+a.search===document.location.pathname+document.location.search||a.href.startsWith("#"),Oqt=a=>{if(a.getAttribute("data-turbo-prefetch")==="false"||a.getAttribute("data-turbo")==="false")return!0;let t=ty(a,"[data-turbo-prefetch]");return!!(t&&t.getAttribute("data-turbo-prefetch")==="false")},kqt=a=>{let t=a.getAttribute("data-turbo-method");return!!(t&&t.toLowerCase()!=="get"||Nqt(a)||a.hasAttribute("data-turbo-confirm")||a.hasAttribute("data-turbo-stream"))},Nqt=a=>a.hasAttribute("data-remote")||a.hasAttribute("data-behavior")||a.hasAttribute("data-confirm")||a.hasAttribute("data-method"),zqt=a=>ni("turbo:before-prefetch",{target:a,cancelable:!0}).defaultPrevented,KL,Vdt,jL,Bdt,r3=class{constructor(t){Ce(this,KL);Ce(this,jL);this.delegate=t}proposeVisit(t,e={}){this.delegate.allowsVisitingLocationWithAction(t,e.action)&&this.delegate.visitProposedToLocation(t,e)}startVisit(t,e,o={}){this.stop(),this.currentVisit=new KH(this,Qi(t),e,{referrer:this.location,...o}),this.currentVisit.start()}submitForm(t,e){this.stop(),this.formSubmission=new kL(this,t,e,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,e){if(t==this.formSubmission){let o=await e.responseHTML;if(o){let l=t.isSafe;l||this.view.clearSnapshotCache();let{statusCode:f,redirected:h}=e,g={action:Be(this,KL,Vdt).call(this,t,e),shouldCacheSnapshot:l,response:{statusCode:f,responseHTML:o,redirected:h}};this.proposeVisit(e.location,g)}}}async formSubmissionFailedWithResponse(t,e){let o=await e.responseHTML;if(o){let l=rs.fromHTMLString(o);e.serverError?await this.view.renderError(l,this.currentVisit):await this.view.renderPage(l,!1,!0,this.currentVisit),l.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}linkPrefetchingIsEnabledForLocation(t){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(t):!0}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t),delete this.currentVisit}locationWithActionIsSamePage(t,e){let o=zv(t),l=zv(this.view.lastRenderedLocation),f=e==="restore"&&typeof o>"u";return e!=="replace"&&FH(t)===FH(this.view.lastRenderedLocation)&&(f||o!=null&&o!==l)}visitScrolledToSamePageLocation(t,e){this.delegate.visitScrolledToSamePageLocation(t,e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}};KL=new WeakSet,Vdt=function(t,e){let{submitter:o,formElement:l}=t;return Nv(o,l)||Be(this,jL,Bdt).call(this,e)},jL=new WeakSet,Bdt=function(t){return t.redirected&&t.location.href===this.location?.href?"replace":"advance"};var Pv={initial:0,loading:1,interactive:2,complete:3},i3=class{constructor(t){Bt(this,"stage",Pv.initial);Bt(this,"started",!1);Bt(this,"interpretReadyState",()=>{let{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()});Bt(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=t}start(){this.started||(this.stage==Pv.initial&&(this.stage=Pv.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Pv.loading&&(this.stage=Pv.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Pv.interactive&&(this.stage=Pv.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},a3=class{constructor(t){Bt(this,"started",!1);Bt(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}},n3=class{render({fragment:t}){FL.preservingPermanentElements(this,Vqt(t),()=>{Bqt(t,()=>{Fqt(()=>{document.documentElement.appendChild(t)})})})}enteringBardo(t,e){e.replaceWith(t.cloneNode(!0))}leavingBardo(){}};function Vqt(a){let t=Rdt(document.documentElement),e={};for(let o of t){let{id:l}=o;for(let f of a.querySelectorAll("turbo-stream")){let h=Pdt(f.templateElement.content,l);h&&(e[l]=[o,h])}}return e}async function Bqt(a,t){let e=`turbo-stream-autofocus-${Zc()}`,o=a.querySelectorAll("turbo-stream"),l=Uqt(o),f=null;if(l&&(l.id?f=l.id:f=e,l.id=f),t(),await eb(),(document.activeElement==null||document.activeElement==document.body)&&f){let v=document.getElementById(f);y3(v)&&v.focus(),v&&v.id==e&&v.removeAttribute("id")}}async function Fqt(a){let[t,e]=await qXt(a,()=>document.activeElement),o=t&&t.id;if(o){let l=document.getElementById(o);y3(l)&&l!=e&&l.focus()}}function Uqt(a){for(let t of a){let e=wdt(t.templateElement.content);if(e)return e}return null}var Gc,o3=class{constructor(t){Bt(this,"sources",new Set);Ce(this,Gc,!1);Bt(this,"inspectFetchResponse",t=>{let e=Gqt(t);e&&Hqt(e)&&(t.preventDefault(),this.receiveMessageResponse(e))});Bt(this,"receiveMessageEvent",t=>{Oe(this,Gc)&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)});this.delegate=t}start(){Oe(this,Gc)||(gr(this,Gc,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){Oe(this,Gc)&&(gr(this,Gc,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){let e=await t.responseHTML;e&&this.receiveMessageHTML(e)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream($u.wrap(t))}};Gc=new WeakMap;function Gqt(a){let t=a.detail?.fetchResponse;if(t instanceof fy)return t}function Hqt(a){return(a.contentType??"").startsWith($u.contentType)}var s3=class extends ab{static renderElement(t,e){let{documentElement:o,body:l}=document;o.replaceChild(e,l)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:t,head:e}=document;t.replaceChild(this.newHead,e),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let t of this.scriptElements){let e=t.parentNode;if(e){let o=rb(t);e.replaceChild(o,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},JL,Fdt,py=class extends ab{constructor(){super(...arguments);Ce(this,JL)}static renderElement(e,o){document.body&&o instanceof HTMLBodyElement?document.body.replaceWith(o):document.documentElement.appendChild(o)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){Be(this,JL,Fdt).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),o=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await o,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let o of this.newHeadStylesheetElements)e.push(YXt(o)),document.head.appendChild(o);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(rb(e))}removeUnusedDynamicStylesheetElements(){for(let e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let o of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(o,e)||document.head.removeChild(o);for(let o of e)document.head.appendChild(o)}isCurrentElementInElementList(e,o){for(let[l,f]of o.entries()){if(e.tagName=="TITLE"){if(f.tagName!="TITLE")continue;if(e.innerHTML==f.innerHTML)return o.splice(l,1),!0}if(f.isEqualNode(e))return o.splice(l,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let o=rb(e);e.replaceWith(o)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}};JL=new WeakSet,Fdt=function(){let{documentElement:e}=this.currentSnapshot,{lang:o}=this.newSnapshot;o?e.setAttribute("lang",o):e.removeAttribute("lang")};var l3=class extends py{static renderElement(t,e){S3(t,e,{callbacks:{beforeNodeMorphed:o=>!hdt(o)}});for(let o of t.querySelectorAll("turbo-frame"))hdt(o)&&o.reload();ni("turbo:morph",{detail:{currentElement:t,newElement:e}})}async preservingPermanentElements(t){return await t()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}};function hdt(a){return a instanceof is&&a.src&&a.refresh==="morph"&&!a.closest("[data-turbo-permanent]")}var u3=class{constructor(t){Bt(this,"keys",[]);Bt(this,"snapshots",{});this.size=t}has(t){return AL(t)in this.snapshots}get(t){if(this.has(t)){let e=this.read(t);return this.touch(t),e}}put(t,e){return this.write(t,e),this.touch(t),e}clear(){this.snapshots={}}read(t){return this.snapshots[AL(t)]}write(t,e){this.snapshots[AL(t)]=e}touch(t){let e=AL(t),o=this.keys.indexOf(e);o>-1&&this.keys.splice(o,1),this.keys.unshift(e),this.trim()}trim(){for(let t of this.keys.splice(this.size))delete this.snapshots[t]}},f3=class extends NL{constructor(){super(...arguments);Bt(this,"snapshotCache",new u3(10));Bt(this,"lastRenderedLocation",new URL(location.href));Bt(this,"forceReloaded",!1)}shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,o=!1,l=!0,f){let v=this.isPageRefresh(f)&&this.snapshot.shouldMorphPage?l3:py,g=new v(this.snapshot,e,o,l);return g.shouldRender?f?.changeHistory():this.forceReloaded=!0,this.render(g)}renderError(e,o){o?.changeHistory();let l=new s3(this.snapshot,e,!1);return this.render(l)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:o}=this;await ydt();let l=e.clone();return this.snapshotCache.put(o,l),l}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return rs.fromElement(this.element)}},db,c3=class{constructor(t,e){Bt(this,"selector","a[data-turbo-preload]");Ce(this,db,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=t,this.snapshotCache=e}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Oe(this,db)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",Oe(this,db))}preloadOnLoadLinksForView(t){for(let e of t.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(e)&&this.preloadURL(e)}async preloadURL(t){let e=new URL(t.href);if(this.snapshotCache.has(e))return;await new Xc(this,io.get,e,new URLSearchParams,t).perform()}prepareRequest(t){t.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(t,e){try{let o=await e.responseHTML,l=rs.fromHTMLString(o);this.snapshotCache.put(t.url,l)}catch{}}requestStarted(t){}requestErrored(t){}requestFinished(t){}requestPreventedHandlingResponse(t,e){}requestFailedWithResponse(t,e){}};db=new WeakMap;var ny,LL,h3=class{constructor(t){Ce(this,ny);this.session=t}clear(){this.session.clearCache()}resetCacheControl(){Be(this,ny,LL).call(this,"")}exemptPageFromCache(){Be(this,ny,LL).call(this,"no-cache")}exemptPageFromPreview(){Be(this,ny,LL).call(this,"no-preview")}};ny=new WeakSet,LL=function(t){XXt("turbo-cache-control",t)};var gb,p3=class{constructor(t){Bt(this,"navigator",new r3(this));Bt(this,"history",new t3(this));Bt(this,"view",new f3(this,document.documentElement));Bt(this,"adapter",new jH(this));Bt(this,"pageObserver",new i3(this));Bt(this,"cacheObserver",new JH);Bt(this,"linkPrefetchObserver",new e3(this,document));Bt(this,"linkClickObserver",new VL(this,window));Bt(this,"formSubmitObserver",new ib(this,document));Bt(this,"scrollObserver",new a3(this));Bt(this,"streamObserver",new o3(this));Bt(this,"formLinkClickObserver",new BL(this,document.documentElement));Bt(this,"frameRedirector",new QH(this,document.documentElement));Bt(this,"streamMessageRenderer",new n3);Bt(this,"cache",new h3(this));Bt(this,"enabled",!0);Bt(this,"started",!1);Ce(this,gb,150);this.recentRequests=t,this.preloader=new c3(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,e={}){let o=e.frame?document.getElementById(e.frame):null;if(o instanceof is){let l=e.action||Nv(o);o.delegate.proposeVisitIfNavigatedWithAction(o,l),o.src=t.toString()}else this.navigator.proposeVisit(Qi(t),e)}refresh(t,e){let o=e&&this.recentRequests.has(e),l=t===document.baseURI;!o&&!this.navigator.currentVisit&&l&&this.visit(t,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render($u.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=t}set progressBarDelay(t){Zi.drive.progressBarDelay=t}get progressBarDelay(){return Zi.drive.progressBarDelay}set drive(t){Zi.drive.enabled=t}get drive(){return Zi.drive.enabled}set formMode(t){Zi.forms.mode=t}get formMode(){return Zi.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return Oe(this,gb)}set pageRefreshDebouncePeriod(t){this.refresh=$Xt(this.debouncedRefresh.bind(this),t),gr(this,gb,t)}shouldPreloadLink(t){let e=t.hasAttribute("data-turbo-method"),o=t.hasAttribute("data-turbo-stream"),l=t.getAttribute("data-turbo-frame"),f=l=="_top"?null:document.getElementById(l)||ty(t,"turbo-frame:not([disabled])");if(e||o||f instanceof is)return!1;{let h=new URL(t.href);return this.elementIsNavigatable(t)&&Bc(h,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(t,e,o){this.enabled?this.navigator.startVisit(t,e,{action:"restore",historyChanged:!0,direction:o}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,e){return this.elementIsNavigatable(t)&&Bc(e,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(t,e){return this.elementIsNavigatable(t)&&Bc(e,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(e)}willFollowLinkToLocation(t,e,o){return this.elementIsNavigatable(t)&&Bc(e,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,e,o)}followedLinkToLocation(t,e){let o=this.getActionForLink(t),l=t.hasAttribute("data-turbo-stream");this.visit(e.href,{action:o,acceptsStreamResponse:l})}allowsVisitingLocationWithAction(t,e){return this.locationWithActionIsSamePage(t,e)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,e){pdt(t),this.adapter.visitProposedToLocation(t,e)}visitStarted(t){t.acceptsStreamResponse||(PL(document.documentElement),this.view.markVisitDirection(t.direction)),pdt(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){this.view.unmarkVisitDirection(),RL(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,e){return this.navigator.locationWithActionIsSamePage(t,e)}visitScrolledToSamePageLocation(t,e){this.notifyApplicationAfterVisitingSamePageLocation(t,e)}willSubmitForm(t,e){let o=_3(t,e);return this.submissionIsNavigatable(t,e)&&Bc(Qi(o),this.snapshot.rootLocation)}formSubmitted(t,e){this.navigator.submitForm(t,e)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},e){let o=this.notifyApplicationBeforeRender(t,e),{defaultPrevented:l,detail:{render:f}}=o;return this.view.renderer&&f&&(this.view.renderer.renderElement=f),!l}viewRenderedSnapshot(t,e,o){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(o)}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,e){this.notifyApplicationAfterFrameRender(t,e)}applicationAllowsFollowingLinkToLocation(t,e,o){return!this.notifyApplicationAfterClickingLinkToLocation(t,e,o).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,e,o){return ni("turbo:click",{target:t,detail:{url:e.href,originalEvent:o},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return ni("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,e){return ni("turbo:visit",{detail:{url:t.href,action:e}})}notifyApplicationBeforeCachingSnapshot(){return ni("turbo:before-cache")}notifyApplicationBeforeRender(t,e){return ni("turbo:before-render",{detail:{newBody:t,...e},cancelable:!0})}notifyApplicationAfterRender(t){return ni("turbo:render",{detail:{renderMethod:t}})}notifyApplicationAfterPageLoad(t={}){return ni("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,e){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:e.toString()}))}notifyApplicationAfterFrameLoad(t){return ni("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,e){return ni("turbo:frame-render",{detail:{fetchResponse:t},target:e,cancelable:!0})}submissionIsNavigatable(t,e){if(Zi.forms.mode=="off")return!1;{let o=e?this.elementIsNavigatable(e):!0;return Zi.forms.mode=="optin"?o&&t.closest('[data-turbo="true"]')!=null:o&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){let e=ty(t,"[data-turbo]"),o=ty(t,"turbo-frame");return Zi.drive.enabled||o?e?e.getAttribute("data-turbo")!="false":!0:e?e.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return Nv(t)||"advance"}get snapshot(){return this.view.snapshot}};gb=new WeakMap;function pdt(a){Object.defineProperties(a,Wqt)}var Wqt={absoluteURL:{get(){return this.toString()}}},gi=new p3(Ddt),{cache:Udt,navigator:Gdt}=gi;function b3(){gi.start()}function Hdt(a){gi.registerAdapter(a)}function Wdt(a,t){gi.visit(a,t)}function w3(a){gi.connectStreamSource(a)}function T3(a){gi.disconnectStreamSource(a)}function Ydt(a){gi.renderStreamMessage(a)}function Zdt(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),gi.clearCache()}function Xdt(a){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Zi.drive.progressBarDelay=a}function qdt(a){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Zi.forms.confirm=a}function $dt(a){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Zi.forms.mode=a}var Yqt=Object.freeze({__proto__:null,navigator:Gdt,session:gi,cache:Udt,PageRenderer:py,PageSnapshot:rs,FrameRenderer:hy,fetch:x3,config:Zi,start:b3,registerAdapter:Hdt,visit:Wdt,connectStreamSource:w3,disconnectStreamSource:T3,renderStreamMessage:Ydt,clearCache:Zdt,setProgressBarDelay:Xdt,setConfirmMethod:qdt,setFormMode:$dt}),v3=class extends Error{},oy,Gl,Hc,mb,sy,ly,Wc,jm,QL,Kdt,tI,jdt,eI,Jdt,rI,Qdt,iI,tgt,aI,egt,nI,rgt,yb,g3,Yc,Jm,oI,igt,uy,IL,sI,agt,lI,ngt,uI,ogt,d3=class{constructor(t){Ce(this,Wc);Ce(this,QL);Ce(this,tI);Ce(this,eI);Ce(this,rI);Ce(this,iI);Ce(this,aI);Ce(this,nI);Ce(this,yb);Ce(this,Yc);Ce(this,oI);Ce(this,uy);Ce(this,sI);Ce(this,lI);Ce(this,uI);Bt(this,"fetchResponseLoaded",t=>Promise.resolve());Ce(this,oy,null);Ce(this,Gl,()=>{});Ce(this,Hc,!1);Ce(this,mb,!1);Ce(this,sy,new Set);Ce(this,ly,!1);Bt(this,"action",null);Bt(this,"visitCachedSnapshot",({element:t})=>{let e=t.querySelector("#"+this.element.id);e&&this.previousFrameElement&&e.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=t,this.view=new WH(this,this.element),this.appearanceObserver=new GH(this,this.element),this.formLinkClickObserver=new BL(this,this.element),this.linkInterceptor=new zL(this,this.element),this.restorationIdentifier=Zc(),this.formSubmitObserver=new ib(this,this.element)}connect(){Oe(this,Hc)||(gr(this,Hc,!0),this.loadingStyle==Rv.lazy?this.appearanceObserver.start():Be(this,Wc,jm).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){Oe(this,Hc)&&(gr(this,Hc,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Rv.eager&&Be(this,Wc,jm).call(this)}sourceURLChanged(){Be(this,sI,agt).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Rv.eager||Oe(this,mb))&&Be(this,Wc,jm).call(this))}sourceURLReloaded(){let{refresh:t,src:e}=this.element;return gr(this,ly,e&&t==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=e,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Rv.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),Be(this,Wc,jm).call(this))}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{let e=await t.responseHTML;if(e){let o=_dt(e);rs.fromDocument(o).isVisitable?await Be(this,QL,Kdt).call(this,t,o):await Be(this,rI,Qdt).call(this,t)}}finally{gr(this,ly,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,Nv(t)),Be(this,Wc,jm).call(this)}willSubmitFormLinkToLocation(t){return Be(this,uy,IL).call(this,t)}submittedFormLinkToLocation(t,e,o){let l=Be(this,Yc,Jm).call(this,t);l&&o.setAttribute("data-turbo-frame",l.id)}shouldInterceptLinkClick(t,e,o){return Be(this,uy,IL).call(this,t)}linkClickIntercepted(t,e){Be(this,eI,Jdt).call(this,t,e)}willSubmitForm(t,e){return t.closest("turbo-frame")==this.element&&Be(this,uy,IL).call(this,t,e)}formSubmitted(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new kL(this,t,e);let{fetchRequest:o}=this.formSubmission;this.prepareRequest(o),this.formSubmission.start()}prepareRequest(t){t.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&t.acceptResponseType($u.contentType)}requestStarted(t){PL(this.element)}requestPreventedHandlingResponse(t,e){Oe(this,Gl).call(this)}async requestSucceededWithResponse(t,e){await this.loadResponse(e),Oe(this,Gl).call(this)}async requestFailedWithResponse(t,e){await this.loadResponse(e),Oe(this,Gl).call(this)}requestErrored(t,e){console.error(e),Oe(this,Gl).call(this)}requestFinished(t){RL(this.element)}formSubmissionStarted({formElement:t}){PL(t,Be(this,Yc,Jm).call(this,t))}formSubmissionSucceededWithResponse(t,e){let o=Be(this,Yc,Jm).call(this,t.formElement,t.submitter);o.delegate.proposeVisitIfNavigatedWithAction(o,Nv(t.submitter,t.formElement,o)),o.delegate.loadResponse(e),t.isSafe||gi.clearCache()}formSubmissionFailedWithResponse(t,e){this.element.delegate.loadResponse(e),gi.clearCache()}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished({formElement:t}){RL(t,Be(this,Yc,Jm).call(this,t))}allowsImmediateRender({element:t},e){let o=ni("turbo:before-frame-render",{target:this.element,detail:{newFrame:t,...e},cancelable:!0}),{defaultPrevented:l,detail:{render:f}}=o;return this.view.renderer&&f&&(this.view.renderer.renderElement=f),!l}viewRenderedSnapshot(t,e,o){}preloadOnLoadLinksForView(t){gi.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,e){this.previousFrameElement=t.cloneNode(!0)}proposeVisitIfNavigatedWithAction(t,e=null){if(this.action=e,this.action){let o=rs.fromElement(t).clone(),{visitCachedSnapshot:l}=t.delegate;t.delegate.fetchResponseLoaded=async f=>{if(t.src){let{statusCode:h,redirected:v}=f,g=await f.responseHTML,x={response:{statusCode:h,redirected:v,responseHTML:g},visitCachedSnapshot:l,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:o};this.action&&(x.action=this.action),gi.visit(t.src,x)}}}}changeHistory(){if(this.action){let t=Sdt(this.action);gi.history.update(t,Qi(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(t){let e,o=CSS.escape(this.id);try{if(e=ddt(t.querySelector(`turbo-frame#${o}`),this.sourceURL),e)return e;if(e=ddt(t.querySelector(`turbo-frame[src][recurse~=${o}]`),this.sourceURL),e)return await e.loaded,await this.extractForeignFrameElement(e)}catch(l){return console.error(l),new is}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){Be(this,lI,ngt).call(this,"src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||Oe(this,Gl).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&Oe(this,Hc)}get rootLocation(){let e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return Qi(e)}};oy=new WeakMap,Gl=new WeakMap,Hc=new WeakMap,mb=new WeakMap,sy=new WeakMap,ly=new WeakMap,Wc=new WeakSet,jm=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=Be(this,tI,jdt).call(this,Qi(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,gr(this,mb,!0))},QL=new WeakSet,Kdt=async function(t,e){let o=await this.extractForeignFrameElement(e.body),l=Oe(this,ly)?ZH:hy;if(o){let f=new cy(o),h=new l(this,this.view.snapshot,f,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(h),this.complete=!0,gi.frameRendered(t,this.element),gi.frameLoaded(this.element),await this.fetchResponseLoaded(t)}else Be(this,iI,tgt).call(this,t)&&Be(this,aI,egt).call(this,t)},tI=new WeakSet,jdt=async function(t){let e=new Xc(this,io.get,t,new URLSearchParams,this.element);return Oe(this,oy)?.cancel(),gr(this,oy,e),new Promise(o=>{gr(this,Gl,()=>{gr(this,Gl,()=>{}),gr(this,oy,null),o()}),e.perform()})},eI=new WeakSet,Jdt=function(t,e,o){let l=Be(this,Yc,Jm).call(this,t,o);l.delegate.proposeVisitIfNavigatedWithAction(l,Nv(o,t,l)),Be(this,uI,ogt).call(this,t,()=>{l.src=e})},rI=new WeakSet,Qdt=async function(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await Be(this,yb,g3).call(this,t.response)},iI=new WeakSet,tgt=function(t){this.element.setAttribute("complete","");let e=t.response,o=async(f,h)=>{f instanceof Response?Be(this,yb,g3).call(this,f):gi.visit(f,h)};return!ni("turbo:frame-missing",{target:this.element,detail:{response:e,visit:o},cancelable:!0}).defaultPrevented},aI=new WeakSet,egt=function(t){this.view.missing(),Be(this,nI,rgt).call(this,t)},nI=new WeakSet,rgt=function(t){let e=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new v3(e)},yb=new WeakSet,g3=async function(t){let e=new fy(t),o=await e.responseHTML,{location:l,redirected:f,statusCode:h}=e;return gi.visit(l,{response:{redirected:f,statusCode:h,responseHTML:o}})},Yc=new WeakSet,Jm=function(t,e){let o=EL("data-turbo-frame",e,t)||this.element.getAttribute("target");return vdt(o)??this.element},oI=new WeakSet,igt=function(t,e){let o=_3(t,e);return Bc(Qi(o),this.rootLocation)},uy=new WeakSet,IL=function(t,e){let o=EL("data-turbo-frame",e,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!Be(this,oI,igt).call(this,t,e)||!this.enabled||o=="_top")return!1;if(o){let l=vdt(o);if(l)return!l.disabled}return!(!gi.elementIsNavigatable(t)||e&&!gi.elementIsNavigatable(e))},sI=new WeakSet,agt=function(t){return Oe(this,sy).has(t)},lI=new WeakSet,ngt=function(t,e){Oe(this,sy).add(t),e(),Oe(this,sy).delete(t)},uI=new WeakSet,ogt=function(t,e){this.currentNavigationElement=t,e(),delete this.currentNavigationElement};function vdt(a){if(a!=null){let t=document.getElementById(a);if(t instanceof is)return t}}function ddt(a,t){if(a){let e=a.getAttribute("src");if(e!=null&&t!=null&&tqt(e,t))throw new Error(`Matching <turbo-frame id="${a.id}"> element has a source URL which references itself`);if(a.ownerDocument!==document&&(a=document.importNode(a,!0)),a instanceof is)return a.connectedCallback(),a.disconnectedCallback(),a}}var A3={after(){this.targetElements.forEach(a=>a.parentElement?.insertBefore(this.templateContent,a.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.append(this.templateContent))},before(){this.targetElements.forEach(a=>a.parentElement?.insertBefore(this.templateContent,a))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.prepend(this.templateContent))},remove(){this.targetElements.forEach(a=>a.remove())},replace(){let a=this.getAttribute("method");this.targetElements.forEach(t=>{a==="morph"?S3(t,this.templateContent):t.replaceWith(this.templateContent)})},update(){let a=this.getAttribute("method");this.targetElements.forEach(t=>{a==="morph"?Odt(t,this.templateContent):(t.innerHTML="",t.append(this.templateContent))})},refresh(){gi.refresh(this.baseURI,this.requestId)}},kv,tb,D3=class D3 extends HTMLElement{constructor(){super(...arguments);Ce(this,kv)}static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await eb(),await e.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){let e=this.targetElements.flatMap(l=>[...l.children]).filter(l=>!!l.getAttribute("id")),o=[...this.templateContent?.children||[]].filter(l=>!!l.getAttribute("id")).map(l=>l.getAttribute("id"));return e.filter(l=>o.includes(l.getAttribute("id")))}get performAction(){if(this.action){let e=A3[this.action];if(e)return e;Be(this,kv,tb).call(this,"unknown action")}Be(this,kv,tb).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;Be(this,kv,tb).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;Be(this,kv,tb).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:D3.renderElement}})}get targetElementsById(){let e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){let e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}};kv=new WeakSet,tb=function(e){throw new Error(`${this.description}: ${e}`)};var UL=D3,GL=class extends HTMLElement{constructor(){super(...arguments);Bt(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),w3(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),T3(this.streamSource))}get src(){return this.getAttribute("src")||""}};is.delegateConstructor=d3;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",is);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",UL);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",GL);(()=>{let a=document.currentScript;if(a&&!a.hasAttribute("data-turbo-suppress-warning"))for(a=a.parentElement;a;){if(a==document.body)return console.warn(xdt`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,a.outerHTML);a=a.parentElement}})();window.Turbo={...Yqt,StreamActions:A3};b3();var M3=class{constructor(t,e,o){this.eventTarget=t,this.eventName=e,this.eventOptions=o,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){let e=Zqt(t);for(let o of this.bindings){if(e.immediatePropagationStopped)break;o.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((t,e)=>{let o=t.index,l=e.index;return o<l?-1:o>l?1:0})}};function Zqt(a){if("immediatePropagationStopped"in a)return a;{let{stopImmediatePropagation:t}=a;return Object.assign(a,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}var L3=class{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(t=>t.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(t=>t.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((t,e)=>t.concat(Array.from(e.values())),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,o={}){this.application.handleError(t,`Error ${e}`,o)}clearEventListenersForBinding(t){let e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){let{eventTarget:e,eventName:o,eventOptions:l}=t,f=this.fetchEventListenerMapForEventTarget(e),h=this.cacheKey(o,l);f.delete(h),f.size==0&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){let{eventTarget:e,eventName:o,eventOptions:l}=t;return this.fetchEventListener(e,o,l)}fetchEventListener(t,e,o){let l=this.fetchEventListenerMapForEventTarget(t),f=this.cacheKey(e,o),h=l.get(f);return h||(h=this.createEventListener(t,e,o),l.set(f,h)),h}createEventListener(t,e,o){let l=new M3(t,e,o);return this.started&&l.connect(),l}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){let o=[t];return Object.keys(e).sort().forEach(l=>{o.push(`${e[l]?"":"!"}${l}`)}),o.join(":")}},Xqt={stop({event:a,value:t}){return t&&a.stopPropagation(),!0},prevent({event:a,value:t}){return t&&a.preventDefault(),!0},self({event:a,value:t,element:e}){return t?e===a.target:!0}},qqt=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function $qt(a){let e=a.trim().match(qqt)||[],o=e[2],l=e[3];return l&&!["keydown","keyup","keypress"].includes(o)&&(o+=`.${l}`,l=""),{eventTarget:Kqt(e[4]),eventName:o,eventOptions:e[7]?jqt(e[7]):{},identifier:e[5],methodName:e[6],keyFilter:e[1]||l}}function Kqt(a){if(a=="window")return window;if(a=="document")return document}function jqt(a){return a.split(":").reduce((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)}),{})}function Jqt(a){if(a==window)return"window";if(a==document)return"document"}function j3(a){return a.replace(/(?:[_-])([a-z0-9])/g,(t,e)=>e.toUpperCase())}function I3(a){return j3(a.replace(/--/g,"-").replace(/__/g,"_"))}function xb(a){return a.charAt(0).toUpperCase()+a.slice(1)}function ggt(a){return a.replace(/([A-Z])/g,(t,e)=>`-${e.toLowerCase()}`)}function Qqt(a){return a.match(/[^\s]+/g)||[]}function sgt(a){return a!=null}function E3(a,t){return Object.prototype.hasOwnProperty.call(a,t)}var lgt=["meta","ctrl","alt","shift"],P3=class{constructor(t,e,o,l){this.element=t,this.index=e,this.eventTarget=o.eventTarget||t,this.eventName=o.eventName||t$t(t)||hI("missing event name"),this.eventOptions=o.eventOptions||{},this.identifier=o.identifier||hI("missing identifier"),this.methodName=o.methodName||hI("missing method name"),this.keyFilter=o.keyFilter||"",this.schema=l}static forToken(t,e){return new this(t.element,t.index,$qt(t.content),e)}toString(){let t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;let e=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,e))return!0;let o=e.filter(l=>!lgt.includes(l))[0];return o?(E3(this.keyMappings,o)||hI(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[o].toLowerCase()!==t.key.toLowerCase()):!1}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;let e=[this.keyFilter];return!!this.keyFilterDissatisfied(t,e)}get params(){let t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:o,value:l}of Array.from(this.element.attributes)){let f=o.match(e),h=f&&f[1];h&&(t[j3(h)]=e$t(l))}return t}get eventTargetName(){return Jqt(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,e){let[o,l,f,h]=lgt.map(v=>e.includes(v));return t.metaKey!==o||t.ctrlKey!==l||t.altKey!==f||t.shiftKey!==h}},ugt={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:a=>a.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function t$t(a){let t=a.tagName.toLowerCase();if(t in ugt)return ugt[t](a)}function hI(a){throw new Error(a)}function e$t(a){try{return JSON.parse(a)}catch{return a}}var R3=class{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){let e=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){let t=this.controller[this.methodName];if(typeof t=="function")return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){let{element:e}=this.action,{actionDescriptorFilters:o}=this.context.application,{controller:l}=this.context,f=!0;for(let[h,v]of Object.entries(this.eventOptions))if(h in o){let g=o[h];f=f&&g({name:h,value:v,event:t,element:e,controller:l})}else continue;return f}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){let{target:e,currentTarget:o}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:o,action:this.methodName})}catch(l){let{identifier:f,controller:h,element:v,index:g}=this,y={identifier:f,controller:h,element:v,index:g,event:t};this.context.handleError(l,`invoking action "${this.action}"`,y)}}willBeInvokedByEvent(t){let e=t.target;return t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t)||t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t)?!1:this.element===e?!0:e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},pI=class{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(o=>this.processMutations(o))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let t=new Set(this.matchElementsInTree());for(let e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(let e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){t.type=="attributes"?this.processAttributeChange(t.target,t.attributeName):t.type=="childList"&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,e):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(let e of Array.from(t)){let o=this.elementFromNode(e);o&&this.processTree(o,this.removeElement)}}processAddedNodes(t){for(let e of Array.from(t)){let o=this.elementFromNode(e);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(let o of this.matchElementsInTree(t))e.call(this,o)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected!=this.element.isConnected?!1:this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}},vI=class{constructor(t,e,o){this.attributeName=e,this.delegate=o,this.elementObserver=new pI(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){let e=this.matchElement(t)?[t]:[],o=Array.from(t.querySelectorAll(this.selector));return e.concat(o)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}};function r$t(a,t,e){mgt(a,t).add(e)}function i$t(a,t,e){mgt(a,t).delete(e),a$t(a,t)}function mgt(a,t){let e=a.get(t);return e||(e=new Set,a.set(t,e)),e}function a$t(a,t){let e=a.get(t);e!=null&&e.size==0&&a.delete(t)}var Ku=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((e,o)=>e.concat(Array.from(o)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((e,o)=>e+o.size,0)}add(t,e){r$t(this.valuesByKey,t,e)}delete(t,e){i$t(this.valuesByKey,t,e)}has(t,e){let o=this.valuesByKey.get(t);return o!=null&&o.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some(o=>o.has(t))}getValuesForKey(t){let e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter(([e,o])=>o.has(t)).map(([e,o])=>e)}};var O3=class{constructor(t,e,o,l){this._selector=e,this.details=l,this.elementObserver=new pI(t,this),this.delegate=o,this.matchesByElement=new Ku}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){let{selector:e}=this;if(e){let o=t.matches(e);return this.delegate.selectorMatchElement?o&&this.delegate.selectorMatchElement(t,this.details):o}else return!1}matchElementsInTree(t){let{selector:e}=this;if(e){let o=this.matchElement(t)?[t]:[],l=Array.from(t.querySelectorAll(e)).filter(f=>this.matchElement(f));return o.concat(l)}else return[]}elementMatched(t){let{selector:e}=this;e&&this.selectorMatched(t,e)}elementUnmatched(t){let e=this.matchesByElement.getKeysForValue(t);for(let o of e)this.selectorUnmatched(t,o)}elementAttributeChanged(t,e){let{selector:o}=this;if(o){let l=this.matchElement(t),f=this.matchesByElement.has(o,t);l&&!f?this.selectorMatched(t,o):!l&&f&&this.selectorUnmatched(t,o)}}selectorMatched(t,e){this.delegate.selectorMatched(t,e,this.details),this.matchesByElement.add(e,t)}selectorUnmatched(t,e){this.delegate.selectorUnmatched(t,e,this.details),this.matchesByElement.delete(e,t)}},k3=class{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(o=>this.processMutations(o))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){let e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){let o=this.delegate.getStringMapKeyForAttribute(t);if(o!=null){this.stringMap.has(t)||this.stringMapKeyAdded(o,t);let l=this.element.getAttribute(t);if(this.stringMap.get(t)!=l&&this.stringMapValueChanged(l,o,e),l==null){let f=this.stringMap.get(t);this.stringMap.delete(t),f&&this.stringMapKeyRemoved(o,t,f)}else this.stringMap.set(t,l)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,o){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,o)}stringMapKeyRemoved(t,e,o){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,o)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(t=>t.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},dI=class{constructor(t,e,o){this.attributeObserver=new vI(t,e,this),this.delegate=o,this.tokensByElement=new Ku}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){let[e,o]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(o)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach(e=>this.tokenMatched(e))}tokensUnmatched(t){t.forEach(e=>this.tokenUnmatched(e))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){let e=this.tokensByElement.getValuesForKey(t),o=this.readTokensForElement(t),l=o$t(e,o).findIndex(([f,h])=>!s$t(f,h));return l==-1?[[],[]]:[e.slice(l),o.slice(l)]}readTokensForElement(t){let e=this.attributeName,o=t.getAttribute(e)||"";return n$t(o,t,e)}};function n$t(a,t,e){return a.trim().split(/\s+/).filter(o=>o.length).map((o,l)=>({element:t,attributeName:e,content:o,index:l}))}function o$t(a,t){let e=Math.max(a.length,t.length);return Array.from({length:e},(o,l)=>[a[l],t[l]])}function s$t(a,t){return a&&t&&a.index==t.index&&a.content==t.content}var gI=class{constructor(t,e,o){this.tokenListObserver=new dI(t,e,this),this.delegate=o,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){let{element:e}=t,{value:o}=this.fetchParseResultForToken(t);o&&(this.fetchValuesByTokenForElement(e).set(t,o),this.delegate.elementMatchedValue(e,o))}tokenUnmatched(t){let{element:e}=t,{value:o}=this.fetchParseResultForToken(t);o&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,o))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(e){return{error:e}}}},N3=class{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new gI(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){let e=new R3(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){let e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach(t=>this.delegate.bindingDisconnected(t,!0)),this.bindingsByAction.clear()}parseValueForToken(t){let e=P3.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}},z3=class{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new k3(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){let o=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,o.writer(this.receiver[t]),o.writer(o.defaultValue))}stringMapValueChanged(t,e,o){let l=this.valueDescriptorNameMap[e];t!==null&&(o===null&&(o=l.writer(l.defaultValue)),this.invokeChangedCallback(e,t,o))}stringMapKeyRemoved(t,e,o){let l=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,l.writer(this.receiver[t]),o):this.invokeChangedCallback(t,l.writer(l.defaultValue),o)}invokeChangedCallbacksForDefaultValues(){for(let{key:t,name:e,defaultValue:o,writer:l}of this.valueDescriptors)o!=null&&!this.controller.data.has(t)&&this.invokeChangedCallback(e,l(o),void 0)}invokeChangedCallback(t,e,o){let l=`${t}Changed`,f=this.receiver[l];if(typeof f=="function"){let h=this.valueDescriptorNameMap[t];try{let v=h.reader(e),g=o;o&&(g=h.reader(o)),f.call(this.receiver,v,g)}catch(v){throw v instanceof TypeError&&(v.message=`Stimulus Value "${this.context.identifier}.${h.name}" - ${v.message}`),v}}}get valueDescriptors(){let{valueDescriptorMap:t}=this;return Object.keys(t).map(e=>t[e])}get valueDescriptorNameMap(){let t={};return Object.keys(this.valueDescriptorMap).forEach(e=>{let o=this.valueDescriptorMap[e];t[o.name]=o}),t}hasValue(t){let e=this.valueDescriptorNameMap[t],o=`has${xb(e.name)}`;return this.receiver[o]}},V3=class{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new Ku}start(){this.tokenListObserver||(this.tokenListObserver=new dI(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var o;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),(o=this.tokenListObserver)===null||o===void 0||o.pause(()=>this.delegate.targetConnected(t,e)))}disconnectTarget(t,e){var o;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),(o=this.tokenListObserver)===null||o===void 0||o.pause(()=>this.delegate.targetDisconnected(t,e)))}disconnectAllTargets(){for(let t of this.targetsByName.keys)for(let e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Sb(a,t){let e=ygt(a);return Array.from(e.reduce((o,l)=>(u$t(l,t).forEach(f=>o.add(f)),o),new Set))}function l$t(a,t){return ygt(a).reduce((o,l)=>(o.push(...f$t(l,t)),o),[])}function ygt(a){let t=[];for(;a;)t.push(a),a=Object.getPrototypeOf(a);return t.reverse()}function u$t(a,t){let e=a[t];return Array.isArray(e)?e:[]}function f$t(a,t){let e=a[t];return e?Object.keys(e).map(o=>[o,e[o]]):[]}var B3=class{constructor(t,e){this.started=!1,this.context=t,this.delegate=e,this.outletsByName=new Ku,this.outletElementsByName=new Ku,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)}),this.started=!0,this.dependentContexts.forEach(t=>t.refresh()))}refresh(){this.selectorObserverMap.forEach(t=>t.refresh()),this.attributeObserverMap.forEach(t=>t.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(t=>t.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(t=>t.stop()),this.attributeObserverMap.clear())}selectorMatched(t,e,{outletName:o}){let l=this.getOutlet(t,o);l&&this.connectOutlet(l,t,o)}selectorUnmatched(t,e,{outletName:o}){let l=this.getOutletFromMap(t,o);l&&this.disconnectOutlet(l,t,o)}selectorMatchElement(t,{outletName:e}){let o=this.selector(e),l=this.hasOutlet(t,e),f=t.matches(`[${this.schema.controllerAttribute}~=${e}]`);return o?l&&f&&t.matches(o):!1}elementMatchedAttribute(t,e){let o=this.getOutletNameFromOutletAttributeName(e);o&&this.updateSelectorObserverForOutlet(o)}elementAttributeValueChanged(t,e){let o=this.getOutletNameFromOutletAttributeName(e);o&&this.updateSelectorObserverForOutlet(o)}elementUnmatchedAttribute(t,e){let o=this.getOutletNameFromOutletAttributeName(e);o&&this.updateSelectorObserverForOutlet(o)}connectOutlet(t,e,o){var l;this.outletElementsByName.has(o,e)||(this.outletsByName.add(o,t),this.outletElementsByName.add(o,e),(l=this.selectorObserverMap.get(o))===null||l===void 0||l.pause(()=>this.delegate.outletConnected(t,e,o)))}disconnectOutlet(t,e,o){var l;this.outletElementsByName.has(o,e)&&(this.outletsByName.delete(o,t),this.outletElementsByName.delete(o,e),(l=this.selectorObserverMap.get(o))===null||l===void 0||l.pause(()=>this.delegate.outletDisconnected(t,e,o)))}disconnectAllOutlets(){for(let t of this.outletElementsByName.keys)for(let e of this.outletElementsByName.getValuesForKey(t))for(let o of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(o,e,t)}updateSelectorObserverForOutlet(t){let e=this.selectorObserverMap.get(t);e&&(e.selector=this.selector(t))}setupSelectorObserverForOutlet(t){let e=this.selector(t),o=new O3(document.body,e,this,{outletName:t});this.selectorObserverMap.set(t,o),o.start()}setupAttributeObserverForOutlet(t){let e=this.attributeNameForOutletName(t),o=new vI(this.scope.element,e,this);this.attributeObserverMap.set(t,o),o.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find(e=>this.attributeNameForOutletName(e)===t)}get outletDependencies(){let t=new Ku;return this.router.modules.forEach(e=>{let o=e.definition.controllerConstructor;Sb(o,"outlets").forEach(f=>t.add(f,e.identifier))}),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let t=this.dependentControllerIdentifiers;return this.router.contexts.filter(e=>t.includes(e.identifier))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find(o=>o.element===t)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},F3=class{constructor(t,e){this.logDebugActivity=(o,l={})=>{let{identifier:f,controller:h,element:v}=this;l=Object.assign({identifier:f,controller:h,element:v},l),this.application.logDebugActivity(this.identifier,o,l)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new N3(this,this.dispatcher),this.valueObserver=new z3(this,this.controller),this.targetObserver=new V3(this,this),this.outletObserver=new B3(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(o){this.handleError(o,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,o={}){let{identifier:l,controller:f,element:h}=this;o=Object.assign({identifier:l,controller:f,element:h},o),this.application.handleError(t,`Error ${e}`,o)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,o){this.invokeControllerMethod(`${I3(o)}OutletConnected`,t,e)}outletDisconnected(t,e,o){this.invokeControllerMethod(`${I3(o)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){let o=this.controller;typeof o[t]=="function"&&o[t](...e)}};function c$t(a){return h$t(a,p$t(a))}function h$t(a,t){let e=m$t(a),o=v$t(a.prototype,t);return Object.defineProperties(e.prototype,o),e}function p$t(a){return Sb(a,"blessings").reduce((e,o)=>{let l=o(a);for(let f in l){let h=e[f]||{};e[f]=Object.assign(h,l[f])}return e},{})}function v$t(a,t){return g$t(t).reduce((e,o)=>{let l=d$t(a,t,o);return l&&Object.assign(e,{[o]:l}),e},{})}function d$t(a,t,e){let o=Object.getOwnPropertyDescriptor(a,e);if(!(o&&"value"in o)){let f=Object.getOwnPropertyDescriptor(t,e).value;return o&&(f.get=o.get||f.get,f.set=o.set||f.set),f}}var g$t=typeof Object.getOwnPropertySymbols=="function"?a=>[...Object.getOwnPropertyNames(a),...Object.getOwnPropertySymbols(a)]:Object.getOwnPropertyNames,m$t=(()=>{function a(e){function o(){return Reflect.construct(e,arguments,new.target)}return o.prototype=Object.create(e.prototype,{constructor:{value:o}}),Reflect.setPrototypeOf(o,e),o}function t(){let o=a(function(){this.a.call(this)});return o.prototype.a=function(){},new o}try{return t(),a}catch{return o=>class extends o{}}})();function y$t(a){return{identifier:a.identifier,controllerConstructor:c$t(a.controllerConstructor)}}var U3=class{constructor(t,e){this.application=t,this.definition=y$t(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){let e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){let e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new F3(this,t),this.contextsByScope.set(t,e)),e}},G3=class{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){let e=this.data.get(this.getDataKey(t))||"";return Qqt(e)}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}},H3=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){let e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){let o=this.getAttributeNameForKey(t);return this.element.setAttribute(o,e),this.get(t)}has(t){let e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){let e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}else return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${ggt(t)}`}},W3=class{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,o){let l=this.warnedKeysByObject.get(t);l||(l=new Set,this.warnedKeysByObject.set(t,l)),l.has(e)||(l.add(e),this.logger.warn(o,t))}};function Y3(a,t){return`[${a}~="${t}"]`}var Z3=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,o)=>e||this.findTarget(o)||this.findLegacyTarget(o),void 0)}findAll(...t){return t.reduce((e,o)=>[...e,...this.findAllTargets(o),...this.findAllLegacyTargets(o)],[])}findTarget(t){let e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){let e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){let e=this.schema.targetAttributeForScope(this.identifier);return Y3(e,t)}findLegacyTarget(t){let e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){let e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map(o=>this.deprecate(o,t))}getLegacySelectorForTargetName(t){let e=`${this.identifier}.${t}`;return Y3(this.schema.targetAttribute,e)}deprecate(t,e){if(t){let{identifier:o}=this,l=this.schema.targetAttribute,f=this.schema.targetAttributeForScope(o);this.guide.warn(t,`target:${e}`,`Please replace ${l}="${o}.${e}" with ${f}="${e}". The ${l} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}},X3=class{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,o)=>e||this.findOutlet(o),void 0)}findAll(...t){return t.reduce((e,o)=>[...e,...this.findAllOutlets(o)],[])}getSelectorForOutletName(t){let e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){let e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){let e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter(l=>this.matchesElement(l,t,e))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter(l=>this.matchesElement(l,t,e))}matchesElement(t,e,o){let l=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&l.split(" ").includes(o)}},q3=class a{constructor(t,e,o,l){this.targets=new Z3(this),this.classes=new G3(this),this.data=new H3(this),this.containsElement=f=>f.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=o,this.guide=new W3(l),this.outlets=new X3(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return Y3(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new a(this.schema,document.documentElement,this.identifier,this.guide.logger)}},$3=class{constructor(t,e,o){this.element=t,this.schema=e,this.delegate=o,this.valueListObserver=new gI(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){let{element:e,content:o}=t;return this.parseValueForElementAndIdentifier(e,o)}parseValueForElementAndIdentifier(t,e){let o=this.fetchScopesByIdentifierForElement(t),l=o.get(e);return l||(l=this.delegate.createScopeForElementAndIdentifier(t,e),o.set(e,l)),l}elementMatchedValue(t,e){let o=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,o),o==1&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){let o=this.scopeReferenceCounts.get(e);o&&(this.scopeReferenceCounts.set(e,o-1),o==1&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}},K3=class{constructor(t){this.application=t,this.scopeObserver=new $3(this.element,this.schema,this),this.scopesByIdentifier=new Ku,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((t,e)=>t.concat(e.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);let e=new U3(this.application,t);this.connectModule(e);let o=t.controllerConstructor.afterLoad;o&&o.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){let e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){let o=this.modulesByIdentifier.get(e);if(o)return o.contexts.find(l=>l.element==t)}proposeToConnectScopeForElementAndIdentifier(t,e){let o=this.scopeObserver.parseValueForElementAndIdentifier(t,e);o?this.scopeObserver.elementMatchedValue(o.element,o):console.error(`Couldn't find or create scope for identifier: "${e}" and element:`,t)}handleError(t,e,o){this.application.handleError(t,e,o)}createScopeForElementAndIdentifier(t,e){return new q3(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(o=>t.connectContextForScope(o))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(o=>t.disconnectContextForScope(o))}},_$t={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:a=>`data-${a}-target`,outletAttributeForScope:(a,t)=>`data-${a}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},fgt("abcdefghijklmnopqrstuvwxyz".split("").map(a=>[a,a]))),fgt("0123456789".split("").map(a=>[a,a])))};function fgt(a){return a.reduce((t,[e,o])=>Object.assign(Object.assign({},t),{[e]:o}),{})}var mI=class{constructor(t=document.documentElement,e=_$t){this.logger=console,this.debug=!1,this.logDebugActivity=(o,l,f={})=>{this.debug&&this.logFormattedMessage(o,l,f)},this.element=t,this.schema=e,this.dispatcher=new L3(this),this.router=new K3(this),this.actionDescriptorFilters=Object.assign({},Xqt)}static start(t,e){let o=new this(t,e);return o.start(),o}async start(){await x$t(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(l=>{l.controllerConstructor.shouldLoad&&this.router.loadDefinition(l)})}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(l=>this.router.unloadIdentifier(l))}get controllers(){return this.router.contexts.map(t=>t.controller)}getControllerForElementAndIdentifier(t,e){let o=this.router.getContextForElementAndIdentifier(t,e);return o?o.controller:null}handleError(t,e,o){var l;this.logger.error(`%s

%o

%o`,e,t,o),(l=window.onerror)===null||l===void 0||l.call(window,e,"",0,0,t)}logFormattedMessage(t,e,o={}){o=Object.assign({application:this},o),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},o)),this.logger.groupEnd()}};function x$t(){return new Promise(a=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>a()):a()})}function S$t(a){return Sb(a,"classes").reduce((e,o)=>Object.assign(e,b$t(o)),{})}function b$t(a){return{[`${a}Class`]:{get(){let{classes:t}=this;if(t.has(a))return t.get(a);{let e=t.getAttributeName(a);throw new Error(`Missing attribute "${e}"`)}}},[`${a}Classes`]:{get(){return this.classes.getAll(a)}},[`has${xb(a)}Class`]:{get(){return this.classes.has(a)}}}}function w$t(a){return Sb(a,"outlets").reduce((e,o)=>Object.assign(e,T$t(o)),{})}function cgt(a,t,e){return a.application.getControllerForElementAndIdentifier(t,e)}function hgt(a,t,e){let o=cgt(a,t,e);if(o||(a.application.router.proposeToConnectScopeForElementAndIdentifier(t,e),o=cgt(a,t,e),o))return o}function T$t(a){let t=I3(a);return{[`${t}Outlet`]:{get(){let e=this.outlets.find(a),o=this.outlets.getSelectorForOutletName(a);if(e){let l=hgt(this,e,a);if(l)return l;throw new Error(`The provided outlet element is missing an outlet controller "${a}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${a}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${o}".`)}},[`${t}Outlets`]:{get(){let e=this.outlets.findAll(a);return e.length>0?e.map(o=>{let l=hgt(this,o,a);if(l)return l;console.warn(`The provided outlet element is missing an outlet controller "${a}" instance for host controller "${this.identifier}"`,o)}).filter(o=>o):[]}},[`${t}OutletElement`]:{get(){let e=this.outlets.find(a),o=this.outlets.getSelectorForOutletName(a);if(e)return e;throw new Error(`Missing outlet element "${a}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${o}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(a)}},[`has${xb(t)}Outlet`]:{get(){return this.outlets.has(a)}}}}function A$t(a){return Sb(a,"targets").reduce((e,o)=>Object.assign(e,C$t(o)),{})}function C$t(a){return{[`${a}Target`]:{get(){let t=this.targets.find(a);if(t)return t;throw new Error(`Missing target element "${a}" for "${this.identifier}" controller`)}},[`${a}Targets`]:{get(){return this.targets.findAll(a)}},[`has${xb(a)}Target`]:{get(){return this.targets.has(a)}}}}function D$t(a){let t=l$t(a,"values"),e={valueDescriptorMap:{get(){return t.reduce((o,l)=>{let f=_gt(l,this.identifier),h=this.data.getAttributeNameForKey(f.key);return Object.assign(o,{[h]:f})},{})}}};return t.reduce((o,l)=>Object.assign(o,M$t(l)),e)}function M$t(a,t){let e=_gt(a,t),{key:o,name:l,reader:f,writer:h}=e;return{[l]:{get(){let v=this.data.get(o);return v!==null?f(v):e.defaultValue},set(v){v===void 0?this.data.delete(o):this.data.set(o,h(v))}},[`has${xb(l)}`]:{get(){return this.data.has(o)||e.hasCustomDefaultValue}}}}function _gt([a,t],e){return P$t({controller:e,token:a,typeDefinition:t})}function yI(a){switch(a){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function _b(a){switch(typeof a){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(a))return"array";if(Object.prototype.toString.call(a)==="[object Object]")return"object"}function L$t(a){let{controller:t,token:e,typeObject:o}=a,l=sgt(o.type),f=sgt(o.default),h=l&&f,v=l&&!f,g=!l&&f,y=yI(o.type),x=_b(a.typeObject.default);if(v)return y;if(g)return x;if(y!==x){let b=t?`${t}.${e}`:e;throw new Error(`The specified default value for the Stimulus Value "${b}" must match the defined type "${y}". The provided default value of "${o.default}" is of type "${x}".`)}if(h)return y}function I$t(a){let{controller:t,token:e,typeDefinition:o}=a,f=L$t({controller:t,token:e,typeObject:o}),h=_b(o),v=yI(o),g=f||h||v;if(g)return g;let y=t?`${t}.${o}`:e;throw new Error(`Unknown value type "${y}" for "${e}" value`)}function E$t(a){let t=yI(a);if(t)return pgt[t];let e=E3(a,"default"),o=E3(a,"type"),l=a;if(e)return l.default;if(o){let{type:f}=l,h=yI(f);if(h)return pgt[h]}return a}function P$t(a){let{token:t,typeDefinition:e}=a,o=`${ggt(t)}-value`,l=I$t(a);return{type:l,key:o,name:j3(o),get defaultValue(){return E$t(e)},get hasCustomDefaultValue(){return _b(e)!==void 0},reader:R$t[l],writer:vgt[l]||vgt.default}}var pgt={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},R$t={array(a){let t=JSON.parse(a);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${a}" of type "${_b(t)}"`);return t},boolean(a){return!(a=="0"||String(a).toLowerCase()=="false")},number(a){return Number(a.replace(/_/g,""))},object(a){let t=JSON.parse(a);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${a}" of type "${_b(t)}"`);return t},string(a){return a}},vgt={default:O$t,array:dgt,object:dgt};function dgt(a){return JSON.stringify(a)}function O$t(a){return`${a}`}var Gr=class{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:o={},prefix:l=this.identifier,bubbles:f=!0,cancelable:h=!0}={}){let v=l?`${l}:${t}`:t,g=new CustomEvent(v,{detail:o,bubbles:f,cancelable:h});return e.dispatchEvent(g),g}};Gr.blessings=[S$t,A$t,D$t,w$t];Gr.targets=[];Gr.outlets=[];Gr.values={};var bb=class extends Gr{show(a){this.menuTarget.style.setProperty("--context-menu-x",`${a.clientX-5}px`),this.menuTarget.style.setProperty("--context-menu-y",`${a.clientY-5}px`),this.menuTarget.classList.add("positioned"),setTimeout(()=>this.menuTarget.showPopover(),150)}};Bt(bb,"targets",["menu"]);var wb=class extends Gr{show(){this.menuTarget.show()}showModal(){this.menuTarget.showModal()}close(){this.menuTarget.close()}closeOnClickOutside({target:a}){a.nodeName==="DIALOG"&&this.close()}};Bt(wb,"targets",["menu"]);var dy,xI,xgt,gy,_I,SI,Sgt,bI,bgt,wI,wgt,vy=class extends Gr{constructor(){super(...arguments);Ce(this,xI);Ce(this,gy);Ce(this,SI);Ce(this,bI);Ce(this,wI);Ce(this,dy,void 0)}initialize(){gr(this,dy,new IntersectionObserver(Be(this,xI,xgt).bind(this)))}connect(){Oe(this,dy).observe(this.element)}disconnect(){Oe(this,dy).disconnect()}prev(){this.indexValue>0&&(this.indexValue--,Be(this,gy,_I).call(this))}next(){this.indexValue<Oe(this,wI,wgt)&&(this.indexValue++,Be(this,gy,_I).call(this))}};dy=new WeakMap,xI=new WeakSet,xgt=function([t]){t.isIntersecting&&(this.indexValue=0,Be(this,gy,_I).call(this))},gy=new WeakSet,_I=function(){Be(this,SI,Sgt).call(this),Be(this,bI,bgt).call(this)},SI=new WeakSet,Sgt=function(){this.itemTargets.forEach((t,e)=>{t.tabIndex=e===this.indexValue?0:-1})},bI=new WeakSet,bgt=function(){this.itemTargets[this.indexValue].focus()},wI=new WeakSet,wgt=function(){return this.itemTargets.length-1},Bt(vy,"targets",["item"]),Bt(vy,"values",{index:Number});var my=Math.min,ju=Math.max,Ab=Math.round,Cb=Math.floor,Hs=a=>({x:a,y:a}),k$t={left:"right",right:"left",bottom:"top",top:"bottom"},N$t={start:"end",end:"start"};function J3(a,t,e){return ju(a,my(t,e))}function Db(a,t){return typeof a=="function"?a(t):a}function qc(a){return a.split("-")[0]}function Mb(a){return a.split("-")[1]}function Q3(a){return a==="x"?"y":"x"}function tW(a){return a==="y"?"height":"width"}var z$t=new Set(["top","bottom"]);function Ju(a){return z$t.has(qc(a))?"y":"x"}function eW(a){return Q3(Ju(a))}function Cgt(a,t,e){e===void 0&&(e=!1);let o=Mb(a),l=eW(a),f=tW(l),h=l==="x"?o===(e?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[f]>t.floating[f]&&(h=Tb(h)),[h,Tb(h)]}function Dgt(a){let t=Tb(a);return[TI(a),t,TI(t)]}function TI(a){return a.replace(/start|end/g,t=>N$t[t])}var Tgt=["left","right"],Agt=["right","left"],V$t=["top","bottom"],B$t=["bottom","top"];function F$t(a,t,e){switch(a){case"top":case"bottom":return e?t?Agt:Tgt:t?Tgt:Agt;case"left":case"right":return t?V$t:B$t;default:return[]}}function Mgt(a,t,e,o){let l=Mb(a),f=F$t(qc(a),e==="start",o);return l&&(f=f.map(h=>h+"-"+l),t&&(f=f.concat(f.map(TI)))),f}function Tb(a){return a.replace(/left|right|bottom|top/g,t=>k$t[t])}function U$t(a){return{top:0,right:0,bottom:0,left:0,...a}}function Lgt(a){return typeof a!="number"?U$t(a):{top:a,right:a,bottom:a,left:a}}function Vv(a){let{x:t,y:e,width:o,height:l}=a;return{width:o,height:l,top:e,left:t,right:t+o,bottom:e+l,x:t,y:e}}function Igt(a,t,e){let{reference:o,floating:l}=a,f=Ju(t),h=eW(t),v=tW(h),g=qc(t),y=f==="y",x=o.x+o.width/2-l.width/2,b=o.y+o.height/2-l.height/2,T=o[v]/2-l[v]/2,C;switch(g){case"top":C={x,y:o.y-l.height};break;case"bottom":C={x,y:o.y+o.height};break;case"right":C={x:o.x+o.width,y:b};break;case"left":C={x:o.x-l.width,y:b};break;default:C={x:o.x,y:o.y}}switch(Mb(t)){case"start":C[h]-=T*(e&&y?-1:1);break;case"end":C[h]+=T*(e&&y?-1:1);break}return C}var Egt=async(a,t,e)=>{let{placement:o="bottom",strategy:l="absolute",middleware:f=[],platform:h}=e,v=f.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(t)),y=await h.getElementRects({reference:a,floating:t,strategy:l}),{x,y:b}=Igt(y,o,g),T=o,C={},M=0;for(let I=0;I<v.length;I++){let{name:P,fn:O}=v[I],{x:N,y:V,data:F,reset:U}=await O({x,y:b,initialPlacement:o,placement:T,strategy:l,middlewareData:C,rects:y,platform:h,elements:{reference:a,floating:t}});x=N??x,b=V??b,C={...C,[P]:{...C[P],...F}},U&&M<=50&&(M++,typeof U=="object"&&(U.placement&&(T=U.placement),U.rects&&(y=U.rects===!0?await h.getElementRects({reference:a,floating:t,strategy:l}):U.rects),{x,y:b}=Igt(y,T,g)),I=-1)}return{x,y:b,placement:T,strategy:l,middlewareData:C}};async function rW(a,t){var e;t===void 0&&(t={});let{x:o,y:l,platform:f,rects:h,elements:v,strategy:g}=a,{boundary:y="clippingAncestors",rootBoundary:x="viewport",elementContext:b="floating",altBoundary:T=!1,padding:C=0}=Db(t,a),M=Lgt(C),P=v[T?b==="floating"?"reference":"floating":b],O=Vv(await f.getClippingRect({element:(e=await(f.isElement==null?void 0:f.isElement(P)))==null||e?P:P.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(v.floating)),boundary:y,rootBoundary:x,strategy:g})),N=b==="floating"?{x:o,y:l,width:h.floating.width,height:h.floating.height}:h.reference,V=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v.floating)),F=await(f.isElement==null?void 0:f.isElement(V))?await(f.getScale==null?void 0:f.getScale(V))||{x:1,y:1}:{x:1,y:1},U=Vv(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:v,rect:N,offsetParent:V,strategy:g}):N);return{top:(O.top-U.top+M.top)/F.y,bottom:(U.bottom-O.bottom+M.bottom)/F.y,left:(O.left-U.left+M.left)/F.x,right:(U.right-O.right+M.right)/F.x}}var Pgt=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(t){var e,o;let{placement:l,middlewareData:f,rects:h,initialPlacement:v,platform:g,elements:y}=t,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:I=!0,...P}=Db(a,t);if((e=f.arrow)!=null&&e.alignmentOffset)return{};let O=qc(l),N=Ju(v),V=qc(v)===v,F=await(g.isRTL==null?void 0:g.isRTL(y.floating)),U=T||(V||!I?[Tb(v)]:Dgt(v)),H=M!=="none";!T&&H&&U.push(...Mgt(v,I,M,F));let Z=[v,...U],$=await rW(t,P),K=[],Q=((o=f.flip)==null?void 0:o.overflows)||[];if(x&&K.push($[O]),b){let ft=Cgt(l,h,F);K.push($[ft[0]],$[ft[1]])}if(Q=[...Q,{placement:l,overflows:K}],!K.every(ft=>ft<=0)){var rt,nt;let ft=(((rt=f.flip)==null?void 0:rt.index)||0)+1,lt=Z[ft];if(lt&&(!(b==="alignment"?N!==Ju(lt):!1)||Q.every(st=>st.overflows[0]>0&&Ju(st.placement)===N)))return{data:{index:ft,overflows:Q},reset:{placement:lt}};let pt=(nt=Q.filter(xt=>xt.overflows[0]<=0).sort((xt,st)=>xt.overflows[1]-st.overflows[1])[0])==null?void 0:nt.placement;if(!pt)switch(C){case"bestFit":{var ot;let xt=(ot=Q.filter(st=>{if(H){let dt=Ju(st.placement);return dt===N||dt==="y"}return!0}).map(st=>[st.placement,st.overflows.filter(dt=>dt>0).reduce((dt,Et)=>dt+Et,0)]).sort((st,dt)=>st[1]-dt[1])[0])==null?void 0:ot[0];xt&&(pt=xt);break}case"initialPlacement":pt=v;break}if(l!==pt)return{reset:{placement:pt}}}return{}}}};var G$t=new Set(["left","top"]);async function H$t(a,t){let{placement:e,platform:o,elements:l}=a,f=await(o.isRTL==null?void 0:o.isRTL(l.floating)),h=qc(e),v=Mb(e),g=Ju(e)==="y",y=G$t.has(h)?-1:1,x=f&&g?-1:1,b=Db(t,a),{mainAxis:T,crossAxis:C,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return v&&typeof M=="number"&&(C=v==="end"?M*-1:M),g?{x:C*x,y:T*y}:{x:T*y,y:C*x}}var Rgt=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(t){var e,o;let{x:l,y:f,placement:h,middlewareData:v}=t,g=await H$t(t,a);return h===((e=v.offset)==null?void 0:e.placement)&&(o=v.arrow)!=null&&o.alignmentOffset?{}:{x:l+g.x,y:f+g.y,data:{...g,placement:h}}}}},Ogt=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(t){let{x:e,y:o,placement:l}=t,{mainAxis:f=!0,crossAxis:h=!1,limiter:v={fn:P=>{let{x:O,y:N}=P;return{x:O,y:N}}},...g}=Db(a,t),y={x:e,y:o},x=await rW(t,g),b=Ju(qc(l)),T=Q3(b),C=y[T],M=y[b];if(f){let P=T==="y"?"top":"left",O=T==="y"?"bottom":"right",N=C+x[P],V=C-x[O];C=J3(N,C,V)}if(h){let P=b==="y"?"top":"left",O=b==="y"?"bottom":"right",N=M+x[P],V=M-x[O];M=J3(N,M,V)}let I=v.fn({...t,[T]:C,[b]:M});return{...I,data:{x:I.x-e,y:I.y-o,enabled:{[T]:f,[b]:h}}}}}};function AI(){return typeof window<"u"}function Bv(a){return Ngt(a)?(a.nodeName||"").toLowerCase():"#document"}function In(a){var t;return(a==null||(t=a.ownerDocument)==null?void 0:t.defaultView)||window}function Ws(a){var t;return(t=(Ngt(a)?a.ownerDocument:a.document)||window.document)==null?void 0:t.documentElement}function Ngt(a){return AI()?a instanceof Node||a instanceof In(a).Node:!1}function as(a){return AI()?a instanceof Element||a instanceof In(a).Element:!1}function Ys(a){return AI()?a instanceof HTMLElement||a instanceof In(a).HTMLElement:!1}function kgt(a){return!AI()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof In(a).ShadowRoot}var W$t=new Set(["inline","contents"]);function _y(a){let{overflow:t,overflowX:e,overflowY:o,display:l}=ns(a);return/auto|scroll|overlay|hidden|clip/.test(t+o+e)&&!W$t.has(l)}var Y$t=new Set(["table","td","th"]);function zgt(a){return Y$t.has(Bv(a))}var Z$t=[":popover-open",":modal"];function Lb(a){return Z$t.some(t=>{try{return a.matches(t)}catch{return!1}})}var X$t=["transform","translate","scale","rotate","perspective"],q$t=["transform","translate","scale","rotate","perspective","filter"],$$t=["paint","layout","strict","content"];function CI(a){let t=DI(),e=as(a)?ns(a):a;return X$t.some(o=>e[o]?e[o]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||q$t.some(o=>(e.willChange||"").includes(o))||$$t.some(o=>(e.contain||"").includes(o))}function Vgt(a){let t=Qu(a);for(;Ys(t)&&!Fv(t);){if(CI(t))return t;if(Lb(t))return null;t=Qu(t)}return null}function DI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var K$t=new Set(["html","body","#document"]);function Fv(a){return K$t.has(Bv(a))}function ns(a){return In(a).getComputedStyle(a)}function Ib(a){return as(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function Qu(a){if(Bv(a)==="html")return a;let t=a.assignedSlot||a.parentNode||kgt(a)&&a.host||Ws(a);return kgt(t)?t.host:t}function Bgt(a){let t=Qu(a);return Fv(t)?a.ownerDocument?a.ownerDocument.body:a.body:Ys(t)&&_y(t)?t:Bgt(t)}function yy(a,t,e){var o;t===void 0&&(t=[]),e===void 0&&(e=!0);let l=Bgt(a),f=l===((o=a.ownerDocument)==null?void 0:o.body),h=In(l);if(f){let v=MI(h);return t.concat(h,h.visualViewport||[],_y(l)?l:[],v&&e?yy(v):[])}return t.concat(l,yy(l,[],e))}function MI(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Ggt(a){let t=ns(a),e=parseFloat(t.width)||0,o=parseFloat(t.height)||0,l=Ys(a),f=l?a.offsetWidth:e,h=l?a.offsetHeight:o,v=Ab(e)!==f||Ab(o)!==h;return v&&(e=f,o=h),{width:e,height:o,$:v}}function aW(a){return as(a)?a:a.contextElement}function xy(a){let t=aW(a);if(!Ys(t))return Hs(1);let e=t.getBoundingClientRect(),{width:o,height:l,$:f}=Ggt(t),h=(f?Ab(e.width):e.width)/o,v=(f?Ab(e.height):e.height)/l;return(!h||!Number.isFinite(h))&&(h=1),(!v||!Number.isFinite(v))&&(v=1),{x:h,y:v}}var j$t=Hs(0);function Hgt(a){let t=In(a);return!DI()||!t.visualViewport?j$t:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function J$t(a,t,e){return t===void 0&&(t=!1),!e||t&&e!==In(a)?!1:t}function Uv(a,t,e,o){t===void 0&&(t=!1),e===void 0&&(e=!1);let l=a.getBoundingClientRect(),f=aW(a),h=Hs(1);t&&(o?as(o)&&(h=xy(o)):h=xy(a));let v=J$t(f,e,o)?Hgt(f):Hs(0),g=(l.left+v.x)/h.x,y=(l.top+v.y)/h.y,x=l.width/h.x,b=l.height/h.y;if(f){let T=In(f),C=o&&as(o)?In(o):o,M=T,I=MI(M);for(;I&&o&&C!==M;){let P=xy(I),O=I.getBoundingClientRect(),N=ns(I),V=O.left+(I.clientLeft+parseFloat(N.paddingLeft))*P.x,F=O.top+(I.clientTop+parseFloat(N.paddingTop))*P.y;g*=P.x,y*=P.y,x*=P.x,b*=P.y,g+=V,y+=F,M=In(I),I=MI(M)}}return Vv({width:x,height:b,x:g,y})}function nW(a,t){let e=Ib(a).scrollLeft;return t?t.left+e:Uv(Ws(a)).left+e}function Wgt(a,t,e){e===void 0&&(e=!1);let o=a.getBoundingClientRect(),l=o.left+t.scrollLeft-(e?0:nW(a,o)),f=o.top+t.scrollTop;return{x:l,y:f}}function Q$t(a){let{elements:t,rect:e,offsetParent:o,strategy:l}=a,f=l==="fixed",h=Ws(o),v=t?Lb(t.floating):!1;if(o===h||v&&f)return e;let g={scrollLeft:0,scrollTop:0},y=Hs(1),x=Hs(0),b=Ys(o);if((b||!b&&!f)&&((Bv(o)!=="body"||_y(h))&&(g=Ib(o)),Ys(o))){let C=Uv(o);y=xy(o),x.x=C.x+o.clientLeft,x.y=C.y+o.clientTop}let T=h&&!b&&!f?Wgt(h,g,!0):Hs(0);return{width:e.width*y.x,height:e.height*y.y,x:e.x*y.x-g.scrollLeft*y.x+x.x+T.x,y:e.y*y.y-g.scrollTop*y.y+x.y+T.y}}function tKt(a){return Array.from(a.getClientRects())}function eKt(a){let t=Ws(a),e=Ib(a),o=a.ownerDocument.body,l=ju(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),f=ju(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),h=-e.scrollLeft+nW(a),v=-e.scrollTop;return ns(o).direction==="rtl"&&(h+=ju(t.clientWidth,o.clientWidth)-l),{width:l,height:f,x:h,y:v}}function rKt(a,t){let e=In(a),o=Ws(a),l=e.visualViewport,f=o.clientWidth,h=o.clientHeight,v=0,g=0;if(l){f=l.width,h=l.height;let y=DI();(!y||y&&t==="fixed")&&(v=l.offsetLeft,g=l.offsetTop)}return{width:f,height:h,x:v,y:g}}var iKt=new Set(["absolute","fixed"]);function aKt(a,t){let e=Uv(a,!0,t==="fixed"),o=e.top+a.clientTop,l=e.left+a.clientLeft,f=Ys(a)?xy(a):Hs(1),h=a.clientWidth*f.x,v=a.clientHeight*f.y,g=l*f.x,y=o*f.y;return{width:h,height:v,x:g,y}}function Fgt(a,t,e){let o;if(t==="viewport")o=rKt(a,e);else if(t==="document")o=eKt(Ws(a));else if(as(t))o=aKt(t,e);else{let l=Hgt(a);o={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Vv(o)}function Ygt(a,t){let e=Qu(a);return e===t||!as(e)||Fv(e)?!1:ns(e).position==="fixed"||Ygt(e,t)}function nKt(a,t){let e=t.get(a);if(e)return e;let o=yy(a,[],!1).filter(v=>as(v)&&Bv(v)!=="body"),l=null,f=ns(a).position==="fixed",h=f?Qu(a):a;for(;as(h)&&!Fv(h);){let v=ns(h),g=CI(h);!g&&v.position==="fixed"&&(l=null),(f?!g&&!l:!g&&v.position==="static"&&!!l&&iKt.has(l.position)||_y(h)&&!g&&Ygt(a,h))?o=o.filter(x=>x!==h):l=v,h=Qu(h)}return t.set(a,o),o}function oKt(a){let{element:t,boundary:e,rootBoundary:o,strategy:l}=a,h=[...e==="clippingAncestors"?Lb(t)?[]:nKt(t,this._c):[].concat(e),o],v=h[0],g=h.reduce((y,x)=>{let b=Fgt(t,x,l);return y.top=ju(b.top,y.top),y.right=my(b.right,y.right),y.bottom=my(b.bottom,y.bottom),y.left=ju(b.left,y.left),y},Fgt(t,v,l));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function sKt(a){let{width:t,height:e}=Ggt(a);return{width:t,height:e}}function lKt(a,t,e){let o=Ys(t),l=Ws(t),f=e==="fixed",h=Uv(a,!0,f,t),v={scrollLeft:0,scrollTop:0},g=Hs(0);function y(){g.x=nW(l)}if(o||!o&&!f)if((Bv(t)!=="body"||_y(l))&&(v=Ib(t)),o){let C=Uv(t,!0,f,t);g.x=C.x+t.clientLeft,g.y=C.y+t.clientTop}else l&&y();f&&!o&&l&&y();let x=l&&!o&&!f?Wgt(l,v):Hs(0),b=h.left+v.scrollLeft-g.x-x.x,T=h.top+v.scrollTop-g.y-x.y;return{x:b,y:T,width:h.width,height:h.height}}function iW(a){return ns(a).position==="static"}function Ugt(a,t){if(!Ys(a)||ns(a).position==="fixed")return null;if(t)return t(a);let e=a.offsetParent;return Ws(a)===e&&(e=e.ownerDocument.body),e}function Zgt(a,t){let e=In(a);if(Lb(a))return e;if(!Ys(a)){let l=Qu(a);for(;l&&!Fv(l);){if(as(l)&&!iW(l))return l;l=Qu(l)}return e}let o=Ugt(a,t);for(;o&&zgt(o)&&iW(o);)o=Ugt(o,t);return o&&Fv(o)&&iW(o)&&!CI(o)?e:o||Vgt(a)||e}var uKt=async function(a){let t=this.getOffsetParent||Zgt,e=this.getDimensions,o=await e(a.floating);return{reference:lKt(a.reference,await t(a.floating),a.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function fKt(a){return ns(a).direction==="rtl"}var cKt={convertOffsetParentRelativeRectToViewportRelativeRect:Q$t,getDocumentElement:Ws,getClippingRect:oKt,getOffsetParent:Zgt,getElementRects:uKt,getClientRects:tKt,getDimensions:sKt,getScale:xy,isElement:as,isRTL:fKt};function Xgt(a,t){return a.x===t.x&&a.y===t.y&&a.width===t.width&&a.height===t.height}function hKt(a,t){let e=null,o,l=Ws(a);function f(){var v;clearTimeout(o),(v=e)==null||v.disconnect(),e=null}function h(v,g){v===void 0&&(v=!1),g===void 0&&(g=1),f();let y=a.getBoundingClientRect(),{left:x,top:b,width:T,height:C}=y;if(v||t(),!T||!C)return;let M=Cb(b),I=Cb(l.clientWidth-(x+T)),P=Cb(l.clientHeight-(b+C)),O=Cb(x),V={rootMargin:-M+"px "+-I+"px "+-P+"px "+-O+"px",threshold:ju(0,my(1,g))||1},F=!0;function U(H){let Z=H[0].intersectionRatio;if(Z!==g){if(!F)return h();Z?h(!1,Z):o=setTimeout(()=>{h(!1,1e-7)},1e3)}Z===1&&!Xgt(y,a.getBoundingClientRect())&&h(),F=!1}try{e=new IntersectionObserver(U,{...V,root:l.ownerDocument})}catch{e=new IntersectionObserver(U,V)}e.observe(a)}return h(!0),f}function qgt(a,t,e,o){o===void 0&&(o={});let{ancestorScroll:l=!0,ancestorResize:f=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:v=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,y=aW(a),x=l||f?[...y?yy(y):[],...yy(t)]:[];x.forEach(O=>{l&&O.addEventListener("scroll",e,{passive:!0}),f&&O.addEventListener("resize",e)});let b=y&&v?hKt(y,e):null,T=-1,C=null;h&&(C=new ResizeObserver(O=>{let[N]=O;N&&N.target===y&&C&&(C.unobserve(t),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var V;(V=C)==null||V.observe(t)})),e()}),y&&!g&&C.observe(y),C.observe(t));let M,I=g?Uv(a):null;g&&P();function P(){let O=Uv(a);I&&!Xgt(I,O)&&e(),I=O,M=requestAnimationFrame(P)}return e(),()=>{var O;x.forEach(N=>{l&&N.removeEventListener("scroll",e),f&&N.removeEventListener("resize",e)}),b?.(),(O=C)==null||O.disconnect(),C=null,g&&cancelAnimationFrame(M)}}var $gt=Rgt;var Kgt=Ogt,jgt=Pgt;var Jgt=(a,t,e)=>{let o=new Map,l={platform:cKt,...e},f={...l.platform,_c:o};return Egt(a,t,{...l,platform:f})};var Eb,Pb,LI,Qgt,Sy=class extends Gr{constructor(){super(...arguments);Ce(this,LI);Ce(this,Eb,null);Ce(this,Pb,null)}initialize(){this.orient=this.orient.bind(this)}connect(){this.cleanup=qgt(this.buttonTarget,this.menuTarget,this.orient)}disconnect(){this.cleanup()}show(){this.menuTarget.showPopover({source:this.buttonTarget}),this.loadOperationDetailsIfNeeded()}hide(){this.menuTarget.hidePopover()}toggle(){this.menuTarget.togglePopover({source:this.buttonTarget}),this.loadOperationDetailsIfNeeded()}debouncedShow(){clearTimeout(Oe(this,Pb)),gr(this,Eb,setTimeout(()=>this.show(),700))}debouncedHide(){clearTimeout(Oe(this,Eb)),gr(this,Pb,setTimeout(()=>this.hide(),300))}orient(){Jgt(this.buttonTarget,this.menuTarget,Oe(this,LI,Qgt)).then(({x:t,y:e})=>{this.menuTarget.style.setProperty("--popover-x",`${t}px`),this.menuTarget.style.setProperty("--popover-y",`${e}px`),this.menuTarget.classList.add("positioned")})}loadOperationDetailsIfNeeded(){let t=this.menuTarget.dataset.operationUrl;if(!t)return;let e=this.menuTarget.querySelector("turbo-frame");!e||!this.hasLoadingContent(e)||(e.src=t)}hasLoadingContent(t){return(t.textContent||"").includes("Loading operation details")}};Eb=new WeakMap,Pb=new WeakMap,LI=new WeakSet,Qgt=function(){return{placement:this.placementValue,middleware:[$gt(4),jgt(),Kgt({padding:4})]}},Bt(Sy,"targets",["button","menu"]),Bt(Sy,"values",{placement:{type:String,default:"bottom"}});var Rb=class extends Gr{initialize(){this.search=this.debounce(this.search.bind(this),500)}debounce(a,t){let e;return function(...l){let f=()=>{clearTimeout(e),a(...l)};clearTimeout(e),e=setTimeout(f,t)}}submit(){this.element.requestSubmit()}search(){this.element.requestSubmit()}cancel(){this.cancelTarget?.click()}preventAttachment(a){a.preventDefault()}};Bt(Rb,"targets",["cancel"]);var by=class extends Gr{constructor(){super(...arguments);Bt(this,"lastTurboFrameRequestAt",0)}connect(){this.handleChartInitialized=this.onChartInitialized.bind(this),document.addEventListener("chart:initialized",this.handleChartInitialized),window.RailsCharts?.charts?.[this.chartIdValue]&&this.setup()}disconnect(){document.removeEventListener("chart:initialized",this.handleChartInitialized),this.chartTarget&&(this.chartTarget.removeEventListener("mousedown",this.handleChartMouseDown),this.chartTarget.removeEventListener("mouseup",this.handleChartMouseUp)),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}onChartInitialized(t){t.detail.chartId===this.chartIdValue&&this.setup()}setup(){this.setupDone||(this.chart=window.RailsCharts.charts[this.chartIdValue],this.chart&&(this.visibleData=this.getVisibleData(),this.setupChartEventListeners(),this.setupDone=!0))}setupChartEventListeners(){this.handleChartMouseDown=()=>{this.visibleData=this.getVisibleData()},this.chartTarget.addEventListener("mousedown",this.handleChartMouseDown),this.handleChartMouseUp=()=>{this.handleZoomChange()},this.chartTarget.addEventListener("mouseup",this.handleChartMouseUp),this.chart.on("datazoom",()=>{this.handleZoomChange()}),this.handleDocumentMouseUp=()=>{this.handleZoomChange()},document.addEventListener("mouseup",this.handleDocumentMouseUp)}getVisibleData(){let t=this.chart.getOption(),e=t.dataZoom[1],o=t.xAxis[0].data,l=t.series[0].data,f=e.startValue,h=e.endValue;return{xAxis:o.slice(f,h+1),series:l.slice(f,h+1)}}handleZoomChange(){let t=this.getVisibleData();t.xAxis.join()!==this.visibleData.xAxis.join()&&(this.visibleData=t,this.updateUrlWithZoomParams(t),this.sendTurboFrameRequest(t))}updateUrlWithZoomParams(t){let e=new URL(window.location.href),o=new URLSearchParams(e.search),l=t.xAxis[0],f=t.xAxis[t.xAxis.length-1];o.set("zoom_start_time",l),o.set("zoom_end_time",f),e.search=o.toString(),window.history.replaceState({},"",e)}updatePaginationLimit(){let t=new URL(window.location.href),e=new URLSearchParams(t.search),o=this.paginationLimitTarget.value;e.set("limit",o),t.search=e.toString(),window.history.replaceState({},"",t)}sendTurboFrameRequest(t){let e=Date.now();if(e-this.lastTurboFrameRequestAt<1e3)return;this.lastTurboFrameRequestAt=e;let o=new URL(window.location.href),l=new URLSearchParams(o.search),f=t.xAxis[0],h=t.xAxis[t.xAxis.length-1];l.set("zoom_start_time",f),l.set("zoom_end_time",h),o.searchParams.set("limit",this.paginationLimitTarget.value),o.search=l.toString(),fetch(o,{method:"GET",headers:{Accept:"text/html; turbo-frame","Turbo-Frame":this.chartIdValue}}).then(v=>v.text()).then(v=>{let g=this.indexTableTarget;if(g){let b=new DOMParser().parseFromString(v,"text/html").querySelector(`turbo-frame#${g.id}`);b?this.replaceFrameContent(g,b):this.replaceFrameContentFromHTML(g,v)}}).catch(v=>console.error("Error:",v))}replaceFrameContent(t,e){try{for(;t.firstChild;)t.removeChild(t.firstChild);Array.from(e.childNodes).forEach(l=>{let f=l.cloneNode(!0);t.appendChild(f)})}catch(o){console.error("Error replacing frame content:",o),t.innerHTML=e.innerHTML}}replaceFrameContentFromHTML(t,e){try{let l=new DOMParser().parseFromString(e,"text/html");for(;t.firstChild;)t.removeChild(t.firstChild);Array.from(l.body.childNodes).forEach(h=>{let v=h.cloneNode(!0);t.appendChild(v)})}catch(o){console.error("Error parsing HTML content:",o),t.innerHTML=e}}};Bt(by,"targets",["chart","paginationLimit","indexTable"]),Bt(by,"values",{chartId:String});var II=class extends Gr{connect(){this.storageKey="color-scheme",this.html=document.documentElement;let a=localStorage.getItem(this.storageKey);a&&this.html.setAttribute("data-color-scheme",a)}toggle(a){a.preventDefault();let t=this.html.getAttribute("data-color-scheme")==="dark"?"light":"dark";console.log("Toggling color scheme to",t),this.html.setAttribute("data-color-scheme",t),localStorage.setItem(this.storageKey,t)}};var wy=class extends Gr{connect(){this.restorePaginationLimit()}async updateLimit(){let a=this.limitTarget.value;sessionStorage.setItem(this.storageKeyValue,a);try{let t=await fetch(this.urlValue,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-Token":this.getCSRFToken()},body:JSON.stringify({limit:a})});if(t.ok)window.location.reload();else throw new Error(`HTTP error! status: ${t.status}`)}catch(t){console.error("Error updating pagination limit:",t)}}getCSRFToken(){let a=document.querySelector('meta[name="csrf-token"]');return a?a.getAttribute("content"):""}savePaginationLimit(){let a=this.limitTarget.value;sessionStorage.setItem(this.storageKeyValue,a)}restorePaginationLimit(){let a=sessionStorage.getItem(this.storageKeyValue);a&&this.limitTarget&&this.limitTarget.value!==a&&(this.limitTarget.value=a,this.limitTarget.dispatchEvent(new Event("change",{bubbles:!0})))}};Bt(wy,"targets",["limit"]),Bt(wy,"values",{storageKey:{type:String,default:"rails_pulse_pagination_limit"},url:String});var Ob=class extends Gr{connect(){this.updateTimestamp(),this.setupObserver(),this.setupTurboFrameListener()}disconnect(){this.observer&&this.observer.disconnect(),this.frameObserver&&this.frameObserver.disconnect(),this.documentObserver&&this.documentObserver.disconnect(),this.turboFrameListener&&document.removeEventListener("turbo:frame-load",this.turboFrameListener)}setupObserver(){if(this.targetFrameValue){this.updateTimestamp();let a=new MutationObserver(()=>{let t=document.getElementById(this.targetFrameValue);t&&(this.updateTimestamp(),this.frameObserver&&this.frameObserver.disconnect(),this.frameObserver=new MutationObserver(()=>{this.updateTimestamp()}),this.frameObserver.observe(t,{attributes:!0,attributeFilter:["data-cached-at"],childList:!0,subtree:!0}))});a.observe(document.body,{childList:!0,subtree:!0}),this.documentObserver=a}}cachedAtValueChanged(){this.updateTimestamp()}setupTurboFrameListener(){this.targetFrameValue&&(this.turboFrameListener=a=>{a.target&&a.target.id===this.targetFrameValue&&this.updateTimestamp()},document.addEventListener("turbo:frame-load",this.turboFrameListener))}updateTimestamp(){let a=this.cachedAtValue;if(!a&&this.targetFrameValue){let t=document.getElementById(this.targetFrameValue);t&&(a=t.dataset.cachedAt)}if(a)try{let e=new Date(a).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});this.element.title=`Last updated: ${e}`}catch{this.element.title="Cache time unavailable"}else this.element.title="Cache time unavailable"}};Bt(Ob,"values",{cachedAt:String,targetFrame:String});var Ty=class extends Gr{connect(){this.renderIcon()}nameValueChanged(){this.renderIcon()}renderIcon(){this.clearIcon(),this.element.classList.add(...this.loadingClasses),this.element.classList.remove(...this.errorClasses,...this.loadedClasses);let a=this.nameValue;if(!a){this.handleError("Icon name is required");return}if(!window.RailsPulseIcons){this.handleError("RailsPulseIcons not loaded");return}let t=window.RailsPulseIcons.get(a);if(!t){this.handleError(`Icon '${a}' not found`);return}try{let e=this.createSVGElement(t);this.element.appendChild(e),this.element.classList.remove(...this.loadingClasses,...this.errorClasses),this.element.classList.add(...this.loadedClasses),this.element.setAttribute("aria-label",`${a} icon`)}catch(e){this.handleError(`Failed to render icon '${a}': ${e.message}`)}}createSVGElement(a){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("width",this.widthValue||"24"),t.setAttribute("height",this.heightValue||"24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none"),t.setAttribute("stroke","currentColor"),t.setAttribute("stroke-width",this.strokeWidthValue||"2"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),window.RailsPulseIcons.render){let f=document.createElement("div");if(window.RailsPulseIcons.render(this.nameValue,f,{width:this.widthValue||"24",height:this.heightValue||"24"})&&f.firstChild)return f.firstChild}let l=new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="${this.widthValue||"24"}" height="${this.heightValue||"24"}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="${this.strokeWidthValue||"2"}" stroke-linecap="round" stroke-linejoin="round">${a}</svg>`,"image/svg+xml").documentElement;if(l.nodeName==="parsererror")throw new Error("Invalid SVG content");return document.importNode(l,!0)}clearIcon(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}handleError(a){console.warn(`[Rails Pulse Icon Controller] ${a}`),this.clearIcon(),this.element.classList.remove(...this.loadingClasses,...this.loadedClasses),this.element.classList.add(...this.errorClasses),this.createErrorPlaceholder(),this.element.setAttribute("aria-label","Icon not available")}createErrorPlaceholder(){let a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.widthValue||"24"),a.setAttribute("height",this.heightValue||"24"),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("fill","currentColor"),a.setAttribute("opacity","0.3");let t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("width","20"),t.setAttribute("height","20"),t.setAttribute("x","2"),t.setAttribute("y","2"),t.setAttribute("rx","2"),a.appendChild(t),this.element.appendChild(a)}listAvailableIcons(){window.RailsPulseIcons?.list?console.log("Available icons:",window.RailsPulseIcons.list()):console.warn("RailsPulseIcons not loaded or list method not available")}};Bt(Ty,"values",{name:String,width:String,height:String,strokeWidth:String}),Bt(Ty,"classes",["loading","error","loaded"]);var ao=mI.start();ao.debug=!1;window.Stimulus=ao;window.echarts=VH;window.Turbo=C3;ao.register("rails-pulse--context-menu",bb);ao.register("rails-pulse--dialog",wb);ao.register("rails-pulse--menu",vy);ao.register("rails-pulse--popover",Sy);ao.register("rails-pulse--form",Rb);ao.register("rails-pulse--index",by);ao.register("rails-pulse--color-scheme",II);ao.register("rails-pulse--pagination",wy);ao.register("rails-pulse--timezone",Ob);ao.register("rails-pulse--icon",Ty);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("turbo-frame[src]:not([complete])").forEach(t=>{let e=t.getAttribute("src");e&&(t.removeAttribute("src"),setTimeout(()=>t.setAttribute("src",e),10))})});var pKt=new MutationObserver(a=>{a.forEach(t=>{t.type==="childList"&&t.addedNodes.forEach(e=>{if(e.nodeType===1&&e.tagName==="TURBO-FRAME"&&e.hasAttribute("src")&&!e.hasAttribute("complete")){let o=e.getAttribute("src");o&&(e.removeAttribute("src"),setTimeout(()=>e.setAttribute("src",o),10))}})})});pKt.observe(document.body,{childList:!0,subtree:!0});Xx("railspulse",{color:["#ffc91f","#ffde66","#fbedbf"],backgroundColor:"rgba(255,255,255,0)",textStyle:{},title:{textStyle:{color:"#666666"}},line:{lineStyle:{width:"3"},symbolSize:"8"},bar:{itemStyle:{barBorderWidth:0}}});window.addEventListener("resize",function(){window.RailsCharts&&window.RailsCharts.charts&&Object.keys(window.RailsCharts.charts).forEach(function(a){window.RailsCharts.charts[a].resize()})});window.initializeChartsInContainer=function(a){requestAnimationFrame(()=>{(a?document.getElementById(a):document).querySelectorAll("script").forEach(o=>{let f=o.textContent.match(/function\s+(init_rails_charts_[a-f0-9]+)/);f&&window[f[1]]&&window[f[1]]()})})};window.RailsPulse={application:ao,version:"1.0.0"};})();
/*! Bundled license information:

echarts/dist/echarts.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)
  (*!
  * ZRender, a high performance 2d drawing library.
  *
  * Copyright (c) 2013, Baidu Inc.
  * All rights reserved.
  *
  * LICENSE
  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
  *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

zrender/lib/zrender.js:
  (*!
  * ZRender, a high performance 2d drawing library.
  *
  * Copyright (c) 2013, Baidu Inc.
  * All rights reserved.
  *
  * LICENSE
  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
  *)

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.13
  Copyright  2025 37signals LLC
   *)
*/
